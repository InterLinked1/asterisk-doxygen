<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: ccss.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ccss.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Call Completion Supplementary Services implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d90/strings_8h_source.html">asterisk/strings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/dc8/ccss_8h_source.html">asterisk/ccss.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d1e/taskprocessor_8h_source.html">asterisk/taskprocessor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/da2/devicestate_8h_source.html">asterisk/devicestate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/manager_8h_source.html">asterisk/manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/da3/causes_8h_source.html">asterisk/causes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/df0/stasis__system_8h_source.html">asterisk/stasis_system.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ccss.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d43/ccss_8c__incl.png" border="0" usemap="#ccss_8c" alt=""/></div>
<map name="ccss_8c" id="ccss_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="215,453,299,480"/>
<area shape="rect" id="node9" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1081,528,1215,555"/>
<area shape="rect" id="node15" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="509,453,640,480"/>
<area shape="rect" id="node17" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="640,603,755,629"/>
<area shape="rect" id="node21" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="453,229,569,256"/>
<area shape="rect" id="node22" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="305,304,468,331"/>
<area shape="rect" id="node24" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1756,155,1895,181"/>
<area shape="rect" id="node37" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="1149,304,1294,331"/>
<area shape="rect" id="node40" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1207,80,1318,107"/>
<area shape="rect" id="node44" href="../../d0/d1e/taskprocessor_8h.html" title="An API for managing task processing threads that can be shared across modules. " alt="" coords="1394,80,1571,107"/>
<area shape="rect" id="node45" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="44,304,180,331"/>
<area shape="rect" id="node46" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="708,155,820,181"/>
<area shape="rect" id="node47" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="601,379,703,405"/>
<area shape="rect" id="node48" href="../../d4/da3/causes_8h.html" title="Internal Asterisk hangup causes. " alt="" coords="1596,80,1729,107"/>
<area shape="rect" id="node49" href="../../d3/df0/stasis__system_8h.html" title="asterisk/stasis_system.h" alt="" coords="844,155,1023,181"/>
<area shape="rect" id="node50" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="1753,80,1929,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="688,827,843,853"/>
<area shape="rect" id="node4" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="94,603,231,629"/>
<area shape="rect" id="node8" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="297,528,431,555"/>
<area shape="rect" id="node10" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1091,677,1205,704"/>
<area shape="rect" id="node12" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1132,827,1279,853"/>
<area shape="rect" id="node14" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1393,603,1543,629"/>
<area shape="rect" id="node11" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="734,752,797,779"/>
<area shape="rect" id="node13" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="965,752,1091,779"/>
<area shape="rect" id="node20" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="725,528,904,555"/>
<area shape="rect" id="node18" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="920,677,1059,704"/>
<area shape="rect" id="node19" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2065,677,2223,704"/>
<area shape="rect" id="node23" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="356,379,527,405"/>
<area shape="rect" id="node25" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="920,453,1064,480"/>
<area shape="rect" id="node26" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="2014,304,2173,331"/>
<area shape="rect" id="node28" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="2115,229,2279,256"/>
<area shape="rect" id="node29" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1761,304,1887,331"/>
<area shape="rect" id="node30" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1300,229,1447,256"/>
<area shape="rect" id="node31" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1963,528,2090,555"/>
<area shape="rect" id="node32" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="2304,229,2411,256"/>
<area shape="rect" id="node33" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1495,379,1646,405"/>
<area shape="rect" id="node34" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="2435,229,2597,256"/>
<area shape="rect" id="node35" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1680,229,1837,256"/>
<area shape="rect" id="node36" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="897,229,1023,256"/>
<area shape="rect" id="node39" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="2621,229,2771,256"/>
<area shape="rect" id="node27" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="2028,379,2159,405"/>
<area shape="rect" id="node38" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="1234,379,1369,405"/>
<area shape="rect" id="node41" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="1301,155,1427,181"/>
<area shape="rect" id="node42" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="1451,155,1631,181"/>
<area shape="rect" id="node43" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="1595,453,1735,480"/>
</map>
</div>
</div>
<p><a href="../../d3/d5a/ccss_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d8f/structast__cc__monitor__failure__data.html">ast_cc_monitor_failure_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d03/structcc__callback__helper.html">cc_callback_helper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The payload for an AST_CONTROL_CC frame.  <a href="../../d4/d90/structcc__control__payload.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The "tree" of interfaces that is dialed.  <a href="../../d4/dcc/structcc__monitor__tree.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d57/structcc__status__response__args.html">cc_status_response_args</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc1/structcount__agents__cb__data.html">count_agents_cb_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d84/structcount__monitors__cb__data.html">count_monitors_cb_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data regarding an extension monitor's child's dialstrings.  <a href="../../dc/d54/structextension__child__dialstring.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private data for an extension monitor.  <a href="../../d9/dcc/structextension__monitor__pvt.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d43/structgeneric__monitor__pvt.html">generic_monitor_pvt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">private data for generic device monitor  <a href="../../d8/d43/structgeneric__monitor__pvt.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afb587ec6e65a1d8a50cba44787f2bd4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#afb587ec6e65a1d8a50cba44787f2bd4d">CC_ACTIVE_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a></td></tr>
<tr class="separator:afb587ec6e65a1d8a50cba44787f2bd4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c96d9df46a57d76f06b4836341f280c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a4c96d9df46a57d76f06b4836341f280c">CC_AVAILABLE_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td></tr>
<tr class="separator:a4c96d9df46a57d76f06b4836341f280c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50c1fc7a6c599ecea8dceced9337744"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac50c1fc7a6c599ecea8dceced9337744">CC_CALLEE_READY_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea76d91d5d654cfa3edafb2afbe3e09b46">AST_DEVICE_RINGING</a></td></tr>
<tr class="separator:ac50c1fc7a6c599ecea8dceced9337744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5009f6622128d76e4da993bdcfe77949"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5009f6622128d76e4da993bdcfe77949">CC_CALLER_BUSY_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea6b7416bea92d3bc5ee8e36f0a484cdc1">AST_DEVICE_ONHOLD</a></td></tr>
<tr class="separator:a5009f6622128d76e4da993bdcfe77949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae517bcfb3164d0614224c193ea86b13c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ae517bcfb3164d0614224c193ea86b13c">CC_CALLER_OFFERED_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td></tr>
<tr class="separator:ae517bcfb3164d0614224c193ea86b13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e09535a6508082cca7670107224320"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a05e09535a6508082cca7670107224320">CC_CALLER_REQUESTED_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td></tr>
<tr class="separator:a05e09535a6508082cca7670107224320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a60bfcf69eb3b20fb3a7aea0eb84b7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a4a60bfcf69eb3b20fb3a7aea0eb84b7b">CC_COMPLETE_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td></tr>
<tr class="separator:a4a60bfcf69eb3b20fb3a7aea0eb84b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd45d77b9d63d9971365f7222389e32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a3fd45d77b9d63d9971365f7222389e32">CC_FAILED_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td></tr>
<tr class="separator:a3fd45d77b9d63d9971365f7222389e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb210cb7df4f10e069393b36236ba60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aafb210cb7df4f10e069393b36236ba60">CC_MAX_AGENTS_DEFAULT</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aafb210cb7df4f10e069393b36236ba60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9350fd0c6702d51e1412b37610bb4bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af9350fd0c6702d51e1412b37610bb4bd">CC_MAX_MONITORS_DEFAULT</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:af9350fd0c6702d51e1412b37610bb4bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68ac50e692a2f35669a5f17ac8da70fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a68ac50e692a2f35669a5f17ac8da70fe">CC_OFFER_TIMER_DEFAULT</a>&#160;&#160;&#160;20		/* Seconds */</td></tr>
<tr class="separator:a68ac50e692a2f35669a5f17ac8da70fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae287f2a19c7a4a8265d989db216a29fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ae287f2a19c7a4a8265d989db216a29fb">CC_RECALL_TIMER_DEFAULT</a>&#160;&#160;&#160;20		/* Seconds */</td></tr>
<tr class="separator:ae287f2a19c7a4a8265d989db216a29fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b9623ff602860cc5ec3d11eab0c12c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ae7b9623ff602860cc5ec3d11eab0c12c">CC_RECALLING_DEVSTATE_DEFAULT</a>&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea76d91d5d654cfa3edafb2afbe3e09b46">AST_DEVICE_RINGING</a></td></tr>
<tr class="separator:ae7b9623ff602860cc5ec3d11eab0c12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4701f6383f7b9c79e5dd600fbc59efe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac4701f6383f7b9c79e5dd600fbc59efe">CCBS_AVAILABLE_TIMER_DEFAULT</a>&#160;&#160;&#160;4800	/* Seconds */</td></tr>
<tr class="separator:ac4701f6383f7b9c79e5dd600fbc59efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7513cb17e4c16cc43613b1e512d4f4e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7513cb17e4c16cc43613b1e512d4f4e8">CCNR_AVAILABLE_TIMER_DEFAULT</a>&#160;&#160;&#160;7200	/* Seconds */</td></tr>
<tr class="separator:a7513cb17e4c16cc43613b1e512d4f4e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65cf228d0a816fcbef564fb1ffca432a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a65cf228d0a816fcbef564fb1ffca432a">GLOBAL_CC_MAX_REQUESTS_DEFAULT</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a65cf228d0a816fcbef564fb1ffca432a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a630d6e4aa40892ca671eb62897795080"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> { <br />
&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a>, 
<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a>, 
<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>, 
<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a>, 
<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a>, 
<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a>, 
<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a>
<br />
 }<tr class="memdesc:a630d6e4aa40892ca671eb62897795080"><td class="mdescLeft">&#160;</td><td class="mdescRight">The states used in the CCSS core state machine.  <a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a630d6e4aa40892ca671eb62897795080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7711f9723c81c04c807aef92a9478b19"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a> { <a class="el" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330">MATCH_REQUEST</a> = (1 &lt;&lt; 1)
 }</td></tr>
<tr class="separator:a7711f9723c81c04c807aef92a9478b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93c8c152fe5019f97666b4b123eddb5d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a93c8c152fe5019f97666b4b123eddb5d">__ast_cc_config_params_init</a> (const char *file, int line, const char *function)</td></tr>
<tr class="memdesc:a93c8c152fe5019f97666b4b123eddb5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize an <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> structure.  <a href="#a93c8c152fe5019f97666b4b123eddb5d">More...</a><br /></td></tr>
<tr class="separator:a93c8c152fe5019f97666b4b123eddb5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aee83abadf2eed84f775d1e686a3f1c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5aee83abadf2eed84f775d1e686a3f1c">agent_destroy</a> (void *data)</td></tr>
<tr class="separator:a5aee83abadf2eed84f775d1e686a3f1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca447e90a9b6a6d93e477f7d9bf61b96"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aca447e90a9b6a6d93e477f7d9bf61b96">agent_policy_to_str</a> (enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a> policy)</td></tr>
<tr class="separator:aca447e90a9b6a6d93e477f7d9bf61b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037cc988c277a5a296ad1af1fb05f5a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a037cc988c277a5a296ad1af1fb05f5a4">ast_cc_agent_accept_request</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a037cc988c277a5a296ad1af1fb05f5a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept inbound CC request.  <a href="#a037cc988c277a5a296ad1af1fb05f5a4">More...</a><br /></td></tr>
<tr class="separator:a037cc988c277a5a296ad1af1fb05f5a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c4d99da83b166e7faa9160ddb34296"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad2c4d99da83b166e7faa9160ddb34296">ast_cc_agent_callback</a> (int flags, <a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> *function, void *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, const char *const <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:ad2c4d99da83b166e7faa9160ddb34296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call a callback on all agents of a specific type.  <a href="#ad2c4d99da83b166e7faa9160ddb34296">More...</a><br /></td></tr>
<tr class="separator:ad2c4d99da83b166e7faa9160ddb34296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a5064d0e089814ba93dc2aefacdd09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac2a5064d0e089814ba93dc2aefacdd09">ast_cc_agent_caller_available</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:ac2a5064d0e089814ba93dc2aefacdd09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that a previously unavailable caller has become available.  <a href="#ac2a5064d0e089814ba93dc2aefacdd09">More...</a><br /></td></tr>
<tr class="separator:ac2a5064d0e089814ba93dc2aefacdd09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036830fccb99612f543bc8231f6c998f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a036830fccb99612f543bc8231f6c998f">ast_cc_agent_caller_busy</a> (int core_id, const char *<a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a036830fccb99612f543bc8231f6c998f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the caller is busy.  <a href="#a036830fccb99612f543bc8231f6c998f">More...</a><br /></td></tr>
<tr class="separator:a036830fccb99612f543bc8231f6c998f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d36b7a6c430c9a9d9a773745db94354"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6d36b7a6c430c9a9d9a773745db94354">ast_cc_agent_recalling</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a6d36b7a6c430c9a9d9a773745db94354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the CC core that a caller is currently recalling.  <a href="#a6d36b7a6c430c9a9d9a773745db94354">More...</a><br /></td></tr>
<tr class="separator:a6d36b7a6c430c9a9d9a773745db94354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6645437018e01782a83ada2ff4735c7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6645437018e01782a83ada2ff4735c7a">ast_cc_agent_register</a> (const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:a6645437018e01782a83ada2ff4735c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a set of agent callbacks with the core.  <a href="#a6645437018e01782a83ada2ff4735c7a">More...</a><br /></td></tr>
<tr class="separator:a6645437018e01782a83ada2ff4735c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac943e39777b9c5ac58c4b4802b7347c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac943e39777b9c5ac58c4b4802b7347c6">ast_cc_agent_set_interfaces_chanvar</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ac943e39777b9c5ac58c4b4802b7347c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the first level CC_INTERFACES channel variable for a channel.  <a href="#ac943e39777b9c5ac58c4b4802b7347c6">More...</a><br /></td></tr>
<tr class="separator:ac943e39777b9c5ac58c4b4802b7347c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdc7eb3bf93834fe45f72829ff9abe16"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#acdc7eb3bf93834fe45f72829ff9abe16">ast_cc_agent_status_response</a> (int core_id, enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> devstate)</td></tr>
<tr class="memdesc:acdc7eb3bf93834fe45f72829ff9abe16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response with a caller's current status.  <a href="#acdc7eb3bf93834fe45f72829ff9abe16">More...</a><br /></td></tr>
<tr class="separator:acdc7eb3bf93834fe45f72829ff9abe16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad888baaa4d37a6197c2712bc1756d963"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad888baaa4d37a6197c2712bc1756d963">ast_cc_agent_unregister</a> (const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:ad888baaa4d37a6197c2712bc1756d963"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a set of agent callbacks with the core.  <a href="#ad888baaa4d37a6197c2712bc1756d963">More...</a><br /></td></tr>
<tr class="separator:ad888baaa4d37a6197c2712bc1756d963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01932a0cf8fdb65d6225199cef522cf1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a01932a0cf8fdb65d6225199cef522cf1">ast_cc_available_timer_expire</a> (const void *data)</td></tr>
<tr class="memdesc:a01932a0cf8fdb65d6225199cef522cf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler callback for available timer expiration.  <a href="#a01932a0cf8fdb65d6225199cef522cf1">More...</a><br /></td></tr>
<tr class="separator:a01932a0cf8fdb65d6225199cef522cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950699e580ab7fc1f96db1a6608fcdf4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a950699e580ab7fc1f96db1a6608fcdf4">ast_cc_build_frame</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params, const char *monitor_type, const char *const device_name, const char *const dialstring, enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, void *private_data, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</td></tr>
<tr class="memdesc:a950699e580ab7fc1f96db1a6608fcdf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a CC Control frame.  <a href="#a950699e580ab7fc1f96db1a6608fcdf4">More...</a><br /></td></tr>
<tr class="separator:a950699e580ab7fc1f96db1a6608fcdf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91369860e89c9870c37953794ea09718"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a91369860e89c9870c37953794ea09718">ast_cc_busy_interface</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *inbound, struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params, const char *monitor_type, const char *const device_name, const char *const dialstring, void *private_data)</td></tr>
<tr class="memdesc:a91369860e89c9870c37953794ea09718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback made from ast_cc_callback for certain channel types.  <a href="#a91369860e89c9870c37953794ea09718">More...</a><br /></td></tr>
<tr class="separator:a91369860e89c9870c37953794ea09718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e72bd5c0ba81e0d0c8873f059c01723"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a0e72bd5c0ba81e0d0c8873f059c01723">ast_cc_call_failed</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *incoming, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../de/dcd/structoutgoing.html">outgoing</a>, const char *const dialstring)</td></tr>
<tr class="memdesc:a0e72bd5c0ba81e0d0c8873f059c01723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make CCBS available in the case that ast_call fails.  <a href="#a0e72bd5c0ba81e0d0c8873f059c01723">More...</a><br /></td></tr>
<tr class="separator:a0e72bd5c0ba81e0d0c8873f059c01723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6a5b3b5af842446bcb3b37483724f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#acd6a5b3b5af842446bcb3b37483724f1">ast_cc_call_init</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, int *ignore_cc)</td></tr>
<tr class="memdesc:acd6a5b3b5af842446bcb3b37483724f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the CC process on a call.  <a href="#acd6a5b3b5af842446bcb3b37483724f1">More...</a><br /></td></tr>
<tr class="separator:acd6a5b3b5af842446bcb3b37483724f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1af698fa1f6cd07579b79380445c715"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af1af698fa1f6cd07579b79380445c715">ast_cc_callback</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *inbound, const char *const tech, const char *const dest, <a class="el" href="../../de/dc8/ccss_8h.html#a3af118c4ad58da15d5b752b155e6fb1a">ast_cc_callback_fn</a> callback)</td></tr>
<tr class="memdesc:af1af698fa1f6cd07579b79380445c715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a callback for potential matching destinations.  <a href="#af1af698fa1f6cd07579b79380445c715">More...</a><br /></td></tr>
<tr class="separator:af1af698fa1f6cd07579b79380445c715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7519355934a0aeb6972fd450cc693aac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7519355934a0aeb6972fd450cc693aac">ast_cc_completed</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a7519355934a0aeb6972fd450cc693aac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate recall has been acknowledged.  <a href="#a7519355934a0aeb6972fd450cc693aac">More...</a><br /></td></tr>
<tr class="separator:a7519355934a0aeb6972fd450cc693aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a239279c104563561034f7988b78ae685"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a239279c104563561034f7988b78ae685">ast_cc_config_params_destroy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params)</td></tr>
<tr class="memdesc:a239279c104563561034f7988b78ae685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free memory from CCSS configuration params.  <a href="#a239279c104563561034f7988b78ae685">More...</a><br /></td></tr>
<tr class="separator:a239279c104563561034f7988b78ae685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6f8fffb6cf0856d5cf953c5f51b74b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6f6f8fffb6cf0856d5cf953c5f51b74b">ast_cc_copy_config_params</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *dest, const struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *src)</td></tr>
<tr class="memdesc:a6f6f8fffb6cf0856d5cf953c5f51b74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy CCSS configuration parameters from one structure to another  <a href="#a6f6f8fffb6cf0856d5cf953c5f51b74b">More...</a><br /></td></tr>
<tr class="separator:a6f6f8fffb6cf0856d5cf953c5f51b74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b0902e07ba1de026cb801654758ef9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a59b0902e07ba1de026cb801654758ef9">ast_cc_default_config_params</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params)</td></tr>
<tr class="memdesc:a59b0902e07ba1de026cb801654758ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the specified CC config params to default values.  <a href="#a59b0902e07ba1de026cb801654758ef9">More...</a><br /></td></tr>
<tr class="separator:a59b0902e07ba1de026cb801654758ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa870fead699aa352308ba4da3f6502cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aa870fead699aa352308ba4da3f6502cb">ast_cc_extension_monitor_add_dialstring</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *incoming, const char *const dialstring, const char *const device_name)</td></tr>
<tr class="memdesc:aa870fead699aa352308ba4da3f6502cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a child dialstring to an extension monitor.  <a href="#aa870fead699aa352308ba4da3f6502cb">More...</a><br /></td></tr>
<tr class="separator:aa870fead699aa352308ba4da3f6502cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25ea527a36ed77fcba9eb1eba0b4186"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:ad25ea527a36ed77fcba9eb1eba0b4186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate failure has occurred.  <a href="#ad25ea527a36ed77fcba9eb1eba0b4186">More...</a><br /></td></tr>
<tr class="separator:ad25ea527a36ed77fcba9eb1eba0b4186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78031bab9c298a15d07a5f30ed0c3df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af78031bab9c298a15d07a5f30ed0c3df">ast_cc_get_current_core_id</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:af78031bab9c298a15d07a5f30ed0c3df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the core id for the current call.  <a href="#af78031bab9c298a15d07a5f30ed0c3df">More...</a><br /></td></tr>
<tr class="separator:af78031bab9c298a15d07a5f30ed0c3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d18d9e83ba249ca1e5f23c537f2535"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a05d18d9e83ba249ca1e5f23c537f2535">ast_cc_get_monitor_by_recall_core_id</a> (const int core_id, const char *const device_name)</td></tr>
<tr class="memdesc:a05d18d9e83ba249ca1e5f23c537f2535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the associated monitor given the device name and core_id.  <a href="#a05d18d9e83ba249ca1e5f23c537f2535">More...</a><br /></td></tr>
<tr class="separator:a05d18d9e83ba249ca1e5f23c537f2535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e7c37a42b9e313c6225b2a26bdd054"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac5e7c37a42b9e313c6225b2a26bdd054">ast_cc_get_param</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params, const char *const <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t buf_len)</td></tr>
<tr class="memdesc:ac5e7c37a42b9e313c6225b2a26bdd054"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a CCSS configuration parameter, given its name  <a href="#ac5e7c37a42b9e313c6225b2a26bdd054">More...</a><br /></td></tr>
<tr class="separator:ac5e7c37a42b9e313c6225b2a26bdd054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89ac9652211fbeb5b4725635c518dc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af89ac9652211fbeb5b4725635c518dc7">ast_cc_is_config_param</a> (const char *const <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:af89ac9652211fbeb5b4725635c518dc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this a CCSS configuration parameter?  <a href="#af89ac9652211fbeb5b4725635c518dc7">More...</a><br /></td></tr>
<tr class="separator:af89ac9652211fbeb5b4725635c518dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd3a95509d01b9ed748148277b753f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a2fd3a95509d01b9ed748148277b753f6">ast_cc_is_recall</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, int *core_id, const char *const monitor_type)</td></tr>
<tr class="memdesc:a2fd3a95509d01b9ed748148277b753f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decide if a call to a particular channel is a CC recall.  <a href="#a2fd3a95509d01b9ed748148277b753f6">More...</a><br /></td></tr>
<tr class="separator:a2fd3a95509d01b9ed748148277b753f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f831cfaba759c6073f1940c9b81e2a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a> (const int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a8f831cfaba759c6073f1940c9b81e2a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alert the core that a device being monitored has become available.  <a href="#a8f831cfaba759c6073f1940c9b81e2a9">More...</a><br /></td></tr>
<tr class="separator:a8f831cfaba759c6073f1940c9b81e2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b924db79cc74e212c0f11b978bdcacd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8b924db79cc74e212c0f11b978bdcacd">ast_cc_monitor_count</a> (const char *const <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *const <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a8b924db79cc74e212c0f11b978bdcacd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of outstanding CC requests to a specific device.  <a href="#a8b924db79cc74e212c0f11b978bdcacd">More...</a><br /></td></tr>
<tr class="separator:a8b924db79cc74e212c0f11b978bdcacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad179ffd63f6ff74454f58c58d7248368"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad179ffd63f6ff74454f58c58d7248368">ast_cc_monitor_failed</a> (int core_id, const char *const monitor_name, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:ad179ffd63f6ff74454f58c58d7248368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that a failure has occurred on a specific monitor.  <a href="#ad179ffd63f6ff74454f58c58d7248368">More...</a><br /></td></tr>
<tr class="separator:ad179ffd63f6ff74454f58c58d7248368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1400673f64bff290fb66d7c2bd8b7830"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a1400673f64bff290fb66d7c2bd8b7830">ast_cc_monitor_party_b_free</a> (int core_id)</td></tr>
<tr class="memdesc:a1400673f64bff290fb66d7c2bd8b7830"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alert a caller that though the callee has become free, the caller himself is not and may not call back.  <a href="#a1400673f64bff290fb66d7c2bd8b7830">More...</a><br /></td></tr>
<tr class="separator:a1400673f64bff290fb66d7c2bd8b7830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c61c03681638d2b04390f4201e2320"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a21c61c03681638d2b04390f4201e2320">ast_cc_monitor_register</a> (const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:a21c61c03681638d2b04390f4201e2320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a set of monitor callbacks with the core.  <a href="#a21c61c03681638d2b04390f4201e2320">More...</a><br /></td></tr>
<tr class="separator:a21c61c03681638d2b04390f4201e2320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d38b6c2631ece08ca6f32620e02635"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a64d38b6c2631ece08ca6f32620e02635">ast_cc_monitor_request_acked</a> (int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="memdesc:a64d38b6c2631ece08ca6f32620e02635"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that an outbound entity has accepted our CC request.  <a href="#a64d38b6c2631ece08ca6f32620e02635">More...</a><br /></td></tr>
<tr class="separator:a64d38b6c2631ece08ca6f32620e02635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e261f13321084b4ed0c1bd0d4ec70e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a98e261f13321084b4ed0c1bd0d4ec70e">ast_cc_monitor_status_request</a> (int core_id)</td></tr>
<tr class="memdesc:a98e261f13321084b4ed0c1bd0d4ec70e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the status of a caller or callers.  <a href="#a98e261f13321084b4ed0c1bd0d4ec70e">More...</a><br /></td></tr>
<tr class="separator:a98e261f13321084b4ed0c1bd0d4ec70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccff7da399d534b7ac4eee20fb25ae7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a3ccff7da399d534b7ac4eee20fb25ae7">ast_cc_monitor_stop_ringing</a> (int core_id)</td></tr>
<tr class="memdesc:a3ccff7da399d534b7ac4eee20fb25ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alert a caller to stop ringing.  <a href="#a3ccff7da399d534b7ac4eee20fb25ae7">More...</a><br /></td></tr>
<tr class="separator:a3ccff7da399d534b7ac4eee20fb25ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefbdf8c3c2642f5ff99b3110b2b6066"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aaefbdf8c3c2642f5ff99b3110b2b6066">ast_cc_monitor_unregister</a> (const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *callbacks)</td></tr>
<tr class="memdesc:aaefbdf8c3c2642f5ff99b3110b2b6066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a set of monitor callbacks with the core.  <a href="#aaefbdf8c3c2642f5ff99b3110b2b6066">More...</a><br /></td></tr>
<tr class="separator:aaefbdf8c3c2642f5ff99b3110b2b6066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddce85b8dc1ffed466880d7f2a92a2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a4ddce85b8dc1ffed466880d7f2a92a2a">ast_cc_offer</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller_chan)</td></tr>
<tr class="memdesc:a4ddce85b8dc1ffed466880d7f2a92a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offer CC to a caller.  <a href="#a4ddce85b8dc1ffed466880d7f2a92a2a">More...</a><br /></td></tr>
<tr class="separator:a4ddce85b8dc1ffed466880d7f2a92a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1570706dee0c4c88406d96f47f166d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ae1570706dee0c4c88406d96f47f166d3">ast_cc_request_is_within_limits</a> (void)</td></tr>
<tr class="memdesc:ae1570706dee0c4c88406d96f47f166d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the incoming CC request is within the bounds set by the cc_max_requests configuration option.  <a href="#ae1570706dee0c4c88406d96f47f166d3">More...</a><br /></td></tr>
<tr class="separator:ae1570706dee0c4c88406d96f47f166d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f5cfb71fc5594a6b5525e123d3a476"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a81f5cfb71fc5594a6b5525e123d3a476">ast_cc_set_param</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params, const char *const <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a81f5cfb71fc5594a6b5525e123d3a476"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a CCSS configuration parameter, given its name  <a href="#a81f5cfb71fc5594a6b5525e123d3a476">More...</a><br /></td></tr>
<tr class="separator:a81f5cfb71fc5594a6b5525e123d3a476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46199282e56a1def66a4f406e64e1690"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a46199282e56a1def66a4f406e64e1690">ast_get_cc_agent_dialstring</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a46199282e56a1def66a4f406e64e1690"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_agent_dialstring.  <a href="#a46199282e56a1def66a4f406e64e1690">More...</a><br /></td></tr>
<tr class="separator:a46199282e56a1def66a4f406e64e1690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9973d81440cb95d7ca720ef1e331c5cd"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a9973d81440cb95d7ca720ef1e331c5cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_agent_policy.  <a href="#a9973d81440cb95d7ca720ef1e331c5cd">More...</a><br /></td></tr>
<tr class="separator:a9973d81440cb95d7ca720ef1e331c5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7a459ee48682680795c741e748c086"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7b7a459ee48682680795c741e748c086">ast_get_cc_callback_macro</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a7b7a459ee48682680795c741e748c086"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the callback_macro.  <a href="#a7b7a459ee48682680795c741e748c086">More...</a><br /></td></tr>
<tr class="separator:a7b7a459ee48682680795c741e748c086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccfe3f2b9de8a7009e02e2972ca6be5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#acccfe3f2b9de8a7009e02e2972ca6be5">ast_get_cc_callback_sub</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:acccfe3f2b9de8a7009e02e2972ca6be5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the callback subroutine.  <a href="#acccfe3f2b9de8a7009e02e2972ca6be5">More...</a><br /></td></tr>
<tr class="separator:acccfe3f2b9de8a7009e02e2972ca6be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff8c9d10dfd21673fe3dd8177cc0769"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8ff8c9d10dfd21673fe3dd8177cc0769">ast_get_cc_max_agents</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a8ff8c9d10dfd21673fe3dd8177cc0769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_max_agents.  <a href="#a8ff8c9d10dfd21673fe3dd8177cc0769">More...</a><br /></td></tr>
<tr class="separator:a8ff8c9d10dfd21673fe3dd8177cc0769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b3862d5a0cd857a5c49c3b83d9fad7"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:ab3b3862d5a0cd857a5c49c3b83d9fad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_max_monitors.  <a href="#ab3b3862d5a0cd857a5c49c3b83d9fad7">More...</a><br /></td></tr>
<tr class="separator:ab3b3862d5a0cd857a5c49c3b83d9fad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafed4bcde7e857db88ca60471e709a55"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:aafed4bcde7e857db88ca60471e709a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_monitor_policy.  <a href="#aafed4bcde7e857db88ca60471e709a55">More...</a><br /></td></tr>
<tr class="separator:aafed4bcde7e857db88ca60471e709a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cd4e661213322b65b7660a8b50027c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a38cd4e661213322b65b7660a8b50027c">ast_get_cc_offer_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a38cd4e661213322b65b7660a8b50027c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_offer_timer.  <a href="#a38cd4e661213322b65b7660a8b50027c">More...</a><br /></td></tr>
<tr class="separator:a38cd4e661213322b65b7660a8b50027c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a017388f7e4b902e8caac6458e586f47a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a017388f7e4b902e8caac6458e586f47a">ast_get_cc_recall_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a017388f7e4b902e8caac6458e586f47a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cc_recall_timer.  <a href="#a017388f7e4b902e8caac6458e586f47a">More...</a><br /></td></tr>
<tr class="separator:a017388f7e4b902e8caac6458e586f47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d377a378c28013504d3b2f4a335764"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a76d377a378c28013504d3b2f4a335764">ast_get_ccbs_available_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a76d377a378c28013504d3b2f4a335764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ccbs_available_timer.  <a href="#a76d377a378c28013504d3b2f4a335764">More...</a><br /></td></tr>
<tr class="separator:a76d377a378c28013504d3b2f4a335764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c56a61357eecdf10b801914b367f59f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8c56a61357eecdf10b801914b367f59f">ast_get_ccnr_available_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>)</td></tr>
<tr class="memdesc:a8c56a61357eecdf10b801914b367f59f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ccnr_available_timer.  <a href="#a8c56a61357eecdf10b801914b367f59f">More...</a><br /></td></tr>
<tr class="separator:a8c56a61357eecdf10b801914b367f59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fdb7f0c8ccf479ea573a08e66693da1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *inbound, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *outbound, void *frame_data)</td></tr>
<tr class="memdesc:a2fdb7f0c8ccf479ea573a08e66693da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properly react to a CC control frame.  <a href="#a2fdb7f0c8ccf479ea573a08e66693da1">More...</a><br /></td></tr>
<tr class="separator:a2fdb7f0c8ccf479ea573a08e66693da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29bd22ae74dbfefbcb8bec022cf2f173"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a29bd22ae74dbfefbcb8bec022cf2f173">ast_ignore_cc</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a29bd22ae74dbfefbcb8bec022cf2f173"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the channel to ignore further CC activity.  <a href="#a29bd22ae74dbfefbcb8bec022cf2f173">More...</a><br /></td></tr>
<tr class="separator:a29bd22ae74dbfefbcb8bec022cf2f173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d0290cd8d9087afd67cb21f1419504"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ab4d0290cd8d9087afd67cb21f1419504">ast_queue_cc_frame</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *monitor_type, const char *const dialstring, enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, void *private_data)</td></tr>
<tr class="memdesc:ab4d0290cd8d9087afd67cb21f1419504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue an AST_CONTROL_CC frame.  <a href="#ab4d0290cd8d9087afd67cb21f1419504">More...</a><br /></td></tr>
<tr class="separator:ab4d0290cd8d9087afd67cb21f1419504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6818b647740d8b4db35e00d35eea051b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6818b647740d8b4db35e00d35eea051b">ast_set_cc_agent_dialstring</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a6818b647740d8b4db35e00d35eea051b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_agent_dialstring.  <a href="#a6818b647740d8b4db35e00d35eea051b">More...</a><br /></td></tr>
<tr class="separator:a6818b647740d8b4db35e00d35eea051b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0548ae937919c6a5a39fedf977a68aad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a0548ae937919c6a5a39fedf977a68aad">ast_set_cc_agent_policy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a> <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a0548ae937919c6a5a39fedf977a68aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_agent_policy.  <a href="#a0548ae937919c6a5a39fedf977a68aad">More...</a><br /></td></tr>
<tr class="separator:a0548ae937919c6a5a39fedf977a68aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ef8af3638a4314ad5b34e44fddef29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a63ef8af3638a4314ad5b34e44fddef29">ast_set_cc_callback_macro</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a63ef8af3638a4314ad5b34e44fddef29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the callback_macro name.  <a href="#a63ef8af3638a4314ad5b34e44fddef29">More...</a><br /></td></tr>
<tr class="separator:a63ef8af3638a4314ad5b34e44fddef29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e542a0dc94efc308fa4ebfb44ea1334"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a4e542a0dc94efc308fa4ebfb44ea1334">ast_set_cc_callback_sub</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a4e542a0dc94efc308fa4ebfb44ea1334"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the callback subroutine name.  <a href="#a4e542a0dc94efc308fa4ebfb44ea1334">More...</a><br /></td></tr>
<tr class="separator:a4e542a0dc94efc308fa4ebfb44ea1334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b06671059cd5d6600917d1c028452f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a96b06671059cd5d6600917d1c028452f">ast_set_cc_interfaces_chanvar</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *const <a class="el" href="../../d0/d5a/structextension.html">extension</a>)</td></tr>
<tr class="memdesc:a96b06671059cd5d6600917d1c028452f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the CC_INTERFACES channel variable for a channel using an.  <a href="#a96b06671059cd5d6600917d1c028452f">More...</a><br /></td></tr>
<tr class="separator:a96b06671059cd5d6600917d1c028452f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710f0f5e8e10406417579d2a553865d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a710f0f5e8e10406417579d2a553865d4">ast_set_cc_max_agents</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a710f0f5e8e10406417579d2a553865d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_max_agents.  <a href="#a710f0f5e8e10406417579d2a553865d4">More...</a><br /></td></tr>
<tr class="separator:a710f0f5e8e10406417579d2a553865d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1150342e53b603c8af4f65468a4b21ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a1150342e53b603c8af4f65468a4b21ae">ast_set_cc_max_monitors</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a1150342e53b603c8af4f65468a4b21ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_max_monitors.  <a href="#a1150342e53b603c8af4f65468a4b21ae">More...</a><br /></td></tr>
<tr class="separator:a1150342e53b603c8af4f65468a4b21ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936cee61a1b12185670b60b87e275247"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a936cee61a1b12185670b60b87e275247">ast_set_cc_monitor_policy</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a> <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a936cee61a1b12185670b60b87e275247"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_monitor_policy.  <a href="#a936cee61a1b12185670b60b87e275247">More...</a><br /></td></tr>
<tr class="separator:a936cee61a1b12185670b60b87e275247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dfcd270d2c3a496e414254026c74037"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6dfcd270d2c3a496e414254026c74037">ast_set_cc_offer_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a6dfcd270d2c3a496e414254026c74037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_offer_timer.  <a href="#a6dfcd270d2c3a496e414254026c74037">More...</a><br /></td></tr>
<tr class="separator:a6dfcd270d2c3a496e414254026c74037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952db7996fc34fb7c527d550ac31aa2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a952db7996fc34fb7c527d550ac31aa2d">ast_set_cc_recall_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a952db7996fc34fb7c527d550ac31aa2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cc_recall_timer.  <a href="#a952db7996fc34fb7c527d550ac31aa2d">More...</a><br /></td></tr>
<tr class="separator:a952db7996fc34fb7c527d550ac31aa2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2960d62931ad8f57b39caa99a7fbde48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a2960d62931ad8f57b39caa99a7fbde48">ast_set_ccbs_available_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a2960d62931ad8f57b39caa99a7fbde48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ccbs_available_timer.  <a href="#a2960d62931ad8f57b39caa99a7fbde48">More...</a><br /></td></tr>
<tr class="separator:a2960d62931ad8f57b39caa99a7fbde48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c769b1f90df2ee4cbc79464c922d9d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8c769b1f90df2ee4cbc79464c922d9d5">ast_set_ccnr_available_timer</a> (struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *<a class="el" href="../../d0/d8a/muted_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a8c769b1f90df2ee4cbc79464c922d9d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ccnr_available_timer.  <a href="#a8c769b1f90df2ee4cbc79464c922d9d5">More...</a><br /></td></tr>
<tr class="separator:a8c769b1f90df2ee4cbc79464c922d9d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7883a7ab60e13e2697fccb74ed5d8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a3d7883a7ab60e13e2697fccb74ed5d8d">ast_setup_cc_recall_datastore</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const int core_id)</td></tr>
<tr class="memdesc:a3d7883a7ab60e13e2697fccb74ed5d8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a CC recall datastore on a channel.  <a href="#a3d7883a7ab60e13e2697fccb74ed5d8d">More...</a><br /></td></tr>
<tr class="separator:a3d7883a7ab60e13e2697fccb74ed5d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf8fc60553e1a20322b76a5405d120d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a> (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *starting_point, struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)</td></tr>
<tr class="separator:a5cf8fc60553e1a20322b76a5405d120d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39ed21a94e1c1b887370e1bb8160737"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a> (const char *const monitor_type, void *private_data)</td></tr>
<tr class="separator:ad39ed21a94e1c1b887370e1bb8160737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac189b78872a8a86cb2e3eb42f3ebc7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a3ac189b78872a8a86cb2e3eb42f3ebc7">cancel_available_timer</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance)</td></tr>
<tr class="separator:a3ac189b78872a8a86cb2e3eb42f3ebc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07bd28b970d03e8542d2d23d1e2bc82"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aa07bd28b970d03e8542d2d23d1e2bc82">cc_active</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:aa07bd28b970d03e8542d2d23d1e2bc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add9aed8b82215b7ee6ccdc8ce4104641"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#add9aed8b82215b7ee6ccdc8ce4104641">cc_agent_callback_helper</a> (void *obj, void *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, int flags)</td></tr>
<tr class="separator:add9aed8b82215b7ee6ccdc8ce4104641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2422590af7b197a22e4b24cc31936caa"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a2422590af7b197a22e4b24cc31936caa">cc_agent_init</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller_chan, const char *const caller_name, const int core_id, struct <a class="el" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree)</td></tr>
<tr class="separator:a2422590af7b197a22e4b24cc31936caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62a2d10ec85d758b49b29743098e614"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ab62a2d10ec85d758b49b29743098e614">cc_available</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:ab62a2d10ec85d758b49b29743098e614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7447e0ec99379a5b9fe22924166eaffa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params, const char *monitor_type, const char *const device_name, const char *dialstring, enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, void *private_data, struct <a class="el" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *payload)</td></tr>
<tr class="separator:a7447e0ec99379a5b9fe22924166eaffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30aa6f7539b7fdc75516b90c36df00ff"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a30aa6f7539b7fdc75516b90c36df00ff">cc_callee_ready</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:a30aa6f7539b7fdc75516b90c36df00ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a661a0231a1a23bcc152d741bf4c0fd1e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a661a0231a1a23bcc152d741bf4c0fd1e">cc_caller_busy</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:a661a0231a1a23bcc152d741bf4c0fd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099418f3a8798eafb1785bc86115a59f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a099418f3a8798eafb1785bc86115a59f">cc_caller_offered</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:a099418f3a8798eafb1785bc86115a59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b0988561ffb97b310ff10fc02182f4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a17b0988561ffb97b310ff10fc02182f4">cc_caller_requested</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:a17b0988561ffb97b310ff10fc02182f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a7063bfb92213985b9fa5acd1dde9d6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6a7063bfb92213985b9fa5acd1dde9d6">cc_cli_output_status</a> (void *data)</td></tr>
<tr class="separator:a6a7063bfb92213985b9fa5acd1dde9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea447d6360ffc2f2c5281ffe7d6fbae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8ea447d6360ffc2f2c5281ffe7d6fbae">cc_cli_print_monitor_stats</a> (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, int fd, int parent_id)</td></tr>
<tr class="separator:a8ea447d6360ffc2f2c5281ffe7d6fbae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ee4bb8bfb0f1771a7dd78b6770774a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a02ee4bb8bfb0f1771a7dd78b6770774a">cc_complete</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:a02ee4bb8bfb0f1771a7dd78b6770774a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883996adb857c5c518bad2b0a968ece3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a883996adb857c5c518bad2b0a968ece3">cc_core_init_instance</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller_chan, struct <a class="el" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *called_tree, const int core_id, struct <a class="el" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *cc_data)</td></tr>
<tr class="separator:a883996adb857c5c518bad2b0a968ece3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611eba4508e148925f5e9465a8e11fa1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a611eba4508e148925f5e9465a8e11fa1">cc_core_instance_cmp_fn</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a611eba4508e148925f5e9465a8e11fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d2b6513631b58ceb4b3aa2aec2b8b9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a73d2b6513631b58ceb4b3aa2aec2b8b9">cc_core_instance_destructor</a> (void *data)</td></tr>
<tr class="separator:a73d2b6513631b58ceb4b3aa2aec2b8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4516fb324cbf99c5220fdf9b7afabec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af4516fb324cbf99c5220fdf9b7afabec">cc_core_instance_hash_fn</a> (const void *obj, const int flags)</td></tr>
<tr class="separator:af4516fb324cbf99c5220fdf9b7afabec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8524619abdbaec9e4bd6fdd84850134f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8524619abdbaec9e4bd6fdd84850134f">cc_device_monitor_init</a> (const char *const device_name, const char *const dialstring, const struct <a class="el" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *cc_data, int core_id)</td></tr>
<tr class="separator:a8524619abdbaec9e4bd6fdd84850134f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682c599794989f2cd3cc54ede3af8fcb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a682c599794989f2cd3cc54ede3af8fcb">cc_do_state_change</a> (void *datap)</td></tr>
<tr class="separator:a682c599794989f2cd3cc54ede3af8fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2435c66b53e4ebc6b4048228533132"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, unsigned int parent_id, const char *const device_name, int is_valid)</td></tr>
<tr class="separator:aaf2435c66b53e4ebc6b4048228533132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bfdb26e7b9b3fdfeb312ccee3575722"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a3bfdb26e7b9b3fdfeb312ccee3575722">cc_extension_monitor_destructor</a> (void *private_data)</td></tr>
<tr class="separator:a3bfdb26e7b9b3fdfeb312ccee3575722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16f4359507449ab2cf18b521d898415"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad16f4359507449ab2cf18b521d898415">cc_extension_monitor_init</a> (const char *const <a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, const char *const <a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const unsigned int parent_id)</td></tr>
<tr class="separator:ad16f4359507449ab2cf18b521d898415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5547566d26e3d88ce29476cc0071081f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5547566d26e3d88ce29476cc0071081f">cc_failed</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:a5547566d26e3d88ce29476cc0071081f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c41c6c02c5224e49e6a35422054008"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a82c41c6c02c5224e49e6a35422054008">cc_generic_agent_destructor</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="separator:a82c41c6c02c5224e49e6a35422054008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6f58a009fa65bb99ebf18806f33704"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6a6f58a009fa65bb99ebf18806f33704">cc_generic_agent_init</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a6a6f58a009fa65bb99ebf18806f33704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc0af93e35caadb30f652892abba2d5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a0bc0af93e35caadb30f652892abba2d5">cc_generic_agent_recall</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="separator:a0bc0af93e35caadb30f652892abba2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01686063c1a221ff28ac19e4ad8a1768"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a01686063c1a221ff28ac19e4ad8a1768">cc_generic_agent_respond</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent, enum <a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40f">ast_cc_agent_response_reason</a> reason)</td></tr>
<tr class="separator:a01686063c1a221ff28ac19e4ad8a1768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84250739ece34e5113deea11098c4db2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a84250739ece34e5113deea11098c4db2">cc_generic_agent_start_monitoring</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="separator:a84250739ece34e5113deea11098c4db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa117b87476687794cfcd3ba9ea33821c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aa117b87476687794cfcd3ba9ea33821c">cc_generic_agent_start_offer_timer</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="separator:aa117b87476687794cfcd3ba9ea33821c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe497ee3add59a111be505df8cfaf28"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a9fe497ee3add59a111be505df8cfaf28">cc_generic_agent_status_request</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="separator:a9fe497ee3add59a111be505df8cfaf28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4720257e5fa15773f5154f103f9b8f0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad4720257e5fa15773f5154f103f9b8f0">cc_generic_agent_stop_offer_timer</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="separator:ad4720257e5fa15773f5154f103f9b8f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52730f6563afb3162d9bbcf40bc11481"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a52730f6563afb3162d9bbcf40bc11481">cc_generic_agent_stop_ringing</a> (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="separator:a52730f6563afb3162d9bbcf40bc11481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957c2dad047b8a2050d66c3dd069a082"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a> (enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="separator:a957c2dad047b8a2050d66c3dd069a082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7467dc520fbdac1fb9fe8abbb028eea2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7467dc520fbdac1fb9fe8abbb028eea2">cc_generic_monitor_cancel_available_timer</a> (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, int *<a class="el" href="../../d1/dab/structsched__id.html">sched_id</a>)</td></tr>
<tr class="separator:a7467dc520fbdac1fb9fe8abbb028eea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf48ae36a49d5829eef8d3d9cfb27ef"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#afbf48ae36a49d5829eef8d3d9cfb27ef">cc_generic_monitor_destructor</a> (void *private_data)</td></tr>
<tr class="separator:afbf48ae36a49d5829eef8d3d9cfb27ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf474300b4c445523509dd94da50132"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#abaf474300b4c445523509dd94da50132">cc_generic_monitor_request_cc</a> (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>, int *available_timer_id)</td></tr>
<tr class="separator:abaf474300b4c445523509dd94da50132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982d7e3f139e46fb41ee28978d0f46b8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a982d7e3f139e46fb41ee28978d0f46b8">cc_generic_monitor_suspend</a> (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>)</td></tr>
<tr class="separator:a982d7e3f139e46fb41ee28978d0f46b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d11c6d1da81cabe4efda4635d879b12"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5d11c6d1da81cabe4efda4635d879b12">cc_generic_monitor_unsuspend</a> (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>)</td></tr>
<tr class="separator:a5d11c6d1da81cabe4efda4635d879b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9a324cdb55d394ecd48d7e199fb67e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a1e9a324cdb55d394ecd48d7e199fb67e">cc_interface_destroy</a> (void *data)</td></tr>
<tr class="separator:a1e9a324cdb55d394ecd48d7e199fb67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2cc33f092704c4daa2437b50bed6595"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ae2cc33f092704c4daa2437b50bed6595">cc_interface_tree_destroy</a> (void *data)</td></tr>
<tr class="separator:ae2cc33f092704c4daa2437b50bed6595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf022f971019ecf7103cf5fe31c98717"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#abf022f971019ecf7103cf5fe31c98717">cc_interfaces_datastore_init</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:abf022f971019ecf7103cf5fe31c98717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921d6a731af09f97878539af20508b6c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a921d6a731af09f97878539af20508b6c">cc_monitor_destroy</a> (void *data)</td></tr>
<tr class="separator:a921d6a731af09f97878539af20508b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87773605020b0c0611efc9d5ecfcd6e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af87773605020b0c0611efc9d5ecfcd6e">cc_monitor_failed</a> (void *data)</td></tr>
<tr class="separator:af87773605020b0c0611efc9d5ecfcd6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ad3f251c0aff6c8eecff9fce383158"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a40ad3f251c0aff6c8eecff9fce383158">cc_offer</a> (const int core_id, const char *const <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>,...)</td></tr>
<tr class="separator:a40ad3f251c0aff6c8eecff9fce383158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9771f8cb11a1f42a852bcd698836bcff"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a9771f8cb11a1f42a852bcd698836bcff">cc_party_b_free</a> (void *data)</td></tr>
<tr class="separator:a9771f8cb11a1f42a852bcd698836bcff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af3ac1822237cd73d0c34cee69eb093"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a> (struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *message_type, int core_id, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *extras)</td></tr>
<tr class="separator:a7af3ac1822237cd73d0c34cee69eb093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b0d8cf8711086886f1a4ecbf982924"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a29b0d8cf8711086886f1a4ecbf982924">cc_publish_available</a> (int core_id, const char *callee, const char *<a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>)</td></tr>
<tr class="separator:a29b0d8cf8711086886f1a4ecbf982924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66bc24f584312b7ff3297f4929e4118b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a66bc24f584312b7ff3297f4929e4118b">cc_publish_callerrecalling</a> (int core_id, const char *caller)</td></tr>
<tr class="separator:a66bc24f584312b7ff3297f4929e4118b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f10215832f1b14dc0fbe4a96c96471"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a65f10215832f1b14dc0fbe4a96c96471">cc_publish_callerstartmonitoring</a> (int core_id, const char *caller)</td></tr>
<tr class="separator:a65f10215832f1b14dc0fbe4a96c96471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a284dfdf44081392c457d5672df13e2a8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a284dfdf44081392c457d5672df13e2a8">cc_publish_callerstopmonitoring</a> (int core_id, const char *caller)</td></tr>
<tr class="separator:a284dfdf44081392c457d5672df13e2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa2f4d91c0d413c5e04763d38de9da2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#adfa2f4d91c0d413c5e04763d38de9da2">cc_publish_failure</a> (int core_id, const char *caller, const char *reason)</td></tr>
<tr class="separator:adfa2f4d91c0d413c5e04763d38de9da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f815b09e482519d7f865baa5f3c3985"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5f815b09e482519d7f865baa5f3c3985">cc_publish_monitorfailed</a> (int core_id, const char *callee)</td></tr>
<tr class="separator:a5f815b09e482519d7f865baa5f3c3985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698963a440390fd17c3070c62b0d26bb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a698963a440390fd17c3070c62b0d26bb">cc_publish_offertimerstart</a> (int core_id, const char *caller, unsigned int expires)</td></tr>
<tr class="separator:a698963a440390fd17c3070c62b0d26bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687ef7ca441bb2eccd85186b02782d1e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a687ef7ca441bb2eccd85186b02782d1e">cc_publish_recallcomplete</a> (int core_id, const char *caller)</td></tr>
<tr class="separator:a687ef7ca441bb2eccd85186b02782d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a054cb70a3268c7442fabf9f985215afd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a054cb70a3268c7442fabf9f985215afd">cc_publish_requestacknowledged</a> (int core_id, const char *caller)</td></tr>
<tr class="separator:a054cb70a3268c7442fabf9f985215afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d67356509002d570a03bd7a85c0394"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a84d67356509002d570a03bd7a85c0394">cc_publish_requested</a> (int core_id, const char *caller, const char *callee)</td></tr>
<tr class="separator:a84d67356509002d570a03bd7a85c0394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4367c909a58bcc19a8700a50aae2fa4e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a4367c909a58bcc19a8700a50aae2fa4e">cc_recall_ds_destroy</a> (void *data)</td></tr>
<tr class="separator:a4367c909a58bcc19a8700a50aae2fa4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1cc3710cbb699f1bbaa538520fb397"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#afa1cc3710cbb699f1bbaa538520fb397">cc_recall_ds_duplicate</a> (void *data)</td></tr>
<tr class="separator:afa1cc3710cbb699f1bbaa538520fb397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c43b681c3ff31b5953443507714442"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a04c43b681c3ff31b5953443507714442">cc_recalling</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:a04c43b681c3ff31b5953443507714442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc26691ea6cfac26369fcf3c797dfd6"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a> (void *obj, const char *<a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr class="separator:a1fc26691ea6cfac26369fcf3c797dfd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ae925ffa0f31a5738dd71c96623e45"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a> (enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>, const int core_id, const char *<a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, va_list ap)</td></tr>
<tr class="separator:af9ae925ffa0f31a5738dd71c96623e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf564e8503a7fb86cca56e1ab9dffe0"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aedf564e8503a7fb86cca56e1ab9dffe0">cc_service_to_string</a> (enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> <a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>)</td></tr>
<tr class="separator:aedf564e8503a7fb86cca56e1ab9dffe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1152f66e69c988f97fe94452bee4b6"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7b1152f66e69c988f97fe94452bee4b6">cc_state_to_devstate</a> (enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="separator:a7b1152f66e69c988f97fe94452bee4b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9c1c94ada3db153cc758d1e65e77c6"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a> (enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="separator:a8c9c1c94ada3db153cc758d1e65e77c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214af0bfb9fbabd6b37bfaa6d7d3ff6a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a214af0bfb9fbabd6b37bfaa6d7d3ff6a">cc_status_request</a> (void *data)</td></tr>
<tr class="separator:a214af0bfb9fbabd6b37bfaa6d7d3ff6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4946d230e74993b20fa566bf8834742"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af4946d230e74993b20fa566bf8834742">cc_status_response</a> (void *data)</td></tr>
<tr class="separator:af4946d230e74993b20fa566bf8834742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbed5486026c06296110f00326fc4688"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#abbed5486026c06296110f00326fc4688">cc_stop_ringing</a> (void *data)</td></tr>
<tr class="separator:abbed5486026c06296110f00326fc4688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6f1d4f0682249ce5393d830e4bddf34"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac6f1d4f0682249ce5393d830e4bddf34">cc_unique_append</a> (struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, const char *dialstring)</td></tr>
<tr class="separator:ac6f1d4f0682249ce5393d830e4bddf34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e7ec3ddfe307da016dd327381d8583"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a> (void *obj, const char *<a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr class="separator:a28e7ec3ddfe307da016dd327381d8583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42db5cbb36f637ab4351fce84e8b2032"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a42db5cbb36f637ab4351fce84e8b2032">cccancel_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="separator:a42db5cbb36f637ab4351fce84e8b2032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdced852fd2ee42c5cb8658fc6c3867"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6cdced852fd2ee42c5cb8658fc6c3867">ccreq_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="separator:a6cdced852fd2ee42c5cb8658fc6c3867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2181b9979cb127dd522efee38b77e29b"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a2181b9979cb127dd522efee38b77e29b">ccss_device_state</a> (const char *device_name)</td></tr>
<tr class="separator:a2181b9979cb127dd522efee38b77e29b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a478f22511281c22ca805d175e4176"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a59a478f22511281c22ca805d175e4176">ccss_notify_device_state_change</a> (const char *device, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="separator:a59a478f22511281c22ca805d175e4176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14773630c42f5627bd3377a5d5d541e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ab14773630c42f5627bd3377a5d5d541e">check_callback_sanity</a> (const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *callbacks)</td></tr>
<tr class="separator:ab14773630c42f5627bd3377a5d5d541e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a713cd70e5c92c2d90069f11d5d8b2972"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a713cd70e5c92c2d90069f11d5d8b2972">complete_core_id</a> (const char *<a class="el" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>)</td></tr>
<tr class="separator:a713cd70e5c92c2d90069f11d5d8b2972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d88b9554fb4db981b6783cd88f278e"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ae2d88b9554fb4db981b6783cd88f278e">count_agents</a> (const char *const caller, const int core_id_exception)</td></tr>
<tr class="separator:ae2d88b9554fb4db981b6783cd88f278e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851b1ad1711c9458bf62b17de31fccd0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a851b1ad1711c9458bf62b17de31fccd0">count_agents_cb</a> (void *obj, void *arg, void *data, int flags)</td></tr>
<tr class="separator:a851b1ad1711c9458bf62b17de31fccd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f45524b1f152f9566ac26739552978"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac0f45524b1f152f9566ac26739552978">count_monitors_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:ac0f45524b1f152f9566ac26739552978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f0ce6ce80fbf5cbc933df54f4d919c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a15f0ce6ce80fbf5cbc933df54f4d919c">create_new_generic_list</a> (struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="el" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>)</td></tr>
<tr class="separator:a15f0ce6ce80fbf5cbc933df54f4d919c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada30c8c7c1ad859b49230c8ed8490d61"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ada30c8c7c1ad859b49230c8ed8490d61">dialed_cc_interfaces_destroy</a> (void *data)</td></tr>
<tr class="separator:ada30c8c7c1ad859b49230c8ed8490d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c09d9f499e3ad5bfb4f63311b3cab10"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5c09d9f499e3ad5bfb4f63311b3cab10">dialed_cc_interfaces_duplicate</a> (void *data)</td></tr>
<tr class="separator:a5c09d9f499e3ad5bfb4f63311b3cab10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e96f4540f7d939f7c3c82cc76b18dcf"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5e96f4540f7d939f7c3c82cc76b18dcf">extension_monitor_pvt_init</a> (void)</td></tr>
<tr class="separator:a5e96f4540f7d939f7c3c82cc76b18dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3c55ef72191d6ce4dbe092be125acc"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#afc3c55ef72191d6ce4dbe092be125acc">find_agent_callbacks</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:afc3c55ef72191d6ce4dbe092be125acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5074ca9ad1b570ab300a2fd9a0aaf1e6"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a> (const int core_id)</td></tr>
<tr class="separator:a5074ca9ad1b570ab300a2fd9a0aaf1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbedbf4b9985ca5c4f0a0b6a54f3b0c1"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a> (const char *const device_name)</td></tr>
<tr class="separator:afbedbf4b9985ca5c4f0a0b6a54f3b0c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae560ec7b0f950b1bfc0f5effc28e32d7"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ae560ec7b0f950b1bfc0f5effc28e32d7">find_monitor_callbacks</a> (const char *const <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="separator:ae560ec7b0f950b1bfc0f5effc28e32d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ead6c4392b14d14aca3d7defa07ff7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac5ead6c4392b14d14aca3d7defa07ff7">generic_agent_devstate_cb</a> (void *userdata, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="separator:ac5ead6c4392b14d14aca3d7defa07ff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2aa33490883a538a3997f76dfe51cd1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aa2aa33490883a538a3997f76dfe51cd1">generic_monitor_devstate_cb</a> (void *userdata, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="separator:aa2aa33490883a538a3997f76dfe51cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ded4575d2e387d2390ec7ccf5a7d90"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a12ded4575d2e387d2390ec7ccf5a7d90">generic_monitor_devstate_tp_cb</a> (void *data)</td></tr>
<tr class="separator:a12ded4575d2e387d2390ec7ccf5a7d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6afae4e7744af180de1cd9650dfa41"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a1d6afae4e7744af180de1cd9650dfa41">generic_monitor_instance_list_destructor</a> (void *obj)</td></tr>
<tr class="separator:a1d6afae4e7744af180de1cd9650dfa41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd86c854f9feb5e231de8ca4f8d29c33"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#afd86c854f9feb5e231de8ca4f8d29c33">generic_recall</a> (void *data)</td></tr>
<tr class="separator:afd86c854f9feb5e231de8ca4f8d29c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f215e5431b1db91950434baf24916d"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a10f215e5431b1db91950434baf24916d">handle_cc_kill</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a10f215e5431b1db91950434baf24916d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f608afebe74c4f8ff778a270d5e4b0"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a86f608afebe74c4f8ff778a270d5e4b0">handle_cc_status</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a86f608afebe74c4f8ff778a270d5e4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60dcba0563e29185a0d65f428dadb48"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance)</td></tr>
<tr class="memdesc:aa60dcba0563e29185a0d65f428dadb48"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if the core instance has any device monitors  <a href="#aa60dcba0563e29185a0d65f428dadb48">More...</a><br /></td></tr>
<tr class="separator:aa60dcba0563e29185a0d65f428dadb48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06bedc8cb792eb2d792d505a6389c767"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a06bedc8cb792eb2d792d505a6389c767">initialize_cc_devstate_map</a> (void)</td></tr>
<tr class="separator:a06bedc8cb792eb2d792d505a6389c767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df0617a5a78db13911e9dfae4326be3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a> (struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *cc_config, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>, const char *cc_setting)</td></tr>
<tr class="separator:a5df0617a5a78db13911e9dfae4326be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52d21c491ea8b21735078102e5be521"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aa52d21c491ea8b21735078102e5be521">initialize_cc_max_requests</a> (void)</td></tr>
<tr class="separator:aa52d21c491ea8b21735078102e5be521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa759ffc37d142821c2c99b97499b07c2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aa759ffc37d142821c2c99b97499b07c2">is_state_change_valid</a> (enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> current_state, const enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> new_state, struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="separator:aa759ffc37d142821c2c99b97499b07c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac596280952a84fea6f7192586f885d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aeac596280952a84fea6f7192586f885d">kill_cores</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:aeac596280952a84fea6f7192586f885d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6311796a5920729e1f68771aa76d5cc4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6311796a5920729e1f68771aa76d5cc4">kill_duplicate_offers</a> (char *caller)</td></tr>
<tr class="separator:a6311796a5920729e1f68771aa76d5cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7cb1b383319818f042a03b15db33f7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a> (void *obj, void *arg, void *data, int flags)</td></tr>
<tr class="separator:abf7cb1b383319818f042a03b15db33f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36da7590fe51b7f5b8bc1d449381592f"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a36da7590fe51b7f5b8bc1d449381592f">monitor_policy_to_str</a> (enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a> policy)</td></tr>
<tr class="separator:a36da7590fe51b7f5b8bc1d449381592f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eafdaf4a298814d2cb24cf21cc09eb3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6eafdaf4a298814d2cb24cf21cc09eb3">offer_timer_expire</a> (const void *data)</td></tr>
<tr class="separator:a6eafdaf4a298814d2cb24cf21cc09eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8ed6337dffca5894189562d30aa96f4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad8ed6337dffca5894189562d30aa96f4">print_stats_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:ad8ed6337dffca5894189562d30aa96f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7b2000ccfac0858924a7fd0ce51c53"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7b7b2000ccfac0858924a7fd0ce51c53">request_cc</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance)</td></tr>
<tr class="separator:a7b7b2000ccfac0858924a7fd0ce51c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e5b91aa90c8e5426a1b7657f00c4bb"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a91e5b91aa90c8e5426a1b7657f00c4bb">str_to_agent_policy</a> (const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="separator:a91e5b91aa90c8e5426a1b7657f00c4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ed8f86f1673334c9a2614ce01b2c33"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a89ed8f86f1673334c9a2614ce01b2c33">str_to_monitor_policy</a> (const char *const <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="separator:a89ed8f86f1673334c9a2614ce01b2c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd1c39b4993f80f1bf674e3a1d717dd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a8bd1c39b4993f80f1bf674e3a1d717dd">suspend</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance)</td></tr>
<tr class="separator:a8bd1c39b4993f80f1bf674e3a1d717dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d16f7567f92f89969ead967d740b41"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a25d16f7567f92f89969ead967d740b41">unsuspend</a> (struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance)</td></tr>
<tr class="separator:a25d16f7567f92f89969ead967d740b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Call Completion Supplementary Services&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_CORE, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ded4ddc3e1aeef1810148829d6b51e7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7ded4ddc3e1aeef1810148829d6b51e7">cc_agent_backends</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a7ded4ddc3e1aeef1810148829d6b51e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac33c195198aa5ecefa83cb02fa0e024a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac33c195198aa5ecefa83cb02fa0e024a">cc_cli</a> []</td></tr>
<tr class="separator:ac33c195198aa5ecefa83cb02fa0e024a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49eacb17be4373eb3f0997db522631c1"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></td></tr>
<tr class="separator:a49eacb17be4373eb3f0997db522631c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ebea09cd5ab7bcb1921f62f347bfc8"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a38ebea09cd5ab7bcb1921f62f347bfc8">CC_CORE_INSTANCES_BUCKETS</a> = 17</td></tr>
<tr class="separator:a38ebea09cd5ab7bcb1921f62f347bfc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7add9c7f7586e620928c58976b5e142b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></td></tr>
<tr class="separator:a7add9c7f7586e620928c58976b5e142b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b2b0e8999d8157d45e2c0bffdfbb01"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a30b2b0e8999d8157d45e2c0bffdfbb01">cc_default_params</a></td></tr>
<tr class="separator:a30b2b0e8999d8157d45e2c0bffdfbb01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8cd1128e743ae3b91dba2ebac18548"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></td></tr>
<tr class="separator:aae8cd1128e743ae3b91dba2ebac18548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d983dbcda956ce9384633f524673c3"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a68d983dbcda956ce9384633f524673c3">CC_LOGGER_LEVEL_NAME</a> = &quot;CC&quot;</td></tr>
<tr class="separator:a68d983dbcda956ce9384633f524673c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87acd483e970b945b762537e23b18e91"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a87acd483e970b945b762537e23b18e91">cc_monitor_backends</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a87acd483e970b945b762537e23b18e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba9ea400c5348fb9283442abcdd40f8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a9ba9ea400c5348fb9283442abcdd40f8">cc_request_count</a></td></tr>
<tr class="separator:a9ba9ea400c5348fb9283442abcdd40f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082832e22a050d2dd5e8c3019207b1ed"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d7/de8/structast__sched__context.html">ast_sched_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a></td></tr>
<tr class="separator:a082832e22a050d2dd5e8c3019207b1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91b4419075d5d7fdd8e11d668315241"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a495cc24c1947d49a2b6de488a45c9d72"><td class="memItemLeft" >&#160;&#160;&#160;enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a>&#160;&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></td></tr>
<tr class="separator:a495cc24c1947d49a2b6de488a45c9d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e19c02156413c7bea516003be9e6b48"><td class="memItemLeft" >&#160;&#160;&#160;const char *&#160;&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#a8e19c02156413c7bea516003be9e6b48">service_string</a></td></tr>
<tr class="separator:a8e19c02156413c7bea516003be9e6b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91b4419075d5d7fdd8e11d668315241"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#ac91b4419075d5d7fdd8e11d668315241">cc_service_to_string_map</a> []</td></tr>
<tr class="separator:ac91b4419075d5d7fdd8e11d668315241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2de0a1a74fea71224b3670cb6df73f"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#acf2de0a1a74fea71224b3670cb6df73f">cc_state_to_devstate_map</a> []</td></tr>
<tr class="separator:acf2de0a1a74fea71224b3670cb6df73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ebb240754feb8124f2a0fc9ce62c51"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:aa15a5955ae71d81bd990da3569c06258"><td class="memItemLeft" >&#160;&#160;&#160;enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a></td></tr>
<tr class="separator:aa15a5955ae71d81bd990da3569c06258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0118a930bd1e6cf279c86249248fd45"><td class="memItemLeft" >&#160;&#160;&#160;const char *&#160;&#160;&#160;<a class="el" href="../../d3/d5a/ccss_8c.html#ab0118a930bd1e6cf279c86249248fd45">state_string</a></td></tr>
<tr class="separator:ab0118a930bd1e6cf279c86249248fd45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ebb240754feb8124f2a0fc9ce62c51"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a93ebb240754feb8124f2a0fc9ce62c51">cc_state_to_string_map</a> []</td></tr>
<tr class="separator:a93ebb240754feb8124f2a0fc9ce62c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc0357f26e1ae04619892894f7978cc"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a4bc0357f26e1ae04619892894f7978cc">cccancel_app</a> = &quot;CallCompletionCancel&quot;</td></tr>
<tr class="separator:a4bc0357f26e1ae04619892894f7978cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5b52c0c580e6280605a4bfbe3f260a"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a3d5b52c0c580e6280605a4bfbe3f260a">ccreq_app</a> = &quot;CallCompletionRequest&quot;</td></tr>
<tr class="separator:a3d5b52c0c580e6280605a4bfbe3f260a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d4090067f1b06025c2ff74d45199a6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#af8d4090067f1b06025c2ff74d45199a6">core_id_counter</a></td></tr>
<tr class="separator:af8d4090067f1b06025c2ff74d45199a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c11e22178be31913d96130d567d6da"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a00c11e22178be31913d96130d567d6da">dialed_cc_interface_counter</a></td></tr>
<tr class="separator:a00c11e22178be31913d96130d567d6da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc80ab1d004be14384ef28210a3405c"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></td></tr>
<tr class="separator:a7fc80ab1d004be14384ef28210a3405c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea6db2fc1573d4c44baed1a9aa0bc44"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#afea6db2fc1573d4c44baed1a9aa0bc44">generic_agent_callbacks</a></td></tr>
<tr class="separator:afea6db2fc1573d4c44baed1a9aa0bc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6987126a8cf306e730e9020eac827980"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a6987126a8cf306e730e9020eac827980">generic_monitor_cbs</a></td></tr>
<tr class="separator:a6987126a8cf306e730e9020eac827980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad06522a895314598284234778252c1c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a></td></tr>
<tr class="separator:aad06522a895314598284234778252c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a80bcf12d1976a90ad79ba7ba07dec4"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a></td></tr>
<tr class="separator:a4a80bcf12d1976a90ad79ba7ba07dec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010707a1d95ff32920705c9320a94bcb"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></td></tr>
<tr class="separator:a010707a1d95ff32920705c9320a94bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d30c63a76b4c181c54dec0ee44282a"><td class="memItemLeft" align="right" valign="top">static int(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5a/ccss_8c.html#a93d30c63a76b4c181c54dec0ee44282a">state_change_funcs</a> [])(struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td></tr>
<tr class="separator:a93d30c63a76b4c181c54dec0ee44282a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Call Completion Supplementary Services implementation. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Michelson <a href="#" onclick="location.href='mai'+'lto:'+'mmi'+'ch'+'els'+'on'+'@di'+'gi'+'um.'+'co'+'m'; return false;">mmich<span style="display: none;">.nosp@m.</span>elso<span style="display: none;">.nosp@m.</span>n@dig<span style="display: none;">.nosp@m.</span>ium.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afb587ec6e65a1d8a50cba44787f2bd4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb587ec6e65a1d8a50cba44787f2bd4d">&#9670;&nbsp;</a></span>CC_ACTIVE_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_ACTIVE_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00552">552</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a4c96d9df46a57d76f06b4836341f280c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c96d9df46a57d76f06b4836341f280c">&#9670;&nbsp;</a></span>CC_AVAILABLE_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_AVAILABLE_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00549">549</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="ac50c1fc7a6c599ecea8dceced9337744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac50c1fc7a6c599ecea8dceced9337744">&#9670;&nbsp;</a></span>CC_CALLEE_READY_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_CALLEE_READY_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea76d91d5d654cfa3edafb2afbe3e09b46">AST_DEVICE_RINGING</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00553">553</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a5009f6622128d76e4da993bdcfe77949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5009f6622128d76e4da993bdcfe77949">&#9670;&nbsp;</a></span>CC_CALLER_BUSY_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_CALLER_BUSY_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea6b7416bea92d3bc5ee8e36f0a484cdc1">AST_DEVICE_ONHOLD</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00554">554</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="ae517bcfb3164d0614224c193ea86b13c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae517bcfb3164d0614224c193ea86b13c">&#9670;&nbsp;</a></span>CC_CALLER_OFFERED_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_CALLER_OFFERED_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00550">550</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a05e09535a6508082cca7670107224320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e09535a6508082cca7670107224320">&#9670;&nbsp;</a></span>CC_CALLER_REQUESTED_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_CALLER_REQUESTED_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00551">551</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a4a60bfcf69eb3b20fb3a7aea0eb84b7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a60bfcf69eb3b20fb3a7aea0eb84b7b">&#9670;&nbsp;</a></span>CC_COMPLETE_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_COMPLETE_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00556">556</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a3fd45d77b9d63d9971365f7222389e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd45d77b9d63d9971365f7222389e32">&#9670;&nbsp;</a></span>CC_FAILED_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_FAILED_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00557">557</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="aafb210cb7df4f10e069393b36236ba60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb210cb7df4f10e069393b36236ba60">&#9670;&nbsp;</a></span>CC_MAX_AGENTS_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_MAX_AGENTS_DEFAULT&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00658">658</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="af9350fd0c6702d51e1412b37610bb4bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9350fd0c6702d51e1412b37610bb4bd">&#9670;&nbsp;</a></span>CC_MAX_MONITORS_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_MAX_MONITORS_DEFAULT&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00659">659</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a68ac50e692a2f35669a5f17ac8da70fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68ac50e692a2f35669a5f17ac8da70fe">&#9670;&nbsp;</a></span>CC_OFFER_TIMER_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_OFFER_TIMER_DEFAULT&#160;&#160;&#160;20		/* Seconds */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00654">654</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="ae287f2a19c7a4a8265d989db216a29fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae287f2a19c7a4a8265d989db216a29fb">&#9670;&nbsp;</a></span>CC_RECALL_TIMER_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_RECALL_TIMER_DEFAULT&#160;&#160;&#160;20		/* Seconds */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00657">657</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="ae7b9623ff602860cc5ec3d11eab0c12c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7b9623ff602860cc5ec3d11eab0c12c">&#9670;&nbsp;</a></span>CC_RECALLING_DEVSTATE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CC_RECALLING_DEVSTATE_DEFAULT&#160;&#160;&#160;<a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea76d91d5d654cfa3edafb2afbe3e09b46">AST_DEVICE_RINGING</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00555">555</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="ac4701f6383f7b9c79e5dd600fbc59efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4701f6383f7b9c79e5dd600fbc59efe">&#9670;&nbsp;</a></span>CCBS_AVAILABLE_TIMER_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCBS_AVAILABLE_TIMER_DEFAULT&#160;&#160;&#160;4800	/* Seconds */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00656">656</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a7513cb17e4c16cc43613b1e512d4f4e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7513cb17e4c16cc43613b1e512d4f4e8">&#9670;&nbsp;</a></span>CCNR_AVAILABLE_TIMER_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCNR_AVAILABLE_TIMER_DEFAULT&#160;&#160;&#160;7200	/* Seconds */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00655">655</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a65cf228d0a816fcbef564fb1ffca432a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65cf228d0a816fcbef564fb1ffca432a">&#9670;&nbsp;</a></span>GLOBAL_CC_MAX_REQUESTS_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GLOBAL_CC_MAX_REQUESTS_DEFAULT&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00660">660</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04377">initialize_cc_max_requests()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a630d6e4aa40892ca671eb62897795080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630d6e4aa40892ca671eb62897795080">&#9670;&nbsp;</a></span>cc_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The states used in the CCSS core state machine. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 For more information, see doc/CCSS_architecture.pdf </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf"></a>CC_AVAILABLE&#160;</td><td class="fielddoc"><p>Entered when it is determined that CCSS may be used for the call </p>
</td></tr>
<tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0"></a>CC_CALLER_OFFERED&#160;</td><td class="fielddoc"><p>Entered when a CCSS agent has offered CCSS to a caller </p>
</td></tr>
<tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"></a>CC_CALLER_REQUESTED&#160;</td><td class="fielddoc"><p>Entered when a CCSS agent confirms that a caller has requested CCSS </p>
</td></tr>
<tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d"></a>CC_ACTIVE&#160;</td><td class="fielddoc"><p>Entered when a CCSS monitor confirms acknowledgment of an outbound CCSS request </p>
</td></tr>
<tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45"></a>CC_CALLEE_READY&#160;</td><td class="fielddoc"><p>Entered when a CCSS monitor alerts the core that the called party has become available </p>
</td></tr>
<tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766"></a>CC_CALLER_BUSY&#160;</td><td class="fielddoc"><p>Entered when a CCSS agent alerts the core that the calling party may not be recalled because he is unavailable </p>
</td></tr>
<tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3"></a>CC_RECALLING&#160;</td><td class="fielddoc"><p>Entered when a CCSS agent alerts the core that the calling party is attempting to recall the called party </p>
</td></tr>
<tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701"></a>CC_COMPLETE&#160;</td><td class="fielddoc"><p>Entered when an application alerts the core that the calling party's recall attempt has had a call progress response indicated </p>
</td></tr>
<tr><td class="fieldname"><a id="a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd"></a>CC_FAILED&#160;</td><td class="fielddoc"><p>Entered any time that something goes wrong during the process, thus resulting in the failure of the attempted CCSS transaction. Note also that cancellations of CC are treated as failures. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00181">181</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;              {<span class="comment"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">   /*! Entered when it is determined that CCSS may be used for the call */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a>,<span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">   /*! Entered when a CCSS agent has offered CCSS to a caller */</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a>,<span class="comment"></span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">   /*! Entered when a CCSS agent confirms that a caller has</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    * requested CCSS */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>,<span class="comment"></span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">   /*! Entered when a CCSS monitor confirms acknowledgment of an</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    * outbound CCSS request */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>,<span class="comment"></span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">   /*! Entered when a CCSS monitor alerts the core that the called party</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">    * has become available */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a>,<span class="comment"></span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">   /*! Entered when a CCSS agent alerts the core that the calling party</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    * may not be recalled because he is unavailable</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a>,<span class="comment"></span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">   /*! Entered when a CCSS agent alerts the core that the calling party</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">    * is attempting to recall the called party</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a>,<span class="comment"></span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">   /*! Entered when an application alerts the core that the calling party&#39;s</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">    * recall attempt has had a call progress response indicated</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a>,<span class="comment"></span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">   /*! Entered any time that something goes wrong during the process, thus</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    * resulting in the failure of the attempted CCSS transaction. Note also</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">    * that cancellations of CC are treated as failures.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a>,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;};</div><div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00198">ccss.c:198</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00185">ccss.c:185</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00183">ccss.c:183</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00191">ccss.c:191</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00194">ccss.c:194</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00211">ccss.c:211</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00206">ccss.c:206</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00202">ccss.c:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7711f9723c81c04c807aef92a9478b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7711f9723c81c04c807aef92a9478b19">&#9670;&nbsp;</a></span>match_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8"></a>MATCH_NO_REQUEST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330"></a>MATCH_REQUEST&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00469">469</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                 {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <span class="comment">/* Only match agents that have not yet</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">    * made a CC request</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="comment">/* Only match agents that have made</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">    * a CC request</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330">MATCH_REQUEST</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;};</div><div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00473">ccss.c:473</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330">MATCH_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00477">ccss.c:477</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a93c8c152fe5019f97666b4b123eddb5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c8c152fe5019f97666b4b123eddb5d">&#9670;&nbsp;</a></span>__ast_cc_config_params_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a>* __ast_cc_config_params_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialize an <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> structure. </p>
<dl class="section note"><dt>Note</dt><dd>Reasonable default values are chosen for the parameters upon allocation.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Unable to allocate the structure </td></tr>
    <tr><td class="paramname">non-NULL</td><td>A pointer to the newly allocated and initialized structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00681">681</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01660">__ast_malloc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00676">ast_cc_default_config_params()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *params = <a class="code" href="../../d8/d8a/astmm_8h.html#a23de3e26f727701bbd3d350e43547071">__ast_malloc</a>(<span class="keyword">sizeof</span>(*params), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, <span class="keyword">function</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <span class="keywordflow">if</span> (!params) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a59b0902e07ba1de026cb801654758ef9">ast_cc_default_config_params</a>(params);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keywordflow">return</span> params;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="ccss_8c_html_a59b0902e07ba1de026cb801654758ef9"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a59b0902e07ba1de026cb801654758ef9">ast_cc_default_config_params</a></div><div class="ttdeci">void ast_cc_default_config_params(struct ast_cc_config_params *params)</div><div class="ttdoc">Set the specified CC config params to default values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00676">ccss.c:676</a></div></div>
<div class="ttc" id="astmm_8h_html_a23de3e26f727701bbd3d350e43547071"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a23de3e26f727701bbd3d350e43547071">__ast_malloc</a></div><div class="ttdeci">void * __ast_malloc(size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01660">astmm.c:1660</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04703">4703</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04703">4703</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a5aee83abadf2eed84f775d1e686a3f1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aee83abadf2eed84f775d1e686a3f1c">&#9670;&nbsp;</a></span>agent_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void agent_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02544">2544</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00693">ast_cc_config_params_destroy()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00859">ast_cc_agent::cc_params</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l01072">ast_cc_agent_callbacks::destructor</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;{</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent = data;</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;   <span class="keywordflow">if</span> (agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>) {</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;      agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#abf1e534523b828b9d7b8821d1d0e4bdb">destructor</a>(agent);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;   }</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a239279c104563561034f7988b78ae685">ast_cc_config_params_destroy</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a>);</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;}</div><div class="ttc" id="structast__cc__agent_html_ad1b63200d8c1c6e60caa69a887b9964e"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">ast_cc_agent::cc_params</a></div><div class="ttdeci">struct ast_cc_config_params * cc_params</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00859">ccss.h:859</a></div></div>
<div class="ttc" id="ccss_8c_html_a239279c104563561034f7988b78ae685"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a239279c104563561034f7988b78ae685">ast_cc_config_params_destroy</a></div><div class="ttdeci">void ast_cc_config_params_destroy(struct ast_cc_config_params *params)</div><div class="ttdoc">Free memory from CCSS configuration params. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00693">ccss.c:693</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structast__cc__agent_html"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00844">ccss.h:844</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_abf1e534523b828b9d7b8821d1d0e4bdb"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#abf1e534523b828b9d7b8821d1d0e4bdb">ast_cc_agent_callbacks::destructor</a></div><div class="ttdeci">void(* destructor)(struct ast_cc_agent *agent)</div><div class="ttdoc">Destroy private data on the agent. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l01072">ccss.h:1072</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca447e90a9b6a6d93e477f7d9bf61b96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca447e90a9b6a6d93e477f7d9bf61b96">&#9670;&nbsp;</a></span>agent_policy_to_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* agent_policy_to_str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a>&#160;</td>
          <td class="paramname"><em>policy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00728">728</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00053">AST_CC_AGENT_GENERIC</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00051">AST_CC_AGENT_NATIVE</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00049">AST_CC_AGENT_NEVER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;{</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <span class="keywordflow">switch</span> (policy) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a>:</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;never&quot;</span>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a>:</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;native&quot;</span>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>:</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;generic&quot;</span>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <span class="comment">/* This should never happen... */</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;   }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div><div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00049">ccss.h:49</a></div></div>
<div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00051">ccss.h:51</a></div></div>
<div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00053">ccss.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a037cc988c277a5a296ad1af1fb05f5a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a037cc988c277a5a296ad1af1fb05f5a4">&#9670;&nbsp;</a></span>ast_cc_agent_accept_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_accept_request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept inbound CC request. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When a caller requests CC, this function should be called to let the core know that the request has been accepted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03776">3776</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00188">CC_CALLER_REQUESTED</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28516">handle_cc_subscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;{</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;   va_list ap;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>, <a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;   va_end(ap);</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2c4d99da83b166e7faa9160ddb34296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c4d99da83b166e7faa9160ddb34296">&#9670;&nbsp;</a></span>ast_cc_agent_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a>* ast_cc_agent_callback </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da5/astobj2_8h.html#a78adb9ce06bb67dc38340c501d439d71">ao2_callback_fn</a> *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call a callback on all agents of a specific type. </p>
<p>Since the container of CC core instances is private, and so are the items which the container contains, we have to provide an ao2_callback-like method so that a specific agent may be found or so that an operation can be made on all agents of a particular type. The first three arguments should be familiar to anyone who has used ao2_callback. The final argument is the type of agent you wish to have the callback called on.</p>
<dl class="section note"><dt>Note</dt><dd>Since agents are refcounted, and this function returns a reference to the agent, it is imperative that you decrement the refcount of the agent once you have finished using it.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td><a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> search flags </td></tr>
    <tr><td class="paramname">function</td><td>an ao2 callback function to call </td></tr>
    <tr><td class="paramname">arg</td><td>the argument to the callback function </td></tr>
    <tr><td class="paramname">type</td><td>The type of agents to call the callback on </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00456">456</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01714">ao2_t_callback</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00444">cc_agent_callback_helper()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00439">cc_callback_helper::function</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01848">find_sip_cc_agent_by_notify_uri()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01878">find_sip_cc_agent_by_original_callid()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01863">find_sip_cc_agent_by_subscribe_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d03/structcc__callback__helper.html">cc_callback_helper</a> helper = {.<a class="code" href="../../d2/d03/structcc__callback__helper.html#ab9f76a5a7de35c9b687ea3a24e4932b9">function</a> = <span class="keyword">function</span>, .args = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, .type = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>};</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <span class="keywordflow">if</span> ((core_instance = <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, flags, <a class="code" href="../../d3/d5a/ccss_8c.html#add9aed8b82215b7ee6ccdc8ce4104641">cc_agent_callback_helper</a>, &amp;helper,</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;               <span class="stringliteral">&quot;Calling provided agent callback function&quot;</span>))) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent = <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>, <span class="stringliteral">&quot;An outside entity needs the agent&quot;</span>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;agent callback done with the core_instance&quot;</span>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">return</span> agent;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structcc__callback__helper_html"><div class="ttname"><a href="../../d2/d03/structcc__callback__helper.html">cc_callback_helper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00438">ccss.c:438</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structcc__callback__helper_html_ab9f76a5a7de35c9b687ea3a24e4932b9"><div class="ttname"><a href="../../d2/d03/structcc__callback__helper.html#ab9f76a5a7de35c9b687ea3a24e4932b9">cc_callback_helper::function</a></div><div class="ttdeci">ao2_callback_fn * function</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00439">ccss.c:439</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aeca960ec22a1d0384f6e285b25df8501"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a></div><div class="ttdeci">#define ao2_t_callback(c, flags, cb_fn, arg, tag)</div><div class="ttdoc">ao2_callback() is a generic function that applies cb_fn() to all objects in a container, as described below. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01714">astobj2.h:1714</a></div></div>
<div class="ttc" id="ccss_8c_html_add9aed8b82215b7ee6ccdc8ce4104641"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#add9aed8b82215b7ee6ccdc8ce4104641">cc_agent_callback_helper</a></div><div class="ttdeci">static int cc_agent_callback_helper(void *obj, void *args, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00444">ccss.c:444</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="structast__cc__agent_html"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00844">ccss.h:844</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2a5064d0e089814ba93dc2aefacdd09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2a5064d0e089814ba93dc2aefacdd09">&#9670;&nbsp;</a></span>ast_cc_agent_caller_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_caller_available </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that a previously unavailable caller has become available. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If a monitor is suspended due to a caller becoming unavailable, then this function should be called to indicate that the caller has become available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03820">3820</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00191">CC_ACTIVE</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28201">cc_esc_publish_handler()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02761">generic_agent_devstate_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;{</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;   va_list ap;</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>, <a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;   va_end(ap);</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00191">ccss.c:191</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a036830fccb99612f543bc8231f6c998f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a036830fccb99612f543bc8231f6c998f">&#9670;&nbsp;</a></span>ast_cc_agent_caller_busy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_caller_busy </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that the caller is busy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When the callee makes it known that he is available, the core will let the caller's channel driver know that it may attempt to let the caller know to attempt a recall. If the channel driver can detect, though, that the caller is busy, then the channel driver should call this function to let the CC core know.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03809">3809</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00198">CC_CALLER_BUSY</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28201">cc_esc_publish_handler()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02895">cc_generic_agent_recall()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01977">sip_cc_agent_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;{</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;   va_list ap;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a>, <a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;   va_end(ap);</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00198">ccss.c:198</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d36b7a6c430c9a9d9a773745db94354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d36b7a6c430c9a9d9a773745db94354">&#9670;&nbsp;</a></span>ast_cc_agent_recalling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_recalling </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the CC core that a caller is currently recalling. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>The main purpose of this is so that the core can alert the monitor to stop its available timer since the caller has begun its recall phase.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03831">3831</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00202">CC_RECALLING</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18508">get_destination()</a>.</p>
<div class="fragment"><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;{</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;   va_list ap;</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a>, <a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;   va_end(ap);</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00202">ccss.c:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6645437018e01782a83ada2ff4735c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6645437018e01782a83ada2ff4735c7a">&#9670;&nbsp;</a></span>ast_cc_agent_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a set of agent callbacks with the core. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>This is made so that at agent creation time, the proper callbacks may be installed and the proper .init callback may be called for the monitor to establish private data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>The callbacks used by the agent implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully registered </td></tr>
    <tr><td class="paramname">-1</td><td>Failure to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01239">1239</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01234">cc_agent_backend::callbacks</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01233">cc_agent_backend::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;{</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a> *backend = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*backend));</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   <span class="keywordflow">if</span> (!backend) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   }</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   backend-&gt;<a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a> = <a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>, backend, <a class="code" href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">next</a>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_abf8469d5339faebc8de86ee298bcc999"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">cc_agent_backend::next</a></div><div class="ttdeci">struct cc_agent_backend * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01233">ccss.c:1233</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">cc_agent_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01234">ccss.c:1234</a></div></div>
<div class="ttc" id="structcc__agent__backends_html"><div class="ttname"><a href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01237">ccss.c:1237</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structcc__agent__backend_html"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01232">ccss.c:1232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac943e39777b9c5ac58c4b4802b7347c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac943e39777b9c5ac58c4b4802b7347c6">&#9670;&nbsp;</a></span>ast_cc_agent_set_interfaces_chanvar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_set_interfaces_chanvar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the first level CC_INTERFACES channel variable for a channel. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Implementers of protocol-specific CC agents should call this function after calling ast_setup_cc_recall_datastore.</dd>
<dd>
This function will lock the channel as well as the list of monitors stored on the channel's CC recall datastore, though neither are held at the same time. Callers of this function should be aware of potential lock ordering problems that may arise.</dd></dl>
<p>The CC_INTERFACES channel variable will have the interfaces that should be called back for a specific PBX instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to set the CC_INTERFACES variable on </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03631">3631</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03588">build_cc_interfaces_chanvar()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26347">handle_request_invite()</a>.</p>
<div class="fragment"><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;{</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore;</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree;</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;   <span class="keywordtype">int</span> core_id;</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;   }</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;   <span class="keywordflow">if</span> (!(recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;   }</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;   recall_data = recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;   interface_tree = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;   core_id = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interface_tree);</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;   monitor = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(interface_tree);</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a>(monitor, &amp;str);</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_INTERFACES&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: CC_INTERFACES set to %s\n&quot;</span>,</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;         core_id, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a5cf8fc60553e1a20322b76a5405d120d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a></div><div class="ttdeci">static void build_cc_interfaces_chanvar(struct ast_cc_monitor *starting_point, struct ast_str **str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03588">ccss.c:3588</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acdc7eb3bf93834fe45f72829ff9abe16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc7eb3bf93834fe45f72829ff9abe16">&#9670;&nbsp;</a></span>ast_cc_agent_status_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_agent_status_response </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td>
          <td class="paramname"><em>devstate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Response with a caller's current status. </p>
<p>When an ISDN PTMP monitor requests the caller's status, the agent must respond to the request using this function. For simplicity it is recommended that the devstate parameter be one of AST_DEVICE_INUSE or AST_DEVICE_NOT_INUSE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID of the CC transaction </td></tr>
    <tr><td class="paramname">devstate</td><td>The current state of the caller to which the agent pertains </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully responded with our status </td></tr>
    <tr><td class="paramname">-1</td><td>Failed to respond with our status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04093">4093</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04072">cc_status_response()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04068">cc_status_response_args::core_instance</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04069">cc_status_response_args::devstate</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02743">cc_generic_agent_status_request()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01961">sip_cc_agent_status_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;{</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d57/structcc__status__response__args.html">cc_status_response_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;   args = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*args));</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;   <span class="keywordflow">if</span> (!args) {</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;   }</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;   core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;   }</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;   args-&gt;<a class="code" href="../../d8/d57/structcc__status__response__args.html#ad75ab26f830035a35504015f37a40b28">core_instance</a> = core_instance;</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;   args-&gt;<a class="code" href="../../d8/d57/structcc__status__response__args.html#a1b46e6ee7b5c070d8ec3b45f5bc49a92">devstate</a> = devstate;</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#af4946d230e74993b20fa566bf8834742">cc_status_response</a>, args);</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;   }</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="ccss_8c_html_af4946d230e74993b20fa566bf8834742"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af4946d230e74993b20fa566bf8834742">cc_status_response</a></div><div class="ttdeci">static int cc_status_response(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04072">ccss.c:4072</a></div></div>
<div class="ttc" id="structcc__status__response__args_html"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html">cc_status_response_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04067">ccss.c:4067</a></div></div>
<div class="ttc" id="structcc__status__response__args_html_ad75ab26f830035a35504015f37a40b28"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html#ad75ab26f830035a35504015f37a40b28">cc_status_response_args::core_instance</a></div><div class="ttdeci">struct cc_core_instance * core_instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04068">ccss.c:4068</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="structcc__status__response__args_html_a1b46e6ee7b5c070d8ec3b45f5bc49a92"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html#a1b46e6ee7b5c070d8ec3b45f5bc49a92">cc_status_response_args::devstate</a></div><div class="ttdeci">enum ast_device_state devstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04069">ccss.c:4069</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad888baaa4d37a6197c2712bc1756d963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad888baaa4d37a6197c2712bc1756d963">&#9670;&nbsp;</a></span>ast_cc_agent_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_agent_unregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a set of agent callbacks with the core. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If a module which makes use of a CC agent is unloaded, then it may unregister its agent callbacks with the core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>The callbacks used by the agent implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully unregistered </td></tr>
    <tr><td class="paramname">-1</td><td>Failure to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01254">1254</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01234">cc_agent_backend::callbacks</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01233">cc_agent_backend::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04623">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a> *backend;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>, backend, <a class="code" href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">next</a>) {</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="keywordflow">if</span> (backend-&gt;<a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a> == callbacks) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">next</a>);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(backend);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      }</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;   }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_abf8469d5339faebc8de86ee298bcc999"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#abf8469d5339faebc8de86ee298bcc999">cc_agent_backend::next</a></div><div class="ttdeci">struct cc_agent_backend * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01233">ccss.c:1233</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">cc_agent_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01234">ccss.c:1234</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="structcc__agent__backends_html"><div class="ttname"><a href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01237">ccss.c:1237</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structcc__agent__backend_html"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01232">ccss.c:1232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a01932a0cf8fdb65d6225199cef522cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01932a0cf8fdb65d6225199cef522cf1">&#9670;&nbsp;</a></span>ast_cc_available_timer_expire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_available_timer_expire </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scheduler callback for available timer expiration. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>When arming the available timer from within a device monitor, you MUST use this function as the callback for the scheduler.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A reference to the CC monitor on which the timer was running. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01509">1509</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03941">ast_cc_monitor_failed()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00547">ast_cc_monitor::available_timer_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02102">sip_cc_monitor_request_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;{</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a> = (<span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *) data;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">available_timer_id</a> = -1;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#ad179ffd63f6ff74454f58c58d7248368">ast_cc_monitor_failed</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, <span class="stringliteral">&quot;Available timer expired for monitor&quot;</span>);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Unref reference from scheduler\n&quot;</span>);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="ccss_8c_html_ad179ffd63f6ff74454f58c58d7248368"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad179ffd63f6ff74454f58c58d7248368">ast_cc_monitor_failed</a></div><div class="ttdeci">int ast_cc_monitor_failed(int core_id, const char *const monitor_name, const char *const debug,...)</div><div class="ttdoc">Indicate that a failure has occurred on a specific monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03941">ccss.c:3941</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad914ac9074b19cbe0c220113b3cdc65f"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">ast_cc_monitor::available_timer_id</a></div><div class="ttdeci">int available_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00547">ccss.h:547</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a950699e580ab7fc1f96db1a6608fcdf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950699e580ab7fc1f96db1a6608fcdf4">&#9670;&nbsp;</a></span>ast_cc_build_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_build_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>cc_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>monitor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a>&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a CC Control frame. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>chan_dahdi is weird. It doesn't seem to actually queue frames when it needs to tell an application something. Instead it wakes up, tells the application that it has data ready, and then based on set flags, creates the proper frame type. For chan_dahdi, we provide this function. It provides us the data we need, and we'll make its frame for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">chan</td><td>A channel involved in the call. What we want is on a datastore on both incoming and outgoing so either may be provided </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cc_params</td><td>The CC configuration parameters for the outbound target </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">monitor_type</td><td>The type of monitor to use when CC is requested </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">device_name</td><td>The name of the outbound target device. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dialstring</td><td>The dial string used when calling this specific interface </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">service</td><td>What kind of CC service is being offered. (CCBS/CCNR/etc...) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">private_data</td><td>If a native monitor is being used, and some channel-driver-specific private data has been allocated, then this parameter should contain a pointer to that data. If using a generic monitor, this parameter should remain NULL. Note that if this function should fail at some point, it is the responsibility of the caller to free the private data upon return. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">frame</td><td>The frame we will be returning to the caller. It is vital that ast_frame_free be called on this frame since the payload will be allocated on the heap. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Failure. At some point there was a failure. Do not attempt to use the frame in this case. </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04176">4176</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">AST_CONTROL_CC</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00235">AST_MALLOCD_DATA</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00175">ast_frame::mallocd</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04149">ast_queue_cc_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;{</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *payload = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*payload));</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;</div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;   <span class="keywordflow">if</span> (!payload) {</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;   }</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a>(chan, cc_params, <a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">dialstring</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>, payload)) {</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;      <span class="comment">/* Something screwed up, we can&#39;t make a frame with this */</span></div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(payload);</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;   }</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>;</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a>;</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a> = payload;</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> = <span class="keyword">sizeof</span>(*payload);</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;   frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#aed16590d48f41d89f31e0cf347f5cd99">mallocd</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a700f5f786d7e5a985387e5ce40c47a6a">AST_MALLOCD_DATA</a>;</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;}</div><div class="ttc" id="structcc__control__payload_html"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></div><div class="ttdoc">The payload for an AST_CONTROL_CC frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00222">ccss.c:222</a></div></div>
<div class="ttc" id="structcc__control__payload_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">cc_control_payload::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Private data allocated by the callee. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00257">ccss.c:257</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a700f5f786d7e5a985387e5ce40c47a6a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a700f5f786d7e5a985387e5ce40c47a6a">AST_MALLOCD_DATA</a></div><div class="ttdeci">#define AST_MALLOCD_DATA</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00235">include/asterisk/frame.h:235</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="ccss_8c_html_a7447e0ec99379a5b9fe22924166eaffa"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a></div><div class="ttdeci">static int cc_build_payload(struct ast_channel *chan, struct ast_cc_config_params *cc_params, const char *monitor_type, const char *const device_name, const char *dialstring, enum ast_cc_service_type service, void *private_data, struct cc_control_payload *payload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04121">ccss.c:4121</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">include/asterisk/frame.h:302</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a7db03a99f804d3d6a75a07b2d02ea399"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">cc_control_payload::dialstring</a></div><div class="ttdeci">char dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">Recall dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00305">ccss.c:305</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__frame_html_aed16590d48f41d89f31e0cf347f5cd99"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aed16590d48f41d89f31e0cf347f5cd99">ast_frame::mallocd</a></div><div class="ttdeci">int mallocd</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00175">include/asterisk/frame.h:175</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structcc__control__payload_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">cc_control_payload::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor to allocate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00240">ccss.c:240</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="ccss_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00383">ccss.c:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91369860e89c9870c37953794ea09718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91369860e89c9870c37953794ea09718">&#9670;&nbsp;</a></span>ast_cc_busy_interface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_busy_interface </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>inbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>cc_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>monitor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback made from ast_cc_callback for certain channel types. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inbound</td><td>Incoming asterisk channel. </td></tr>
    <tr><td class="paramname">cc_params</td><td>The CC configuration parameters for the outbound target </td></tr>
    <tr><td class="paramname">monitor_type</td><td>The type of monitor to use when CC is requested </td></tr>
    <tr><td class="paramname">device_name</td><td>The name of the outbound target device. </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dial string used when calling this specific interface </td></tr>
    <tr><td class="paramname">private_data</td><td>If a native monitor is being used, and some channel-driver-specific private data has been allocated, then this parameter should contain a pointer to that data. If using a generic monitor, this parameter should remain NULL. Note that if this function should fail at some point, it is the responsibility of the caller to free the private data upon return.</td></tr>
  </table>
  </dd>
</dl>
<p>For channel types that fail ast_request when the device is busy, we call into the channel driver with ast_cc_callback. This is the callback that is called in that case for each device found which could have been returned by ast_request.</p>
<p>This function creates a CC control frame payload, simulating the act of reading it from the nonexistent outgoing channel's frame queue. We then handle this simulated frame just as we would a normal CC frame which had actually been queued by the channel driver. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04232">4232</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00036">AST_CC_CCBS</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02216">call_destructor_with_no_monitor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;{</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> payload;</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a>(inbound, cc_params, <a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">dialstring</a>, <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>, &amp;payload)) {</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      <span class="comment">/* Something screwed up. Don&#39;t try to handle this payload */</span></div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, <a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;   }</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a>(inbound, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;payload);</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;}</div><div class="ttc" id="structcc__control__payload_html"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></div><div class="ttdoc">The payload for an AST_CONTROL_CC frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00222">ccss.c:222</a></div></div>
<div class="ttc" id="structcc__control__payload_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">cc_control_payload::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Private data allocated by the callee. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00257">ccss.c:257</a></div></div>
<div class="ttc" id="ccss_8c_html_ad39ed21a94e1c1b887370e1bb8160737"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a></div><div class="ttdeci">static void call_destructor_with_no_monitor(const char *const monitor_type, void *private_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02216">ccss.c:2216</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_a7447e0ec99379a5b9fe22924166eaffa"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a></div><div class="ttdeci">static int cc_build_payload(struct ast_channel *chan, struct ast_cc_config_params *cc_params, const char *monitor_type, const char *const device_name, const char *dialstring, enum ast_cc_service_type service, void *private_data, struct cc_control_payload *payload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04121">ccss.c:4121</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a7db03a99f804d3d6a75a07b2d02ea399"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">cc_control_payload::dialstring</a></div><div class="ttdeci">char dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">Recall dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00305">ccss.c:305</a></div></div>
<div class="ttc" id="ccss_8c_html_a2fdb7f0c8ccf479ea573a08e66693da1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a></div><div class="ttdeci">void ast_handle_cc_control_frame(struct ast_channel *inbound, struct ast_channel *outbound, void *frame_data)</div><div class="ttdoc">Properly react to a CC control frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02316">ccss.c:2316</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00036">ccss.h:36</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">cc_control_payload::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor to allocate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00240">ccss.c:240</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e72bd5c0ba81e0d0c8873f059c01723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e72bd5c0ba81e0d0c8873f059c01723">&#9670;&nbsp;</a></span>ast_cc_call_failed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_call_failed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>incoming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>outgoing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make CCBS available in the case that ast_call fails. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 In some situations, notably if a call-limit is reached in SIP, ast_call will fail due to Asterisk's knowing that the desired device is currently busy. In such a situation, CCBS should be made available to the caller.</dd></dl>
<p>One caveat is that this may only be used if generic monitoring is being used. The reason is that since Asterisk determined that the device was busy without actually placing a call to it, the far end will have no idea what call we are requesting call completion for if we were to send a call completion request. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04199">4199</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/da3/causes_8h_source.html#l00148">AST_CAUSE_BUSY</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00152">AST_CAUSE_CONGESTION</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00036">AST_CC_CCBS</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00489">AST_CC_GENERIC_MONITOR_TYPE</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00083">AST_CC_MONITOR_GENERIC</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00427">ast_channel_hangupcause()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00883">ast_get_cc_monitor_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00293">cc_control_payload::device_name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;{</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> payload;</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a>(outgoing) != <a class="code" href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a> &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a>(outgoing) != <a class="code" href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a>) {</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;      <span class="comment">/* It doesn&#39;t make sense to try to offer CCBS to the caller if the reason for ast_call</span></div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;<span class="comment">       * failing is something other than busy or congestion</span></div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;   }</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(outgoing);</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;   }</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a>(cc_params) != <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a>) {</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;      <span class="comment">/* This sort of CCBS only works if using generic CC. For native, we would end up sending</span></div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;<span class="comment">       * a CC request for a non-existent call. The far end will reject this every time</span></div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;   }</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(outgoing, device_name, <span class="keyword">sizeof</span>(device_name));</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a>(outgoing, cc_params, <a class="code" href="../../de/dc8/ccss_8h.html#a1c00e4618fa5ece215682cf02519ab55">AST_CC_GENERIC_MONITOR_TYPE</a>, device_name,</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;      dialstring, <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;payload)) {</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;      <span class="comment">/* Something screwed up, we can&#39;t make a frame with this */</span></div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;   }</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a>(incoming, outgoing, &amp;payload);</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;}</div><div class="ttc" id="structcc__control__payload_html"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></div><div class="ttdoc">The payload for an AST_CONTROL_CC frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00222">ccss.c:222</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_a7447e0ec99379a5b9fe22924166eaffa"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7447e0ec99379a5b9fe22924166eaffa">cc_build_payload</a></div><div class="ttdeci">static int cc_build_payload(struct ast_channel *chan, struct ast_cc_config_params *cc_params, const char *monitor_type, const char *const device_name, const char *dialstring, enum ast_cc_service_type service, void *private_data, struct cc_control_payload *payload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04121">ccss.c:4121</a></div></div>
<div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="ccss_8c_html_aafed4bcde7e857db88ca60471e709a55"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a></div><div class="ttdeci">enum ast_cc_monitor_policies ast_get_cc_monitor_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_monitor_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00883">ccss.c:883</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="ccss_8c_html_a2fdb7f0c8ccf479ea573a08e66693da1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2fdb7f0c8ccf479ea573a08e66693da1">ast_handle_cc_control_frame</a></div><div class="ttdeci">void ast_handle_cc_control_frame(struct ast_channel *inbound, struct ast_channel *outbound, void *frame_data)</div><div class="ttdoc">Properly react to a CC control frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02316">ccss.c:2316</a></div></div>
<div class="ttc" id="ccss_8h_html_a1c00e4618fa5ece215682cf02519ab55"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a1c00e4618fa5ece215682cf02519ab55">AST_CC_GENERIC_MONITOR_TYPE</a></div><div class="ttdeci">#define AST_CC_GENERIC_MONITOR_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00489">ccss.h:489</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00036">ccss.h:36</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00083">ccss.h:83</a></div></div>
<div class="ttc" id="channel_8h_html_aa04afa262d7e1b211ee32d17c949a275"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a></div><div class="ttdeci">int ast_channel_hangupcause(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00427">channel_internal_api.c:427</a></div></div>
<div class="ttc" id="causes_8h_html_ae009c193522491f7de7ea28b23f20868"><div class="ttname"><a href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a></div><div class="ttdeci">#define AST_CAUSE_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00148">causes.h:148</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="causes_8h_html_a0a35518d7b448a53da368cf57f354fba"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a></div><div class="ttdeci">#define AST_CAUSE_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00152">causes.h:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acd6a5b3b5af842446bcb3b37483724f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd6a5b3b5af842446bcb3b37483724f1">&#9670;&nbsp;</a></span>ast_cc_call_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_call_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ignore_cc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the CC process on a call. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>Whenever a CC-capable application, such as Dial, wishes to engage in CC activity, it initiates the process by calling this function. If the CC core should discover that a previous application has called ast_ignore_cc on this channel or a "parent" channel, then the value of the ignore_cc integer passed in will be set nonzero.</p>
<p>The ignore_cc parameter is a convenience parameter. It can save an application the trouble of trying to call CC APIs when it knows that it should just ignore further attempts at CC actions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">chan</td><td>The inbound channel calling the CC-capable application. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ignore_cc</td><td>Will be set non-zero if no further CC actions need to be taken </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">2409</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00049">AST_CC_AGENT_NEVER</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00362">ast_channel_macrocontext()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00370">ast_channel_macroexten()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00866">ast_get_cc_agent_policy()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01902">dialed_cc_interfaces::dial_parent_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00065">interfaces</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;{</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;   <span class="comment">/* There are three situations to deal with here:</span></div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="comment">    * 1. The channel does not have a dialed_cc_interfaces datastore on</span></div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="comment">    * it. This means that this is the first time that Dial has</span></div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="comment">    * been called. We need to create/initialize the datastore.</span></div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">    * 2. The channel does have a cc_interface datastore on it and</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment">    * the &quot;ignore&quot; indicator is 0. This means that a Local channel</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">    * was called by a &quot;parent&quot; dial. We can check the datastore&#39;s</span></div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="comment">    * parent field to see who the root of this particular dial tree</span></div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;<span class="comment">    * is.</span></div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<span class="comment">    * 3. The channel does have a cc_interface datastore on it and</span></div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;<span class="comment">    * the &quot;ignore&quot; indicator is 1. This means that a second Dial call</span></div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;<span class="comment">    * is being made from an extension. In this case, we do not</span></div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="comment">    * want to make any additions/modifications to the datastore. We</span></div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;<span class="comment">    * will instead set a flag to indicate that CCSS is completely</span></div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;<span class="comment">    * disabled for this Dial attempt.</span></div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_interfaces_datastore;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *<a class="code" href="../../de/da6/format_8c.html#aee2fba7980369f8155b71b5cc8d120eb">interfaces</a>;</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(chan);</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;   }</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a>(cc_params) == <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a>) {</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      <span class="comment">/* We can&#39;t offer CC to this caller anyway, so don&#39;t bother with CC on this call</span></div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      *ignore_cc = 1;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Agent policy for %s is &#39;never&#39;. CC not possible\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;   }</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;   <span class="keywordflow">if</span> (!(cc_interfaces_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      <span class="comment">/* Situation 1 has occurred */</span></div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#abf022f971019ecf7103cf5fe31c98717">cc_interfaces_datastore_init</a>(chan);</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;   }</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;   interfaces = cc_interfaces_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;   <span class="keywordflow">if</span> (interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>) {</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      <span class="comment">/* Situation 3 has occurred */</span></div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      *ignore_cc = 1;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Datastore is present with ignore flag set. Ignoring CC offers on this call\n&quot;</span>);</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;   }</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;   <span class="comment">/* Situation 2 has occurred */</span></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;   <span class="keywordflow">if</span> (!(monitor = <a class="code" href="../../d3/d5a/ccss_8c.html#ad16f4359507449ab2cf18b521d898415">cc_extension_monitor_init</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan)),</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan)), interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a>))) {</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;   }</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(monitor, <span class="stringliteral">&quot;monitor tree&#39;s reference to the monitor&quot;</span>);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, monitor, next);</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;   interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a> = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a>;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Unref monitor&#39;s allocation reference&quot;</span>);</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;}</div><div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00049">ccss.h:49</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="ccss_8c_html_ad16f4359507449ab2cf18b521d898415"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad16f4359507449ab2cf18b521d898415">cc_extension_monitor_init</a></div><div class="ttdeci">static struct ast_cc_monitor * cc_extension_monitor_init(const char *const exten, const char *const context, const unsigned int parent_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02089">ccss.c:2089</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="format_8c_html_aee2fba7980369f8155b71b5cc8d120eb"><div class="ttname"><a href="../../de/da6/format_8c.html#aee2fba7980369f8155b71b5cc8d120eb">interfaces</a></div><div class="ttdeci">static struct ao2_container * interfaces</div><div class="ttdoc">Container for registered format interfaces. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00065">format.c:65</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="ccss_8c_html_abf022f971019ecf7103cf5fe31c98717"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#abf022f971019ecf7103cf5fe31c98717">cc_interfaces_datastore_init</a></div><div class="ttdeci">static int cc_interfaces_datastore_init(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02138">ccss.c:2138</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="ccss_8c_html_a9973d81440cb95d7ca720ef1e331c5cd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies ast_get_cc_agent_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00866">ccss.c:866</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a893d185453957758607107023ba704f0"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dialed_cc_interfaces::dial_parent_id</a></div><div class="ttdeci">unsigned int dial_parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01902">ccss.c:1902</a></div></div>
<div class="ttc" id="channel_8h_html_adf593d68a333075c1fcae8a73b68c069"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a></div><div class="ttdeci">const char * ast_channel_macrocontext(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00362">channel_internal_api.c:362</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="channel_8h_html_ac967e3cfb7640aa743eb1c4811d46be0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a></div><div class="ttdeci">const char * ast_channel_macroexten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00370">channel_internal_api.c:370</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af1af698fa1f6cd07579b79380445c715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1af698fa1f6cd07579b79380445c715">&#9670;&nbsp;</a></span>ast_cc_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>inbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>tech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc8/ccss_8h.html#a3af118c4ad58da15d5b752b155e6fb1a">ast_cc_callback_fn</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run a callback for potential matching destinations. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>See the explanation in <a class="el" href="../../d4/d85/structast__channel__tech.html#a3718ac0318e0278976a45158da6fa0f2" title="Call a function with cc parameters as a function parameter. ">ast_channel_tech::cc_callback</a> for more details.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inbound</td><td></td></tr>
    <tr><td class="paramname">tech</td><td>Channel technology to use </td></tr>
    <tr><td class="paramname">dest</td><td>Channel/group/peer or whatever the specific technology uses </td></tr>
    <tr><td class="paramname">callback</td><td>Function to call when a target is reached </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Always</td><td>0, I guess. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04244">4244</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l00592">ast_get_channel_tech()</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l00828">ast_channel_tech::cc_callback</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;{</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a> *chantech = <a class="code" href="../../d5/d7b/channel_8h.html#a6fc05c8a1a68f5cd18017fc125ca2acd">ast_get_channel_tech</a>(tech);</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;   <span class="keywordflow">if</span> (chantech &amp;&amp; chantech-&gt;<a class="code" href="../../d4/d85/structast__channel__tech.html#a3718ac0318e0278976a45158da6fa0f2">cc_callback</a>) {</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;      chantech-&gt;<a class="code" href="../../d4/d85/structast__channel__tech.html#a3718ac0318e0278976a45158da6fa0f2">cc_callback</a>(inbound, dest, callback);</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;   }</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;}</div><div class="ttc" id="channel_8h_html_a6fc05c8a1a68f5cd18017fc125ca2acd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6fc05c8a1a68f5cd18017fc125ca2acd">ast_get_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_get_channel_tech(const char *name)</div><div class="ttdoc">Get a channel technology structure by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00592">channel.c:592</a></div></div>
<div class="ttc" id="structast__channel__tech_html_a3718ac0318e0278976a45158da6fa0f2"><div class="ttname"><a href="../../d4/d85/structast__channel__tech.html#a3718ac0318e0278976a45158da6fa0f2">ast_channel_tech::cc_callback</a></div><div class="ttdeci">int(* cc_callback)(struct ast_channel *inbound, const char *dest, ast_cc_callback_fn callback)</div><div class="ttdoc">Call a function with cc parameters as a function parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00828">channel.h:828</a></div></div>
<div class="ttc" id="structast__channel__tech_html"><div class="ttname"><a href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a></div><div class="ttdoc">Structure to describe a channel &quot;technology&quot;, ie a channel driver See for examples: ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00629">channel.h:629</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7519355934a0aeb6972fd450cc693aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7519355934a0aeb6972fd450cc693aac">&#9670;&nbsp;</a></span>ast_cc_completed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_completed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate recall has been acknowledged. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When we receive confirmation that an endpoint has responded to our CC recall, we call this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The inbound channel making the CC recall </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03842">3842</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00206">CC_COMPLETE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03373">cc_recall_ds_data::ignore</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03374">cc_recall_ds_data::nested</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;{</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore;</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;   va_list ap;</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;   <span class="keywordflow">if</span> (!(recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;      <span class="comment">/* Silly! Why did you call this function if there&#39;s no recall DS? */</span></div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;   }</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;   recall_data = recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;   <span class="keywordflow">if</span> (recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">nested</a> || recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>) {</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;      <span class="comment">/* If this is being called from a nested Dial, it is too</span></div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;<span class="comment">       * early to determine if the recall has actually completed.</span></div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;<span class="comment">       * The outermost dial is the only one with the authority to</span></div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;<span class="comment">       * declare the recall to be complete.</span></div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;<span class="comment">       * Similarly, if this function has been called when the</span></div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;<span class="comment">       * recall has progressed beyond the first dial, this is not</span></div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;<span class="comment">       * a legitimate time to declare the recall to be done. In fact,</span></div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;<span class="comment">       * that should have been done already.</span></div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;   }</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;   core_id = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a>, core_id, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;   va_end(ap);</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">cc_recall_ds_data::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03373">ccss.c:3373</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_abbea4ca4811183de94be9e7a206d416d"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">cc_recall_ds_data::nested</a></div><div class="ttdeci">char nested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03374">ccss.c:3374</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00206">ccss.c:206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a239279c104563561034f7988b78ae685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a239279c104563561034f7988b78ae685">&#9670;&nbsp;</a></span>ast_cc_config_params_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_config_params_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free memory from CCSS configuration params. </p>
<dl class="section note"><dt>Note</dt><dd>Just a call to ast_free for now...</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>Pointer to structure whose memory we need to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00693">693</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02544">agent_destroy()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10652">ast_channel_cc_params_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01737">cc_interface_destroy()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10640">channel_cc_params_destroy()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11150">dahdi_create_channel_range()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05569">destroy_dahdi_pvt()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17900">process_dahdi()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19642">setup_dahdi()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05309">sip_destroy_peer()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06673">sip_pvt_dtor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(params);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div><div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f6f8fffb6cf0856d5cf953c5f51b74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6f8fffb6cf0856d5cf953c5f51b74b">&#9670;&nbsp;</a></span>ast_cc_copy_config_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_copy_config_params </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copy CCSS configuration parameters from one structure to another </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>For now, this is a simple memcpy, but this function is necessary since the size of an <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> structure is unknown outside of main/ccss.c. Also, this allows for easier expansion of the function in case it becomes more complex than just a memcpy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The structure from which data is copied </td></tr>
    <tr><td class="paramname">dest</td><td>The structure to which data is copied</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00861">861</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l10652">ast_channel_cc_params_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10629">channel_cc_params_copy()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19237">check_peer_ok()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06136">create_addr_from_peer()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19326">deep_copy_dahdi_chan_conf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13266">duplicate_pseudo()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l12095">mkintf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;{</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   *dest = *src;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a59b0902e07ba1de026cb801654758ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b0902e07ba1de026cb801654758ef9">&#9670;&nbsp;</a></span>ast_cc_default_config_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_default_config_params </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the specified CC config params to default values. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>This is just like <a class="el" href="../../de/dc8/ccss_8h.html#a6f6f8fffb6cf0856d5cf953c5f51b74b" title="copy CCSS configuration parameters from one structure to another ">ast_cc_copy_config_params()</a> and could be used in place of it if you need to set the config params to defaults instead. You are simply "copying" defaults into the destination.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>CC config params to set to default values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00676">676</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00662">cc_default_params</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00681">__ast_cc_config_params_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   *params = <a class="code" href="../../d3/d5a/ccss_8c.html#a30b2b0e8999d8157d45e2c0bffdfbb01">cc_default_params</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a30b2b0e8999d8157d45e2c0bffdfbb01"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a30b2b0e8999d8157d45e2c0bffdfbb01">cc_default_params</a></div><div class="ttdeci">static const struct ast_cc_config_params cc_default_params</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00662">ccss.c:662</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa870fead699aa352308ba4da3f6502cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa870fead699aa352308ba4da3f6502cb">&#9670;&nbsp;</a></span>ast_cc_extension_monitor_add_dialstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_extension_monitor_add_dialstring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>incoming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a child dialstring to an extension monitor. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>Whenever we request a channel, the parent extension monitor needs to store the dialstring of the device requested. The reason is so that we can call the device back during the recall even if we are not monitoring the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">incoming</td><td>The caller's channel </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dialstring used when requesting the outbound channel </td></tr>
    <tr><td class="paramname">device_name</td><td>The device name associated with the requested outbound channel </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02005">2005</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01795">extension_child_dialstring::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01902">dialed_cc_interfaces::dial_parent_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01507">id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01810">extension_child_dialstring::is_valid</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01776">extension_child_dialstring::original_dialstring</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00561">ast_cc_monitor::private_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;{</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_datastore;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a> *extension_pvt;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a> *child_dialstring;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a>;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(incoming);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;   <span class="keywordflow">if</span> (!(cc_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(incoming, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(incoming);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;   }</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;   cc_interfaces = cc_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;   interface_tree = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;   <span class="keywordtype">id</span> = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a>;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(incoming);</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interface_tree);</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(interface_tree, monitor, next) {</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <span class="keywordflow">if</span> (monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a> == <span class="keywordtype">id</span>) {</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      }</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;   }</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;   <span class="keywordflow">if</span> (!monitor) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;   }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;   extension_pvt = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;   <span class="keywordflow">if</span> (!(child_dialstring = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*child_dialstring)))) {</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;   }</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">original_dialstring</a>, dialstring, <span class="keyword">sizeof</span>(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">original_dialstring</a>));</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>, device_name, <span class="keyword">sizeof</span>(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>));</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;   child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">is_valid</a> = 1;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;extension_pvt-&gt;<a class="code" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">child_dialstrings</a>, child_dialstring, next);</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html_a3ba613497814aa75f4d53254ddeaadf6"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">extension_child_dialstring::is_valid</a></div><div class="ttdeci">int is_valid</div><div class="ttdoc">Is this structure valid for use in CC_INTERFACES? </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01810">ccss.c:1810</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html_a8fa7586c63694073e8558d727401e4a0"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a></div><div class="ttdeci">struct extension_monitor_pvt::@366 child_dialstrings</div></div>
<div class="ttc" id="structextension__child__dialstring_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">extension_child_dialstring::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">The name of the device being dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01795">ccss.c:1795</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html_a74d7d247d85e9972849591e1e3866a37"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">extension_child_dialstring::original_dialstring</a></div><div class="ttdeci">char original_dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">the original dialstring used to call a particular device </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01776">ccss.c:1776</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a></div><div class="ttdoc">Data regarding an extension monitor&amp;#39;s child&amp;#39;s dialstrings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01760">ccss.c:1760</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a></div><div class="ttdoc">Private data for an extension monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01817">ccss.c:1817</a></div></div>
<div class="ttc" id="app__queue_8c_html_acd1f0e9b4730ec60f62cb0806cb06ef1"><div class="ttname"><a href="../../da/dfb/app__queue_8c.html#acd1f0e9b4730ec60f62cb0806cb06ef1">id</a></div><div class="ttdeci">enum queue_result id</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfb/app__queue_8c_source.html#l01507">app_queue.c:1507</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">ast_cc_monitor::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Data that is private to a monitor technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00561">ccss.h:561</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a893d185453957758607107023ba704f0"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dialed_cc_interfaces::dial_parent_id</a></div><div class="ttdeci">unsigned int dial_parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01902">ccss.c:1902</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad25ea527a36ed77fcba9eb1eba0b4186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25ea527a36ed77fcba9eb1eba0b4186">&#9670;&nbsp;</a></span>ast_cc_failed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_failed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate failure has occurred. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If at any point a failure occurs, this is the function to call so that the core can initiate cleanup procedures.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">3879</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00211">CC_FAILED</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03226">cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03064">cc_caller_offered()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03132">cc_caller_requested()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">cccancel_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28516">handle_cc_subscribe()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04544">kill_cores()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02691">offer_timer_expire()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">request_cc()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01905">sip_offer_timer_expire()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03193">suspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03146">unsuspend()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;{</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;   va_list ap;</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a>, core_id, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;   va_end(ap);</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00211">ccss.c:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af78031bab9c298a15d07a5f30ed0c3df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78031bab9c298a15d07a5f30ed0c3df">&#9670;&nbsp;</a></span>ast_cc_get_current_core_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_get_current_core_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the core id for the current call. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>The main use of this function is for channel drivers who queue an AST_CONTROL_CC frame. A channel driver may call this function in order to get the core_id for what may become a CC request. This way, when monitor functions are called which use a core_id as a means of identification, the channel driver will have saved this information.</p>
<p>The channel given to this function may be an inbound or outbound channel. Both will have the necessary info on it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel from which to get the core_id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_id</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02487">2487</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02322">sip_handle_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;{</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;   <span class="keywordtype">int</span> core_id_return;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;   }</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;   cc_interfaces = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;   core_id_return = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> ? -1 : cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;   <span class="keywordflow">return</span> core_id_return;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05d18d9e83ba249ca1e5f23c537f2535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d18d9e83ba249ca1e5f23c537f2535">&#9670;&nbsp;</a></span>ast_cc_get_monitor_by_recall_core_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a>* ast_cc_get_monitor_by_recall_core_id </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the associated monitor given the device name and core_id. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>The function ast_cc_is_recall is helpful for determining if a call to a specific channel is a recall. However, once you have determined that this is a recall, you will most likely need access to the private data within the associated monitor. This function is what one uses to get that monitor.</p>
<dl class="section note"><dt>Note</dt><dd>This function locks the list of monitors that correspond to the core_id passed in. Be sure that you have no potential lock order issues when calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID to which this recall corresponds. This likely will have been obtained using the ast_cc_is_recall function </td></tr>
    <tr><td class="paramname">device_name</td><td>Which device to find the monitor for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Appropriate monitor does not exist </td></tr>
    <tr><td class="paramname">non-NULL</td><td>The monitor to use for this recall </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03519">3519</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06445">sip_call()</a>.</p>
<div class="fragment"><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;{</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;   }</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;      <span class="keywordflow">if</span> (!strcmp(monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, device_name)) {</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;         <span class="comment">/* Found a monitor. */</span></div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(monitor_iter, <span class="stringliteral">&quot;Hand the requester of the monitor a reference&quot;</span>);</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;      }</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;   }</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Done with core instance ref in ast_cc_get_monitor_by_recall_core_id&quot;</span>);</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;   <span class="keywordflow">return</span> monitor_iter;</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5e7c37a42b9e313c6225b2a26bdd054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5e7c37a42b9e313c6225b2a26bdd054">&#9670;&nbsp;</a></span>ast_cc_get_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_get_param </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get a CCSS configuration parameter, given its name </p>
<dl class="section note"><dt>Note</dt><dd>Useful when reading input as a string, like from dialplan or manager.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>The CCSS configuration from which to get the value </td></tr>
    <tr><td class="paramname">name</td><td>The name of the CCSS parameter we want </td></tr>
    <tr><td class="paramname">buf</td><td>A preallocated buffer to hold the value </td></tr>
    <tr><td class="paramname">buf_len</td><td>The size of buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">759</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00728">agent_policy_to_str()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00960">ast_get_cc_agent_dialstring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00866">ast_get_cc_agent_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00994">ast_get_cc_callback_macro()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00999">ast_get_cc_callback_sub()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00974">ast_get_cc_max_agents()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00984">ast_get_cc_max_monitors()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00883">ast_get_cc_monitor_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00900">ast_get_cc_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00930">ast_get_cc_recall_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00945">ast_get_ccbs_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00915">ast_get_ccnr_available_timer()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00743">monitor_policy_to_str()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d97/func__callcompletion_8c_source.html#l00069">acf_cc_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_macro&quot;</span>)) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#a7b7a459ee48682680795c741e748c086">ast_get_cc_callback_macro</a>(params);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_sub&quot;</span>)) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#acccfe3f2b9de8a7009e02e2972ca6be5">ast_get_cc_callback_sub</a>(params);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_policy&quot;</span>)) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#aca447e90a9b6a6d93e477f7d9bf61b96">agent_policy_to_str</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a>(params));</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_monitor_policy&quot;</span>)) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#a36da7590fe51b7f5b8bc1d449381592f">monitor_policy_to_str</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a>(params));</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_dialstring&quot;</span>)) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      value = <a class="code" href="../../d3/d5a/ccss_8c.html#a46199282e56a1def66a4f406e64e1690">ast_get_cc_agent_dialstring</a>(params);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keywordflow">if</span> (value) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, value, buf_len);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   <span class="comment">/* The rest of these are all ints of some sort and require some</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">    * snprintf-itude</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_offer_timer&quot;</span>)) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a38cd4e661213322b65b7660a8b50027c">ast_get_cc_offer_timer</a>(params));</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccnr_available_timer&quot;</span>)) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a8c56a61357eecdf10b801914b367f59f">ast_get_ccnr_available_timer</a>(params));</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccbs_available_timer&quot;</span>)) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a76d377a378c28013504d3b2f4a335764">ast_get_ccbs_available_timer</a>(params));</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_agents&quot;</span>)) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a8ff8c9d10dfd21673fe3dd8177cc0769">ast_get_cc_max_agents</a>(params));</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_monitors&quot;</span>)) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a>(params));</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_recall_timer&quot;</span>)) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buf_len, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a017388f7e4b902e8caac6458e586f47a">ast_get_cc_recall_timer</a>(params));</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s is not a valid CC parameter. Ignoring.\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a8c56a61357eecdf10b801914b367f59f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c56a61357eecdf10b801914b367f59f">ast_get_ccnr_available_timer</a></div><div class="ttdeci">unsigned int ast_get_ccnr_available_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the ccnr_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00915">ccss.c:915</a></div></div>
<div class="ttc" id="ccss_8c_html_a017388f7e4b902e8caac6458e586f47a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a017388f7e4b902e8caac6458e586f47a">ast_get_cc_recall_timer</a></div><div class="ttdeci">unsigned int ast_get_cc_recall_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_recall_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00930">ccss.c:930</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="ccss_8c_html_a36da7590fe51b7f5b8bc1d449381592f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a36da7590fe51b7f5b8bc1d449381592f">monitor_policy_to_str</a></div><div class="ttdeci">static const char * monitor_policy_to_str(enum ast_cc_monitor_policies policy)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00743">ccss.c:743</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="ccss_8c_html_aafed4bcde7e857db88ca60471e709a55"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aafed4bcde7e857db88ca60471e709a55">ast_get_cc_monitor_policy</a></div><div class="ttdeci">enum ast_cc_monitor_policies ast_get_cc_monitor_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_monitor_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00883">ccss.c:883</a></div></div>
<div class="ttc" id="ccss_8c_html_a46199282e56a1def66a4f406e64e1690"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a46199282e56a1def66a4f406e64e1690">ast_get_cc_agent_dialstring</a></div><div class="ttdeci">const char * ast_get_cc_agent_dialstring(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00960">ccss.c:960</a></div></div>
<div class="ttc" id="ccss_8c_html_a7b7a459ee48682680795c741e748c086"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7b7a459ee48682680795c741e748c086">ast_get_cc_callback_macro</a></div><div class="ttdeci">const char * ast_get_cc_callback_macro(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the name of the callback_macro. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00994">ccss.c:994</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="ccss_8c_html_aca447e90a9b6a6d93e477f7d9bf61b96"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aca447e90a9b6a6d93e477f7d9bf61b96">agent_policy_to_str</a></div><div class="ttdeci">static const char * agent_policy_to_str(enum ast_cc_agent_policies policy)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00728">ccss.c:728</a></div></div>
<div class="ttc" id="ccss_8c_html_a8ff8c9d10dfd21673fe3dd8177cc0769"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8ff8c9d10dfd21673fe3dd8177cc0769">ast_get_cc_max_agents</a></div><div class="ttdeci">unsigned int ast_get_cc_max_agents(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_max_agents. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00974">ccss.c:974</a></div></div>
<div class="ttc" id="ccss_8c_html_ab3b3862d5a0cd857a5c49c3b83d9fad7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a></div><div class="ttdeci">unsigned int ast_get_cc_max_monitors(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_max_monitors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00984">ccss.c:984</a></div></div>
<div class="ttc" id="ccss_8c_html_a9973d81440cb95d7ca720ef1e331c5cd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies ast_get_cc_agent_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00866">ccss.c:866</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="ccss_8c_html_acccfe3f2b9de8a7009e02e2972ca6be5"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#acccfe3f2b9de8a7009e02e2972ca6be5">ast_get_cc_callback_sub</a></div><div class="ttdeci">const char * ast_get_cc_callback_sub(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the name of the callback subroutine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00999">ccss.c:999</a></div></div>
<div class="ttc" id="ccss_8c_html_a38cd4e661213322b65b7660a8b50027c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a38cd4e661213322b65b7660a8b50027c">ast_get_cc_offer_timer</a></div><div class="ttdeci">unsigned int ast_get_cc_offer_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_offer_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00900">ccss.c:900</a></div></div>
<div class="ttc" id="ccss_8c_html_a76d377a378c28013504d3b2f4a335764"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a76d377a378c28013504d3b2f4a335764">ast_get_ccbs_available_timer</a></div><div class="ttdeci">unsigned int ast_get_ccbs_available_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the ccbs_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00945">ccss.c:945</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af89ac9652211fbeb5b4725635c518dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89ac9652211fbeb5b4725635c518dc7">&#9670;&nbsp;</a></span>ast_cc_is_config_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_is_config_param </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this a CCSS configuration parameter? </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of configuration option being parsed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Yes, this is a CCSS configuration parameter. </td></tr>
    <tr><td class="paramname">0</td><td>No, this is not a CCSS configuration parameter. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00846">846</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17900">process_dahdi()</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <span class="keywordflow">return</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_policy&quot;</span>) ||</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_monitor_policy&quot;</span>) ||</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_offer_timer&quot;</span>) ||</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccnr_available_timer&quot;</span>) ||</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccbs_available_timer&quot;</span>) ||</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_agents&quot;</span>) ||</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_monitors&quot;</span>) ||</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_macro&quot;</span>) ||</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_sub&quot;</span>) ||</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_dialstring&quot;</span>) ||</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_recall_timer&quot;</span>));</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div><div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fd3a95509d01b9ed748148277b753f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd3a95509d01b9ed748148277b753f6">&#9670;&nbsp;</a></span>ast_cc_is_recall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_is_recall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>monitor_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decide if a call to a particular channel is a CC recall. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When a CC recall happens, it is important on the called side to know that the call is a CC recall and not a normal call. This function will determine first if the call in question is a CC recall. Then it will determine based on the chan parameter if the channel is being called is being recalled.</p>
<p>As a quick example, let's say a call is placed to SIP/1000 and SIP/1000 is currently on the phone. The caller requests CCBS. SIP/1000 finishes his call, and so the caller attempts to recall. Now, the dialplan administrator has set up this second call so that not only is SIP/1000 called, but also SIP/2000 is called. If SIP/1000's channel were passed to this function, the return value would be non-zero, but if SIP/2000's channel were passed into this function, then the return would be 0 since SIP/2000 was not one of the original devices dialed.</p>
<dl class="section note"><dt>Note</dt><dd>This function may be called on a calling channel as well to determine if it is part of a CC recall.</dd>
<dd>
This function will lock the channel as well as the list of monitors on the channel datastore, though the locks are not held at the same time. Be sure that you have no potential lock order issues here.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">chan</td><td>The channel to check </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">core_id</td><td>If this is a valid CC recall, the core_id of the failed call will be placed in this output parameter </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">monitor_type</td><td>Clarify which type of monitor type we are looking for if this is happening on a called channel. For incoming channels, this parameter is not used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Either this is not a recall or it is but this channel is not part of the recall </td></tr>
    <tr><td class="paramname">non-zero</td><td>This is a recall and the channel in question is directly involved. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03438">3438</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03373">cc_recall_ds_data::ignore</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00830">ast_cc_interface::monitor_type</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03374">cc_recall_ds_data::nested</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06445">sip_call()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;{</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore;</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree;</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;   <span class="keywordtype">char</span> device_name[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *device_monitor;</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;   <span class="keywordtype">int</span> core_id_candidate;</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;   *<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = -1;</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;   <span class="keywordflow">if</span> (!(recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;      <span class="comment">/* Obviously not a recall if the datastore isn&#39;t present */</span></div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;   }</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;   recall_data = recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;   <span class="keywordflow">if</span> (recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>) {</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      <span class="comment">/* Though this is a recall, the call to this particular interface is not part of the</span></div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;<span class="comment">       * recall either because this is a call forward or because this is not the first</span></div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;<span class="comment">       * invocation of Dial during this call</span></div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;   }</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;   <span class="keywordflow">if</span> (!recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">nested</a>) {</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;      <span class="comment">/* If the nested flag is not set, then this means that</span></div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;<span class="comment">       * the channel passed to this function is the caller making</span></div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<span class="comment">       * the recall. This means that we shouldn&#39;t look through</span></div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;<span class="comment">       * the monitor tree for the channel because it shouldn&#39;t be</span></div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;<span class="comment">       * there. However, this is a recall though, so return true.</span></div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;      *<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;   }</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(monitor_type)) {</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;      <span class="comment">/* If someone passed a NULL or empty monitor type, then it is clear</span></div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;<span class="comment">       * the channel they passed in was an incoming channel, and so searching</span></div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;<span class="comment">       * the list of dialed interfaces is not going to be helpful. Just return</span></div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;<span class="comment">       * false immediately.</span></div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;   }</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;   interface_tree = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(chan, device_name, <span class="keyword">sizeof</span>(device_name));</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;   <span class="comment">/* We grab the value of the recall_data-&gt;core_id so that we</span></div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;<span class="comment">    * can unlock the channel before we start looking through the</span></div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;<span class="comment">    * interface list. That way we don&#39;t have to worry about a possible</span></div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;<span class="comment">    * clash between the channel lock and the monitor tree lock.</span></div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;   core_id_candidate = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<span class="comment">    * Now we need to find out if the channel device name</span></div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;<span class="comment">    * is in the list of interfaces in the called tree.</span></div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interface_tree);</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(interface_tree, device_monitor, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;      <span class="keywordflow">if</span> (!strcmp(device_monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, device_name) &amp;&amp;</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;            !strcmp(device_monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, monitor_type)) {</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;         <span class="comment">/* BOOM! Device is in the tree! We have a winner! */</span></div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;         *<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = core_id_candidate;</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;      }</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;   }</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">cc_recall_ds_data::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03373">ccss.c:3373</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_abbea4ca4811183de94be9e7a206d416d"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">cc_recall_ds_data::nested</a></div><div class="ttdeci">char nested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03374">ccss.c:3374</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">ast_cc_interface::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor that should be used for this interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00830">ccss.h:830</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f831cfaba759c6073f1940c9b81e2a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f831cfaba759c6073f1940c9b81e2a9">&#9670;&nbsp;</a></span>ast_cc_monitor_callee_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_callee_available </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alert the core that a device being monitored has become available. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The code in the core will take care of making sure that the information gets passed up the ladder correctly.</dd></dl>
<dl class="section user"><dt>core_id The core ID of the corresponding CC transaction</dt><dd></dd></dl>
<dl class="section user"><dt>debug</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Request successfully queued </td></tr>
    <tr><td class="paramname">-1</td><td>Request could not be queued </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03798">3798</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00194">CC_CALLEE_READY</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01668">cc_generic_monitor_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01582">cc_generic_monitor_suspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01623">cc_generic_monitor_unsuspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01443">generic_monitor_devstate_tp_cb()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25671">handle_cc_notify()</a>.</p>
<div class="fragment"><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;{</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;   va_list ap;</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a>, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;   va_end(ap);</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00194">ccss.c:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b924db79cc74e212c0f11b978bdcacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b924db79cc74e212c0f11b978bdcacd">&#9670;&nbsp;</a></span>ast_cc_monitor_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_count </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of outstanding CC requests to a specific device. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will lock the list of monitors stored on every instance of the CC core. Callers of this function should be aware of this and avoid any potential lock ordering problems.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the monitored device </td></tr>
    <tr><td class="paramname">type</td><td>The type of the monitored device (e.g. "generic") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of CC requests for the monitor </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04368">4368</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01714">ao2_t_callback</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04345">count_monitors_cb_data::count</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04348">count_monitors_cb()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04343">count_monitors_cb_data::device_name</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04149">ast_queue_cc_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;{</div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structcount__monitors__cb__data.html">count_monitors_cb_data</a> data = {.<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a> = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, .monitor_type = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>,};</div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#ac0f45524b1f152f9566ac26739552978">count_monitors_cb</a>, &amp;data, <span class="stringliteral">&quot;Counting agents&quot;</span>);</div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Counted %d monitors\n&quot;</span>, data.<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>);</div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;   <span class="keywordflow">return</span> data.<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_ac0f45524b1f152f9566ac26739552978"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac0f45524b1f152f9566ac26739552978">count_monitors_cb</a></div><div class="ttdeci">static int count_monitors_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04348">ccss.c:4348</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count_monitors_cb_data::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04345">ccss.c:4345</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html">count_monitors_cb_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04342">ccss.c:4342</a></div></div>
<div class="ttc" id="astobj2_8h_html_aeca960ec22a1d0384f6e285b25df8501"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a></div><div class="ttdeci">#define ao2_t_callback(c, flags, cb_fn, arg, tag)</div><div class="ttdoc">ao2_callback() is a generic function that applies cb_fn() to all objects in a container, as described below. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01714">astobj2.h:1714</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html#a77c7adc4663824cee5fa2e15b9e266e7">count_monitors_cb_data::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04343">ccss.c:4343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad179ffd63f6ff74454f58c58d7248368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad179ffd63f6ff74454f58c58d7248368">&#9670;&nbsp;</a></span>ast_cc_monitor_failed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_failed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>monitor_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that a failure has occurred on a specific monitor. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If a monitor should detect that a failure has occurred when communicating with its endpoint, then ast_cc_monitor_failed should be called. The big difference between ast_cc_monitor_failed and ast_cc_failed is that ast_cc_failed indicates a global failure for a CC transaction, where as ast_cc_monitor_failed is localized to a particular monitor. When ast_cc_failed is called, the entire CC transaction is torn down. When ast_cc_monitor_failed is called, only the monitor on which the failure occurred is pruned from the tree of monitors.</p>
<p>If there are no more devices left to monitor when this function is called, then the core will fail the CC transaction globally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID for the CC transaction </td></tr>
    <tr><td class="paramname">monitor_name</td><td>The name of the monitor on which the failure occurred </td></tr>
    <tr><td class="paramname">debug</td><td>A debug message to print to the CC log </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03941">3941</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00280">ast_vasprintf</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03893">ast_cc_monitor_failure_data::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03892">ast_cc_monitor_failure_data::debug</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03891">ast_cc_monitor_failure_data::device_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01509">ast_cc_available_timer_expire()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l23870">cc_handle_publish_error()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l24618">handle_response_subscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;{</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html">ast_cc_monitor_failure_data</a> *failure_data;</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;   va_list ap;</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;   <span class="keywordflow">if</span> (!(failure_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*failure_data)))) {</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;   }</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;   <span class="keywordflow">if</span> (!(failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(monitor_name))) {</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(failure_data);</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;   }</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8a/astmm_8h.html#ac1871f9e9b3f36e1098c0d5738d405a8">ast_vasprintf</a>(&amp;failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">debug</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap) == -1) {</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;      va_end(ap);</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(failure_data);</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;   }</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;   va_end(ap);</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;   failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = <a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#af87773605020b0c0611efc9d5ecfcd6e">cc_monitor_failed</a>, failure_data);</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">debug</a>);</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(failure_data);</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;   }</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="astmm_8h_html_ac1871f9e9b3f36e1098c0d5738d405a8"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ac1871f9e9b3f36e1098c0d5738d405a8">ast_vasprintf</a></div><div class="ttdeci">#define ast_vasprintf(ret, fmt, ap)</div><div class="ttdoc">A wrapper for vasprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00280">astmm.h:280</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html">ast_cc_monitor_failure_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03890">ccss.c:3890</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a9d0f2b98cf19c569f7b3851fbff05504"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">ast_cc_monitor_failure_data::debug</a></div><div class="ttdeci">char * debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03892">ccss.c:3892</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">ast_cc_monitor_failure_data::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03891">ccss.c:3891</a></div></div>
<div class="ttc" id="ccss_8c_html_af87773605020b0c0611efc9d5ecfcd6e"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af87773605020b0c0611efc9d5ecfcd6e">cc_monitor_failed</a></div><div class="ttdeci">static int cc_monitor_failed(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03896">ccss.c:3896</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor_failure_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03893">ccss.c:3893</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1400673f64bff290fb66d7c2bd8b7830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1400673f64bff290fb66d7c2bd8b7830">&#9670;&nbsp;</a></span>ast_cc_monitor_party_b_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_party_b_free </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alert a caller that though the callee has become free, the caller himself is not and may not call back. </p>
<p>When an ISDN PTMP monitor senses that his monitored party has become available, he will request the status of the called party. If he determines that the caller is currently not available, then he will call this function so that an appropriate message is sent to the caller.</p>
<p>Yes, you just read that correctly. The callee asks the caller what his current status is, and if the caller is currently unavailable, the monitor must send him a message anyway. WTF?</p>
<p>This function results in the agent's party_b_free callback being called. It is most likely that you will not need to actually implement the party_b_free callback in an agent because it is not likely that you will need to or even want to send a caller a message indicating the callee's status if the caller himself is not also free.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID of the CC transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully alerted the core that party B is free </td></tr>
    <tr><td class="paramname">-1</td><td>Could not alert the core that party B is free </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04051">4051</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04039">cc_party_b_free()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;{</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;</div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;   }</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a9771f8cb11a1f42a852bcd698836bcff">cc_party_b_free</a>, core_instance);</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;   }</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="ccss_8c_html_a9771f8cb11a1f42a852bcd698836bcff"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9771f8cb11a1f42a852bcd698836bcff">cc_party_b_free</a></div><div class="ttdeci">static int cc_party_b_free(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04039">ccss.c:4039</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21c61c03681638d2b04390f4201e2320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c61c03681638d2b04390f4201e2320">&#9670;&nbsp;</a></span>ast_cc_monitor_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a set of monitor callbacks with the core. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>This is made so that at monitor creation time, the proper callbacks may be installed and the proper .init callback may be called for the monitor to establish private data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>The callbacks used by the monitor implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully registered </td></tr>
    <tr><td class="paramname">-1</td><td>Failure to register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01184">1184</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01179">cc_monitor_backend::callbacks</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01178">cc_monitor_backend::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;{</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a> *backend = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*backend));</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <span class="keywordflow">if</span> (!backend) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   backend-&gt;<a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a> = <a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>, backend, <a class="code" href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">next</a>);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div><div class="ttc" id="structcc__monitor__backends_html"><div class="ttname"><a href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01182">ccss.c:1182</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">cc_monitor_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01179">ccss.c:1179</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01177">ccss.c:1177</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_ac3f20f9830925e0cad86d138c6e56b72"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">cc_monitor_backend::next</a></div><div class="ttdeci">struct cc_monitor_backend * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01178">ccss.c:1178</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a64d38b6c2631ece08ca6f32620e02635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d38b6c2631ece08ca6f32620e02635">&#9670;&nbsp;</a></span>ast_cc_monitor_request_acked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_request_acked </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate that an outbound entity has accepted our CC request. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When we receive confirmation that an outbound device has accepted the CC request we sent it, this function must be called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>core_id of the CC transaction </td></tr>
    <tr><td class="paramname">debug</td><td>optional string to print for debugging purposes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03787">3787</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00191">CC_ACTIVE</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04002">cc_stop_ringing()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25671">handle_cc_notify()</a>.</p>
<div class="fragment"><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;{</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;   va_list ap;</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>, core_id, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;   va_end(ap);</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00191">ccss.c:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98e261f13321084b4ed0c1bd0d4ec70e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e261f13321084b4ed0c1bd0d4ec70e">&#9670;&nbsp;</a></span>ast_cc_monitor_status_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_status_request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the status of a caller or callers. </p>
<p>The following are all functions which are required due to the unique case where Asterisk is acting as the NT side of an ISDN PTMP connection to the caller and as the TE side of an ISDN PTMP connection to the callee. In such a case, there are several times where the PTMP monitor needs information from the agent in order to formulate the appropriate messages to send.</p>
<p>When an ISDN PTMP monitor senses that the callee has become available, it needs to know the current status of the caller in order to determine the appropriate response to send to the caller. In order to do this, the monitor calls this function. Responses will arrive asynchronously.</p>
<dl class="section note"><dt>Note</dt><dd>Zero or more responses may come as a result.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID of the CC transaction</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully requested status </td></tr>
    <tr><td class="paramname">-1</td><td>Failed to request status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03986">3986</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03976">cc_status_request()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;{</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;   }</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a214af0bfb9fbabd6b37bfaa6d7d3ff6a">cc_status_request</a>, core_instance);</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;   }</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_a214af0bfb9fbabd6b37bfaa6d7d3ff6a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a214af0bfb9fbabd6b37bfaa6d7d3ff6a">cc_status_request</a></div><div class="ttdeci">static int cc_status_request(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03976">ccss.c:3976</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ccff7da399d534b7ac4eee20fb25ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ccff7da399d534b7ac4eee20fb25ae7">&#9670;&nbsp;</a></span>ast_cc_monitor_stop_ringing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_monitor_stop_ringing </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alert a caller to stop ringing. </p>
<p>When an ISDN PTMP monitor becomes available, it is assumed that the agent will then cause the caller's phone to ring. In some cases, this is literally what happens. In other cases, it may be that the caller gets a visible indication on his phone that he may attempt to recall the callee. If multiple callers are recalled (since it may be possible to have a group of callers configured as a single party A), and one of those callers picks up his phone, then the ISDN PTMP monitor will alert the other callers to stop ringing. The agent's stop_ringing callback will be called, and it is up to the agent's driver to send an appropriate message to make his caller stop ringing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_id</td><td>The core ID of the CC transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully requested for the phone to stop ringing </td></tr>
    <tr><td class="paramname">-1</td><td>Could not request for the phone to stop ringing </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04023">4023</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04002">cc_stop_ringing()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;{</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;   }</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#abbed5486026c06296110f00326fc4688">cc_stop_ringing</a>, core_instance);</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;   }</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_abbed5486026c06296110f00326fc4688"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#abbed5486026c06296110f00326fc4688">cc_stop_ringing</a></div><div class="ttdeci">static int cc_stop_ringing(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04002">ccss.c:4002</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaefbdf8c3c2642f5ff99b3110b2b6066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaefbdf8c3c2642f5ff99b3110b2b6066">&#9670;&nbsp;</a></span>ast_cc_monitor_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_cc_monitor_unregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a set of monitor callbacks with the core. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>If a module which makes use of a CC monitor is unloaded, then it may unregister its monitor callbacks with the core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>The callbacks used by the monitor implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully unregistered </td></tr>
    <tr><td class="paramname">-1</td><td>Failure to unregister </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01217">1217</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00569">AST_RWLIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01179">cc_monitor_backend::callbacks</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01178">cc_monitor_backend::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04623">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;{</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a> *backend;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>, backend, <a class="code" href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">next</a>) {</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">if</span> (backend-&gt;<a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a> == callbacks) {</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a>(<a class="code" href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">next</a>);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(backend);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      }</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div><div class="ttc" id="structcc__monitor__backends_html"><div class="ttname"><a href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01182">ccss.c:1182</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">cc_monitor_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01179">ccss.c:1179</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01177">ccss.c:1177</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a02212548652c9eb0f3db38dc4e4bd285"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a02212548652c9eb0f3db38dc4e4bd285">AST_RWLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00569">linkedlists.h:569</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_ac3f20f9830925e0cad86d138c6e56b72"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#ac3f20f9830925e0cad86d138c6e56b72">cc_monitor_backend::next</a></div><div class="ttdeci">struct cc_monitor_backend * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01178">ccss.c:1178</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ddce85b8dc1ffed466880d7f2a92a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ddce85b8dc1ffed466880d7f2a92a2a">&#9670;&nbsp;</a></span>ast_cc_offer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_offer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller_chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Offer CC to a caller. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>This function is called from ast_hangup if the caller is eligible to be offered call completion service.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">caller_chan</td><td>The calling channel </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03751">3751</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03740">cc_offer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01925">dialed_cc_interfaces::is_original_caller</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>.</p>
<div class="fragment"><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;{</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;   <span class="keywordtype">int</span> core_id;</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;   <span class="keywordtype">char</span> cc_is_offerable;</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(caller_chan);</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(caller_chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(caller_chan);</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;   }</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;   cc_interfaces = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;   cc_is_offerable = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">is_original_caller</a>;</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;   core_id = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(caller_chan);</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;   <span class="keywordflow">if</span> (cc_is_offerable) {</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;      res = <a class="code" href="../../d3/d5a/ccss_8c.html#a40ad3f251c0aff6c8eecff9fce383158">cc_offer</a>(core_id, <span class="stringliteral">&quot;CC offered to caller %s&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(caller_chan));</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;   }</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a669c0daceb501dfa4e4117c8baa54af4"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">dialed_cc_interfaces::is_original_caller</a></div><div class="ttdeci">char is_original_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01925">ccss.c:1925</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="ccss_8c_html_a40ad3f251c0aff6c8eecff9fce383158"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a40ad3f251c0aff6c8eecff9fce383158">cc_offer</a></div><div class="ttdeci">static int cc_offer(const int core_id, const char *const debug,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03740">ccss.c:3740</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1570706dee0c4c88406d96f47f166d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1570706dee0c4c88406d96f47f166d3">&#9670;&nbsp;</a></span>ast_cc_request_is_within_limits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_request_is_within_limits </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the incoming CC request is within the bounds set by the cc_max_requests configuration option. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>It is recommended that an entity which receives an incoming CC request calls this function before calling ast_cc_agent_accept_request. This way, immediate feedback can be given to the caller about why his request was rejected.</p>
<p>If this is not called and a state change to CC_CALLER_REQUESTED is made, then the core will still not allow for the request to succeed. However, if done this way, it may not be obvious to the requestor why the request failed.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Not within the limits. Fail. </td></tr>
    <tr><td class="paramname">non-zero</td><td>Within the limits. Success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02482">2482</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00141">cc_request_count</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00137">global_cc_max_requests</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03132">cc_caller_requested()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;{</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a9ba9ea400c5348fb9283442abcdd40f8">cc_request_count</a> &lt; <a class="code" href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a>;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a4a80bcf12d1976a90ad79ba7ba07dec4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a></div><div class="ttdeci">static unsigned int global_cc_max_requests</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00137">ccss.c:137</a></div></div>
<div class="ttc" id="ccss_8c_html_a9ba9ea400c5348fb9283442abcdd40f8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9ba9ea400c5348fb9283442abcdd40f8">cc_request_count</a></div><div class="ttdeci">static int cc_request_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00141">ccss.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a81f5cfb71fc5594a6b5525e123d3a476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f5cfb71fc5594a6b5525e123d3a476">&#9670;&nbsp;</a></span>ast_cc_set_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_cc_set_param </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set a CCSS configuration parameter, given its name </p>
<dl class="section note"><dt>Note</dt><dd>Useful when parsing config files when used in conjunction with ast_ccss_is_cc_config_param.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>The parameter structure to set the value on </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cc parameter </td></tr>
    <tr><td class="paramname">value</td><td>The value of the parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">804</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00965">ast_set_cc_agent_dialstring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00871">ast_set_cc_agent_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01004">ast_set_cc_callback_macro()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01014">ast_set_cc_callback_sub()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00979">ast_set_cc_max_agents()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00989">ast_set_cc_max_monitors()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00888">ast_set_cc_monitor_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00905">ast_set_cc_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00935">ast_set_cc_recall_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00950">ast_set_ccbs_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00920">ast_set_ccnr_available_timer()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00698">str_to_agent_policy()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00712">str_to_monitor_policy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d97/func__callcompletion_8c_source.html#l00091">acf_cc_write()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17900">process_dahdi()</a>.</p>
<div class="fragment"><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value_as_uint;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_policy&quot;</span>)) {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a0548ae937919c6a5a39fedf977a68aad">ast_set_cc_agent_policy</a>(params, <a class="code" href="../../d3/d5a/ccss_8c.html#a91e5b91aa90c8e5426a1b7657f00c4bb">str_to_agent_policy</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>));</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_monitor_policy&quot;</span>)) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a936cee61a1b12185670b60b87e275247">ast_set_cc_monitor_policy</a>(params, <a class="code" href="../../d3/d5a/ccss_8c.html#a89ed8f86f1673334c9a2614ce01b2c33">str_to_monitor_policy</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>));</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_agent_dialstring&quot;</span>)) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a6818b647740d8b4db35e00d35eea051b">ast_set_cc_agent_dialstring</a>(params, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_macro&quot;</span>)) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a63ef8af3638a4314ad5b34e44fddef29">ast_set_cc_callback_macro</a>(params, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_callback_sub&quot;</span>)) {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a4e542a0dc94efc308fa4ebfb44ea1334">ast_set_cc_callback_sub</a>(params, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="keywordflow">if</span> (sscanf(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;%30u&quot;</span>, &amp;value_as_uint) != 1) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_offer_timer&quot;</span>)) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a6dfcd270d2c3a496e414254026c74037">ast_set_cc_offer_timer</a>(params, value_as_uint);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccnr_available_timer&quot;</span>)) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a8c769b1f90df2ee4cbc79464c922d9d5">ast_set_ccnr_available_timer</a>(params, value_as_uint);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;ccbs_available_timer&quot;</span>)) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a2960d62931ad8f57b39caa99a7fbde48">ast_set_ccbs_available_timer</a>(params, value_as_uint);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_agents&quot;</span>)) {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a710f0f5e8e10406417579d2a553865d4">ast_set_cc_max_agents</a>(params, value_as_uint);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_max_monitors&quot;</span>)) {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a1150342e53b603c8af4f65468a4b21ae">ast_set_cc_max_monitors</a>(params, value_as_uint);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;cc_recall_timer&quot;</span>)) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a952db7996fc34fb7c527d550ac31aa2d">ast_set_cc_recall_timer</a>(params, value_as_uint);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s is not a valid CC parameter. Ignoring.\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a4e542a0dc94efc308fa4ebfb44ea1334"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a4e542a0dc94efc308fa4ebfb44ea1334">ast_set_cc_callback_sub</a></div><div class="ttdeci">void ast_set_cc_callback_sub(struct ast_cc_config_params *config, const char *const value)</div><div class="ttdoc">Set the callback subroutine name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01014">ccss.c:1014</a></div></div>
<div class="ttc" id="ccss_8c_html_a6818b647740d8b4db35e00d35eea051b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6818b647740d8b4db35e00d35eea051b">ast_set_cc_agent_dialstring</a></div><div class="ttdeci">void ast_set_cc_agent_dialstring(struct ast_cc_config_params *config, const char *const value)</div><div class="ttdoc">Set the cc_agent_dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00965">ccss.c:965</a></div></div>
<div class="ttc" id="ccss_8c_html_a89ed8f86f1673334c9a2614ce01b2c33"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a89ed8f86f1673334c9a2614ce01b2c33">str_to_monitor_policy</a></div><div class="ttdeci">static enum ast_cc_monitor_policies str_to_monitor_policy(const char *const value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00712">ccss.c:712</a></div></div>
<div class="ttc" id="ccss_8c_html_a2960d62931ad8f57b39caa99a7fbde48"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2960d62931ad8f57b39caa99a7fbde48">ast_set_ccbs_available_timer</a></div><div class="ttdeci">void ast_set_ccbs_available_timer(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the ccbs_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00950">ccss.c:950</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="ccss_8c_html_a936cee61a1b12185670b60b87e275247"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a936cee61a1b12185670b60b87e275247">ast_set_cc_monitor_policy</a></div><div class="ttdeci">int ast_set_cc_monitor_policy(struct ast_cc_config_params *config, enum ast_cc_monitor_policies value)</div><div class="ttdoc">Set the cc_monitor_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00888">ccss.c:888</a></div></div>
<div class="ttc" id="ccss_8c_html_a1150342e53b603c8af4f65468a4b21ae"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1150342e53b603c8af4f65468a4b21ae">ast_set_cc_max_monitors</a></div><div class="ttdeci">void ast_set_cc_max_monitors(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the cc_max_monitors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00989">ccss.c:989</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="ccss_8c_html_a6dfcd270d2c3a496e414254026c74037"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6dfcd270d2c3a496e414254026c74037">ast_set_cc_offer_timer</a></div><div class="ttdeci">void ast_set_cc_offer_timer(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the cc_offer_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00905">ccss.c:905</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="ccss_8c_html_a91e5b91aa90c8e5426a1b7657f00c4bb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a91e5b91aa90c8e5426a1b7657f00c4bb">str_to_agent_policy</a></div><div class="ttdeci">static enum ast_cc_agent_policies str_to_agent_policy(const char *const value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00698">ccss.c:698</a></div></div>
<div class="ttc" id="ccss_8c_html_a8c769b1f90df2ee4cbc79464c922d9d5"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c769b1f90df2ee4cbc79464c922d9d5">ast_set_ccnr_available_timer</a></div><div class="ttdeci">void ast_set_ccnr_available_timer(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the ccnr_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00920">ccss.c:920</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="ccss_8c_html_a952db7996fc34fb7c527d550ac31aa2d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a952db7996fc34fb7c527d550ac31aa2d">ast_set_cc_recall_timer</a></div><div class="ttdeci">void ast_set_cc_recall_timer(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the cc_recall_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00935">ccss.c:935</a></div></div>
<div class="ttc" id="ccss_8c_html_a710f0f5e8e10406417579d2a553865d4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a710f0f5e8e10406417579d2a553865d4">ast_set_cc_max_agents</a></div><div class="ttdeci">void ast_set_cc_max_agents(struct ast_cc_config_params *config, unsigned int value)</div><div class="ttdoc">Set the cc_max_agents. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00979">ccss.c:979</a></div></div>
<div class="ttc" id="ccss_8c_html_a0548ae937919c6a5a39fedf977a68aad"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a0548ae937919c6a5a39fedf977a68aad">ast_set_cc_agent_policy</a></div><div class="ttdeci">int ast_set_cc_agent_policy(struct ast_cc_config_params *config, enum ast_cc_agent_policies value)</div><div class="ttdoc">Set the cc_agent_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00871">ccss.c:871</a></div></div>
<div class="ttc" id="ccss_8c_html_a63ef8af3638a4314ad5b34e44fddef29"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a63ef8af3638a4314ad5b34e44fddef29">ast_set_cc_callback_macro</a></div><div class="ttdeci">void ast_set_cc_callback_macro(struct ast_cc_config_params *config, const char *const value)</div><div class="ttdoc">Set the callback_macro name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01004">ccss.c:1004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a46199282e56a1def66a4f406e64e1690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46199282e56a1def66a4f406e64e1690">&#9670;&nbsp;</a></span>ast_get_cc_agent_dialstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_cc_agent_dialstring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_agent_dialstring. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_agent_dialstring from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_agent_dialstring from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00960">960</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00172">ast_cc_config_params::cc_agent_dialstring</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">cc_agent_dialstring</a>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_ab0be411f963b2bab84d9743de6471de4"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">ast_cc_config_params::cc_agent_dialstring</a></div><div class="ttdeci">char cc_agent_dialstring[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00172">ccss.c:172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9973d81440cb95d7ca720ef1e331c5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9973d81440cb95d7ca720ef1e331c5cd">&#9670;&nbsp;</a></span>ast_get_cc_agent_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a> ast_get_cc_agent_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_agent_policy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the policy from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current cc_agent_policy for this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00866">866</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00162">ast_cc_config_params::cc_agent_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">ast_cc_call_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01269">find_agent_callbacks()</a>.</p>
<div class="fragment"><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;{</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab9a4ee96da0929d482715d0ec0b42f14">cc_agent_policy</a>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_ab9a4ee96da0929d482715d0ec0b42f14"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ab9a4ee96da0929d482715d0ec0b42f14">ast_cc_config_params::cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies cc_agent_policy</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00162">ccss.c:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b7a459ee48682680795c741e748c086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7a459ee48682680795c741e748c086">&#9670;&nbsp;</a></span>ast_get_cc_callback_macro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_cc_callback_macro </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of the callback_macro. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the callback_macro from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The callback_macro name </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00994">994</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00170">ast_cc_config_params::cc_callback_macro</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;{</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">cc_callback_macro</a>;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a8d8d88aab95d45810b668b8ec0476cff"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">ast_cc_config_params::cc_callback_macro</a></div><div class="ttdeci">char cc_callback_macro[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00170">ccss.c:170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acccfe3f2b9de8a7009e02e2972ca6be5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acccfe3f2b9de8a7009e02e2972ca6be5">&#9670;&nbsp;</a></span>ast_get_cc_callback_sub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_cc_callback_sub </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of the callback subroutine. </p>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the callback_sub from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The callback_sub name </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00999">999</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00171">ast_cc_config_params::cc_callback_sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;{</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">cc_callback_sub</a>;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a5546bc74ce5a62ffb55979aae2a48a3d"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">ast_cc_config_params::cc_callback_sub</a></div><div class="ttdeci">char cc_callback_sub[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00171">ccss.c:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ff8c9d10dfd21673fe3dd8177cc0769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff8c9d10dfd21673fe3dd8177cc0769">&#9670;&nbsp;</a></span>ast_get_cc_max_agents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_cc_max_agents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_max_agents. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_max_agents from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_max_agents from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00974">974</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00168">ast_cc_config_params::cc_max_agents</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;{</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#aedff939baf9204c702f9cb108f5f4a5f">cc_max_agents</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_aedff939baf9204c702f9cb108f5f4a5f"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#aedff939baf9204c702f9cb108f5f4a5f">ast_cc_config_params::cc_max_agents</a></div><div class="ttdeci">unsigned int cc_max_agents</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00168">ccss.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3b3862d5a0cd857a5c49c3b83d9fad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b3862d5a0cd857a5c49c3b83d9fad7">&#9670;&nbsp;</a></span>ast_get_cc_max_monitors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_cc_max_monitors </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_max_monitors. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_max_monitors from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_max_monitors from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00984">984</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00169">ast_cc_config_params::cc_max_monitors</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04149">ast_queue_cc_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;{</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a533b914187ee30ef544de99511ff1e19">cc_max_monitors</a>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a533b914187ee30ef544de99511ff1e19"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a533b914187ee30ef544de99511ff1e19">ast_cc_config_params::cc_max_monitors</a></div><div class="ttdeci">unsigned int cc_max_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00169">ccss.c:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aafed4bcde7e857db88ca60471e709a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafed4bcde7e857db88ca60471e709a55">&#9670;&nbsp;</a></span>ast_get_cc_monitor_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a> ast_get_cc_monitor_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_monitor_policy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_monitor_policy from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_monitor_policy retrieved from the configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00883">883</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00163">ast_cc_config_params::cc_monitor_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l00987">analog_call()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04199">ast_cc_call_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13729">dahdi_cc_callback()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02322">sip_handle_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;{</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a0f68986418b60fc4d2b2022972d46c9d">cc_monitor_policy</a>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a0f68986418b60fc4d2b2022972d46c9d"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a0f68986418b60fc4d2b2022972d46c9d">ast_cc_config_params::cc_monitor_policy</a></div><div class="ttdeci">enum ast_cc_monitor_policies cc_monitor_policy</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00163">ccss.c:163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a38cd4e661213322b65b7660a8b50027c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38cd4e661213322b65b7660a8b50027c">&#9670;&nbsp;</a></span>ast_get_cc_offer_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_cc_offer_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_offer_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_offer_timer from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_offer_timer from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00900">900</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00164">ast_cc_config_params::cc_offer_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02703">cc_generic_agent_start_offer_timer()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01915">sip_cc_agent_start_offer_timer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;{</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">cc_offer_timer</a>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_abc8741c09b180fcaecdffa60da7e15e3"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">ast_cc_config_params::cc_offer_timer</a></div><div class="ttdeci">unsigned int cc_offer_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00164">ccss.c:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a017388f7e4b902e8caac6458e586f47a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a017388f7e4b902e8caac6458e586f47a">&#9670;&nbsp;</a></span>ast_get_cc_recall_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_cc_recall_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the cc_recall_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the cc_recall_timer from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cc_recall_timer from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00930">930</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00167">ast_cc_config_params::cc_recall_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;{</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">cc_recall_timer</a>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a21d3f6a9da6aa37bc402a3780b7fb370"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">ast_cc_config_params::cc_recall_timer</a></div><div class="ttdeci">unsigned int cc_recall_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00167">ccss.c:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a76d377a378c28013504d3b2f4a335764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d377a378c28013504d3b2f4a335764">&#9670;&nbsp;</a></span>ast_get_ccbs_available_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_ccbs_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ccbs_available_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the ccbs_available_timer from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ccbs_available_timer from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00945">945</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00166">ast_cc_config_params::ccbs_available_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02102">sip_cc_monitor_request_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;{</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ccbs_available_timer</a>;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_ac3958bd9f86c49b095d7509e12baa224"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ast_cc_config_params::ccbs_available_timer</a></div><div class="ttdeci">unsigned int ccbs_available_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00166">ccss.c:166</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c56a61357eecdf10b801914b367f59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c56a61357eecdf10b801914b367f59f">&#9670;&nbsp;</a></span>ast_get_ccnr_available_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_get_ccnr_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ccnr_available_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to retrieve the ccnr_available_timer from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ccnr_available_timer from this configuration </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00915">915</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00165">ast_cc_config_params::ccnr_available_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02102">sip_cc_monitor_request_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <span class="keywordflow">return</span> config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ccnr_available_timer</a>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;}</div><div class="ttc" id="structast__cc__config__params_html_a38ef5c9ac4dde551b997375a753da719"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ast_cc_config_params::ccnr_available_timer</a></div><div class="ttdeci">unsigned int ccnr_available_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00165">ccss.c:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fdb7f0c8ccf479ea573a08e66693da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fdb7f0c8ccf479ea573a08e66693da1">&#9670;&nbsp;</a></span>ast_handle_cc_control_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_handle_cc_control_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>inbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>outbound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>frame_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Properly react to a CC control frame. </p>
<p>Unless we are ignoring CC for some reason, we will always call this function when we read an AST_CONTROL_CC frame from an outbound channel.</p>
<p>This function will call cc_device_monitor_init to create the new cc_monitor for the device from which we read the frame. In addition, the new device will be added to the monitor tree on the <a class="el" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> datastore on the inbound channel.</p>
<p>If this is the first AST_CONTROL_CC frame that we have handled for this call, then we will also initialize the CC core for this call. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">2316</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">AST_CONTROL_CC</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04698">ast_indicate_data()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02216">call_destructor_with_no_monitor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01063">cc_publish_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00412">cc_service_to_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00293">cc_control_payload::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00305">cc_control_payload::dialstring</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00543">ast_cc_monitor::dialstring</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01925">dialed_cc_interfaces::is_original_caller</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00240">cc_control_payload::monitor_type</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00257">cc_control_payload::private_data</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00266">cc_control_payload::service</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04232">ast_cc_busy_interface()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04199">ast_cc_call_failed()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;{</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;   <span class="keywordtype">char</span> *device_name;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;   <span class="keywordtype">char</span> *dialstring;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_datastore;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *cc_data = frame_data;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;   device_name = cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;   dialstring = cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">dialstring</a>;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(inbound);</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;   <span class="keywordflow">if</span> (!(cc_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(inbound, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to retrieve CC datastore while processing CC frame from &#39;%s&#39;. CC services will be unavailable.\n&quot;</span>, device_name);</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;   }</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;   cc_interfaces = cc_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;   <span class="keywordflow">if</span> (cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>) {</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;   }</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;   <span class="keywordflow">if</span> (!cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">is_original_caller</a>) {</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      <span class="comment">/* If the is_original_caller is not set on the *inbound* channel, then</span></div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="comment">       * it must be a local channel. As such, we do not want to create a core instance</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="comment">       * or an agent for the local channel. Instead, we want to pass this along to the</span></div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="comment">       * other side of the local channel so that the original caller can benefit.</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aa8c3522af1bc639cbd5b38f5fdf171fa">ast_indicate_data</a>(inbound, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a>, cc_data, <span class="keyword">sizeof</span>(*cc_data));</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;   }</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;   core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a883996adb857c5c518bad2b0a968ece3">cc_core_init_instance</a>(inbound, cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>,</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;         cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, cc_data);</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;      <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;         cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> = 1;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;      }</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;   }</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(inbound);</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;   <span class="comment">/* Yeah this kind of sucks, but luckily most people</span></div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">    * aren&#39;t dialing thousands of interfaces on every call</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<span class="comment">    * This traversal helps us to not create duplicate monitors in</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="comment">    * case a device queues multiple CC control frames.</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, monitor, next) {</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;      <span class="keywordflow">if</span> (!strcmp(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, device_name)) {</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Device %s sent us multiple CC control frames. Ignoring those beyond the first.\n&quot;</span>,</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;               core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, device_name);</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Returning early from ast_handle_cc_control_frame. Unref core_instance&quot;</span>);</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      }</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;   }</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;   <span class="keywordflow">if</span> (!(monitor = <a class="code" href="../../d3/d5a/ccss_8c.html#a8524619abdbaec9e4bd6fdd84850134f">cc_device_monitor_init</a>(device_name, dialstring, cc_data, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>))) {</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create CC device interface for &#39;%s&#39;. CC services will be unavailable on this interface.\n&quot;</span>, device_name);</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Returning early from ast_handle_cc_control_frame. Unref core_instance&quot;</span>);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;   }</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(monitor, <span class="stringliteral">&quot;monitor tree&#39;s reference to the monitor&quot;</span>);</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, monitor, next);</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a>(core_instance, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, 0);</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a29b0d8cf8711086886f1a4ecbf982924">cc_publish_available</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, device_name, <a class="code" href="../../d3/d5a/ccss_8c.html#aedf564e8503a7fb86cca56e1ab9dffe0">cc_service_to_string</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>));</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Done with core_instance after handling CC control frame&quot;</span>);</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Unref reference from allocating monitor&quot;</span>);</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_aedf564e8503a7fb86cca56e1ab9dffe0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aedf564e8503a7fb86cca56e1ab9dffe0">cc_service_to_string</a></div><div class="ttdeci">static const char * cc_service_to_string(enum ast_cc_service_type service)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00412">ccss.c:412</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structcc__control__payload_html"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a></div><div class="ttdoc">The payload for an AST_CONTROL_CC frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00222">ccss.c:222</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structcc__control__payload_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">cc_control_payload::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Private data allocated by the callee. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00257">ccss.c:257</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_ad39ed21a94e1c1b887370e1bb8160737"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad39ed21a94e1c1b887370e1bb8160737">call_destructor_with_no_monitor</a></div><div class="ttdeci">static void call_destructor_with_no_monitor(const char *const monitor_type, void *private_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02216">ccss.c:2216</a></div></div>
<div class="ttc" id="channel_8h_html_aa8c3522af1bc639cbd5b38f5fdf171fa"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8c3522af1bc639cbd5b38f5fdf171fa">ast_indicate_data</a></div><div class="ttdeci">int ast_indicate_data(struct ast_channel *chan, int condition, const void *data, size_t datalen)</div><div class="ttdoc">Indicates condition of channel, with payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04698">channel.c:4698</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a29b0d8cf8711086886f1a4ecbf982924"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a29b0d8cf8711086886f1a4ecbf982924">cc_publish_available</a></div><div class="ttdeci">static void cc_publish_available(int core_id, const char *callee, const char *service)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01063">ccss.c:1063</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="ccss_8c_html_aaf2435c66b53e4ebc6b4048228533132"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a></div><div class="ttdeci">static void cc_extension_monitor_change_is_valid(struct cc_core_instance *core_instance, unsigned int parent_id, const char *const device_name, int is_valid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02050">ccss.c:2050</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="ccss_8c_html_a8524619abdbaec9e4bd6fdd84850134f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8524619abdbaec9e4bd6fdd84850134f">cc_device_monitor_init</a></div><div class="ttdeci">static struct ast_cc_monitor * cc_device_monitor_init(const char *const device_name, const char *const dialstring, const struct cc_control_payload *cc_data, int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02250">ccss.c:2250</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="ccss_8c_html_a883996adb857c5c518bad2b0a968ece3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a883996adb857c5c518bad2b0a968ece3">cc_core_init_instance</a></div><div class="ttdeci">static struct cc_core_instance * cc_core_init_instance(struct ast_channel *caller_chan, struct cc_monitor_tree *called_tree, const int core_id, struct cc_control_payload *cc_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02940">ccss.c:2940</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9855dee70443fe646113126fdf38e25a">AST_CONTROL_CC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00302">include/asterisk/frame.h:302</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a7db03a99f804d3d6a75a07b2d02ea399"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">cc_control_payload::dialstring</a></div><div class="ttdeci">char dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">Recall dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00305">ccss.c:305</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a669c0daceb501dfa4e4117c8baa54af4"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">dialed_cc_interfaces::is_original_caller</a></div><div class="ttdeci">char is_original_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01925">ccss.c:1925</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a495cc24c1947d49a2b6de488a45c9d72">cc_control_payload::service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdoc">Service offered by the endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00266">ccss.c:266</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">cc_control_payload::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor to allocate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00240">ccss.c:240</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a29bd22ae74dbfefbcb8bec022cf2f173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29bd22ae74dbfefbcb8bec022cf2f173">&#9670;&nbsp;</a></span>ast_ignore_cc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_ignore_cc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the channel to ignore further CC activity. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>When a CC-capable application, such as Dial, has finished with all CC processing for a channel and knows that any further CC processing should be ignored, this function should be called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel for which further CC processing should be ignored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03720">3720</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03373">cc_recall_ds_data::ignore</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00930">do_forward()</a>.</p>
<div class="fragment"><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;{</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_datastore;</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *cc_recall_datastore;</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_cc_data;</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;   <span class="keywordflow">if</span> ((cc_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;      cc_interfaces = cc_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;      cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> = 1;</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;   }</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;   <span class="keywordflow">if</span> ((cc_recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;      recall_cc_data = cc_recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;      recall_cc_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> = 1;</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;   }</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a98a0af0698beae3b2032cffb69d02094">cc_recall_ds_data::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03373">ccss.c:3373</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04703">4703</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="ab4d0290cd8d9087afd67cb21f1419504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d0290cd8d9087afd67cb21f1419504">&#9670;&nbsp;</a></span>ast_queue_cc_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_queue_cc_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>monitor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a>&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue an AST_CONTROL_CC frame. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Since this function calls ast_queue_frame, the channel will be locked during the course of this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel onto which to queue the frame </td></tr>
    <tr><td class="paramname">monitor_type</td><td>The type of monitor to use when CC is requested </td></tr>
    <tr><td class="paramname">dialstring</td><td>The dial string used to call the device </td></tr>
    <tr><td class="paramname">service</td><td>The type of CC service the device is willing to offer </td></tr>
    <tr><td class="paramname">private_data</td><td>If a native monitor is being used, and some channel-driver-specific private data has been allocated, then this parameter should contain a pointer to that data. If using a generic monitor, this parameter should remain NULL. Note that if this function should fail at some point, it is the responsibility of the caller to free the private data upon return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04149">4149</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04176">ast_cc_build_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04368">ast_cc_monitor_count()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00984">ast_get_cc_max_monitors()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01139">ast_queue_frame()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, and <a class="el" href="../../db/d37/hsearch_8c_source.html#l00050">retval</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l00987">analog_call()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02322">sip_handle_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;{</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> frame = {0,};</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;   <span class="keywordtype">char</span> device_name[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a>;</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;</div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(chan);</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;   }</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(chan, device_name, <span class="keyword">sizeof</span>(device_name));</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a8b924db79cc74e212c0f11b978bdcacd">ast_cc_monitor_count</a>(device_name, monitor_type) &gt;= <a class="code" href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a>(cc_params)) {</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Not queuing a CC frame for device %s since it already has its maximum monitors allocated\n&quot;</span>, device_name);</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;   }</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a950699e580ab7fc1f96db1a6608fcdf4">ast_cc_build_frame</a>(chan, cc_params, monitor_type, device_name, dialstring, <a class="code" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, private_data, &amp;frame)) {</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;      <span class="comment">/* Frame building failed. We can&#39;t use this. */</span></div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;   }</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;   retval = <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(chan, &amp;frame);</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;   <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(&amp;frame);</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a>;</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;}</div><div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a6cbcba5661d55216968cde8fdf913c89"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a></div><div class="ttdeci">int ast_queue_frame(struct ast_channel *chan, struct ast_frame *f)</div><div class="ttdoc">Queue one or more frames to a channel&amp;#39;s frame queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01139">channel.c:1139</a></div></div>
<div class="ttc" id="ccss_8c_html_a950699e580ab7fc1f96db1a6608fcdf4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a950699e580ab7fc1f96db1a6608fcdf4">ast_cc_build_frame</a></div><div class="ttdeci">int ast_cc_build_frame(struct ast_channel *chan, struct ast_cc_config_params *cc_params, const char *monitor_type, const char *const device_name, const char *const dialstring, enum ast_cc_service_type service, void *private_data, struct ast_frame *frame)</div><div class="ttdoc">Create a CC Control frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04176">ccss.c:4176</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="ccss_8c_html_ab3b3862d5a0cd857a5c49c3b83d9fad7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ab3b3862d5a0cd857a5c49c3b83d9fad7">ast_get_cc_max_monitors</a></div><div class="ttdeci">unsigned int ast_get_cc_max_monitors(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_max_monitors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00984">ccss.c:984</a></div></div>
<div class="ttc" id="hsearch_8c_html_ad0f0f85b3cab490a81baa02c4b9edf45"><div class="ttname"><a href="../../db/d37/hsearch_8c.html#ad0f0f85b3cab490a81baa02c4b9edf45">retval</a></div><div class="ttdeci">static ENTRY retval</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d37/hsearch_8c_source.html#l00050">hsearch.c:50</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="ccss_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00383">ccss.c:383</a></div></div>
<div class="ttc" id="ccss_8c_html_a8b924db79cc74e212c0f11b978bdcacd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8b924db79cc74e212c0f11b978bdcacd">ast_cc_monitor_count</a></div><div class="ttdeci">int ast_cc_monitor_count(const char *const name, const char *const type)</div><div class="ttdoc">Return the number of outstanding CC requests to a specific device. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04368">ccss.c:4368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6818b647740d8b4db35e00d35eea051b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6818b647740d8b4db35e00d35eea051b">&#9670;&nbsp;</a></span>ast_set_cc_agent_dialstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_agent_dialstring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_agent_dialstring. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_agent_dialstring on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_agent_dialstring we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00965">965</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00172">ast_cc_config_params::cc_agent_dialstring</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;{</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">cc_agent_dialstring</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">cc_agent_dialstring</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="keyword">sizeof</span>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">cc_agent_dialstring</a>));</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_ab0be411f963b2bab84d9743de6471de4"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ab0be411f963b2bab84d9743de6471de4">ast_cc_config_params::cc_agent_dialstring</a></div><div class="ttdeci">char cc_agent_dialstring[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00172">ccss.c:172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0548ae937919c6a5a39fedf977a68aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0548ae937919c6a5a39fedf977a68aad">&#9670;&nbsp;</a></span>ast_set_cc_agent_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_set_cc_agent_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_agent_policy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_agent_policy on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_agent_policy we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure (likely due to bad input) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00871">871</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00053">AST_CC_AGENT_GENERIC</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00162">ast_cc_config_params::cc_agent_policy</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;{</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <span class="comment">/* Screw C and its weak type checking for making me have to do this</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">    * validation at runtime.</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="keywordflow">if</span> (value &lt; AST_CC_AGENT_NEVER || value &gt; <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ab9a4ee96da0929d482715d0ec0b42f14">cc_agent_policy</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div><div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00053">ccss.h:53</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_ab9a4ee96da0929d482715d0ec0b42f14"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ab9a4ee96da0929d482715d0ec0b42f14">ast_cc_config_params::cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies cc_agent_policy</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00162">ccss.c:162</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63ef8af3638a4314ad5b34e44fddef29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63ef8af3638a4314ad5b34e44fddef29">&#9670;&nbsp;</a></span>ast_set_cc_callback_macro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_callback_macro </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the callback_macro name. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the callback_macro on </td></tr>
    <tr><td class="paramname">value</td><td>The new callback macro we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01004">1004</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00170">ast_cc_config_params::cc_callback_macro</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;{</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Usage of cc_callback_macro is deprecated.  Please use cc_callback_sub instead.\n&quot;</span>);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) {</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">cc_callback_macro</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">cc_callback_macro</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="keyword">sizeof</span>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">cc_callback_macro</a>));</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a8d8d88aab95d45810b668b8ec0476cff"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a8d8d88aab95d45810b668b8ec0476cff">ast_cc_config_params::cc_callback_macro</a></div><div class="ttdeci">char cc_callback_macro[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00170">ccss.c:170</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e542a0dc94efc308fa4ebfb44ea1334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e542a0dc94efc308fa4ebfb44ea1334">&#9670;&nbsp;</a></span>ast_set_cc_callback_sub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_callback_sub </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the callback subroutine name. </p>
<dl class="section since"><dt>Since</dt><dd>11 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the callback_sub on </td></tr>
    <tr><td class="paramname">value</td><td>The new callback subroutine we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01014">1014</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00171">ast_cc_config_params::cc_callback_sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;{</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">cc_callback_sub</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">cc_callback_sub</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="keyword">sizeof</span>(config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">cc_callback_sub</a>));</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   }</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a5546bc74ce5a62ffb55979aae2a48a3d"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a5546bc74ce5a62ffb55979aae2a48a3d">ast_cc_config_params::cc_callback_sub</a></div><div class="ttdeci">char cc_callback_sub[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00171">ccss.c:171</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96b06671059cd5d6600917d1c028452f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b06671059cd5d6600917d1c028452f">&#9670;&nbsp;</a></span>ast_set_cc_interfaces_chanvar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_set_cc_interfaces_chanvar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>extension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the CC_INTERFACES channel variable for a channel using an. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 <pre class="fragment">extension@context </pre> as a starting point</dd></dl>
<p>The CC_INTERFACES channel variable will have the interfaces that should be called back for a specific PBX instance. This version of the function is used mainly by local channels, wherein we need to set CC_INTERFACES based on an extension and context that appear in the middle of the tree of dialed interfaces.</p>
<dl class="section note"><dt>Note</dt><dd>This function will lock the channel as well as the list of monitors stored on the channel's CC recall datastore, though neither are held at the same time. Callers of this function should be aware of potential lock ordering problems that may arise.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to set the CC_INTERFACES variable on </td></tr>
    <tr><td class="paramname">extension</td><td>The name of the extension for which we're setting the variable. This should be in the form of<pre class="fragment">exten@context </pre> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03668">3668</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03588">build_cc_interfaces_chanvar()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d47/core__local_8c_source.html#l00677">local_call()</a>.</p>
<div class="fragment"><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;{</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore;</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *interface_tree;</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;   <span class="keywordtype">int</span> core_id;</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;   }</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;   <span class="keywordflow">if</span> (!(recall_datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;   }</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;   recall_data = recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;   interface_tree = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;   core_id = recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(interface_tree);</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(interface_tree, monitor_iter, next) {</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;      <span class="keywordflow">if</span> (!strcmp(monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, <a class="code" href="../../d0/d5a/structextension.html">extension</a>)) {</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;      }</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;   }</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;   <span class="keywordflow">if</span> (!monitor_iter) {</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;      <span class="comment">/* We couldn&#39;t find this extension. This may be because</span></div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;<span class="comment">       * we have been directed into an unexpected extension because</span></div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="comment">       * the admin has changed a CC_INTERFACES variable at some point.</span></div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;   }</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a>(monitor_iter, &amp;str);</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(interface_tree);</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_INTERFACES&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: CC_INTERFACES set to %s\n&quot;</span>,</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;         core_id, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a5cf8fc60553e1a20322b76a5405d120d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5cf8fc60553e1a20322b76a5405d120d">build_cc_interfaces_chanvar</a></div><div class="ttdeci">static void build_cc_interfaces_chanvar(struct ast_cc_monitor *starting_point, struct ast_str **str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03588">ccss.c:3588</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a710f0f5e8e10406417579d2a553865d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710f0f5e8e10406417579d2a553865d4">&#9670;&nbsp;</a></span>ast_set_cc_max_agents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_max_agents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_max_agents. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_max_agents on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_max_agents we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00979">979</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00168">ast_cc_config_params::cc_max_agents</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#aedff939baf9204c702f9cb108f5f4a5f">cc_max_agents</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_aedff939baf9204c702f9cb108f5f4a5f"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#aedff939baf9204c702f9cb108f5f4a5f">ast_cc_config_params::cc_max_agents</a></div><div class="ttdeci">unsigned int cc_max_agents</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00168">ccss.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1150342e53b603c8af4f65468a4b21ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1150342e53b603c8af4f65468a4b21ae">&#9670;&nbsp;</a></span>ast_set_cc_max_monitors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_max_monitors </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_max_monitors. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_max_monitors on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_max_monitors we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00989">989</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00169">ast_cc_config_params::cc_max_monitors</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;{</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a533b914187ee30ef544de99511ff1e19">cc_max_monitors</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a533b914187ee30ef544de99511ff1e19"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a533b914187ee30ef544de99511ff1e19">ast_cc_config_params::cc_max_monitors</a></div><div class="ttdeci">unsigned int cc_max_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00169">ccss.c:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a936cee61a1b12185670b60b87e275247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936cee61a1b12185670b60b87e275247">&#9670;&nbsp;</a></span>ast_set_cc_monitor_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_set_cc_monitor_policy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_monitor_policy. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_monitor_policy on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_monitor_policy we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure (likely due to bad input) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00888">888</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00087">AST_CC_MONITOR_ALWAYS</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00163">ast_cc_config_params::cc_monitor_policy</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;{</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <span class="comment">/* Screw C and its weak type checking for making me have to do this</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">    * validation at runtime.</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="keywordflow">if</span> (value &lt; AST_CC_MONITOR_NEVER || value &gt; <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a>) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a0f68986418b60fc4d2b2022972d46c9d">cc_monitor_policy</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00087">ccss.h:87</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a0f68986418b60fc4d2b2022972d46c9d"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a0f68986418b60fc4d2b2022972d46c9d">ast_cc_config_params::cc_monitor_policy</a></div><div class="ttdeci">enum ast_cc_monitor_policies cc_monitor_policy</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00163">ccss.c:163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6dfcd270d2c3a496e414254026c74037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dfcd270d2c3a496e414254026c74037">&#9670;&nbsp;</a></span>ast_set_cc_offer_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_offer_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_offer_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_offer_timer on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_offer_timer we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00905">905</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00164">ast_cc_config_params::cc_offer_timer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;{</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <span class="comment">/* 0 is an unreasonable value for any timer. Stick with the default */</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == 0) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;0 is an invalid value for cc_offer_timer. Retaining value as %u\n&quot;</span>, config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">cc_offer_timer</a>);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">cc_offer_timer</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_abc8741c09b180fcaecdffa60da7e15e3"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">ast_cc_config_params::cc_offer_timer</a></div><div class="ttdeci">unsigned int cc_offer_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00164">ccss.c:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a952db7996fc34fb7c527d550ac31aa2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952db7996fc34fb7c527d550ac31aa2d">&#9670;&nbsp;</a></span>ast_set_cc_recall_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_cc_recall_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cc_recall_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the cc_recall_timer on </td></tr>
    <tr><td class="paramname">value</td><td>The new cc_recall_timer we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00935">935</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00167">ast_cc_config_params::cc_recall_timer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;{</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   <span class="comment">/* 0 is an unreasonable value for any timer. Stick with the default */</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == 0) {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;0 is an invalid value for ccnr_available_timer. Retaining value as %u\n&quot;</span>, config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">cc_recall_timer</a>);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   }</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">cc_recall_timer</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a21d3f6a9da6aa37bc402a3780b7fb370"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a21d3f6a9da6aa37bc402a3780b7fb370">ast_cc_config_params::cc_recall_timer</a></div><div class="ttdeci">unsigned int cc_recall_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00167">ccss.c:167</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2960d62931ad8f57b39caa99a7fbde48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2960d62931ad8f57b39caa99a7fbde48">&#9670;&nbsp;</a></span>ast_set_ccbs_available_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_ccbs_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ccbs_available_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the ccbs_available_timer on </td></tr>
    <tr><td class="paramname">value</td><td>The new ccbs_available_timer we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00950">950</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00166">ast_cc_config_params::ccbs_available_timer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;{</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <span class="comment">/* 0 is an unreasonable value for any timer. Stick with the default */</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == 0) {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;0 is an invalid value for ccbs_available_timer. Retaining value as %u\n&quot;</span>, config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ccbs_available_timer</a>);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ccbs_available_timer</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_ac3958bd9f86c49b095d7509e12baa224"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#ac3958bd9f86c49b095d7509e12baa224">ast_cc_config_params::ccbs_available_timer</a></div><div class="ttdeci">unsigned int ccbs_available_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00166">ccss.c:166</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c769b1f90df2ee4cbc79464c922d9d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c769b1f90df2ee4cbc79464c922d9d5">&#9670;&nbsp;</a></span>ast_set_ccnr_available_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_set_ccnr_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ccnr_available_timer. </p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration to set the ccnr_available_timer on </td></tr>
    <tr><td class="paramname">value</td><td>The new ccnr_available_timer we want to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00920">920</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00165">ast_cc_config_params::ccnr_available_timer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="comment">/* 0 is an unreasonable value for any timer. Stick with the default */</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == 0) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;0 is an invalid value for ccnr_available_timer. Retaining value as %u\n&quot;</span>, config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ccnr_available_timer</a>);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   config-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ccnr_available_timer</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_a38ef5c9ac4dde551b997375a753da719"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#a38ef5c9ac4dde551b997375a753da719">ast_cc_config_params::ccnr_available_timer</a></div><div class="ttdeci">unsigned int ccnr_available_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00165">ccss.c:165</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d7883a7ab60e13e2697fccb74ed5d8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7883a7ab60e13e2697fccb74ed5d8d">&#9670;&nbsp;</a></span>ast_setup_cc_recall_datastore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_setup_cc_recall_datastore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up a CC recall datastore on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>1.8</dd></dl>
<p>Implementers of protocol-specific CC agents will need to call this function in order for the channel to have the necessary interfaces to recall.</p>
<p>This function must be called by the implementer once it has been detected that an inbound call is a cc_recall. After allocating the channel, call this function, followed by ast_cc_set_cc_interfaces_chanvar. While it would be nice to be able to have the core do this automatically, it just cannot be done given the current architecture. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03405">3405</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00193">DATASTORE_INHERIT_FOREVER</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00073">ast_datastore::inheritance</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26347">handle_request_invite()</a>.</p>
<div class="fragment"><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;{</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *recall_datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data;</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;   <span class="keywordflow">if</span> (!recall_datastore) {</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;   }</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;   <span class="keywordflow">if</span> (!(recall_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*recall_data)))) {</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(recall_datastore);</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;   }</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;   <span class="keywordflow">if</span> (!(core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>))) {</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(recall_data);</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(recall_datastore);</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;   }</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;   recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>,</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;         <span class="stringliteral">&quot;Bump refcount for monitor tree for recall datastore&quot;</span>);</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;   recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = <a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;   recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = recall_data;</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;   recall_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">inheritance</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a>;</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, recall_datastore);</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Recall datastore set up. No need for core_instance ref&quot;</span>);</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_a010707a1d95ff32920705c9320a94bcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a010707a1d95ff32920705c9320a94bcb">recall_ds_info</a></div><div class="ttdeci">static const struct ast_datastore_info recall_ds_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03399">ccss.c:3399</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="channel_8h_html_a3a32e3014998d0066281c4dd8e278ae9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a></div><div class="ttdeci">#define DATASTORE_INHERIT_FOREVER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00193">channel.h:193</a></div></div>
<div class="ttc" id="structast__datastore_html_a79d869daa2e63a92b3e5f542446031bb"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">ast_datastore::inheritance</a></div><div class="ttdeci">unsigned int inheritance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00073">datastore.h:73</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cf8fc60553e1a20322b76a5405d120d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf8fc60553e1a20322b76a5405d120d">&#9670;&nbsp;</a></span>build_cc_interfaces_chanvar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void build_cc_interfaces_chanvar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td>
          <td class="paramname"><em>starting_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03588">3588</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00438">AST_LIST_NEXT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00688">ast_str_strlen()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00738">ast_str_truncate()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03558">cc_unique_append()</a>, <a class="el" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00543">ast_cc_monitor::dialstring</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01810">extension_child_dialstring::is_valid</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01776">extension_child_dialstring::original_dialstring</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00561">ast_cc_monitor::private_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03631">ast_cc_agent_set_interfaces_chanvar()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03668">ast_set_cc_interfaces_chanvar()</a>.</p>
<div class="fragment"><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;{</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a> *extension_pvt;</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a> *child_dialstring;</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter = starting_point;</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;   <span class="keywordtype">int</span> top_level_id = starting_point-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a>;</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;   <span class="keywordtype">size_t</span> length;</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;   <span class="comment">/* Init to an empty string. */</span></div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a0b9c195ff2235f7670358e1e37cf6b8d">ast_str_truncate</a>(*str, 0);</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;   <span class="comment">/* First we need to take all of the is_valid child_dialstrings from</span></div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;<span class="comment">    * the extension monitor we found and add them to the CC_INTERFACES</span></div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;<span class="comment">    * chanvar</span></div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;   extension_pvt = starting_point-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;extension_pvt-&gt;<a class="code" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">child_dialstrings</a>, child_dialstring, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;      <span class="keywordflow">if</span> (child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">is_valid</a>) {</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#ac6f1d4f0682249ce5393d830e4bddf34">cc_unique_append</a>(str, child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">original_dialstring</a>);</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;      }</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;   }</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;   <span class="comment">/* And now we get the dialstrings from each of the device monitors */</span></div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;   <span class="keywordflow">while</span> ((monitor_iter = <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>))) {</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;      <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a> == top_level_id) {</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#ac6f1d4f0682249ce5393d830e4bddf34">cc_unique_append</a>(str, monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#af0a8d5de868993a2a520db6a9ef72a75">dialstring</a>);</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;      }</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;   }</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;   <span class="comment">/* str will have an extra &#39;&amp;&#39; tacked onto the end of it, so we need</span></div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;<span class="comment">    * to get rid of that.</span></div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;   length = <a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(*str);</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;   <span class="keywordflow">if</span> (length) {</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a0b9c195ff2235f7670358e1e37cf6b8d">ast_str_truncate</a>(*str, length - 1);</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;   }</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;   <span class="keywordflow">if</span> (length &lt;= 1) {</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;      <span class="comment">/* Nothing to recall?  This should not happen. */</span></div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;CC_INTERFACES is empty. starting device_name:&#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;         starting_point-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;   }</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;}</div><div class="ttc" id="ccss_8c_html_ac6f1d4f0682249ce5393d830e4bddf34"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac6f1d4f0682249ce5393d830e4bddf34">cc_unique_append</a></div><div class="ttdeci">static void cc_unique_append(struct ast_str **str, const char *dialstring)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03558">ccss.c:3558</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html_a3ba613497814aa75f4d53254ddeaadf6"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">extension_child_dialstring::is_valid</a></div><div class="ttdeci">int is_valid</div><div class="ttdoc">Is this structure valid for use in CC_INTERFACES? </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01810">ccss.c:1810</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="strings_8h_html_a0b9c195ff2235f7670358e1e37cf6b8d"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a0b9c195ff2235f7670358e1e37cf6b8d">ast_str_truncate</a></div><div class="ttdeci">char * ast_str_truncate(struct ast_str *buf, ssize_t len)</div><div class="ttdoc">Truncates the enclosed string to the given length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00738">strings.h:738</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html_a8fa7586c63694073e8558d727401e4a0"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a></div><div class="ttdeci">struct extension_monitor_pvt::@366 child_dialstrings</div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_af0a8d5de868993a2a520db6a9ef72a75"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#af0a8d5de868993a2a520db6a9ef72a75">ast_cc_monitor::dialstring</a></div><div class="ttdeci">char * dialstring</div><div class="ttdoc">Name that should be used to recall specified interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00543">ccss.h:543</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html_a74d7d247d85e9972849591e1e3866a37"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a74d7d247d85e9972849591e1e3866a37">extension_child_dialstring::original_dialstring</a></div><div class="ttdeci">char original_dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">the original dialstring used to call a particular device </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01776">ccss.c:1776</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a></div><div class="ttdoc">Data regarding an extension monitor&amp;#39;s child&amp;#39;s dialstrings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01760">ccss.c:1760</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a></div><div class="ttdoc">Private data for an extension monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01817">ccss.c:1817</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">ast_cc_monitor::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Data that is private to a monitor technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00561">ccss.h:561</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad39ed21a94e1c1b887370e1bb8160737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad39ed21a94e1c1b887370e1bb8160737">&#9670;&nbsp;</a></span>call_destructor_with_no_monitor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void call_destructor_with_no_monitor </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>monitor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02216">2216</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00668">ast_cc_monitor_callbacks::destructor</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01200">find_monitor_callbacks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04232">ast_cc_busy_interface()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;{</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *monitor_callbacks = <a class="code" href="../../d3/d5a/ccss_8c.html#ae560ec7b0f950b1bfc0f5effc28e32d7">find_monitor_callbacks</a>(monitor_type);</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;   <span class="keywordflow">if</span> (!monitor_callbacks) {</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;   }</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;   monitor_callbacks-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a51fe00e94e3c89a1cf6316730167fd00">destructor</a>(private_data);</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;}</div><div class="ttc" id="ccss_8c_html_ae560ec7b0f950b1bfc0f5effc28e32d7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ae560ec7b0f950b1bfc0f5effc28e32d7">find_monitor_callbacks</a></div><div class="ttdeci">static const struct ast_cc_monitor_callbacks * find_monitor_callbacks(const char *const type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01200">ccss.c:1200</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_a51fe00e94e3c89a1cf6316730167fd00"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#a51fe00e94e3c89a1cf6316730167fd00">ast_cc_monitor_callbacks::destructor</a></div><div class="ttdeci">void(* destructor)(void *private_data)</div><div class="ttdoc">Destroy private data on the monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00668">ccss.h:668</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a></div><div class="ttdoc">Callbacks defined by CC monitors. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00576">ccss.h:576</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ac189b78872a8a86cb2e3eb42f3ebc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac189b78872a8a86cb2e3eb42f3ebc7">&#9670;&nbsp;</a></span>cancel_available_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cancel_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03226">3226</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00547">ast_cc_monitor::available_timer_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00657">ast_cc_monitor_callbacks::cancel_available_timer</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03093">has_device_monitors()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03248">cc_recalling()</a>.</p>
<div class="fragment"><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;{</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>) {</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;         <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a4c8e36220d9443cf53fd01c5b690a2f3">cancel_available_timer</a>(monitor_iter, &amp;monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">available_timer_id</a>)) {</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>);</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a>(core_instance, monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>,</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                  monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, 1);</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor_iter, <span class="stringliteral">&quot;cancel_available_timer failed. Unref list&#39;s reference to monitor&quot;</span>);</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;         }</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;      }</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;   }</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a>(core_instance)) {</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;All device monitors failed to cancel their available timers&quot;</span>);</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;   }</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_a4c8e36220d9443cf53fd01c5b690a2f3"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#a4c8e36220d9443cf53fd01c5b690a2f3">ast_cc_monitor_callbacks::cancel_available_timer</a></div><div class="ttdeci">int(* cancel_available_timer)(struct ast_cc_monitor *monitor, int *sched_id)</div><div class="ttdoc">Cancel the running available timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00657">ccss.h:657</a></div></div>
<div class="ttc" id="ccss_8c_html_aaf2435c66b53e4ebc6b4048228533132"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a></div><div class="ttdeci">static void cc_extension_monitor_change_is_valid(struct cc_core_instance *core_instance, unsigned int parent_id, const char *const device_name, int is_valid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02050">ccss.c:2050</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad914ac9074b19cbe0c220113b3cdc65f"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">ast_cc_monitor::available_timer_id</a></div><div class="ttdeci">int available_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00547">ccss.h:547</a></div></div>
<div class="ttc" id="ccss_8c_html_aa60dcba0563e29185a0d65f428dadb48"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a></div><div class="ttdeci">static int has_device_monitors(struct cc_core_instance *core_instance)</div><div class="ttdoc">check if the core instance has any device monitors </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03093">ccss.c:3093</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa07bd28b970d03e8542d2d23d1e2bc82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa07bd28b970d03e8542d2d23d1e2bc82">&#9670;&nbsp;</a></span>cc_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03168">3168</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00880">AST_CC_AGENT_RESPONSE_SUCCESS</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00198">CC_CALLER_BUSY</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00188">CC_CALLER_REQUESTED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01110">cc_publish_callerstopmonitoring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01099">cc_publish_requestacknowledged()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00965">ast_cc_agent_callbacks::respond</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03146">unsuspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;{</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;   <span class="comment">/* Either</span></div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;<span class="comment">    * 1. Callee accepted CC request, call agent&#39;s ack callback.</span></div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;<span class="comment">    * 2. Caller became available, call agent&#39;s stop_monitoring callback and</span></div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;<span class="comment">    *    call monitor&#39;s unsuspend callback.</span></div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;   <span class="keywordflow">if</span> (previous_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>) {</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">respond</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>,</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;         <a class="code" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa2c35ce5050e874998baefd43036f10f4">AST_CC_AGENT_RESPONSE_SUCCESS</a>);</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a054cb70a3268c7442fabf9f985215afd">cc_publish_requestacknowledged</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (previous_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a>) {</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a284dfdf44081392c457d5672df13e2a8">cc_publish_callerstopmonitoring</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a25d16f7567f92f89969ead967d740b41">unsuspend</a>(core_instance);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;   }</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;   <span class="comment">/* Not possible for previous_state to be anything else due to the is_state_change_valid check at the beginning */</span></div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00198">ccss.c:198</a></div></div>
<div class="ttc" id="ccss_8c_html_a25d16f7567f92f89969ead967d740b41"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a25d16f7567f92f89969ead967d740b41">unsuspend</a></div><div class="ttdeci">static void unsuspend(struct cc_core_instance *core_instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03146">ccss.c:3146</a></div></div>
<div class="ttc" id="ccss_8c_html_a054cb70a3268c7442fabf9f985215afd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a054cb70a3268c7442fabf9f985215afd">cc_publish_requestacknowledged</a></div><div class="ttdeci">static void cc_publish_requestacknowledged(int core_id, const char *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01099">ccss.c:1099</a></div></div>
<div class="ttc" id="ccss_8c_html_a284dfdf44081392c457d5672df13e2a8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a284dfdf44081392c457d5672df13e2a8">cc_publish_callerstopmonitoring</a></div><div class="ttdeci">static void cc_publish_callerstopmonitoring(int core_id, const char *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01110">ccss.c:1110</a></div></div>
<div class="ttc" id="ccss_8h_html_a4dc7abb083c6d920fc6ed652f1b3e40fa2c35ce5050e874998baefd43036f10f4"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa2c35ce5050e874998baefd43036f10f4">AST_CC_AGENT_RESPONSE_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00880">ccss.h:880</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_abe187e8a31acf5a75a56b9270d72ecc3"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">ast_cc_agent_callbacks::respond</a></div><div class="ttdeci">void(* respond)(struct ast_cc_agent *agent, enum ast_cc_agent_response_reason reason)</div><div class="ttdoc">Respond to a CC request. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00965">ccss.h:965</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add9aed8b82215b7ee6ccdc8ce4104641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add9aed8b82215b7ee6ccdc8ce4104641">&#9670;&nbsp;</a></span>cc_agent_callback_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_agent_callback_helper </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00444">444</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00440">cc_callback_helper::args</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00439">cc_callback_helper::function</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00441">cc_callback_helper::type</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00894">ast_cc_agent_callbacks::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00456">ast_cc_agent_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = obj;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d03/structcc__callback__helper.html">cc_callback_helper</a> *helper = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordflow">if</span> (strcmp(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, helper-&gt;<a class="code" href="../../d2/d03/structcc__callback__helper.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>)) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="keywordflow">return</span> helper-&gt;<a class="code" href="../../d2/d03/structcc__callback__helper.html#ab9f76a5a7de35c9b687ea3a24e4932b9">function</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>, helper-&gt;<a class="code" href="../../d2/d03/structcc__callback__helper.html#add0eb34e0cef9e763462cf9080f9be0a">args</a>, flags);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div><div class="ttc" id="structcc__callback__helper_html"><div class="ttname"><a href="../../d2/d03/structcc__callback__helper.html">cc_callback_helper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00438">ccss.c:438</a></div></div>
<div class="ttc" id="structcc__callback__helper_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d2/d03/structcc__callback__helper.html#a763fd8db6bba8fbbbc113ca0d61c47c2">cc_callback_helper::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00441">ccss.c:441</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structcc__callback__helper_html_ab9f76a5a7de35c9b687ea3a24e4932b9"><div class="ttname"><a href="../../d2/d03/structcc__callback__helper.html#ab9f76a5a7de35c9b687ea3a24e4932b9">cc_callback_helper::function</a></div><div class="ttdeci">ao2_callback_fn * function</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00439">ccss.c:439</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_cc_agent_callbacks::type</a></div><div class="ttdeci">const char * type</div><div class="ttdoc">Type of agent the callbacks belong to. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00894">ccss.h:894</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="structcc__callback__helper_html_add0eb34e0cef9e763462cf9080f9be0a"><div class="ttname"><a href="../../d2/d03/structcc__callback__helper.html#add0eb34e0cef9e763462cf9080f9be0a">cc_callback_helper::args</a></div><div class="ttdeci">void * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00440">ccss.c:440</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2422590af7b197a22e4b24cc31936caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2422590af7b197a22e4b24cc31936caa">&#9670;&nbsp;</a></span>cc_agent_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a>* cc_agent_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>caller_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *&#160;</td>
          <td class="paramname"><em>interface_tree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">2554</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02544">agent_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00409">ao2_t_alloc</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00135">ast_cc_config_params_init</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00861">ast_cc_copy_config_params()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02911">cc_generic_agent_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02669">cc_generic_agent_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02895">cc_generic_agent_recall()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02735">cc_generic_agent_respond()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02791">cc_generic_agent_start_monitoring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02703">cc_generic_agent_start_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02743">cc_generic_agent_status_request()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02722">cc_generic_agent_stop_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02749">cc_generic_agent_stop_ringing()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00859">ast_cc_agent::cc_params</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00849">ast_cc_agent::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01269">find_agent_callbacks()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00913">ast_cc_agent_callbacks::init</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;{</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;   <span class="keywordflow">if</span> (!(agent = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*agent) + strlen(caller_name), <a class="code" href="../../d3/d5a/ccss_8c.html#a5aee83abadf2eed84f775d1e686a3f1c">agent_destroy</a>,</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;               <span class="stringliteral">&quot;Allocating new ast_cc_agent&quot;</span>))) {</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;   }</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;   agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a> = core_id;</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;   strcpy(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, caller_name);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(caller_chan);</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(agent, <span class="stringliteral">&quot;Could not get channel config params.&quot;</span>);</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;   }</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;   <span class="keywordflow">if</span> (!(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a> = <a class="code" href="../../de/dc8/ccss_8h.html#a1419c77d2c40064d442ae794175ca879">ast_cc_config_params_init</a>())) {</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(agent, <span class="stringliteral">&quot;Could not init agent config params.&quot;</span>);</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;   }</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a6f6f8fffb6cf0856d5cf953c5f51b74b">ast_cc_copy_config_params</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a>, cc_params);</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;   <span class="keywordflow">if</span> (!(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#afc3c55ef72191d6ce4dbe092be125acc">find_agent_callbacks</a>(caller_chan))) {</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(agent, <span class="stringliteral">&quot;Could not find agent callbacks.&quot;</span>);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;   }</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#ab14773630c42f5627bd3377a5d5d541e">check_callback_sanity</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>);</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;   <span class="keywordflow">if</span> (agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#aeeb8ff0890dae22b5f7d39b9c5e24c66">init</a>(agent, caller_chan)) {</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(agent, <span class="stringliteral">&quot;Agent init callback failed.&quot;</span>);</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;   }</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %u: Created an agent for caller %s\n&quot;</span>,</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;         agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;   <span class="keywordflow">return</span> agent;</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad57326008c326db88dc36779741622b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a></div><div class="ttdeci">#define ao2_t_alloc(data_size, destructor_fn, debug_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00409">astobj2.h:409</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structast__cc__agent_html_ad1b63200d8c1c6e60caa69a887b9964e"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">ast_cc_agent::cc_params</a></div><div class="ttdeci">struct ast_cc_config_params * cc_params</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00859">ccss.h:859</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8h_html_a1419c77d2c40064d442ae794175ca879"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a1419c77d2c40064d442ae794175ca879">ast_cc_config_params_init</a></div><div class="ttdeci">#define ast_cc_config_params_init()</div><div class="ttdoc">Allocate and initialize an ast_cc_config_params structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00135">ccss.h:135</a></div></div>
<div class="ttc" id="ccss_8c_html_a6f6f8fffb6cf0856d5cf953c5f51b74b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6f6f8fffb6cf0856d5cf953c5f51b74b">ast_cc_copy_config_params</a></div><div class="ttdeci">void ast_cc_copy_config_params(struct ast_cc_config_params *dest, const struct ast_cc_config_params *src)</div><div class="ttdoc">copy CCSS configuration parameters from one structure to another </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00861">ccss.c:861</a></div></div>
<div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="ccss_8c_html_ab14773630c42f5627bd3377a5d5d541e"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ab14773630c42f5627bd3377a5d5d541e">check_callback_sanity</a></div><div class="ttdeci">static void check_callback_sanity(const struct ast_cc_agent_callbacks *callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02532">ccss.c:2532</a></div></div>
<div class="ttc" id="ccss_8c_html_afc3c55ef72191d6ce4dbe092be125acc"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afc3c55ef72191d6ce4dbe092be125acc">find_agent_callbacks</a></div><div class="ttdeci">static const struct ast_cc_agent_callbacks * find_agent_callbacks(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01269">ccss.c:1269</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_aeeb8ff0890dae22b5f7d39b9c5e24c66"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#aeeb8ff0890dae22b5f7d39b9c5e24c66">ast_cc_agent_callbacks::init</a></div><div class="ttdeci">int(* init)(struct ast_cc_agent *agent, struct ast_channel *chan)</div><div class="ttdoc">CC agent initialization. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00913">ccss.h:913</a></div></div>
<div class="ttc" id="structast__cc__agent_html"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00844">ccss.h:844</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="ccss_8c_html_a5aee83abadf2eed84f775d1e686a3f1c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5aee83abadf2eed84f775d1e686a3f1c">agent_destroy</a></div><div class="ttdeci">static void agent_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02544">ccss.c:2544</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab62a2d10ec85d758b49b29743098e614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab62a2d10ec85d758b49b29743098e614">&#9670;&nbsp;</a></span>cc_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_available </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03057">3057</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>
<div class="fragment"><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;{</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;   <span class="comment">/* This should never happen... */</span></div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Someone requested to change to CC_AVAILABLE? Ignoring.\n&quot;</span>);</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7447e0ec99379a5b9fe22924166eaffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7447e0ec99379a5b9fe22924166eaffa">&#9670;&nbsp;</a></span>cc_build_payload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_build_payload </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *&#160;</td>
          <td class="paramname"><em>cc_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>monitor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a>&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">4121</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00861">ast_cc_copy_config_params()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00275">cc_control_payload::config_params</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00293">cc_control_payload::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01902">dialed_cc_interfaces::dial_parent_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00305">cc_control_payload::dialstring</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00240">cc_control_payload::monitor_type</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00284">cc_control_payload::parent_interface_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00257">cc_control_payload::private_data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00266">cc_control_payload::service</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00383">service</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04176">ast_cc_build_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04232">ast_cc_busy_interface()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04199">ast_cc_call_failed()</a>.</p>
<div class="fragment"><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;{</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces;</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a>;</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;   }</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;   cc_interfaces = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;   dial_parent_id = cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a>;</div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;   payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a> = monitor_type;</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;   payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a> = private_data;</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;   payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a495cc24c1947d49a2b6de488a45c9d72">service</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>;</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a6f6f8fffb6cf0856d5cf953c5f51b74b">ast_cc_copy_config_params</a>(&amp;payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#aea09f54302fd3254d6c2d689744421a0">config_params</a>, cc_params);</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;   payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a15c3eb53fad08926601dfcbb8573787b">parent_interface_id</a> = <a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a>;</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>, device_name, <span class="keyword">sizeof</span>(payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>));</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">dialstring</a>, dialstring, <span class="keyword">sizeof</span>(payload-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">dialstring</a>));</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structcc__control__payload_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">cc_control_payload::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Private data allocated by the callee. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00257">ccss.c:257</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a15c3eb53fad08926601dfcbb8573787b"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a15c3eb53fad08926601dfcbb8573787b">cc_control_payload::parent_interface_id</a></div><div class="ttdeci">int parent_interface_id</div><div class="ttdoc">ID of parent extension. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00284">ccss.c:284</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_a6f6f8fffb6cf0856d5cf953c5f51b74b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6f6f8fffb6cf0856d5cf953c5f51b74b">ast_cc_copy_config_params</a></div><div class="ttdeci">void ast_cc_copy_config_params(struct ast_cc_config_params *dest, const struct ast_cc_config_params *src)</div><div class="ttdoc">copy CCSS configuration parameters from one structure to another </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00861">ccss.c:861</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">cc_control_payload::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">Name of device to be monitored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00293">ccss.c:293</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a7db03a99f804d3d6a75a07b2d02ea399"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a7db03a99f804d3d6a75a07b2d02ea399">cc_control_payload::dialstring</a></div><div class="ttdeci">char dialstring[AST_CHANNEL_NAME]</div><div class="ttdoc">Recall dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00305">ccss.c:305</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a495cc24c1947d49a2b6de488a45c9d72">cc_control_payload::service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdoc">Service offered by the endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00266">ccss.c:266</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structcc__control__payload_html_aea09f54302fd3254d6c2d689744421a0"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#aea09f54302fd3254d6c2d689744421a0">cc_control_payload::config_params</a></div><div class="ttdeci">struct ast_cc_config_params config_params</div><div class="ttdoc">Configuration parameters used by this endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00275">ccss.c:275</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">cc_control_payload::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor to allocate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00240">ccss.c:240</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a893d185453957758607107023ba704f0"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dialed_cc_interfaces::dial_parent_id</a></div><div class="ttdeci">unsigned int dial_parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01902">ccss.c:1902</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
<div class="ttc" id="ccss_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00383">ccss.c:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a30aa6f7539b7fdc75516b90c36df00ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30aa6f7539b7fdc75516b90c36df00ff">&#9670;&nbsp;</a></span>cc_callee_ready()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_callee_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03187">3187</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l01058">ast_cc_agent_callbacks::callee_available</a>.</p>
<div class="fragment"><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;{</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;   core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#ae307d9129c1eaa6b8ba587d99fcef234">callee_available</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>);</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;}</div><div class="ttc" id="structast__cc__agent__callbacks_html_ae307d9129c1eaa6b8ba587d99fcef234"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#ae307d9129c1eaa6b8ba587d99fcef234">ast_cc_agent_callbacks::callee_available</a></div><div class="ttdeci">int(* callee_available)(struct ast_cc_agent *agent)</div><div class="ttdoc">Alert the caller that it is time to try recalling. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l01058">ccss.h:1058</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a661a0231a1a23bcc152d741bf4c0fd1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a661a0231a1a23bcc152d741bf4c0fd1e">&#9670;&nbsp;</a></span>cc_caller_busy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_caller_busy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03215">3215</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01121">cc_publish_callerstartmonitoring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l01039">ast_cc_agent_callbacks::start_monitoring</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03193">suspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;{</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;   <span class="comment">/* Callee was available, but caller was busy, call agent&#39;s begin_monitoring callback</span></div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="comment">    * and call monitor&#39;s suspend callback.</span></div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a8bd1c39b4993f80f1bf674e3a1d717dd">suspend</a>(core_instance);</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;   core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a919f7047e7bdec9419d339b40e077883">start_monitoring</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>);</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a65f10215832f1b14dc0fbe4a96c96471">cc_publish_callerstartmonitoring</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a65f10215832f1b14dc0fbe4a96c96471"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a65f10215832f1b14dc0fbe4a96c96471">cc_publish_callerstartmonitoring</a></div><div class="ttdeci">static void cc_publish_callerstartmonitoring(int core_id, const char *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01121">ccss.c:1121</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a919f7047e7bdec9419d339b40e077883"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a919f7047e7bdec9419d339b40e077883">ast_cc_agent_callbacks::start_monitoring</a></div><div class="ttdeci">int(* start_monitoring)(struct ast_cc_agent *agent)</div><div class="ttdoc">Begin monitoring a busy device. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l01039">ccss.h:1039</a></div></div>
<div class="ttc" id="ccss_8c_html_a8bd1c39b4993f80f1bf674e3a1d717dd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8bd1c39b4993f80f1bf674e3a1d717dd">suspend</a></div><div class="ttdeci">static void suspend(struct cc_core_instance *core_instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03193">ccss.c:3193</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a099418f3a8798eafb1785bc86115a59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a099418f3a8798eafb1785bc86115a59f">&#9670;&nbsp;</a></span>cc_caller_offered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_caller_offered </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03064">3064</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00164">ast_cc_config_params::cc_offer_timer</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00859">ast_cc_agent::cc_params</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01075">cc_publish_offertimerstart()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00934">ast_cc_agent_callbacks::start_offer_timer</a>.</p>
<div class="fragment"><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;{</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;   <span class="keywordflow">if</span> (core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a805746d67bc4fc51e968ddd28b271e9f">start_offer_timer</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>)) {</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Failed to start the offer timer for %s\n&quot;</span>,</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;            core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;   }</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a698963a440390fd17c3070c62b0d26bb">cc_publish_offertimerstart</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a>-&gt;<a class="code" href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">cc_offer_timer</a>);</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Started the offer timer for the agent %s!\n&quot;</span>,</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;         core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="structast__cc__agent_html_ad1b63200d8c1c6e60caa69a887b9964e"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">ast_cc_agent::cc_params</a></div><div class="ttdeci">struct ast_cc_config_params * cc_params</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00859">ccss.h:859</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a805746d67bc4fc51e968ddd28b271e9f"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a805746d67bc4fc51e968ddd28b271e9f">ast_cc_agent_callbacks::start_offer_timer</a></div><div class="ttdeci">int(* start_offer_timer)(struct ast_cc_agent *agent)</div><div class="ttdoc">Start the offer timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00934">ccss.h:934</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a698963a440390fd17c3070c62b0d26bb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a698963a440390fd17c3070c62b0d26bb">cc_publish_offertimerstart</a></div><div class="ttdeci">static void cc_publish_offertimerstart(int core_id, const char *caller, unsigned int expires)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01075">ccss.c:1075</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structast__cc__config__params_html_abc8741c09b180fcaecdffa60da7e15e3"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html#abc8741c09b180fcaecdffa60da7e15e3">ast_cc_config_params::cc_offer_timer</a></div><div class="ttdeci">unsigned int cc_offer_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00164">ccss.c:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a17b0988561ffb97b310ff10fc02182f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17b0988561ffb97b310ff10fc02182f4">&#9670;&nbsp;</a></span>cc_caller_requested()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_caller_requested </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03132">3132</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00884">AST_CC_AGENT_RESPONSE_FAILURE_TOO_MANY</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02482">ast_cc_request_is_within_limits()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">request_cc()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00965">ast_cc_agent_callbacks::respond</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00947">ast_cc_agent_callbacks::stop_offer_timer</a>.</p>
<div class="fragment"><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;{</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#ae1570706dee0c4c88406d96f47f166d3">ast_cc_request_is_within_limits</a>()) {</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot request CC since there is no more room for requests\n&quot;</span>);</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">respond</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>,</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;         <a class="code" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fafd230e8ed54f4d0d5158d571eeb57e3c">AST_CC_AGENT_RESPONSE_FAILURE_TOO_MANY</a>);</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Too many requests in the system&quot;</span>);</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;   }</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;   core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#add00b87d43860616f10b9f0dd0774152">stop_offer_timer</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>);</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7b7b2000ccfac0858924a7fd0ce51c53">request_cc</a>(core_instance);</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="ccss_8h_html_a4dc7abb083c6d920fc6ed652f1b3e40fafd230e8ed54f4d0d5158d571eeb57e3c"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fafd230e8ed54f4d0d5158d571eeb57e3c">AST_CC_AGENT_RESPONSE_FAILURE_TOO_MANY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00884">ccss.h:884</a></div></div>
<div class="ttc" id="ccss_8c_html_a7b7b2000ccfac0858924a7fd0ce51c53"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7b7b2000ccfac0858924a7fd0ce51c53">request_cc</a></div><div class="ttdeci">static void request_cc(struct cc_core_instance *core_instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03108">ccss.c:3108</a></div></div>
<div class="ttc" id="ccss_8c_html_ae1570706dee0c4c88406d96f47f166d3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ae1570706dee0c4c88406d96f47f166d3">ast_cc_request_is_within_limits</a></div><div class="ttdeci">int ast_cc_request_is_within_limits(void)</div><div class="ttdoc">Check if the incoming CC request is within the bounds set by the cc_max_requests configuration option...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02482">ccss.c:2482</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_abe187e8a31acf5a75a56b9270d72ecc3"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">ast_cc_agent_callbacks::respond</a></div><div class="ttdeci">void(* respond)(struct ast_cc_agent *agent, enum ast_cc_agent_response_reason reason)</div><div class="ttdoc">Respond to a CC request. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00965">ccss.h:965</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_add00b87d43860616f10b9f0dd0774152"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#add00b87d43860616f10b9f0dd0774152">ast_cc_agent_callbacks::stop_offer_timer</a></div><div class="ttdeci">int(* stop_offer_timer)(struct ast_cc_agent *agent)</div><div class="ttdoc">Stop the offer timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00947">ccss.h:947</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a7063bfb92213985b9fa5acd1dde9d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a7063bfb92213985b9fa5acd1dde9d6">&#9670;&nbsp;</a></span>cc_cli_output_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_cli_output_status </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04494">4494</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01714">ao2_t_callback</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04481">print_stats_cb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04511">handle_cc_status()</a>.</p>
<div class="fragment"><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;{</div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;   <span class="keywordtype">int</span> *cli_fd = data;</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;   <span class="keywordtype">int</span> count = <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>);</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;   <span class="keywordflow">if</span> (!count) {</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(*cli_fd, <span class="stringliteral">&quot;There are currently no active call completion transactions\n&quot;</span>);</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(*cli_fd, <span class="stringliteral">&quot;%d Call completion transactions\n&quot;</span>, count);</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(*cli_fd, <span class="stringliteral">&quot;Core ID\t\tCaller\t\t\t\tStatus\n&quot;</span>);</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(*cli_fd, <span class="stringliteral">&quot;----------------------------------------------------------------------------\n&quot;</span>);</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#ad8ed6337dffca5894189562d30aa96f4">print_stats_cb</a>, cli_fd, <span class="stringliteral">&quot;Printing stats to CLI&quot;</span>);</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;   }</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cli_fd);</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="astobj2_8h_html_aeca960ec22a1d0384f6e285b25df8501"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a></div><div class="ttdeci">#define ao2_t_callback(c, flags, cb_fn, arg, tag)</div><div class="ttdoc">ao2_callback() is a generic function that applies cb_fn() to all objects in a container, as described below. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01714">astobj2.h:1714</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="ccss_8c_html_ad8ed6337dffca5894189562d30aa96f4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad8ed6337dffca5894189562d30aa96f4">print_stats_cb</a></div><div class="ttdeci">static int print_stats_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04481">ccss.c:4481</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ea447d6360ffc2f2c5281ffe7d6fbae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea447d6360ffc2f2c5281ffe7d6fbae">&#9670;&nbsp;</a></span>cc_cli_print_monitor_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_cli_print_monitor_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04461">4461</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00438">AST_LIST_NEXT</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00412">cc_service_to_string()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00532">ast_cc_monitor::service_offered</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04481">print_stats_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;{</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *child_monitor_iter = <a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;   <span class="keywordflow">if</span> (!monitor) {</div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;   }</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;\t\t|--&gt;%s&quot;</span>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;   <span class="keywordflow">if</span> (monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>) {</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;(%s)&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#aedf564e8503a7fb86cca56e1ab9dffe0">cc_service_to_string</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ade92ed8ed7a6fa7c3bb9a0e91db6e192">service_offered</a>));</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;   }</div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(fd, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;   <span class="keywordflow">while</span> ((child_monitor_iter = <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(child_monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>))) {</div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;      <span class="keywordflow">if</span> (child_monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a> == monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a>) {</div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a8ea447d6360ffc2f2c5281ffe7d6fbae">cc_cli_print_monitor_stats</a>(child_monitor_iter, fd, child_monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a>);</div><div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;      }</div><div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;   }</div><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;}</div><div class="ttc" id="ccss_8c_html_aedf564e8503a7fb86cca56e1ab9dffe0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aedf564e8503a7fb86cca56e1ab9dffe0">cc_service_to_string</a></div><div class="ttdeci">static const char * cc_service_to_string(enum ast_cc_service_type service)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00412">ccss.c:412</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="ccss_8c_html_a8ea447d6360ffc2f2c5281ffe7d6fbae"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8ea447d6360ffc2f2c5281ffe7d6fbae">cc_cli_print_monitor_stats</a></div><div class="ttdeci">static void cc_cli_print_monitor_stats(struct ast_cc_monitor *monitor, int fd, int parent_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04461">ccss.c:4461</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ade92ed8ed7a6fa7c3bb9a0e91db6e192"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ade92ed8ed7a6fa7c3bb9a0e91db6e192">ast_cc_monitor::service_offered</a></div><div class="ttdeci">enum ast_cc_service_type service_offered</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00532">ccss.h:532</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02ee4bb8bfb0f1771a7dd78b6770774a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02ee4bb8bfb0f1771a7dd78b6770774a">&#9670;&nbsp;</a></span>cc_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_complete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03257">3257</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01596">ao2_t_unlink</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01143">cc_publish_recallcomplete()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>.</p>
<div class="fragment"><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;{</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;   <span class="comment">/* Recall has made progress, call agent and monitor destructor functions</span></div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a687ef7ca441bb2eccd85186b02782d1e">cc_publish_recallcomplete</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#abd79d7936e873108860cd00d59e1cede">ao2_t_unlink</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, core_instance, <span class="stringliteral">&quot;Unlink core instance since CC recall has completed&quot;</span>);</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a687ef7ca441bb2eccd85186b02782d1e"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a687ef7ca441bb2eccd85186b02782d1e">cc_publish_recallcomplete</a></div><div class="ttdeci">static void cc_publish_recallcomplete(int core_id, const char *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01143">ccss.c:1143</a></div></div>
<div class="ttc" id="astobj2_8h_html_abd79d7936e873108860cd00d59e1cede"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#abd79d7936e873108860cd00d59e1cede">ao2_t_unlink</a></div><div class="ttdeci">#define ao2_t_unlink(container, obj, tag)</div><div class="ttdoc">Remove an object from a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01596">astobj2.h:1596</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a883996adb857c5c518bad2b0a968ece3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883996adb857c5c518bad2b0a968ece3">&#9670;&nbsp;</a></span>cc_core_init_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> * cc_core_init_instance </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *&#160;</td>
          <td class="paramname"><em>called_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *&#160;</td>
          <td class="paramname"><em>cc_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">2940</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00409">ao2_t_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01547">ao2_t_link</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00053">AST_CC_AGENT_GENERIC</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03438">ast_cc_is_recall()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00866">ast_get_cc_agent_policy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00974">ast_get_cc_max_agents()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02928">cc_core_instance_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02506">count_agents()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02515">kill_duplicate_offers()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;{</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;   <span class="keywordtype">char</span> caller[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;   <span class="keywordtype">long</span> agent_count;</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;   <span class="keywordtype">int</span> recall_core_id;</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(caller_chan, caller, <span class="keyword">sizeof</span>(caller));</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(caller_chan);</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Could not get CC parameters for %s\n&quot;</span>,</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;         caller);</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;   }</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;   <span class="comment">/* First, we need to kill off other pending CC offers from caller. If the caller is going</span></div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<span class="comment">    * to request a CC service, it may only be for the latest call he made.</span></div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a>(cc_params) == <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>) {</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a6311796a5920729e1f68771aa76d5cc4">kill_duplicate_offers</a>(caller);</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;   }</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a2fd3a95509d01b9ed748148277b753f6">ast_cc_is_recall</a>(caller_chan, &amp;recall_core_id, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;   agent_count = <a class="code" href="../../d3/d5a/ccss_8c.html#ae2d88b9554fb4db981b6783cd88f278e">count_agents</a>(caller, recall_core_id);</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;   <span class="keywordflow">if</span> (agent_count &gt;= <a class="code" href="../../d3/d5a/ccss_8c.html#a8ff8c9d10dfd21673fe3dd8177cc0769">ast_get_cc_max_agents</a>(cc_params)) {</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Caller %s already has the maximum number of agents configured\n&quot;</span>, caller);</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;   }</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;   <span class="comment">/* Generic agents can only have a single outstanding CC request per caller. */</span></div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;   <span class="keywordflow">if</span> (agent_count &gt; 0 &amp;&amp; <a class="code" href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a>(cc_params) == <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>) {</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Generic agents can only have a single outstanding request\n&quot;</span>);</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;   }</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;   <span class="comment">/* Next, we need to create the core instance for this call */</span></div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;   <span class="keywordflow">if</span> (!(core_instance = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*core_instance), <a class="code" href="../../d3/d5a/ccss_8c.html#a73d2b6513631b58ceb4b3aa2aec2b8b9">cc_core_instance_destructor</a>, <span class="stringliteral">&quot;Creating core instance for CC&quot;</span>))) {</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;   }</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;   core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = core_id;</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;   <span class="keywordflow">if</span> (!(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a2422590af7b197a22e4b24cc31936caa">cc_agent_init</a>(caller_chan, caller, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, called_tree))) {</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Couldn&#39;t allocate agent, unref core_instance&quot;</span>);</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;   }</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;   core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(called_tree, <span class="stringliteral">&quot;Core instance getting ref to monitor tree&quot;</span>);</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6db9934459f5cdc95cb3af77d55d426e">ao2_t_link</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, core_instance, <span class="stringliteral">&quot;Link core instance into container&quot;</span>);</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;   <span class="keywordflow">return</span> core_instance;</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00053">ccss.h:53</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad57326008c326db88dc36779741622b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a></div><div class="ttdeci">#define ao2_t_alloc(data_size, destructor_fn, debug_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00409">astobj2.h:409</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6db9934459f5cdc95cb3af77d55d426e"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6db9934459f5cdc95cb3af77d55d426e">ao2_t_link</a></div><div class="ttdeci">#define ao2_t_link(container, obj, tag)</div><div class="ttdoc">Add an object to a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01547">astobj2.h:1547</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="ccss_8c_html_a2fd3a95509d01b9ed748148277b753f6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2fd3a95509d01b9ed748148277b753f6">ast_cc_is_recall</a></div><div class="ttdeci">int ast_cc_is_recall(struct ast_channel *chan, int *core_id, const char *const monitor_type)</div><div class="ttdoc">Decide if a call to a particular channel is a CC recall. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03438">ccss.c:3438</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="ccss_8c_html_a6311796a5920729e1f68771aa76d5cc4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6311796a5920729e1f68771aa76d5cc4">kill_duplicate_offers</a></div><div class="ttdeci">static void kill_duplicate_offers(char *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02515">ccss.c:2515</a></div></div>
<div class="ttc" id="ccss_8c_html_a2422590af7b197a22e4b24cc31936caa"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2422590af7b197a22e4b24cc31936caa">cc_agent_init</a></div><div class="ttdeci">static struct ast_cc_agent * cc_agent_init(struct ast_channel *caller_chan, const char *const caller_name, const int core_id, struct cc_monitor_tree *interface_tree)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02554">ccss.c:2554</a></div></div>
<div class="ttc" id="ccss_8c_html_a8ff8c9d10dfd21673fe3dd8177cc0769"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8ff8c9d10dfd21673fe3dd8177cc0769">ast_get_cc_max_agents</a></div><div class="ttdeci">unsigned int ast_get_cc_max_agents(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_max_agents. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00974">ccss.c:974</a></div></div>
<div class="ttc" id="ccss_8c_html_a9973d81440cb95d7ca720ef1e331c5cd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies ast_get_cc_agent_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00866">ccss.c:866</a></div></div>
<div class="ttc" id="ccss_8c_html_a73d2b6513631b58ceb4b3aa2aec2b8b9"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a73d2b6513631b58ceb4b3aa2aec2b8b9">cc_core_instance_destructor</a></div><div class="ttdeci">static void cc_core_instance_destructor(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02928">ccss.c:2928</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="ccss_8c_html_ae2d88b9554fb4db981b6783cd88f278e"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ae2d88b9554fb4db981b6783cd88f278e">count_agents</a></div><div class="ttdeci">static long count_agents(const char *const caller, const int core_id_exception)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02506">ccss.c:2506</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a611eba4508e148925f5e9465a8e11fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a611eba4508e148925f5e9465a8e11fa1">&#9670;&nbsp;</a></span>cc_core_instance_cmp_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_core_instance_cmp_fn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00423">423</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01032">CMP_STOP</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance1 = obj;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance2 = arg;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordflow">return</span> core_instance1-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> == core_instance2-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a> : 0;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01032">astobj2.h:1032</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a73d2b6513631b58ceb4b3aa2aec2b8b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d2b6513631b58ceb4b3aa2aec2b8b9">&#9670;&nbsp;</a></span>cc_core_instance_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_core_instance_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02928">2928</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;{</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = data;</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Destroying core instance\n&quot;</span>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;   <span class="keywordflow">if</span> (core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>) {</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>, <span class="stringliteral">&quot;Core instance is done with the agent now&quot;</span>);</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;   }</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;   <span class="keywordflow">if</span> (core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>) {</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;      core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, <span class="stringliteral">&quot;Core instance is done with interface list&quot;</span>);</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;   }</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4516fb324cbf99c5220fdf9b7afabec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4516fb324cbf99c5220fdf9b7afabec">&#9670;&nbsp;</a></span>cc_core_instance_hash_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_core_instance_hash_fn </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00417">417</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;{</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = obj;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <span class="keywordflow">return</span> core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8524619abdbaec9e4bd6fdd84850134f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8524619abdbaec9e4bd6fdd84850134f">&#9670;&nbsp;</a></span>cc_device_monitor_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a>* cc_device_monitor_init </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>dialstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d90/structcc__control__payload.html">cc_control_payload</a> *&#160;</td>
          <td class="paramname"><em>cc_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">2250</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00409">ao2_t_alloc</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00135">ast_cc_config_params_init</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00861">ast_cc_copy_config_params()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00547">ast_cc_monitor::available_timer_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01737">cc_interface_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01837">cc_monitor_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00275">cc_control_payload::config_params</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00834">ast_cc_interface::config_params</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00543">ast_cc_monitor::dialstring</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01200">find_monitor_callbacks()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00240">cc_control_payload::monitor_type</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00830">ast_cc_interface::monitor_type</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00284">cc_control_payload::parent_interface_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00257">cc_control_payload::private_data</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00561">ast_cc_monitor::private_data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00266">cc_control_payload::service</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00532">ast_cc_monitor::service_offered</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;{</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d58/structast__cc__interface.html">ast_cc_interface</a> *cc_interface;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;   <span class="keywordtype">size_t</span> device_name_len = strlen(device_name);</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a> = cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a15c3eb53fad08926601dfcbb8573787b">parent_interface_id</a>;</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;   <span class="keywordflow">if</span> (!(cc_interface = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*cc_interface) + device_name_len, <a class="code" href="../../d3/d5a/ccss_8c.html#a1e9a324cdb55d394ecd48d7e199fb67e">cc_interface_destroy</a>,</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;               <span class="stringliteral">&quot;Allocating new ast_cc_interface&quot;</span>))) {</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;   }</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;   <span class="keywordflow">if</span> (!(cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#abc64696053780e1aecc0803459cc9454">config_params</a> = <a class="code" href="../../de/dc8/ccss_8h.html#a1419c77d2c40064d442ae794175ca879">ast_cc_config_params_init</a>())) {</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(cc_interface, <span class="stringliteral">&quot;Failed to allocate config params, unref interface&quot;</span>);</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;   }</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;   <span class="keywordflow">if</span> (!(monitor = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*monitor), <a class="code" href="../../d3/d5a/ccss_8c.html#a921d6a731af09f97878539af20508b6c">cc_monitor_destroy</a>, <span class="stringliteral">&quot;Allocating new ast_cc_monitor&quot;</span>))) {</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(cc_interface, <span class="stringliteral">&quot;Failed to allocate monitor, unref interface&quot;</span>);</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;   }</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;   <span class="keywordflow">if</span> (!(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#af0a8d5de868993a2a520db6a9ef72a75">dialstring</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d0/d6e/structast__cc__monitor.html#af0a8d5de868993a2a520db6a9ef72a75">dialstring</a>))) {</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Failed to copy dialable name. Unref monitor&quot;</span>);</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(cc_interface, <span class="stringliteral">&quot;Failed to copy dialable name&quot;</span>);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;   }</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;   <span class="keywordflow">if</span> (!(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#ae560ec7b0f950b1bfc0f5effc28e32d7">find_monitor_callbacks</a>(cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>))) {</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Failed to find monitor callbacks. Unref monitor&quot;</span>);</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(cc_interface, <span class="stringliteral">&quot;Failed to find monitor callbacks&quot;</span>);</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;   }</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;   strcpy(cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, device_name);</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a> = <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a00c11e22178be31913d96130d567d6da">dialed_cc_interface_counter</a>, +1);</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a> = <a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>;</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = <a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ade92ed8ed7a6fa7c3bb9a0e91db6e192">service_offered</a> = cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a> = cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;   cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a> = cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;   cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> = <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>;</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a> = cc_interface;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">available_timer_id</a> = -1;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a6f6f8fffb6cf0856d5cf953c5f51b74b">ast_cc_copy_config_params</a>(cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#abc64696053780e1aecc0803459cc9454">config_params</a>, &amp;cc_data-&gt;<a class="code" href="../../d4/d90/structcc__control__payload.html#aea09f54302fd3254d6c2d689744421a0">config_params</a>);</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Created a device cc interface for &#39;%s&#39; with id %u and parent %u\n&quot;</span>,</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;         monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>);</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;}</div><div class="ttc" id="ccss_8c_html_ae560ec7b0f950b1bfc0f5effc28e32d7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ae560ec7b0f950b1bfc0f5effc28e32d7">find_monitor_callbacks</a></div><div class="ttdeci">static const struct ast_cc_monitor_callbacks * find_monitor_callbacks(const char *const type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01200">ccss.c:1200</a></div></div>
<div class="ttc" id="structcc__control__payload_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#ad517770dac2061381b2008850ff12e6c">cc_control_payload::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Private data allocated by the callee. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00257">ccss.c:257</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad57326008c326db88dc36779741622b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a></div><div class="ttdeci">#define ao2_t_alloc(data_size, destructor_fn, debug_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00409">astobj2.h:409</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="ccss_8c_html_a00c11e22178be31913d96130d567d6da"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a00c11e22178be31913d96130d567d6da">dialed_cc_interface_counter</a></div><div class="ttdeci">static int dialed_cc_interface_counter</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01875">ccss.c:1875</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1e9a324cdb55d394ecd48d7e199fb67e"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1e9a324cdb55d394ecd48d7e199fb67e">cc_interface_destroy</a></div><div class="ttdeci">static void cc_interface_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01737">ccss.c:1737</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a15c3eb53fad08926601dfcbb8573787b"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a15c3eb53fad08926601dfcbb8573787b">cc_control_payload::parent_interface_id</a></div><div class="ttdeci">int parent_interface_id</div><div class="ttdoc">ID of parent extension. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00284">ccss.c:284</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="ccss_8h_html_a1419c77d2c40064d442ae794175ca879"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a1419c77d2c40064d442ae794175ca879">ast_cc_config_params_init</a></div><div class="ttdeci">#define ast_cc_config_params_init()</div><div class="ttdoc">Allocate and initialize an ast_cc_config_params structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00135">ccss.h:135</a></div></div>
<div class="ttc" id="ccss_8c_html_a6f6f8fffb6cf0856d5cf953c5f51b74b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6f6f8fffb6cf0856d5cf953c5f51b74b">ast_cc_copy_config_params</a></div><div class="ttdeci">void ast_cc_copy_config_params(struct ast_cc_config_params *dest, const struct ast_cc_config_params *src)</div><div class="ttdoc">copy CCSS configuration parameters from one structure to another </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00861">ccss.c:861</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="structast__cc__interface_html"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html">ast_cc_interface</a></div><div class="ttdoc">Structure with information about an outbound interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00818">ccss.h:818</a></div></div>
<div class="ttc" id="structast__cc__interface_html_abc64696053780e1aecc0803459cc9454"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#abc64696053780e1aecc0803459cc9454">ast_cc_interface::config_params</a></div><div class="ttdeci">struct ast_cc_config_params * config_params</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00834">ccss.h:834</a></div></div>
<div class="ttc" id="ccss_8c_html_a921d6a731af09f97878539af20508b6c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a921d6a731af09f97878539af20508b6c">cc_monitor_destroy</a></div><div class="ttdeci">static void cc_monitor_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01837">ccss.c:1837</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a495cc24c1947d49a2b6de488a45c9d72">cc_control_payload::service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdoc">Service offered by the endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00266">ccss.c:266</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_af0a8d5de868993a2a520db6a9ef72a75"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#af0a8d5de868993a2a520db6a9ef72a75">ast_cc_monitor::dialstring</a></div><div class="ttdeci">char * dialstring</div><div class="ttdoc">Name that should be used to recall specified interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00543">ccss.h:543</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">ast_cc_interface::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor that should be used for this interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00830">ccss.h:830</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structcc__control__payload_html_aea09f54302fd3254d6c2d689744421a0"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#aea09f54302fd3254d6c2d689744421a0">cc_control_payload::config_params</a></div><div class="ttdeci">struct ast_cc_config_params config_params</div><div class="ttdoc">Configuration parameters used by this endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00275">ccss.c:275</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad914ac9074b19cbe0c220113b3cdc65f"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">ast_cc_monitor::available_timer_id</a></div><div class="ttdeci">int available_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00547">ccss.h:547</a></div></div>
<div class="ttc" id="structcc__control__payload_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d4/d90/structcc__control__payload.html#a12094ef48afbb4f03d6eb1b7d630e7bd">cc_control_payload::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor to allocate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00240">ccss.c:240</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">ast_cc_monitor::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Data that is private to a monitor technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00561">ccss.h:561</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ade92ed8ed7a6fa7c3bb9a0e91db6e192"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ade92ed8ed7a6fa7c3bb9a0e91db6e192">ast_cc_monitor::service_offered</a></div><div class="ttdeci">enum ast_cc_service_type service_offered</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00532">ccss.h:532</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a682c599794989f2cd3cc54ede3af8fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a682c599794989f2cd3cc54ede3af8fcb">&#9670;&nbsp;</a></span>cc_do_state_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_do_state_change </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>datap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">3285</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00882">AST_CC_AGENT_RESPONSE_FAILURE_INVALID</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00188">CC_CALLER_REQUESTED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00407">cc_state_to_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00641">ccss_notify_device_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02997">cc_state_change_args::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02995">cc_state_change_args::core_instance</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00337">cc_core_instance::current_state</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02998">cc_state_change_args::debug</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03001">is_state_change_valid()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00965">ast_cc_agent_callbacks::respond</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02996">cc_state_change_args::state</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03273">state_change_funcs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>
<div class="fragment"><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;{</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a> = datap;</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state;</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: State change to %u requested. Reason: %s\n&quot;</span>,</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;         args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#aa15a5955ae71d81bd990da3569c06258">state</a>, args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#a7b5caf9143a8a851f92954b0f2534815">debug</a>);</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;   core_instance = args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#ad75ab26f830035a35504015f37a40b28">core_instance</a>;</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#aa759ffc37d142821c2c99b97499b07c2">is_state_change_valid</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a>, args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#aa15a5955ae71d81bd990da3569c06258">state</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>)) {</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Invalid state change requested. Cannot go from %s to %s\n&quot;</span>,</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;            args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a>), <a class="code" href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a>(args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#aa15a5955ae71d81bd990da3569c06258">state</a>));</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      <span class="keywordflow">if</span> (args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#aa15a5955ae71d81bd990da3569c06258">state</a> == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>) {</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;<span class="comment">          * For out-of-order requests, we need to let the requester know that</span></div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;<span class="comment">          * we can&#39;t handle the request now.</span></div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;         core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">respond</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>,</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;            <a class="code" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa1f46b662ae0b626724d2c8d90143c93a">AST_CC_AGENT_RESPONSE_FAILURE_INVALID</a>);</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      }</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance from when it was found earlier&quot;</span>);</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;   }</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;   <span class="comment">/* We can change to the new state now. */</span></div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;   previous_state = core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a>;</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;   core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a> = args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#aa15a5955ae71d81bd990da3569c06258">state</a>;</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#a93d30c63a76b4c181c54dec0ee44282a">state_change_funcs</a>[core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a>](core_instance, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, previous_state);</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;   <span class="comment">/* If state change successful then notify any device state watchers of the change */</span></div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;   <span class="keywordflow">if</span> (!res &amp;&amp; !strcmp(core_instance-&gt;agent-&gt;callbacks-&gt;type, <span class="stringliteral">&quot;generic&quot;</span>)) {</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a59a478f22511281c22ca805d175e4176">ccss_notify_device_state_change</a>(core_instance-&gt;agent-&gt;device_name, core_instance-&gt;current_state);</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;   }</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref since state change has completed&quot;</span>); <span class="comment">/* From ao2_find */</span></div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_aa15a5955ae71d81bd990da3569c06258"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#aa15a5955ae71d81bd990da3569c06258">cc_state_change_args::state</a></div><div class="ttdeci">enum cc_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02996">ccss.c:2996</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8h_html_a4dc7abb083c6d920fc6ed652f1b3e40fa1f46b662ae0b626724d2c8d90143c93a"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40fa1f46b662ae0b626724d2c8d90143c93a">AST_CC_AGENT_RESPONSE_FAILURE_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00882">ccss.h:882</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_ad75ab26f830035a35504015f37a40b28"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#ad75ab26f830035a35504015f37a40b28">cc_state_change_args::core_instance</a></div><div class="ttdeci">struct cc_core_instance * core_instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02995">ccss.c:2995</a></div></div>
<div class="ttc" id="structcc__state__change__args_html"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02994">ccss.c:2994</a></div></div>
<div class="ttc" id="ccss_8c_html_a8c9c1c94ada3db153cc758d1e65e77c6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a></div><div class="ttdeci">static const char * cc_state_to_string(enum cc_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00407">ccss.c:407</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a></div><div class="ttdeci">cc_state</div><div class="ttdoc">The states used in the CCSS core state machine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00181">ccss.c:181</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_abe187e8a31acf5a75a56b9270d72ecc3"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">ast_cc_agent_callbacks::respond</a></div><div class="ttdeci">void(* respond)(struct ast_cc_agent *agent, enum ast_cc_agent_response_reason reason)</div><div class="ttdoc">Respond to a CC request. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00965">ccss.h:965</a></div></div>
<div class="ttc" id="ccss_8c_html_a93d30c63a76b4c181c54dec0ee44282a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a93d30c63a76b4c181c54dec0ee44282a">state_change_funcs</a></div><div class="ttdeci">static int(*const state_change_funcs[])(struct cc_core_instance *, struct cc_state_change_args *, enum cc_state previous_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03273">ccss.c:3273</a></div></div>
<div class="ttc" id="structcc__core__instance_html_a234d140e5063471037fc6aa33258d1bd"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">cc_core_instance::current_state</a></div><div class="ttdeci">enum cc_state current_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00337">ccss.c:337</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="ccss_8c_html_aa759ffc37d142821c2c99b97499b07c2"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa759ffc37d142821c2c99b97499b07c2">is_state_change_valid</a></div><div class="ttdeci">static int is_state_change_valid(enum cc_state current_state, const enum cc_state new_state, struct ast_cc_agent *agent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03001">ccss.c:3001</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="ccss_8c_html_a59a478f22511281c22ca805d175e4176"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a59a478f22511281c22ca805d175e4176">ccss_notify_device_state_change</a></div><div class="ttdeci">static void ccss_notify_device_state_change(const char *device, enum cc_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00641">ccss.c:641</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_a7b5caf9143a8a851f92954b0f2534815"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#a7b5caf9143a8a851f92954b0f2534815">cc_state_change_args::debug</a></div><div class="ttdeci">char debug[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02998">ccss.c:2998</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#a72a2c55008105f91d1af2942453eca2b">cc_state_change_args::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02997">ccss.c:2997</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf2435c66b53e4ebc6b4048228533132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf2435c66b53e4ebc6b4048228533132">&#9670;&nbsp;</a></span>cc_extension_monitor_change_is_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_extension_monitor_change_is_valid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>parent_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_valid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">2050</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01795">extension_child_dialstring::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01810">extension_child_dialstring::is_valid</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01811">extension_child_dialstring::next</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00561">ast_cc_monitor::private_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03226">cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03193">suspend()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03146">unsuspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;{</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a> *extension_pvt;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a> *child_dialstring;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../dc/d54/structextension__child__dialstring.html#a59b48dd3a95085c4aab7169d43114a8a">next</a>) {</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a> == parent_id) {</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      }</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;   }</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;   <span class="keywordflow">if</span> (!monitor_iter) {</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;   }</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;   extension_pvt = monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;extension_pvt-&gt;<a class="code" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">child_dialstrings</a>, child_dialstring, <a class="code" href="../../dc/d54/structextension__child__dialstring.html#a59b48dd3a95085c4aab7169d43114a8a">next</a>) {</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="keywordflow">if</span> (!strcmp(child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>, <a class="code" href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">device_name</a>)) {</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;         child_dialstring-&gt;<a class="code" href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">is_valid</a> = <a class="code" href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">is_valid</a>;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      }</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;   }</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html_a3ba613497814aa75f4d53254ddeaadf6"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a3ba613497814aa75f4d53254ddeaadf6">extension_child_dialstring::is_valid</a></div><div class="ttdeci">int is_valid</div><div class="ttdoc">Is this structure valid for use in CC_INTERFACES? </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01810">ccss.c:1810</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html_a59b48dd3a95085c4aab7169d43114a8a"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a59b48dd3a95085c4aab7169d43114a8a">extension_child_dialstring::next</a></div><div class="ttdeci">struct extension_child_dialstring * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01811">ccss.c:1811</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html_a8fa7586c63694073e8558d727401e4a0"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a></div><div class="ttdeci">struct extension_monitor_pvt::@366 child_dialstrings</div></div>
<div class="ttc" id="structextension__child__dialstring_html_a2ea75e3f4fd722a2b68bd2bac608a2d3"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a2ea75e3f4fd722a2b68bd2bac608a2d3">extension_child_dialstring::device_name</a></div><div class="ttdeci">char device_name[AST_CHANNEL_NAME]</div><div class="ttdoc">The name of the device being dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01795">ccss.c:1795</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a></div><div class="ttdoc">Data regarding an extension monitor&amp;#39;s child&amp;#39;s dialstrings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01760">ccss.c:1760</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a></div><div class="ttdoc">Private data for an extension monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01817">ccss.c:1817</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">ast_cc_monitor::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Data that is private to a monitor technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00561">ccss.h:561</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3bfdb26e7b9b3fdfeb312ccee3575722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bfdb26e7b9b3fdfeb312ccee3575722">&#9670;&nbsp;</a></span>cc_extension_monitor_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_extension_monitor_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01821">1821</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01811">extension_child_dialstring::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01837">cc_monitor_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;{</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a> *extension_pvt = private_data;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a> *child_dialstring;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;   <span class="comment">/* This shouldn&#39;t be possible, but I&#39;m paranoid */</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   <span class="keywordflow">if</span> (!extension_pvt) {</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;   }</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;   <span class="keywordflow">while</span> ((child_dialstring = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;extension_pvt-&gt;<a class="code" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">child_dialstrings</a>, <a class="code" href="../../dc/d54/structextension__child__dialstring.html#a59b48dd3a95085c4aab7169d43114a8a">next</a>))) {</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(child_dialstring);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;   }</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(extension_pvt);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;}</div><div class="ttc" id="structextension__child__dialstring_html_a59b48dd3a95085c4aab7169d43114a8a"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html#a59b48dd3a95085c4aab7169d43114a8a">extension_child_dialstring::next</a></div><div class="ttdeci">struct extension_child_dialstring * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01811">ccss.c:1811</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html_a8fa7586c63694073e8558d727401e4a0"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a></div><div class="ttdeci">struct extension_monitor_pvt::@366 child_dialstrings</div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structextension__child__dialstring_html"><div class="ttname"><a href="../../dc/d54/structextension__child__dialstring.html">extension_child_dialstring</a></div><div class="ttdoc">Data regarding an extension monitor&amp;#39;s child&amp;#39;s dialstrings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01760">ccss.c:1760</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a></div><div class="ttdoc">Private data for an extension monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01817">ccss.c:1817</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad16f4359507449ab2cf18b521d898415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16f4359507449ab2cf18b521d898415">&#9670;&nbsp;</a></span>cc_extension_monitor_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a>* cc_extension_monitor_init </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>parent_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">2089</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00409">ao2_t_alloc</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00498">AST_CC_EXTENSION_MONITOR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00800">ast_str_alloca</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00688">ast_str_strlen()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01737">cc_interface_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01837">cc_monitor_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01995">extension_monitor_pvt_init()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00830">ast_cc_interface::monitor_type</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00561">ast_cc_monitor::private_data</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">ast_cc_call_init()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;{</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(2 * <a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d58/structast__cc__interface.html">ast_cc_interface</a> *cc_interface;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;str, 0, <span class="stringliteral">&quot;%s@%s&quot;</span>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;   <span class="keywordflow">if</span> (!(cc_interface = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*cc_interface) + <a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(str), <a class="code" href="../../d3/d5a/ccss_8c.html#a1e9a324cdb55d394ecd48d7e199fb67e">cc_interface_destroy</a>,</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;               <span class="stringliteral">&quot;Allocating new ast_cc_interface&quot;</span>))) {</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;   }</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;   <span class="keywordflow">if</span> (!(monitor = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*monitor), <a class="code" href="../../d3/d5a/ccss_8c.html#a921d6a731af09f97878539af20508b6c">cc_monitor_destroy</a>, <span class="stringliteral">&quot;Allocating new ast_cc_monitor&quot;</span>))) {</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(cc_interface, <span class="stringliteral">&quot;failed to allocate the monitor, so unref the interface&quot;</span>);</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;   }</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;   <span class="keywordflow">if</span> (!(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a5e96f4540f7d939f7c3c82cc76b18dcf">extension_monitor_pvt_init</a>())) {</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Failed to initialize extension monitor private data. uref monitor&quot;</span>);</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(cc_interface, <span class="stringliteral">&quot;Failed to initialize extension monitor private data. unref cc_interface&quot;</span>);</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;   }</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a> = <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a00c11e22178be31913d96130d567d6da">dialed_cc_interface_counter</a>, +1);</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a> = <a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;   cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a> = <span class="stringliteral">&quot;extension&quot;</span>;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;   cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> = <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733">AST_CC_EXTENSION_MONITOR</a>;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;   strcpy(cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a> = cc_interface;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Created an extension cc interface for &#39;%s&#39; with id %u and parent %u\n&quot;</span>, cc_interface-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>);</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="ccss_8c_html_a5e96f4540f7d939f7c3c82cc76b18dcf"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5e96f4540f7d939f7c3c82cc76b18dcf">extension_monitor_pvt_init</a></div><div class="ttdeci">static struct extension_monitor_pvt * extension_monitor_pvt_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01995">ccss.c:1995</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad57326008c326db88dc36779741622b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a></div><div class="ttdeci">#define ao2_t_alloc(data_size, destructor_fn, debug_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00409">astobj2.h:409</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="ccss_8c_html_a00c11e22178be31913d96130d567d6da"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a00c11e22178be31913d96130d567d6da">dialed_cc_interface_counter</a></div><div class="ttdeci">static int dialed_cc_interface_counter</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01875">ccss.c:1875</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1e9a324cdb55d394ecd48d7e199fb67e"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1e9a324cdb55d394ecd48d7e199fb67e">cc_interface_destroy</a></div><div class="ttdeci">static void cc_interface_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01737">ccss.c:1737</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="strings_8h_html_a7fc844c12b769ccded05e7514036e241"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a></div><div class="ttdeci">#define ast_str_alloca(init_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00800">strings.h:800</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733">AST_CC_EXTENSION_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00498">ccss.h:498</a></div></div>
<div class="ttc" id="structast__cc__interface_html"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html">ast_cc_interface</a></div><div class="ttdoc">Structure with information about an outbound interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00818">ccss.h:818</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="ccss_8c_html_a921d6a731af09f97878539af20508b6c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a921d6a731af09f97878539af20508b6c">cc_monitor_destroy</a></div><div class="ttdeci">static void cc_monitor_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01837">ccss.c:1837</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">ast_cc_interface::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor that should be used for this interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00830">ccss.h:830</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">ast_cc_monitor::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Data that is private to a monitor technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00561">ccss.h:561</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5547566d26e3d88ce29476cc0071081f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5547566d26e3d88ce29476cc0071081f">&#9670;&nbsp;</a></span>cc_failed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_failed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03266">3266</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01596">ao2_t_unlink</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01154">cc_publish_failure()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02998">cc_state_change_args::debug</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>.</p>
<div class="fragment"><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;{</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#adfa2f4d91c0d413c5e04763d38de9da2">cc_publish_failure</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#a7b5caf9143a8a851f92954b0f2534815">debug</a>);</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#abd79d7936e873108860cd00d59e1cede">ao2_t_unlink</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, core_instance, <span class="stringliteral">&quot;Unlink core instance since CC failed&quot;</span>);</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="astobj2_8h_html_abd79d7936e873108860cd00d59e1cede"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#abd79d7936e873108860cd00d59e1cede">ao2_t_unlink</a></div><div class="ttdeci">#define ao2_t_unlink(container, obj, tag)</div><div class="ttdoc">Remove an object from a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01596">astobj2.h:1596</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_a7b5caf9143a8a851f92954b0f2534815"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#a7b5caf9143a8a851f92954b0f2534815">cc_state_change_args::debug</a></div><div class="ttdeci">char debug[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02998">ccss.c:2998</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_adfa2f4d91c0d413c5e04763d38de9da2"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#adfa2f4d91c0d413c5e04763d38de9da2">cc_publish_failure</a></div><div class="ttdeci">static void cc_publish_failure(int core_id, const char *caller, const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01154">ccss.c:1154</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a82c41c6c02c5224e49e6a35422054008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c41c6c02c5224e49e6a35422054008">&#9670;&nbsp;</a></span>cc_generic_agent_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_generic_agent_destructor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02911">2911</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02722">cc_generic_agent_stop_offer_timer()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00871">ast_cc_agent::private_data</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00973">stasis_unsubscribe()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02628">cc_generic_agent_pvt::sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;{</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a> *<a class="code" href="../../dd/d4d/structagent__pvt.html">agent_pvt</a> = agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;   <span class="keywordflow">if</span> (!agent_pvt) {</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      <span class="comment">/* The agent constructor probably failed. */</span></div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;   }</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#ad4720257e5fa15773f5154f103f9b8f0">cc_generic_agent_stop_offer_timer</a>(agent);</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;   <span class="keywordflow">if</span> (agent_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a>) {</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;      agent_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a3498301077e2005383f0d261c471388b">stasis_unsubscribe</a>(agent_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a>);</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;   }</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(agent_pvt);</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;}</div><div class="ttc" id="structast__cc__agent_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">ast_cc_agent::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00871">ccss.h:871</a></div></div>
<div class="ttc" id="ccss_8c_html_ad4720257e5fa15773f5154f103f9b8f0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad4720257e5fa15773f5154f103f9b8f0">cc_generic_agent_stop_offer_timer</a></div><div class="ttdeci">static int cc_generic_agent_stop_offer_timer(struct ast_cc_agent *agent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02722">ccss.c:2722</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a03bb86c52b8e22ea4325ea04e6443fa0"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">cc_generic_agent_pvt::sub</a></div><div class="ttdeci">struct stasis_subscription * sub</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02628">ccss.c:2628</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02619">ccss.c:2619</a></div></div>
<div class="ttc" id="structagent__pvt_html"><div class="ttname"><a href="../../dd/d4d/structagent__pvt.html">agent_pvt</a></div><div class="ttdoc">Structure representing an agent. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/app__agent__pool_8c_source.html#l00594">app_agent_pool.c:594</a></div></div>
<div class="ttc" id="stasis_8h_html_a3498301077e2005383f0d261c471388b"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a3498301077e2005383f0d261c471388b">stasis_unsubscribe</a></div><div class="ttdeci">struct stasis_subscription * stasis_unsubscribe(struct stasis_subscription *subscription)</div><div class="ttdoc">Cancel a subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00973">stasis.c:973</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a6f58a009fa65bb99ebf18806f33704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a6f58a009fa65bb99ebf18806f33704">&#9670;&nbsp;</a></span>cc_generic_agent_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_agent_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02669">2669</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00067">AST_CC_AGENT_SKIP_OFFER</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00362">ast_channel_macrocontext()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00370">ast_channel_macroexten()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02650">cc_generic_agent_pvt::cid_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02642">cc_generic_agent_pvt::cid_num</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02666">cc_generic_agent_pvt::context</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02658">cc_generic_agent_pvt::exten</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02632">cc_generic_agent_pvt::offer_timer_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00871">ast_cc_agent::private_data</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;{</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a> *generic_pvt = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*generic_pvt));</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;   <span class="keywordflow">if</span> (!generic_pvt) {</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;   }</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;   generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">offer_timer_id</a> = -1;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str) {</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a9162a260cb494f0e5b76dad3967257fb">cid_num</a>, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <span class="keyword">sizeof</span>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a9162a260cb494f0e5b76dad3967257fb">cid_num</a>));</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;   }</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.valid &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str) {</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a9ea476d4754b891dcae7f9cb8a57ff79">cid_name</a>, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>.str, <span class="keyword">sizeof</span>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a9ea476d4754b891dcae7f9cb8a57ff79">cid_name</a>));</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;   }</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#ac4a5154adb73aec06ffe067102df8822">exten</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan)), <span class="keyword">sizeof</span>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#ac4a5154adb73aec06ffe067102df8822">exten</a>));</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a3cee01aec2b39358cc622dfa122f818c">context</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan)), <span class="keyword">sizeof</span>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a3cee01aec2b39358cc622dfa122f818c">context</a>));</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;   agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">private_data</a> = generic_pvt;</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(agent, <a class="code" href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16">AST_CC_AGENT_SKIP_OFFER</a>);</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="structast__cc__agent_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">ast_cc_agent::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00871">ccss.h:871</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a9162a260cb494f0e5b76dad3967257fb"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a9162a260cb494f0e5b76dad3967257fb">cc_generic_agent_pvt::cid_num</a></div><div class="ttdeci">char cid_num[AST_CHANNEL_NAME]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02642">ccss.c:2642</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a3cee01aec2b39358cc622dfa122f818c"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a3cee01aec2b39358cc622dfa122f818c">cc_generic_agent_pvt::context</a></div><div class="ttdeci">char context[AST_CHANNEL_NAME]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02666">ccss.c:2666</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_ac4a5154adb73aec06ffe067102df8822"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#ac4a5154adb73aec06ffe067102df8822">cc_generic_agent_pvt::exten</a></div><div class="ttdeci">char exten[AST_CHANNEL_NAME]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02658">ccss.c:2658</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02619">ccss.c:2619</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="ccss_8h_html_ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16">AST_CC_AGENT_SKIP_OFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00067">ccss.h:67</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a333ae32cb2dd11e7d343630628b9500a"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">cc_generic_agent_pvt::offer_timer_id</a></div><div class="ttdeci">int offer_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02632">ccss.c:2632</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a9ea476d4754b891dcae7f9cb8a57ff79"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a9ea476d4754b891dcae7f9cb8a57ff79">cc_generic_agent_pvt::cid_name</a></div><div class="ttdeci">char cid_name[AST_CHANNEL_NAME]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02650">ccss.c:2650</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="channel_8h_html_adf593d68a333075c1fcae8a73b68c069"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a></div><div class="ttdeci">const char * ast_channel_macrocontext(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00362">channel_internal_api.c:362</a></div></div>
<div class="ttc" id="channel_8h_html_ac967e3cfb7640aa743eb1c4811d46be0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a></div><div class="ttdeci">const char * ast_channel_macroexten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00370">channel_internal_api.c:370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bc0af93e35caadb30f652892abba2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc0af93e35caadb30f652892abba2d5">&#9670;&nbsp;</a></span>cc_generic_agent_recall()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_agent_recall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02895">2895</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03809">ast_cc_agent_caller_busy()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00572">ast_pthread_create_detached_background</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00849">ast_cc_agent::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;{</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;   pthread_t clotho;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> current_state = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a>(current_state)) {</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;      <span class="comment">/* We can&#39;t try to contact the device right now because he&#39;s not available</span></div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;<span class="comment">       * Let the core know he&#39;s busy.</span></div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a036830fccb99612f543bc8231f6c998f">ast_cc_agent_caller_busy</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <span class="stringliteral">&quot;Generic agent caller %s is busy&quot;</span>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;   }</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#aa73be876e3a4024b91ce2e09d8b945d1">ast_pthread_create_detached_background</a>(&amp;clotho, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#afd86c854f9feb5e231de8ca4f8d29c33">generic_recall</a>, agent);</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="ccss_8c_html_afd86c854f9feb5e231de8ca4f8d29c33"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afd86c854f9feb5e231de8ca4f8d29c33">generic_recall</a></div><div class="ttdeci">static void * generic_recall(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02816">ccss.c:2816</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_aa73be876e3a4024b91ce2e09d8b945d1"><div class="ttname"><a href="../../d5/d60/utils_8h.html#aa73be876e3a4024b91ce2e09d8b945d1">ast_pthread_create_detached_background</a></div><div class="ttdeci">#define ast_pthread_create_detached_background(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00572">utils.h:572</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="ccss_8c_html_a957c2dad047b8a2050d66c3dd069a082"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a></div><div class="ttdeci">static int cc_generic_is_device_available(enum ast_device_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01313">ccss.c:1313</a></div></div>
<div class="ttc" id="ccss_8c_html_a036830fccb99612f543bc8231f6c998f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a036830fccb99612f543bc8231f6c998f">ast_cc_agent_caller_busy</a></div><div class="ttdeci">int ast_cc_agent_caller_busy(int core_id, const char *debug,...)</div><div class="ttdoc">Indicate that the caller is busy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03809">ccss.c:3809</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a01686063c1a221ff28ac19e4ad8a1768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01686063c1a221ff28ac19e4ad8a1768">&#9670;&nbsp;</a></span>cc_generic_agent_respond()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_generic_agent_respond </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40f">ast_cc_agent_response_reason</a>&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02735">2735</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;{</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;   <span class="comment">/* The generic agent doesn&#39;t have to do anything special to</span></div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;<span class="comment">    * acknowledge a CC request. Just return.</span></div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a84250739ece34e5113deea11098c4db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84250739ece34e5113deea11098c4db2">&#9670;&nbsp;</a></span>cc_generic_agent_start_monitoring()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_agent_start_monitoring </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02791">2791</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00683">ast_device_state_topic()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00800">ast_str_alloca</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02761">generic_agent_devstate_cb()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00871">ast_cc_agent::private_data</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00652">stasis_subscribe</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01025">stasis_subscription_accept_message_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gafae630f05995b59b49dc523a5b9ce757">stasis_subscription_change_type()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00300">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01079">stasis_subscription_set_filter()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02628">cc_generic_agent_pvt::sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;{</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a> *generic_pvt = agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(128);</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *device_specific_topic;</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;str, 0, <span class="stringliteral">&quot;Agent monitoring %s device state since it is busy\n&quot;</span>,</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;   device_specific_topic = <a class="code" href="../../da/da2/devicestate_8h.html#a85810de734ea25b982144651195bbebb">ast_device_state_topic</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;   <span class="keywordflow">if</span> (!device_specific_topic) {</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;   }</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;   <span class="keywordflow">if</span> (!(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a> = <a class="code" href="../../dd/d79/stasis_8h.html#ae3fe7fe099389094244002113814ec23">stasis_subscribe</a>(device_specific_topic, <a class="code" href="../../d3/d5a/ccss_8c.html#ac5ead6c4392b14d14aca3d7defa07ff7">generic_agent_devstate_cb</a>, agent))) {</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;   }</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a4f248ee5f4791f05d0af8768aaab282b">stasis_subscription_accept_message_type</a>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type</a>());</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a4f248ee5f4791f05d0af8768aaab282b">stasis_subscription_accept_message_type</a>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a>, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafae630f05995b59b49dc523a5b9ce757">stasis_subscription_change_type</a>());</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a52b5393bef89d7781c0d039d6489de23">stasis_subscription_set_filter</a>(generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a>, <a class="code" href="../../dd/d79/stasis_8h.html#a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a>);</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(agent, <span class="stringliteral">&quot;Ref agent for subscription&quot;</span>);</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_a85810de734ea25b982144651195bbebb"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a85810de734ea25b982144651195bbebb">ast_device_state_topic</a></div><div class="ttdeci">struct stasis_topic * ast_device_state_topic(const char *device)</div><div class="ttdoc">Get the Stasis topic for device state messages for a specific device. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00683">devicestate.c:683</a></div></div>
<div class="ttc" id="structast__cc__agent_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">ast_cc_agent::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00871">ccss.h:871</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="stasis_8h_html_a52b5393bef89d7781c0d039d6489de23"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a52b5393bef89d7781c0d039d6489de23">stasis_subscription_set_filter</a></div><div class="ttdeci">int stasis_subscription_set_filter(struct stasis_subscription *subscription, enum stasis_subscription_message_filter filter)</div><div class="ttdoc">Set the message type filtering level on a subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01079">stasis.c:1079</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="strings_8h_html_a7fc844c12b769ccded05e7514036e241"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a></div><div class="ttdeci">#define ast_str_alloca(init_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00800">strings.h:800</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="devicestate_8h_html_a9459272db1c8c968ed1aff1387f0f9fd"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type</a></div><div class="ttdeci">struct stasis_message_type * ast_device_state_message_type(void)</div><div class="ttdoc">Get the Stasis message type for device state messages. </div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a03bb86c52b8e22ea4325ea04e6443fa0"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">cc_generic_agent_pvt::sub</a></div><div class="ttdeci">struct stasis_subscription * sub</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02628">ccss.c:2628</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02619">ccss.c:2619</a></div></div>
<div class="ttc" id="stasis_8h_html_ae3fe7fe099389094244002113814ec23"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ae3fe7fe099389094244002113814ec23">stasis_subscribe</a></div><div class="ttdeci">#define stasis_subscribe(topic, callback, data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00652">stasis.h:652</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="ccss_8c_html_ac5ead6c4392b14d14aca3d7defa07ff7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac5ead6c4392b14d14aca3d7defa07ff7">generic_agent_devstate_cb</a></div><div class="ttdeci">static void generic_agent_devstate_cb(void *userdata, struct stasis_subscription *sub, struct stasis_message *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02761">ccss.c:2761</a></div></div>
<div class="ttc" id="stasis_8h_html_a4f248ee5f4791f05d0af8768aaab282b"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a4f248ee5f4791f05d0af8768aaab282b">stasis_subscription_accept_message_type</a></div><div class="ttdeci">int stasis_subscription_accept_message_type(struct stasis_subscription *subscription, const struct stasis_message_type *type)</div><div class="ttdoc">Indicate to a subscription that we are interested in a message type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01025">stasis.c:1025</a></div></div>
<div class="ttc" id="stasis_8h_html_a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00300">stasis.h:300</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gafae630f05995b59b49dc523a5b9ce757"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gafae630f05995b59b49dc523a5b9ce757">stasis_subscription_change_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_subscription_change_type(void)</div><div class="ttdoc">Gets the message type for subscription change notices. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa117b87476687794cfcd3ba9ea33821c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa117b87476687794cfcd3ba9ea33821c">&#9670;&nbsp;</a></span>cc_generic_agent_start_offer_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_agent_start_offer_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02703">2703</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00900">ast_get_cc_offer_timer()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00565">ast_sched_add()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00859">ast_cc_agent::cc_params</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00849">ast_cc_agent::core_id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02691">offer_timer_expire()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02632">cc_generic_agent_pvt::offer_timer_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00871">ast_cc_agent::private_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;{</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;   <span class="keywordtype">int</span> when;</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d1/dab/structsched__id.html">sched_id</a>;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a> *generic_pvt = agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;   when = <a class="code" href="../../d3/d5a/ccss_8c.html#a38cd4e661213322b65b7660a8b50027c">ast_get_cc_offer_timer</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a>) * 1000;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %u: About to schedule offer timer expiration for %d ms\n&quot;</span>,</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;         agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, when);</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;   <span class="keywordflow">if</span> ((sched_id = <a class="code" href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a>, when, <a class="code" href="../../d3/d5a/ccss_8c.html#a6eafdaf4a298814d2cb24cf21cc09eb3">offer_timer_expire</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(agent, <span class="stringliteral">&quot;Give scheduler an agent ref&quot;</span>))) == -1) {</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;   }</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;   generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">offer_timer_id</a> = sched_id;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;}</div><div class="ttc" id="structast__cc__agent_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">ast_cc_agent::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00871">ccss.h:871</a></div></div>
<div class="ttc" id="structast__cc__agent_html_ad1b63200d8c1c6e60caa69a887b9964e"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">ast_cc_agent::cc_params</a></div><div class="ttdeci">struct ast_cc_config_params * cc_params</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00859">ccss.h:859</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="structsched__id_html"><div class="ttname"><a href="../../d1/dab/structsched__id.html">sched_id</a></div><div class="ttdoc">Scheduler ID holder. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00070">sched.c:70</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_a082832e22a050d2dd5e8c3019207b1ed"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a></div><div class="ttdeci">static struct ast_sched_context * cc_sched_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00115">ccss.c:115</a></div></div>
<div class="ttc" id="ccss_8c_html_a6eafdaf4a298814d2cb24cf21cc09eb3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6eafdaf4a298814d2cb24cf21cc09eb3">offer_timer_expire</a></div><div class="ttdeci">static int offer_timer_expire(const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02691">ccss.c:2691</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02619">ccss.c:2619</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="sched_8h_html_a7a43dcf8be6b2ed7f96f3867fbcb4082"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a></div><div class="ttdeci">int ast_sched_add(struct ast_sched_context *con, int when, ast_sched_cb callback, const void *data) attribute_warn_unused_result</div><div class="ttdoc">Adds a scheduled event. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00565">sched.c:565</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a333ae32cb2dd11e7d343630628b9500a"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">cc_generic_agent_pvt::offer_timer_id</a></div><div class="ttdeci">int offer_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02632">ccss.c:2632</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="ccss_8c_html_a38cd4e661213322b65b7660a8b50027c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a38cd4e661213322b65b7660a8b50027c">ast_get_cc_offer_timer</a></div><div class="ttdeci">unsigned int ast_get_cc_offer_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_offer_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00900">ccss.c:900</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fe497ee3add59a111be505df8cfaf28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe497ee3add59a111be505df8cfaf28">&#9670;&nbsp;</a></span>cc_generic_agent_status_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_agent_status_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02743">2743</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04093">ast_cc_agent_status_response()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00849">ast_cc_agent::core_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;{</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#acdc7eb3bf93834fe45f72829ff9abe16">ast_cc_agent_status_response</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>));</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="ccss_8c_html_acdc7eb3bf93834fe45f72829ff9abe16"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#acdc7eb3bf93834fe45f72829ff9abe16">ast_cc_agent_status_response</a></div><div class="ttdeci">int ast_cc_agent_status_response(int core_id, enum ast_device_state devstate)</div><div class="ttdoc">Response with a caller&amp;#39;s current status. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04093">ccss.c:4093</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4720257e5fa15773f5154f103f9b8f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4720257e5fa15773f5154f103f9b8f0">&#9670;&nbsp;</a></span>cc_generic_agent_stop_offer_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_agent_stop_offer_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02722">2722</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/dbe/sched_8c_source.html#l00610">ast_sched_del()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02632">cc_generic_agent_pvt::offer_timer_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00871">ast_cc_agent::private_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02911">cc_generic_agent_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;{</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a> *generic_pvt = agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;   <span class="keywordflow">if</span> (generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">offer_timer_id</a> != -1) {</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a>, generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">offer_timer_id</a>)) {</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(agent, <span class="stringliteral">&quot;Remove scheduler&#39;s reference to the agent&quot;</span>);</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;      }</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">offer_timer_id</a> = -1;</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;   }</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;}</div><div class="ttc" id="structast__cc__agent_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">ast_cc_agent::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00871">ccss.h:871</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a082832e22a050d2dd5e8c3019207b1ed"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a></div><div class="ttdeci">static struct ast_sched_context * cc_sched_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00115">ccss.c:115</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02619">ccss.c:2619</a></div></div>
<div class="ttc" id="sched_8h_html_a3a093634fe17bd0ac4eb6f518aa0782e"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a></div><div class="ttdeci">int ast_sched_del(struct ast_sched_context *con, int id) attribute_warn_unused_result</div><div class="ttdoc">Deletes a scheduled event. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00610">sched.c:610</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a333ae32cb2dd11e7d343630628b9500a"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">cc_generic_agent_pvt::offer_timer_id</a></div><div class="ttdeci">int offer_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02632">ccss.c:2632</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52730f6563afb3162d9bbcf40bc11481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52730f6563afb3162d9bbcf40bc11481">&#9670;&nbsp;</a></span>cc_generic_agent_stop_ringing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_agent_stop_ringing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02749">2749</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l01434">ast_channel_get_by_name_prefix()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01149">AST_SOFTHANGUP_EXPLICIT</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;{</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *recall_chan = <a class="code" href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, strlen(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>));</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;   <span class="keywordflow">if</span> (!recall_chan) {</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;   }</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(recall_chan, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a>);</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01149">channel.h:1149</a></div></div>
<div class="ttc" id="channel_8h_html_a71d89dbc5107b1f851dcbf1686a0d9d9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a71d89dbc5107b1f851dcbf1686a0d9d9">ast_channel_get_by_name_prefix</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name_prefix(const char *name, size_t name_len)</div><div class="ttdoc">Find a channel by a name prefix. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01434">channel.c:1434</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a957c2dad047b8a2050d66c3dd069a082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957c2dad047b8a2050d66c3dd069a082">&#9670;&nbsp;</a></span>cc_generic_is_device_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_is_device_available </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">1313</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/da2/devicestate_8h_source.html#l00054">AST_DEVICE_NOT_INUSE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00053">AST_DEVICE_UNKNOWN</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01651">cc_generic_monitor_cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01668">cc_generic_monitor_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01582">cc_generic_monitor_suspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01623">cc_generic_monitor_unsuspend()</a>, and <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02895">cc_generic_agent_recall()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01668">cc_generic_monitor_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01582">cc_generic_monitor_suspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01623">cc_generic_monitor_unsuspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02761">generic_agent_devstate_cb()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01443">generic_monitor_devstate_tp_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;{</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d88/structstate.html">state</a> == <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a> || <a class="code" href="../../d4/d88/structstate.html">state</a> == <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a>;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00053">devicestate.h:53</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00054">devicestate.h:54</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7467dc520fbdac1fb9fe8abbb028eea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7467dc520fbdac1fb9fe8abbb028eea2">&#9670;&nbsp;</a></span>cc_generic_monitor_cancel_available_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_monitor_cancel_available_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sched_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01651">1651</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00610">ast_sched_del()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>.</p>
<div class="fragment"><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;{</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d1/dab/structsched__id.html">sched_id</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;   <span class="keywordflow">if</span> (*<a class="code" href="../../d1/dab/structsched__id.html">sched_id</a> == -1) {</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;   }</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Canceling generic monitor available timer for monitor %s\n&quot;</span>,</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;         monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a>, *<a class="code" href="../../d1/dab/structsched__id.html">sched_id</a>)) {</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Remove scheduler&#39;s reference to the monitor&quot;</span>);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   }</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   *<a class="code" href="../../d1/dab/structsched__id.html">sched_id</a> = -1;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="structsched__id_html"><div class="ttname"><a href="../../d1/dab/structsched__id.html">sched_id</a></div><div class="ttdoc">Scheduler ID holder. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00070">sched.c:70</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_a082832e22a050d2dd5e8c3019207b1ed"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a></div><div class="ttdeci">static struct ast_sched_context * cc_sched_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00115">ccss.c:115</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="sched_8h_html_a3a093634fe17bd0ac4eb6f518aa0782e"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a></div><div class="ttdeci">int ast_sched_del(struct ast_sched_context *con, int id) attribute_warn_unused_result</div><div class="ttdoc">Deletes a scheduled event. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00610">sched.c:610</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afbf48ae36a49d5829eef8d3d9cfb27ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf48ae36a49d5829eef8d3d9cfb27ef">&#9670;&nbsp;</a></span>cc_generic_monitor_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_generic_monitor_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01668">1668</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01596">ao2_t_unlink</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03798">ast_cc_monitor_callee_available()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00449">AST_LIST_EMPTY</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01336">generic_monitor_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01380">generic_monitor_pvt::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01344">generic_monitor_instance_list::current_state</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01373">generic_monitor_pvt::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01386">find_generic_monitor_instance_list()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01360">generic_monitor_instance_list::fit_for_recall</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01337">generic_monitor_instance::is_suspended</a>, <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01338">generic_monitor_instance::monitoring</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01339">generic_monitor_instance::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>.</p>
<div class="fragment"><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;{</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html">generic_monitor_pvt</a> *gen_mon_pvt = private_data;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *generic_list;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a> *generic_instance;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <span class="keywordflow">if</span> (!private_data) {</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <span class="comment">/* If the private data is NULL, that means that the monitor hasn&#39;t even</span></div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment">       * been created yet, but that the destructor was called. While this sort</span></div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">       * of behavior is useful for native monitors, with a generic one, there is</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment">       * nothing in particular to do.</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Destroying generic monitor %s\n&quot;</span>,</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;         gen_mon_pvt-&gt;<a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, gen_mon_pvt-&gt;<a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   <span class="keywordflow">if</span> (!(generic_list = <a class="code" href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a>(gen_mon_pvt-&gt;<a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>))) {</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      <span class="comment">/* If there&#39;s no generic list, that means that the monitor is being destroyed</span></div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="comment">       * before we actually got to request CC. Not a biggie. Same in the situation</span></div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment">       * below if the list traversal should complete without finding an entry.</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)gen_mon_pvt-&gt;<a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gen_mon_pvt);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   }</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>, generic_instance, <a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">next</a>) {</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <span class="keywordflow">if</span> (generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> == gen_mon_pvt-&gt;<a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>) {</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">next</a>);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(generic_instance);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      }</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;   }</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>)) {</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="comment">/* No more monitors with this device name exist. Time to unlink this</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="comment">       * list from the container</span></div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#abd79d7936e873108860cd00d59e1cede">ao2_t_unlink</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a>, generic_list, <span class="stringliteral">&quot;Generic list is empty. Unlink it from the container&quot;</span>);</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <span class="comment">/* There are still instances for this particular device. The situation</span></div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment">       * may be that we were attempting a CC recall and a failure occurred, perhaps</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="comment">       * on the agent side. If a failure happens here and the device being monitored</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="comment">       * is available, then we need to signal on the first unsuspended instance that</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="comment">       * the device is available for recall.</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="comment">/* First things first. We don&#39;t even want to consider this action if</span></div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="comment">       * the device in question isn&#39;t available right now.</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <span class="keywordflow">if</span> (generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ae276c787d6077c1a375e4e1e9284079d">fit_for_recall</a></div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;         &amp;&amp; <a class="code" href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a>(generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a503053a5b5fd6740ae389c208118fd4d">current_state</a>)) {</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>, generic_instance, <a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">next</a>) {</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            <span class="keywordflow">if</span> (!generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">is_suspended</a> &amp;&amp; generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">monitoring</a>) {</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;               <a class="code" href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a>(generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Signaling generic monitor &quot;</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                     <span class="stringliteral">&quot;availability due to other instance&#39;s failure.&quot;</span>);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            }</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;         }</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      }</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   }</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Done with generic list in generic monitor destructor&quot;</span>);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)gen_mon_pvt-&gt;<a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gen_mon_pvt);</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a8f831cfaba759c6073f1940c9b81e2a9"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a></div><div class="ttdeci">int ast_cc_monitor_callee_available(const int core_id, const char *const debug,...)</div><div class="ttdoc">Alert the core that a device being monitored has become available. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03798">ccss.c:3798</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="astobj2_8h_html_abd79d7936e873108860cd00d59e1cede"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#abd79d7936e873108860cd00d59e1cede">ao2_t_unlink</a></div><div class="ttdeci">#define ao2_t_unlink(container, obj, tag)</div><div class="ttdoc">Remove an object from a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01596">astobj2.h:1596</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4a1884cde93e53bef32ca85c194a1d05"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a></div><div class="ttdeci">#define AST_LIST_EMPTY(head)</div><div class="ttdoc">Checks whether the specified list contains any entries. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00449">linkedlists.h:449</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a1a6588582c3092775aaca48a1b374e78"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">generic_monitor_instance::is_suspended</a></div><div class="ttdeci">int is_suspended</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01337">ccss.c:1337</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="structgeneric__monitor__pvt_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d8/d43/structgeneric__monitor__pvt.html#a72a2c55008105f91d1af2942453eca2b">generic_monitor_pvt::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01380">ccss.c:1380</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ab7ef0dbef8e1c1b0efb448932ceb9413"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a></div><div class="ttdeci">struct generic_monitor_instance_list::@364 list</div></div>
<div class="ttc" id="ccss_8c_html_aad06522a895314598284234778252c1c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a></div><div class="ttdeci">struct ao2_container * generic_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01333">ccss.c:1333</a></div></div>
<div class="ttc" id="ccss_8c_html_afbedbf4b9985ca5c4f0a0b6a54f3b0c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a></div><div class="ttdeci">static struct generic_monitor_instance_list * find_generic_monitor_instance_list(const char *const device_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01386">ccss.c:1386</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a620e73b056649601be8c509dd4f11cdd"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">generic_monitor_instance::monitoring</a></div><div class="ttdeci">int monitoring</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01338">ccss.c:1338</a></div></div>
<div class="ttc" id="structgeneric__monitor__pvt_html"><div class="ttname"><a href="../../d8/d43/structgeneric__monitor__pvt.html">generic_monitor_pvt</a></div><div class="ttdoc">private data for generic device monitor </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01368">ccss.c:1368</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">generic_monitor_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01336">ccss.c:1336</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01335">ccss.c:1335</a></div></div>
<div class="ttc" id="ccss_8c_html_a957c2dad047b8a2050d66c3dd069a082"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a></div><div class="ttdeci">static int cc_generic_is_device_available(enum ast_device_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01313">ccss.c:1313</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structgeneric__monitor__pvt_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../d8/d43/structgeneric__monitor__pvt.html#a77c7adc4663824cee5fa2e15b9e266e7">generic_monitor_pvt::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01373">ccss.c:1373</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_a503053a5b5fd6740ae389c208118fd4d"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#a503053a5b5fd6740ae389c208118fd4d">generic_monitor_instance_list::current_state</a></div><div class="ttdeci">enum ast_device_state current_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01344">ccss.c:1344</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ae276c787d6077c1a375e4e1e9284079d"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ae276c787d6077c1a375e4e1e9284079d">generic_monitor_instance_list::fit_for_recall</a></div><div class="ttdeci">int fit_for_recall</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01360">ccss.c:1360</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_ae23621ecf780a667bb92aadeb65abbf3"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">generic_monitor_instance::next</a></div><div class="ttdeci">struct generic_monitor_instance * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01339">ccss.c:1339</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01342">ccss.c:1342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abaf474300b4c445523509dd94da50132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf474300b4c445523509dd94da50132">&#9670;&nbsp;</a></span>cc_generic_monitor_request_cc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_monitor_request_cc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>available_timer_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">1519</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01509">ast_cc_available_timer_expire()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00036">AST_CC_CCBS</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00040">AST_CC_CCNL</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00038">AST_CC_CCNR</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03787">ast_cc_monitor_request_acked()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00945">ast_get_ccbs_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00915">ast_get_ccnr_available_timer()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00565">ast_sched_add()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00834">ast_cc_interface::config_params</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01336">generic_monitor_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01380">generic_monitor_pvt::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01409">create_new_generic_list()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01373">generic_monitor_pvt::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01386">find_generic_monitor_instance_list()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01360">generic_monitor_instance_list::fit_for_recall</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01338">generic_monitor_instance::monitoring</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00561">ast_cc_monitor::private_data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00383">service</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00532">ast_cc_monitor::service_offered</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>.</p>
<div class="fragment"><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;{</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *generic_list;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a> *generic_instance;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html">generic_monitor_pvt</a> *gen_mon_pvt;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> <a class="code" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a> = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ade92ed8ed7a6fa7c3bb9a0e91db6e192">service_offered</a>;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;   <span class="keywordtype">int</span> when;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   <span class="comment">/* First things first. Native channel drivers will have their private data allocated</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="comment">    * at the time that they tell the core that they can offer CC. Generic is quite a bit</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="comment">    * different, and we wait until this point to allocate our private data.</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;   <span class="keywordflow">if</span> (!(gen_mon_pvt = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*gen_mon_pvt)))) {</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   }</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   <span class="keywordflow">if</span> (!(gen_mon_pvt-&gt;<a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>))) {</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gen_mon_pvt);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;   }</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   gen_mon_pvt-&gt;<a class="code" href="../../d8/d43/structgeneric__monitor__pvt.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;   monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a> = gen_mon_pvt;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;   <span class="keywordflow">if</span> (!(generic_list = <a class="code" href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>))) {</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      <span class="keywordflow">if</span> (!(generic_list = <a class="code" href="../../d3/d5a/ccss_8c.html#a15f0ce6ce80fbf5cbc933df54f4d919c">create_new_generic_list</a>(monitor))) {</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      }</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   }</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   <span class="keywordflow">if</span> (!(generic_instance = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*generic_instance)))) {</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <span class="comment">/* The generic monitor destructor will take care of the appropriate</span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">       * deallocations</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Generic monitor instance failed to allocate&quot;</span>);</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   }</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">monitoring</a> = 1;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>, generic_instance, next);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   when = service == <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a> ? <a class="code" href="../../d3/d5a/ccss_8c.html#a76d377a378c28013504d3b2f4a335764">ast_get_ccbs_available_timer</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#abc64696053780e1aecc0803459cc9454">config_params</a>) :</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a8c56a61357eecdf10b801914b367f59f">ast_get_ccnr_available_timer</a>(monitor-&gt;interface-&gt;config_params);</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;   *available_timer_id = <a class="code" href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a>, when * 1000,</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a01932a0cf8fdb65d6225199cef522cf1">ast_cc_available_timer_expire</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(monitor, <span class="stringliteral">&quot;Give the scheduler a monitor reference&quot;</span>));</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <span class="keywordflow">if</span> (*available_timer_id == -1) {</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Failed to schedule available timer. (monitor)&quot;</span>);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Failed to schedule available timer. (generic_list)&quot;</span>);</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   <span class="comment">/* If the new instance was created as CCNR, then that means this device is not currently</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">    * fit for recall even if it previously was.</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   <span class="keywordflow">if</span> (service == <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530aec12fa6bbd080be709806e28f8bade1e">AST_CC_CCNR</a> || service == <a class="code" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a3242b57514a2c81b6f9edd33ddef1f1a">AST_CC_CCNL</a>) {</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ae276c787d6077c1a375e4e1e9284079d">fit_for_recall</a> = 0;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;   }</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a64d38b6c2631ece08ca6f32620e02635">ast_cc_monitor_request_acked</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Generic monitor for %s subscribed to device state.&quot;</span>,</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;         monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Finished with monitor instance reference in request cc callback&quot;</span>);</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a8c56a61357eecdf10b801914b367f59f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c56a61357eecdf10b801914b367f59f">ast_get_ccnr_available_timer</a></div><div class="ttdeci">unsigned int ast_get_ccnr_available_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the ccnr_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00915">ccss.c:915</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530a3242b57514a2c81b6f9edd33ddef1f1a"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a3242b57514a2c81b6f9edd33ddef1f1a">AST_CC_CCNL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00040">ccss.h:40</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a64d38b6c2631ece08ca6f32620e02635"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a64d38b6c2631ece08ca6f32620e02635">ast_cc_monitor_request_acked</a></div><div class="ttdeci">int ast_cc_monitor_request_acked(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate that an outbound entity has accepted our CC request. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03787">ccss.c:3787</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a></div><div class="ttdeci">ast_cc_service_type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00032">ccss.h:32</a></div></div>
<div class="ttc" id="ccss_8c_html_a082832e22a050d2dd5e8c3019207b1ed"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a></div><div class="ttdeci">static struct ast_sched_context * cc_sched_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00115">ccss.c:115</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="ccss_8c_html_a01932a0cf8fdb65d6225199cef522cf1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a01932a0cf8fdb65d6225199cef522cf1">ast_cc_available_timer_expire</a></div><div class="ttdeci">int ast_cc_available_timer_expire(const void *data)</div><div class="ttdoc">Scheduler callback for available timer expiration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01509">ccss.c:1509</a></div></div>
<div class="ttc" id="ccss_8c_html_a15f0ce6ce80fbf5cbc933df54f4d919c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a15f0ce6ce80fbf5cbc933df54f4d919c">create_new_generic_list</a></div><div class="ttdeci">static struct generic_monitor_instance_list * create_new_generic_list(struct ast_cc_monitor *monitor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01409">ccss.c:1409</a></div></div>
<div class="ttc" id="structgeneric__monitor__pvt_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d8/d43/structgeneric__monitor__pvt.html#a72a2c55008105f91d1af2942453eca2b">generic_monitor_pvt::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01380">ccss.c:1380</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530aec12fa6bbd080be709806e28f8bade1e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530aec12fa6bbd080be709806e28f8bade1e">AST_CC_CCNR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00038">ccss.h:38</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ab7ef0dbef8e1c1b0efb448932ceb9413"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a></div><div class="ttdeci">struct generic_monitor_instance_list::@364 list</div></div>
<div class="ttc" id="structast__cc__interface_html_abc64696053780e1aecc0803459cc9454"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#abc64696053780e1aecc0803459cc9454">ast_cc_interface::config_params</a></div><div class="ttdeci">struct ast_cc_config_params * config_params</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00834">ccss.h:834</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="ccss_8c_html_afbedbf4b9985ca5c4f0a0b6a54f3b0c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a></div><div class="ttdeci">static struct generic_monitor_instance_list * find_generic_monitor_instance_list(const char *const device_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01386">ccss.c:1386</a></div></div>
<div class="ttc" id="ccss_8h_html_a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530a64c2fae63ae9df0696a2092477c6fcb2">AST_CC_CCBS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00036">ccss.h:36</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a620e73b056649601be8c509dd4f11cdd"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">generic_monitor_instance::monitoring</a></div><div class="ttdeci">int monitoring</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01338">ccss.c:1338</a></div></div>
<div class="ttc" id="sched_8h_html_a7a43dcf8be6b2ed7f96f3867fbcb4082"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a7a43dcf8be6b2ed7f96f3867fbcb4082">ast_sched_add</a></div><div class="ttdeci">int ast_sched_add(struct ast_sched_context *con, int when, ast_sched_cb callback, const void *data) attribute_warn_unused_result</div><div class="ttdoc">Adds a scheduled event. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00565">sched.c:565</a></div></div>
<div class="ttc" id="structgeneric__monitor__pvt_html"><div class="ttname"><a href="../../d8/d43/structgeneric__monitor__pvt.html">generic_monitor_pvt</a></div><div class="ttdoc">private data for generic device monitor </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01368">ccss.c:1368</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">generic_monitor_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01336">ccss.c:1336</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01335">ccss.c:1335</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">ast_cc_monitor::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Data that is private to a monitor technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00561">ccss.h:561</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structgeneric__monitor__pvt_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../d8/d43/structgeneric__monitor__pvt.html#a77c7adc4663824cee5fa2e15b9e266e7">generic_monitor_pvt::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01373">ccss.c:1373</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ade92ed8ed7a6fa7c3bb9a0e91db6e192"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ade92ed8ed7a6fa7c3bb9a0e91db6e192">ast_cc_monitor::service_offered</a></div><div class="ttdeci">enum ast_cc_service_type service_offered</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00532">ccss.h:532</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ae276c787d6077c1a375e4e1e9284079d"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ae276c787d6077c1a375e4e1e9284079d">generic_monitor_instance_list::fit_for_recall</a></div><div class="ttdeci">int fit_for_recall</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01360">ccss.c:1360</a></div></div>
<div class="ttc" id="ccss_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00383">ccss.c:383</a></div></div>
<div class="ttc" id="ccss_8c_html_a76d377a378c28013504d3b2f4a335764"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a76d377a378c28013504d3b2f4a335764">ast_get_ccbs_available_timer</a></div><div class="ttdeci">unsigned int ast_get_ccbs_available_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the ccbs_available_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00945">ccss.c:945</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01342">ccss.c:1342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a982d7e3f139e46fb41ee28978d0f46b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a982d7e3f139e46fb41ee28978d0f46b8">&#9670;&nbsp;</a></span>cc_generic_monitor_suspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_monitor_suspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01582">1582</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03798">ast_cc_monitor_callee_available()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01336">generic_monitor_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01386">find_generic_monitor_instance_list()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01337">generic_monitor_instance::is_suspended</a>, <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01339">generic_monitor_instance::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>.</p>
<div class="fragment"><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;{</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *generic_list;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a> *generic_instance;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> <a class="code" href="../../d4/d88/structstate.html">state</a> = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;   <span class="keywordflow">if</span> (!(generic_list = <a class="code" href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>))) {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;   }</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;   <span class="comment">/* First we need to mark this particular monitor as being suspended. */</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>, generic_instance, <a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">next</a>) {</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <span class="keywordflow">if</span> (generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> == monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>) {</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;         generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">is_suspended</a> = 1;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   }</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;   <span class="comment">/* If the device being suspended is currently in use, then we don&#39;t need to</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">    * take any further actions</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a>(state)) {</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Device is in use. Nothing to do. Unref generic list.&quot;</span>);</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;   }</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;   <span class="comment">/* If the device is not in use, though, then it may be possible to report the</span></div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">    * device&#39;s availability using a different monitor which is monitoring the</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">    * same device</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>, generic_instance, <a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">next</a>) {</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      <span class="keywordflow">if</span> (!generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">is_suspended</a>) {</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a>(generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Generic monitored party has become available&quot;</span>);</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      }</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;   }</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Done with generic list in suspend callback&quot;</span>);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a8f831cfaba759c6073f1940c9b81e2a9"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a></div><div class="ttdeci">int ast_cc_monitor_callee_available(const int core_id, const char *const debug,...)</div><div class="ttdoc">Alert the core that a device being monitored has become available. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03798">ccss.c:3798</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a1a6588582c3092775aaca48a1b374e78"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">generic_monitor_instance::is_suspended</a></div><div class="ttdeci">int is_suspended</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01337">ccss.c:1337</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ab7ef0dbef8e1c1b0efb448932ceb9413"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a></div><div class="ttdeci">struct generic_monitor_instance_list::@364 list</div></div>
<div class="ttc" id="ccss_8c_html_afbedbf4b9985ca5c4f0a0b6a54f3b0c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a></div><div class="ttdeci">static struct generic_monitor_instance_list * find_generic_monitor_instance_list(const char *const device_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01386">ccss.c:1386</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">generic_monitor_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01336">ccss.c:1336</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01335">ccss.c:1335</a></div></div>
<div class="ttc" id="ccss_8c_html_a957c2dad047b8a2050d66c3dd069a082"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a></div><div class="ttdeci">static int cc_generic_is_device_available(enum ast_device_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01313">ccss.c:1313</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_ae23621ecf780a667bb92aadeb65abbf3"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">generic_monitor_instance::next</a></div><div class="ttdeci">struct generic_monitor_instance * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01339">ccss.c:1339</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01342">ccss.c:1342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d11c6d1da81cabe4efda4635d879b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d11c6d1da81cabe4efda4635d879b12">&#9670;&nbsp;</a></span>cc_generic_monitor_unsuspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_generic_monitor_unsuspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01623">1623</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03798">ast_cc_monitor_callee_available()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01336">generic_monitor_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01386">find_generic_monitor_instance_list()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01337">generic_monitor_instance::is_suspended</a>, <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01338">generic_monitor_instance::monitoring</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>.</p>
<div class="fragment"><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;{</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a> *generic_instance;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *generic_list = <a class="code" href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> <a class="code" href="../../d4/d88/structstate.html">state</a> = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   <span class="keywordflow">if</span> (!generic_list) {</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;   }</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;   <span class="comment">/* If the device is currently available, we can immediately announce</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">    * its availability</span></div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a>(state)) {</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Generic monitored party has become available&quot;</span>);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   }</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <span class="comment">/* In addition, we need to mark this generic_monitor_instance as not being suspended anymore */</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>, generic_instance, next) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="keywordflow">if</span> (generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> == monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>) {</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;         generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">is_suspended</a> = 0;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;         generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">monitoring</a> = 1;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;   }</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Done with generic list in cc_generic_monitor_unsuspend&quot;</span>);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a8f831cfaba759c6073f1940c9b81e2a9"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a></div><div class="ttdeci">int ast_cc_monitor_callee_available(const int core_id, const char *const debug,...)</div><div class="ttdoc">Alert the core that a device being monitored has become available. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03798">ccss.c:3798</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a1a6588582c3092775aaca48a1b374e78"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">generic_monitor_instance::is_suspended</a></div><div class="ttdeci">int is_suspended</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01337">ccss.c:1337</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ab7ef0dbef8e1c1b0efb448932ceb9413"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a></div><div class="ttdeci">struct generic_monitor_instance_list::@364 list</div></div>
<div class="ttc" id="ccss_8c_html_afbedbf4b9985ca5c4f0a0b6a54f3b0c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a></div><div class="ttdeci">static struct generic_monitor_instance_list * find_generic_monitor_instance_list(const char *const device_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01386">ccss.c:1386</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a620e73b056649601be8c509dd4f11cdd"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">generic_monitor_instance::monitoring</a></div><div class="ttdeci">int monitoring</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01338">ccss.c:1338</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">generic_monitor_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01336">ccss.c:1336</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01335">ccss.c:1335</a></div></div>
<div class="ttc" id="ccss_8c_html_a957c2dad047b8a2050d66c3dd069a082"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a></div><div class="ttdeci">static int cc_generic_is_device_available(enum ast_device_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01313">ccss.c:1313</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01342">ccss.c:1342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e9a324cdb55d394ecd48d7e199fb67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e9a324cdb55d394ecd48d7e199fb67e">&#9670;&nbsp;</a></span>cc_interface_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_interface_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01737">1737</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00693">ast_cc_config_params_destroy()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;{</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d58/structast__cc__interface.html">ast_cc_interface</a> *<span class="keyword">interface </span>= data;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Destroying cc interface %s\n&quot;</span>, interface-&gt;device_name);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a239279c104563561034f7988b78ae685">ast_cc_config_params_destroy</a>(interface-&gt;config_params);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;}</div><div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a239279c104563561034f7988b78ae685"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a239279c104563561034f7988b78ae685">ast_cc_config_params_destroy</a></div><div class="ttdeci">void ast_cc_config_params_destroy(struct ast_cc_config_params *params)</div><div class="ttdoc">Free memory from CCSS configuration params. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00693">ccss.c:693</a></div></div>
<div class="ttc" id="structast__cc__interface_html"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html">ast_cc_interface</a></div><div class="ttdoc">Structure with information about an outbound interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00818">ccss.h:818</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2cc33f092704c4daa2437b50bed6595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2cc33f092704c4daa2437b50bed6595">&#9670;&nbsp;</a></span>cc_interface_tree_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_interface_tree_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01858">1858</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00652">AST_LIST_HEAD_DESTROY</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00547">ast_cc_monitor::available_timer_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00657">ast_cc_monitor_callbacks::cancel_available_timer</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;{</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a> *cc_interface_tree = data;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;   <span class="keywordflow">while</span> ((monitor = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(cc_interface_tree, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>))) {</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <span class="keywordflow">if</span> (monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>) {</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;         monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a4c8e36220d9443cf53fd01c5b690a2f3">cancel_available_timer</a>(monitor, &amp;monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">available_timer_id</a>);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      }</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Destroying all monitors&quot;</span>);</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   }</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a47bafe663a14b91827082787d7654d7c">AST_LIST_HEAD_DESTROY</a>(cc_interface_tree);</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;}</div><div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_a4c8e36220d9443cf53fd01c5b690a2f3"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#a4c8e36220d9443cf53fd01c5b690a2f3">ast_cc_monitor_callbacks::cancel_available_timer</a></div><div class="ttdeci">int(* cancel_available_timer)(struct ast_cc_monitor *monitor, int *sched_id)</div><div class="ttdoc">Cancel the running available timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00657">ccss.h:657</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a47bafe663a14b91827082787d7654d7c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a47bafe663a14b91827082787d7654d7c">AST_LIST_HEAD_DESTROY</a></div><div class="ttdeci">#define AST_LIST_HEAD_DESTROY(head)</div><div class="ttdoc">Destroys a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00652">linkedlists.h:652</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="structcc__monitor__tree_html"><div class="ttname"><a href="../../d4/dcc/structcc__monitor__tree.html">cc_monitor_tree</a></div><div class="ttdoc">The &quot;tree&quot; of interfaces that is dialed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00324">ccss.c:324</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad914ac9074b19cbe0c220113b3cdc65f"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">ast_cc_monitor::available_timer_id</a></div><div class="ttdeci">int available_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00547">ccss.h:547</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf022f971019ecf7103cf5fe31c98717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf022f971019ecf7103cf5fe31c98717">&#9670;&nbsp;</a></span>cc_interfaces_datastore_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_interfaces_datastore_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">2138</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00409">ao2_t_alloc</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02482">ast_cc_request_is_within_limits()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00362">ast_channel_macrocontext()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00370">ast_channel_macroexten()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00625">AST_LIST_HEAD_INIT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01858">cc_interface_tree_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00120">core_id_counter</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00193">DATASTORE_INHERIT_FOREVER</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01902">dialed_cc_interfaces::dial_parent_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00519">ast_cc_monitor::id</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00073">ast_datastore::inheritance</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00065">interfaces</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01925">dialed_cc_interfaces::is_original_caller</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00116">monitor</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00074">ast_datastore::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">ast_cc_call_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                                                                  {</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *<a class="code" href="../../de/da6/format_8c.html#aee2fba7980369f8155b71b5cc8d120eb">interfaces</a>;</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a>;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *dial_cc_datastore;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;   <span class="comment">/*XXX This may be a bit controversial. In an attempt to not allocate</span></div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;<span class="comment">    * extra resources, I make sure that a future request will be within</span></div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="comment">    * limits. The problem here is that it is reasonable to think that</span></div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="comment">    * even if we&#39;re not within the limits at this point, we may be by</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="comment">    * the time the requestor will have made his request. This may be</span></div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="comment">    * deleted at some point.</span></div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#ae1570706dee0c4c88406d96f47f166d3">ast_cc_request_is_within_limits</a>()) {</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;   }</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;   <span class="keywordflow">if</span> (!(interfaces = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*interfaces)))) {</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;   }</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;   <span class="keywordflow">if</span> (!(monitor = <a class="code" href="../../d3/d5a/ccss_8c.html#ad16f4359507449ab2cf18b521d898415">cc_extension_monitor_init</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan)), <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan)), 0))) {</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(interfaces);</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;   }</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;   <span class="keywordflow">if</span> (!(dial_cc_datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Could not allocate the dialed interfaces datastore. Unreffing monitor&quot;</span>);</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(interfaces);</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;   }</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;   <span class="keywordflow">if</span> (!(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>), <a class="code" href="../../d3/d5a/ccss_8c.html#ae2cc33f092704c4daa2437b50bed6595">cc_interface_tree_destroy</a>,</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;               <span class="stringliteral">&quot;Allocate monitor tree&quot;</span>))) {</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(dial_cc_datastore);</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Could not allocate monitor tree on dialed interfaces datastore. Unreffing monitor&quot;</span>);</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(interfaces);</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;   }</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;   <span class="comment">/* Finally, all that allocation is done... */</span></div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a>(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>);</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, monitor, <a class="code" href="../../d4/d5d/structast__datastore.html#a47382b1f5338a7c12d65fec41b74d475">next</a>);</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(monitor, <span class="stringliteral">&quot;List&#39;s reference to extension monitor&quot;</span>);</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;   dial_cc_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../de/da6/format_8c.html#aee2fba7980369f8155b71b5cc8d120eb">interfaces</a>;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;   dial_cc_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">inheritance</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a>;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;   interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a> = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">id</a>;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;   interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#af8d4090067f1b06025c2ff74d45199a6">core_id_counter</a>, +1);</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;   interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">is_original_caller</a> = 1;</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, dial_cc_datastore);</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor, <span class="stringliteral">&quot;Unreffing allocation&#39;s reference&quot;</span>);</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__datastore_html_a47382b1f5338a7c12d65fec41b74d475"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a47382b1f5338a7c12d65fec41b74d475">ast_datastore::next</a></div><div class="ttdeci">struct ast_datastore * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00074">datastore.h:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad57326008c326db88dc36779741622b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a></div><div class="ttdeci">#define ao2_t_alloc(data_size, destructor_fn, debug_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00409">astobj2.h:409</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ab7ce6f462afaf105224b0ca772a33c43"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ab7ce6f462afaf105224b0ca772a33c43">ast_cc_monitor::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00519">ccss.h:519</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="ccss_8c_html_a7fc80ab1d004be14384ef28210a3405c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7fc80ab1d004be14384ef28210a3405c">dialed_cc_interfaces_info</a></div><div class="ttdeci">static const struct ast_datastore_info dialed_cc_interfaces_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01989">ccss.c:1989</a></div></div>
<div class="ttc" id="ccss_8c_html_ad16f4359507449ab2cf18b521d898415"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad16f4359507449ab2cf18b521d898415">cc_extension_monitor_init</a></div><div class="ttdeci">static struct ast_cc_monitor * cc_extension_monitor_init(const char *const exten, const char *const context, const unsigned int parent_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02089">ccss.c:2089</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_af8d4090067f1b06025c2ff74d45199a6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af8d4090067f1b06025c2ff74d45199a6">core_id_counter</a></div><div class="ttdeci">static int core_id_counter</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00120">ccss.c:120</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="format_8c_html_aee2fba7980369f8155b71b5cc8d120eb"><div class="ttname"><a href="../../de/da6/format_8c.html#aee2fba7980369f8155b71b5cc8d120eb">interfaces</a></div><div class="ttdeci">static struct ao2_container * interfaces</div><div class="ttdoc">Container for registered format interfaces. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00065">format.c:65</a></div></div>
<div class="ttc" id="ccss_8c_html_ae2cc33f092704c4daa2437b50bed6595"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ae2cc33f092704c4daa2437b50bed6595">cc_interface_tree_destroy</a></div><div class="ttdeci">static void cc_interface_tree_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01858">ccss.c:1858</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a669c0daceb501dfa4e4117c8baa54af4"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">dialed_cc_interfaces::is_original_caller</a></div><div class="ttdeci">char is_original_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01925">ccss.c:1925</a></div></div>
<div class="ttc" id="ccss_8c_html_ae1570706dee0c4c88406d96f47f166d3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ae1570706dee0c4c88406d96f47f166d3">ast_cc_request_is_within_limits</a></div><div class="ttdeci">int ast_cc_request_is_within_limits(void)</div><div class="ttdoc">Check if the incoming CC request is within the bounds set by the cc_max_requests configuration option...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02482">ccss.c:2482</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6f42d3bf45cc9af6f794d9d1cf8c45ca"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00625">linkedlists.h:625</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="channel_8h_html_a3a32e3014998d0066281c4dd8e278ae9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a></div><div class="ttdeci">#define DATASTORE_INHERIT_FOREVER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00193">channel.h:193</a></div></div>
<div class="ttc" id="structast__datastore_html_a79d869daa2e63a92b3e5f542446031bb"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">ast_datastore::inheritance</a></div><div class="ttdeci">unsigned int inheritance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00073">datastore.h:73</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a893d185453957758607107023ba704f0"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dialed_cc_interfaces::dial_parent_id</a></div><div class="ttdeci">unsigned int dial_parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01902">ccss.c:1902</a></div></div>
<div class="ttc" id="channel_8h_html_adf593d68a333075c1fcae8a73b68c069"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a></div><div class="ttdeci">const char * ast_channel_macrocontext(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00362">channel_internal_api.c:362</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
<div class="ttc" id="channel_8h_html_ac967e3cfb7640aa743eb1c4811d46be0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac967e3cfb7640aa743eb1c4811d46be0">ast_channel_macroexten</a></div><div class="ttdeci">const char * ast_channel_macroexten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00370">channel_internal_api.c:370</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a921d6a731af09f97878539af20508b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921d6a731af09f97878539af20508b6c">&#9670;&nbsp;</a></span>cc_monitor_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_monitor_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01837">1837</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00498">AST_CC_EXTENSION_MONITOR</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01821">cc_extension_monitor_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00668">ast_cc_monitor_callbacks::destructor</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00543">ast_cc_monitor::dialstring</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00561">ast_cc_monitor::private_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;{</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *<a class="code" href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a> = data;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;   <span class="comment">/* During the monitor creation process, it is possible for this</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="comment">    * function to be called prior to when callbacks are assigned</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="comment">    * to the monitor. Also, extension monitors do not have callbacks</span></div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="comment">    * assigned to them, so we wouldn&#39;t want to segfault when we try</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="comment">    * to destroy one of them.</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Calling destructor for monitor %s\n&quot;</span>,</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;         monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;   <span class="keywordflow">if</span> (monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733">AST_CC_EXTENSION_MONITOR</a>) {</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a3bfdb26e7b9b3fdfeb312ccee3575722">cc_extension_monitor_destructor</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;   }</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;   <span class="keywordflow">if</span> (monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>) {</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a51fe00e94e3c89a1cf6316730167fd00">destructor</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">private_data</a>);</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;   }</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>, <span class="stringliteral">&quot;Unreffing tree&#39;s reference to interface&quot;</span>);</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#af0a8d5de868993a2a520db6a9ef72a75">dialstring</a>);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_a51fe00e94e3c89a1cf6316730167fd00"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#a51fe00e94e3c89a1cf6316730167fd00">ast_cc_monitor_callbacks::destructor</a></div><div class="ttdeci">void(* destructor)(void *private_data)</div><div class="ttdoc">Destroy private data on the monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00668">ccss.h:668</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a3bfdb26e7b9b3fdfeb312ccee3575722"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a3bfdb26e7b9b3fdfeb312ccee3575722">cc_extension_monitor_destructor</a></div><div class="ttdeci">static void cc_extension_monitor_destructor(void *private_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01821">ccss.c:1821</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31a55ff9826d41e4cd89174a86ab3bd3733">AST_CC_EXTENSION_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00498">ccss.h:498</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="chan__phone_8c_html_a4e40373706bcf5cdb9409dac3166d280"><div class="ttname"><a href="../../da/dde/chan__phone_8c.html#a4e40373706bcf5cdb9409dac3166d280">monitor</a></div><div class="ttdeci">static unsigned int monitor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dde/chan__phone_8c_source.html#l00116">chan_phone.c:116</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_af0a8d5de868993a2a520db6a9ef72a75"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#af0a8d5de868993a2a520db6a9ef72a75">ast_cc_monitor::dialstring</a></div><div class="ttdeci">char * dialstring</div><div class="ttdoc">Name that should be used to recall specified interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00543">ccss.h:543</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad517770dac2061381b2008850ff12e6c">ast_cc_monitor::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">Data that is private to a monitor technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00561">ccss.h:561</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af87773605020b0c0611efc9d5ecfcd6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87773605020b0c0611efc9d5ecfcd6e">&#9670;&nbsp;</a></span>cc_monitor_failed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_monitor_failed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">3896</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00547">ast_cc_monitor::available_timer_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00657">ast_cc_monitor_callbacks::cancel_available_timer</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01166">cc_publish_monitorfailed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00528">ast_cc_monitor::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03893">ast_cc_monitor_failure_data::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03892">ast_cc_monitor_failure_data::debug</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03891">ast_cc_monitor_failure_data::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03093">has_device_monitors()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03941">ast_cc_monitor_failed()</a>.</p>
<div class="fragment"><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;{</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html">ast_cc_monitor_failure_data</a> *failure_data = data;</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;   core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;      <span class="comment">/* Core instance no longer exists or invalid core_id. */</span></div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>,</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;         <span class="stringliteral">&quot;Core %d: Could not find core instance for device %s &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;         failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>, failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">debug</a>);</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">debug</a>);</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(failure_data);</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;   }</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;      <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>) {</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;         <span class="keywordflow">if</span> (!strcmp(monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>)) {</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>);</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a>(core_instance, monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>,</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;                  monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, 1);</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;            monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a4c8e36220d9443cf53fd01c5b690a2f3">cancel_available_timer</a>(monitor_iter, &amp;monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">available_timer_id</a>);</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a5f815b09e482519d7f865baa5f3c3985">cc_publish_monitorfailed</a>(monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor_iter, <span class="stringliteral">&quot;Monitor reported failure. Unref list&#39;s reference.&quot;</span>);</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;         }</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;      }</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;   }</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a>(core_instance)) {</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;All monitors have failed\n&quot;</span>);</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;   }</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Finished with core_instance in cc_monitor_failed\n&quot;</span>);</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) failure_data-&gt;<a class="code" href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">debug</a>);</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(failure_data);</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_a4c8e36220d9443cf53fd01c5b690a2f3"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#a4c8e36220d9443cf53fd01c5b690a2f3">ast_cc_monitor_callbacks::cancel_available_timer</a></div><div class="ttdeci">int(* cancel_available_timer)(struct ast_cc_monitor *monitor, int *sched_id)</div><div class="ttdoc">Cancel the running available timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00657">ccss.h:657</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_aaf2435c66b53e4ebc6b4048228533132"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a></div><div class="ttdeci">static void cc_extension_monitor_change_is_valid(struct cc_core_instance *core_instance, unsigned int parent_id, const char *const device_name, int is_valid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02050">ccss.c:2050</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html">ast_cc_monitor_failure_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03890">ccss.c:3890</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a9d0f2b98cf19c569f7b3851fbff05504"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a9d0f2b98cf19c569f7b3851fbff05504">ast_cc_monitor_failure_data::debug</a></div><div class="ttdeci">char * debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03892">ccss.c:3892</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a77c7adc4663824cee5fa2e15b9e266e7">ast_cc_monitor_failure_data::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03891">ccss.c:3891</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="ccss_8c_html_a5f815b09e482519d7f865baa5f3c3985"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5f815b09e482519d7f865baa5f3c3985">cc_publish_monitorfailed</a></div><div class="ttdeci">static void cc_publish_monitorfailed(int core_id, const char *callee)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01166">ccss.c:1166</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad914ac9074b19cbe0c220113b3cdc65f"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">ast_cc_monitor::available_timer_id</a></div><div class="ttdeci">int available_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00547">ccss.h:547</a></div></div>
<div class="ttc" id="ccss_8c_html_aa60dcba0563e29185a0d65f428dadb48"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a></div><div class="ttdeci">static int has_device_monitors(struct cc_core_instance *core_instance)</div><div class="ttdoc">check if the core instance has any device monitors </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03093">ccss.c:3093</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="structast__cc__monitor__failure__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../de/d8f/structast__cc__monitor__failure__data.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor_failure_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03893">ccss.c:3893</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a40ad3f251c0aff6c8eecff9fce383158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ad3f251c0aff6c8eecff9fce383158">&#9670;&nbsp;</a></span>cc_offer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_offer </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03740">3740</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00185">CC_CALLER_OFFERED</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03751">ast_cc_offer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;{</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;   va_list ap;</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;   va_start(ap, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a>, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;   va_end(ap);</div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;}</div><div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a72a2c55008105f91d1af2942453eca2b">ast_cc_monitor::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00528">ccss.h:528</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00185">ccss.c:185</a></div></div>
<div class="ttc" id="ccss_8c_html_af9ae925ffa0f31a5738dd71c96623e45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af9ae925ffa0f31a5738dd71c96623e45">cc_request_state_change</a></div><div class="ttdeci">static int cc_request_state_change(enum cc_state state, const int core_id, const char *debug, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03328">ccss.c:3328</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9771f8cb11a1f42a852bcd698836bcff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9771f8cb11a1f42a852bcd698836bcff">&#9670;&nbsp;</a></span>cc_party_b_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_party_b_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04039">4039</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l01023">ast_cc_agent_callbacks::party_b_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04051">ast_cc_monitor_party_b_free()</a>.</p>
<div class="fragment"><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;{</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = data;</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;   <span class="keywordflow">if</span> (core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a05baf0755cbce8e94fd4855e5e972a41">party_b_free</a>) {</div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;      res = core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a05baf0755cbce8e94fd4855e5e972a41">party_b_free</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>);</div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;   }</div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Party B free finished. Unref core_instance&quot;</span>);</div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a05baf0755cbce8e94fd4855e5e972a41"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a05baf0755cbce8e94fd4855e5e972a41">ast_cc_agent_callbacks::party_b_free</a></div><div class="ttdeci">int(* party_b_free)(struct ast_cc_agent *agent)</div><div class="ttdoc">Let the caller know that the callee has become free but that the caller cannot attempt to call back b...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l01023">ccss.h:1023</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7af3ac1822237cd73d0c34cee69eb093"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7af3ac1822237cd73d0c34cee69eb093">&#9670;&nbsp;</a></span>cc_publish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_publish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>extras</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">1023</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00416">ast_json_object_update()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00735">ast_json_payload_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00347">ast_system_topic()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01063">cc_publish_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01132">cc_publish_callerrecalling()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01121">cc_publish_callerstartmonitoring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01110">cc_publish_callerstopmonitoring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01154">cc_publish_failure()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01166">cc_publish_monitorfailed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01075">cc_publish_offertimerstart()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01143">cc_publish_recallcomplete()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01099">cc_publish_requestacknowledged()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01087">cc_publish_requested()</a>.</p>
<div class="fragment"><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;{</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *blob;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/de9/structast__json__payload.html">ast_json_payload</a> *payload;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   <span class="keywordflow">if</span> (!message_type) {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   }</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   blob = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: i}&quot;</span>,</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="stringliteral">&quot;core_id&quot;</span>, core_id);</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="keywordflow">if</span> (!blob) {</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;   }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;   <span class="keywordflow">if</span> (extras) {</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#af7ffb5efb418e60eaa2b3d06a4c6e458">ast_json_object_update</a>(blob, extras);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   payload = <a class="code" href="../../d4/d05/json_8h.html#a8ac267a28e7eddf5b10bbb65139406f2">ast_json_payload_create</a>(blob);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(blob);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <span class="keywordflow">if</span> (!payload) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;   message = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(message_type, payload);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(payload, -1);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;   <span class="keywordflow">if</span> (!message) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   }</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#a196188f45631aed77434c898ed322ce6">ast_system_topic</a>(), message);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(message, -1);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a8ac267a28e7eddf5b10bbb65139406f2"><div class="ttname"><a href="../../d4/d05/json_8h.html#a8ac267a28e7eddf5b10bbb65139406f2">ast_json_payload_create</a></div><div class="ttdeci">struct ast_json_payload * ast_json_payload_create(struct ast_json *json)</div><div class="ttdoc">Create an ao2 object to pass json blobs as data payloads for stasis. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00735">json.c:735</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="json_8h_html_af7ffb5efb418e60eaa2b3d06a4c6e458"><div class="ttname"><a href="../../d4/d05/json_8h.html#af7ffb5efb418e60eaa2b3d06a4c6e458">ast_json_object_update</a></div><div class="ttdeci">int ast_json_object_update(struct ast_json *object, struct ast_json *other)</div><div class="ttdoc">Update object with all of the fields of other. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00416">json.c:416</a></div></div>
<div class="ttc" id="structast__json__payload_html"><div class="ttname"><a href="../../d9/de9/structast__json__payload.html">ast_json_payload</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l01024">json.h:1024</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="stasis__system_8h_html_a196188f45631aed77434c898ed322ce6"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#a196188f45631aed77434c898ed322ce6">ast_system_topic</a></div><div class="ttdeci">struct stasis_topic * ast_system_topic(void)</div><div class="ttdoc">A Stasis Message Bus API topic which publishes messages regarding system changes. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da0/stasis__system_8c_source.html#l00347">stasis_system.c:347</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a29b0d8cf8711086886f1a4ecbf982924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b0d8cf8711086886f1a4ecbf982924">&#9670;&nbsp;</a></span>cc_publish_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_available </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01063">1063</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#aad7422924d30da9717e3347e7a52518a">ast_cc_available_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>.</p>
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;{</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s}&quot;</span>,</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="stringliteral">&quot;callee&quot;</span>, callee,</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="stringliteral">&quot;service&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>);</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#aad7422924d30da9717e3347e7a52518a">ast_cc_available_type</a>(), core_id, extras);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis__system_8h_html_aad7422924d30da9717e3347e7a52518a"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#aad7422924d30da9717e3347e7a52518a">ast_cc_available_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_available_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Available messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
<div class="ttc" id="ccss_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00383">ccss.c:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66bc24f584312b7ff3297f4929e4118b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66bc24f584312b7ff3297f4929e4118b">&#9670;&nbsp;</a></span>cc_publish_callerrecalling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_callerrecalling </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01132">1132</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#aecca1a584e850990a5a7f2fe41fd6dab">ast_cc_callerrecalling_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03248">cc_recalling()</a>.</p>
<div class="fragment"><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;{</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>,</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <span class="stringliteral">&quot;caller&quot;</span>, caller);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#aecca1a584e850990a5a7f2fe41fd6dab">ast_cc_callerrecalling_type</a>(), core_id, extras);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis__system_8h_html_aecca1a584e850990a5a7f2fe41fd6dab"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#aecca1a584e850990a5a7f2fe41fd6dab">ast_cc_callerrecalling_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_callerrecalling_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Caller Recalling messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a65f10215832f1b14dc0fbe4a96c96471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f10215832f1b14dc0fbe4a96c96471">&#9670;&nbsp;</a></span>cc_publish_callerstartmonitoring()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_callerstartmonitoring </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01121">1121</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#af9ff830853cc61b043e207e288e0a1a3">ast_cc_callerstartmonitoring_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03215">cc_caller_busy()</a>.</p>
<div class="fragment"><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;{</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>,</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="stringliteral">&quot;caller&quot;</span>, caller);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#af9ff830853cc61b043e207e288e0a1a3">ast_cc_callerstartmonitoring_type</a>(), core_id, extras);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;}</div><div class="ttc" id="stasis__system_8h_html_af9ff830853cc61b043e207e288e0a1a3"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#af9ff830853cc61b043e207e288e0a1a3">ast_cc_callerstartmonitoring_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_callerstartmonitoring_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Caller Start Monitoring messages. </div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a284dfdf44081392c457d5672df13e2a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a284dfdf44081392c457d5672df13e2a8">&#9670;&nbsp;</a></span>cc_publish_callerstopmonitoring()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_callerstopmonitoring </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01110">1110</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#a2a93ed269899e2f12a66fc3567a0f8ce">ast_cc_callerstopmonitoring_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03168">cc_active()</a>.</p>
<div class="fragment"><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;{</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>,</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="stringliteral">&quot;caller&quot;</span>, caller);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#a2a93ed269899e2f12a66fc3567a0f8ce">ast_cc_callerstopmonitoring_type</a>(), core_id, extras);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis__system_8h_html_a2a93ed269899e2f12a66fc3567a0f8ce"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#a2a93ed269899e2f12a66fc3567a0f8ce">ast_cc_callerstopmonitoring_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_callerstopmonitoring_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Caller Stop Monitoring messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adfa2f4d91c0d413c5e04763d38de9da2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa2f4d91c0d413c5e04763d38de9da2">&#9670;&nbsp;</a></span>cc_publish_failure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_failure </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01154">1154</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#ad38b96be4d5705aa55625255409354f5">ast_cc_failure_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03266">cc_failed()</a>.</p>
<div class="fragment"><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;{</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s}&quot;</span>,</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="stringliteral">&quot;caller&quot;</span>, caller,</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="stringliteral">&quot;reason&quot;</span>, reason);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#ad38b96be4d5705aa55625255409354f5">ast_cc_failure_type</a>(), core_id, extras);</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis__system_8h_html_ad38b96be4d5705aa55625255409354f5"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#ad38b96be4d5705aa55625255409354f5">ast_cc_failure_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_failure_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Failure messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f815b09e482519d7f865baa5f3c3985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f815b09e482519d7f865baa5f3c3985">&#9670;&nbsp;</a></span>cc_publish_monitorfailed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_monitorfailed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callee</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01166">1166</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#a545ee02d5611c8f423463b3455515789">ast_cc_monitorfailed_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>.</p>
<div class="fragment"><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;{</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>,</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <span class="stringliteral">&quot;callee&quot;</span>, callee);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#a545ee02d5611c8f423463b3455515789">ast_cc_monitorfailed_type</a>(), core_id, extras);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis__system_8h_html_a545ee02d5611c8f423463b3455515789"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#a545ee02d5611c8f423463b3455515789">ast_cc_monitorfailed_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_monitorfailed_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Monitor Failed messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a698963a440390fd17c3070c62b0d26bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698963a440390fd17c3070c62b0d26bb">&#9670;&nbsp;</a></span>cc_publish_offertimerstart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_offertimerstart </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>expires</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01075">1075</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#abb2120f36e78a7ff9b598a34e34db21a">ast_cc_offertimerstart_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03064">cc_caller_offered()</a>.</p>
<div class="fragment"><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: I}&quot;</span>,</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="stringliteral">&quot;caller&quot;</span>, caller,</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="stringliteral">&quot;expires&quot;</span>, (<a class="code" href="../../d4/d05/json_8h.html#ae2cc29409ec389e8feaf38ec3a585d83">ast_json_int_t</a>)expires);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#abb2120f36e78a7ff9b598a34e34db21a">ast_cc_offertimerstart_type</a>(), core_id, extras);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="json_8h_html_ae2cc29409ec389e8feaf38ec3a585d83"><div class="ttname"><a href="../../d4/d05/json_8h.html#ae2cc29409ec389e8feaf38ec3a585d83">ast_json_int_t</a></div><div class="ttdeci">AST_JSON_INT_T ast_json_int_t</div><div class="ttdoc">Primarily used to cast when packing to an &quot;I&quot; type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l00087">json.h:87</a></div></div>
<div class="ttc" id="stasis__system_8h_html_abb2120f36e78a7ff9b598a34e34db21a"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#abb2120f36e78a7ff9b598a34e34db21a">ast_cc_offertimerstart_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_offertimerstart_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Offer Timer Start messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a687ef7ca441bb2eccd85186b02782d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a687ef7ca441bb2eccd85186b02782d1e">&#9670;&nbsp;</a></span>cc_publish_recallcomplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_recallcomplete </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01143">1143</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#a17f76fed821121245decbbe0bd6dd8fc">ast_cc_recallcomplete_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03257">cc_complete()</a>.</p>
<div class="fragment"><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;{</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>,</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="stringliteral">&quot;caller&quot;</span>, caller);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#a17f76fed821121245decbbe0bd6dd8fc">ast_cc_recallcomplete_type</a>(), core_id, extras);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis__system_8h_html_a17f76fed821121245decbbe0bd6dd8fc"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#a17f76fed821121245decbbe0bd6dd8fc">ast_cc_recallcomplete_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_recallcomplete_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Recall Complete messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a054cb70a3268c7442fabf9f985215afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a054cb70a3268c7442fabf9f985215afd">&#9670;&nbsp;</a></span>cc_publish_requestacknowledged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_requestacknowledged </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01099">1099</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#a241309ad8c4e05e0b87fa9cdd1c2bdcd">ast_cc_requestacknowledged_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03168">cc_active()</a>.</p>
<div class="fragment"><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;{</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s}&quot;</span>,</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="stringliteral">&quot;caller&quot;</span>, caller);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#a241309ad8c4e05e0b87fa9cdd1c2bdcd">ast_cc_requestacknowledged_type</a>(), core_id, extras);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis__system_8h_html_a241309ad8c4e05e0b87fa9cdd1c2bdcd"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#a241309ad8c4e05e0b87fa9cdd1c2bdcd">ast_cc_requestacknowledged_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_requestacknowledged_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Request Acknowledged messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84d67356509002d570a03bd7a85c0394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84d67356509002d570a03bd7a85c0394">&#9670;&nbsp;</a></span>cc_publish_requested()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_publish_requested </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callee</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01087">1087</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/df0/stasis__system_8h.html#af0ebf606ca3d7d14c7d1df3e5744eac5">ast_cc_requested_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">request_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;{</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *extras;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   extras = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s}&quot;</span>,</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="stringliteral">&quot;caller&quot;</span>, caller,</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="stringliteral">&quot;callee&quot;</span>, callee);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a>(<a class="code" href="../../d3/df0/stasis__system_8h.html#af0ebf606ca3d7d14c7d1df3e5744eac5">ast_cc_requested_type</a>(), core_id, extras);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(extras);</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis__system_8h_html_af0ebf606ca3d7d14c7d1df3e5744eac5"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#af0ebf606ca3d7d14c7d1df3e5744eac5">ast_cc_requested_type</a></div><div class="ttdeci">struct stasis_message_type * ast_cc_requested_type(void)</div><div class="ttdoc">A stasis_message_type for CCSS Requested messages. </div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="ccss_8c_html_a7af3ac1822237cd73d0c34cee69eb093"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7af3ac1822237cd73d0c34cee69eb093">cc_publish</a></div><div class="ttdeci">static int cc_publish(struct stasis_message_type *message_type, int core_id, struct ast_json *extras)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01023">ccss.c:1023</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4367c909a58bcc19a8700a50aae2fa4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4367c909a58bcc19a8700a50aae2fa4e">&#9670;&nbsp;</a></span>cc_recall_ds_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_recall_ds_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03392">3392</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>.</p>
<div class="fragment"><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;{</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *recall_data = data;</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;   recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(recall_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, <span class="stringliteral">&quot;Unref recall monitor tree&quot;</span>);</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(recall_data);</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa1cc3710cbb699f1bbaa538520fb397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1cc3710cbb699f1bbaa538520fb397">&#9670;&nbsp;</a></span>cc_recall_ds_duplicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* cc_recall_ds_duplicate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03378">3378</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03372">cc_recall_ds_data::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03375">cc_recall_ds_data::interface_tree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03374">cc_recall_ds_data::nested</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;{</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *old_data = data;</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a> *new_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*new_data));</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;   <span class="keywordflow">if</span> (!new_data) {</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;   }</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;   new_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(old_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, <span class="stringliteral">&quot;Bump refcount of monitor tree for recall datastore duplicate&quot;</span>);</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;   new_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = old_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;   new_data-&gt;<a class="code" href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">nested</a> = 1;</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;   <span class="keywordflow">return</span> new_data;</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;}</div><div class="ttc" id="structcc__recall__ds__data_html_abbea4ca4811183de94be9e7a206d416d"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#abbea4ca4811183de94be9e7a206d416d">cc_recall_ds_data::nested</a></div><div class="ttdeci">char nested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03374">ccss.c:3374</a></div></div>
<div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a72a2c55008105f91d1af2942453eca2b">cc_recall_ds_data::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03372">ccss.c:3372</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html">cc_recall_ds_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03371">ccss.c:3371</a></div></div>
<div class="ttc" id="structcc__recall__ds__data_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../dc/de4/structcc__recall__ds__data.html#a298c99414ba09c12e5c0feaf845156b8">cc_recall_ds_data::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03375">ccss.c:3375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a04c43b681c3ff31b5953443507714442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c43b681c3ff31b5953443507714442">&#9670;&nbsp;</a></span>cc_recalling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_recalling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>previous_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03248">3248</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03226">cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01132">cc_publish_callerrecalling()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>.</p>
<div class="fragment"><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;{</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;   <span class="comment">/* Both caller and callee are available, call agent&#39;s recall callback</span></div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a3ac189b78872a8a86cb2e3eb42f3ebc7">cancel_available_timer</a>(core_instance);</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a66bc24f584312b7ff3297f4929e4118b">cc_publish_callerrecalling</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a66bc24f584312b7ff3297f4929e4118b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a66bc24f584312b7ff3297f4929e4118b">cc_publish_callerrecalling</a></div><div class="ttdeci">static void cc_publish_callerrecalling(int core_id, const char *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01132">ccss.c:1132</a></div></div>
<div class="ttc" id="ccss_8c_html_a3ac189b78872a8a86cb2e3eb42f3ebc7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a3ac189b78872a8a86cb2e3eb42f3ebc7">cancel_available_timer</a></div><div class="ttdeci">static void cancel_available_timer(struct cc_core_instance *core_instance)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03226">ccss.c:3226</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1fc26691ea6cfac26369fcf3c797dfd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fc26691ea6cfac26369fcf3c797dfd6">&#9670;&nbsp;</a></span>cc_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* cc_ref </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">143</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00456">ast_cc_agent_callback()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">ast_cc_call_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03519">ast_cc_get_monitor_by_recall_core_id()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03405">ast_setup_cc_recall_datastore()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02791">cc_generic_agent_start_monitoring()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02703">cc_generic_agent_start_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03378">cc_recall_ds_duplicate()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01964">dialed_cc_interfaces_duplicate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, +1, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keywordflow">return</span> obj;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9ae925ffa0f31a5738dd71c96623e45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ae925ffa0f31a5738dd71c96623e45">&#9670;&nbsp;</a></span>cc_request_state_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_request_state_change </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">3328</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">cc_do_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02997">cc_state_change_args::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02995">cc_state_change_args::core_instance</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02998">cc_state_change_args::debug</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l00220">dummy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">find_cc_core_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00393">state</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02996">cc_state_change_args::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03776">ast_cc_agent_accept_request()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03820">ast_cc_agent_caller_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03809">ast_cc_agent_caller_busy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03831">ast_cc_agent_recalling()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03842">ast_cc_completed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03798">ast_cc_monitor_callee_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03787">ast_cc_monitor_request_acked()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03740">cc_offer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;{</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;   <span class="keywordtype">int</span> debuglen;</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d1/d6d/chan__unistim_8c.html#abc0ce15d00b4bfb69266c5fd016dc88c">dummy</a>[1];</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;   va_list aq;</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>;</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;   <span class="comment">/* This initial call to vsnprintf is simply to find what the</span></div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;<span class="comment">    * size of the string needs to be</span></div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;   va_copy(aq, ap);</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;   <span class="comment">/* We add 1 to the result since vsnprintf&#39;s return does not</span></div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;<span class="comment">    * include the terminating null byte</span></div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;   debuglen = vsnprintf(dummy, <span class="keyword">sizeof</span>(dummy), <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, aq) + 1;</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;   va_end(aq);</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;   <span class="keywordflow">if</span> (!(args = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*args) + debuglen))) {</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;   }</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;   core_instance = <a class="code" href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a>(<a class="code" href="../../de/d72/structcc__state__change__args.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Unable to find core instance.\n&quot;</span>,</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;         <a class="code" href="../../de/d72/structcc__state__change__args.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;   }</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;   args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#ad75ab26f830035a35504015f37a40b28">core_instance</a> = <a class="code" href="../../de/d72/structcc__state__change__args.html#ad75ab26f830035a35504015f37a40b28">core_instance</a>;</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;   args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#aa15a5955ae71d81bd990da3569c06258">state</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a>;</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;   args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = <a class="code" href="../../de/d72/structcc__state__change__args.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;   vsnprintf(args-&gt;<a class="code" href="../../de/d72/structcc__state__change__args.html#a7b5caf9143a8a851f92954b0f2534815">debug</a>, debuglen, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>, ap);</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;   res = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a682c599794989f2cd3cc54ede3af8fcb">cc_do_state_change</a>, args);</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance. ast_taskprocessor_push failed&quot;</span>);</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;   }</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a5074ca9ad1b570ab300a2fd9a0aaf1e6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5074ca9ad1b570ab300a2fd9a0aaf1e6">find_cc_core_instance</a></div><div class="ttdeci">static struct cc_core_instance * find_cc_core_instance(const int core_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00431">ccss.c:431</a></div></div>
<div class="ttc" id="ccss_8c_html_aa15a5955ae71d81bd990da3569c06258"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a></div><div class="ttdeci">enum cc_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00393">ccss.c:393</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="chan__unistim_8c_html_abc0ce15d00b4bfb69266c5fd016dc88c"><div class="ttname"><a href="../../d1/d6d/chan__unistim_8c.html#abc0ce15d00b4bfb69266c5fd016dc88c">dummy</a></div><div class="ttdeci">static void dummy(char *unused,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/chan__unistim_8c_source.html#l00220">chan_unistim.c:220</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_aa15a5955ae71d81bd990da3569c06258"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#aa15a5955ae71d81bd990da3569c06258">cc_state_change_args::state</a></div><div class="ttdeci">enum cc_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02996">ccss.c:2996</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_ad75ab26f830035a35504015f37a40b28"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#ad75ab26f830035a35504015f37a40b28">cc_state_change_args::core_instance</a></div><div class="ttdeci">struct cc_core_instance * core_instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02995">ccss.c:2995</a></div></div>
<div class="ttc" id="structcc__state__change__args_html"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02994">ccss.c:2994</a></div></div>
<div class="ttc" id="ccss_8c_html_a682c599794989f2cd3cc54ede3af8fcb"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a682c599794989f2cd3cc54ede3af8fcb">cc_do_state_change</a></div><div class="ttdeci">static int cc_do_state_change(void *datap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03285">ccss.c:3285</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_a7b5caf9143a8a851f92954b0f2534815"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#a7b5caf9143a8a851f92954b0f2534815">cc_state_change_args::debug</a></div><div class="ttdeci">char debug[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02998">ccss.c:2998</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
<div class="ttc" id="structcc__state__change__args_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../de/d72/structcc__state__change__args.html#a72a2c55008105f91d1af2942453eca2b">cc_state_change_args::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02997">ccss.c:2997</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aedf564e8503a7fb86cca56e1ab9dffe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf564e8503a7fb86cca56e1ab9dffe0">&#9670;&nbsp;</a></span>cc_service_to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* cc_service_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a>&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00412">412</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c.html#ac91b4419075d5d7fdd8e11d668315241">cc_service_to_string_map</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00383">service</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04461">cc_cli_print_monitor_stats()</a>.</p>
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#ac91b4419075d5d7fdd8e11d668315241">cc_service_to_string_map</a>[<a class="code" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>].service_string;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div><div class="ttc" id="ccss_8c_html_ac91b4419075d5d7fdd8e11d668315241"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac91b4419075d5d7fdd8e11d668315241">cc_service_to_string_map</a></div><div class="ttdeci">static const struct @359 cc_service_to_string_map[]</div></div>
<div class="ttc" id="ccss_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00383">ccss.c:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b1152f66e69c988f97fe94452bee4b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1152f66e69c988f97fe94452bee4b6">&#9670;&nbsp;</a></span>cc_state_to_devstate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> cc_state_to_devstate </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00584">584</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00393">state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00600">ccss_device_state()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00641">ccss_notify_device_state_change()</a>.</p>
<div class="fragment"><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#acf2de0a1a74fea71224b3670cb6df73f">cc_state_to_devstate_map</a>[<a class="code" href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a>];</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="ttc" id="ccss_8c_html_aa15a5955ae71d81bd990da3569c06258"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a></div><div class="ttdeci">enum cc_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00393">ccss.c:393</a></div></div>
<div class="ttc" id="ccss_8c_html_acf2de0a1a74fea71224b3670cb6df73f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#acf2de0a1a74fea71224b3670cb6df73f">cc_state_to_devstate_map</a></div><div class="ttdeci">static enum ast_device_state cc_state_to_devstate_map[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00563">ccss.c:563</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c9c1c94ada3db153cc758d1e65e77c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c9c1c94ada3db153cc758d1e65e77c6">&#9670;&nbsp;</a></span>cc_state_to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* cc_state_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00407">407</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c.html#a93ebb240754feb8124f2a0fc9ce62c51">cc_state_to_string_map</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00393">state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">cc_do_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00600">ccss_device_state()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00641">ccss_notify_device_state_change()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04481">print_stats_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a93ebb240754feb8124f2a0fc9ce62c51">cc_state_to_string_map</a>[<a class="code" href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a>].state_string;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a93ebb240754feb8124f2a0fc9ce62c51"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a93ebb240754feb8124f2a0fc9ce62c51">cc_state_to_string_map</a></div><div class="ttdeci">static const struct @360 cc_state_to_string_map[]</div></div>
<div class="ttc" id="ccss_8c_html_aa15a5955ae71d81bd990da3569c06258"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a></div><div class="ttdeci">enum cc_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00393">ccss.c:393</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a214af0bfb9fbabd6b37bfaa6d7d3ff6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a214af0bfb9fbabd6b37bfaa6d7d3ff6a">&#9670;&nbsp;</a></span>cc_status_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_status_request </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03976">3976</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00980">ast_cc_agent_callbacks::status_request</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03986">ast_cc_monitor_status_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;{</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance= data;</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;   res = core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a1862ef446c88799949a4de8f76f9ee13">status_request</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>);</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Status request finished. Unref core instance&quot;</span>);</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a1862ef446c88799949a4de8f76f9ee13"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a1862ef446c88799949a4de8f76f9ee13">ast_cc_agent_callbacks::status_request</a></div><div class="ttdeci">int(* status_request)(struct ast_cc_agent *agent)</div><div class="ttdoc">Request the status of the agent&amp;#39;s device. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00980">ccss.h:980</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4946d230e74993b20fa566bf8834742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4946d230e74993b20fa566bf8834742">&#9670;&nbsp;</a></span>cc_status_response()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_status_response </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04072">4072</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04068">cc_status_response_args::core_instance</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04069">cc_status_response_args::devstate</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00628">ast_cc_monitor_callbacks::status_response</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04093">ast_cc_agent_status_response()</a>.</p>
<div class="fragment"><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;{</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d57/structcc__status__response__args.html">cc_status_response_args</a> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a> = data;</div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = args-&gt;<a class="code" href="../../d8/d57/structcc__status__response__args.html#ad75ab26f830035a35504015f37a40b28">core_instance</a>;</div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> devstate = args-&gt;<a class="code" href="../../d8/d57/structcc__status__response__args.html#a1b46e6ee7b5c070d8ec3b45f5bc49a92">devstate</a>;</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(args);</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;      <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a> &amp;&amp;</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;            monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a07126276ac9efb044e7f05e4ed1dc6d2">status_response</a>) {</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;         monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a07126276ac9efb044e7f05e4ed1dc6d2">status_response</a>(monitor_iter, devstate);</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;      }</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;   }</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Status response finished. Unref core instance&quot;</span>);</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structcc__status__response__args_html"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html">cc_status_response_args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04067">ccss.c:4067</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_a07126276ac9efb044e7f05e4ed1dc6d2"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#a07126276ac9efb044e7f05e4ed1dc6d2">ast_cc_monitor_callbacks::status_response</a></div><div class="ttdeci">int(* status_response)(struct ast_cc_monitor *monitor, enum ast_device_state devstate)</div><div class="ttdoc">Status response to an ast_cc_monitor_status_request(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00628">ccss.h:628</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structcc__status__response__args_html_ad75ab26f830035a35504015f37a40b28"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html#ad75ab26f830035a35504015f37a40b28">cc_status_response_args::core_instance</a></div><div class="ttdeci">struct cc_core_instance * core_instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04068">ccss.c:4068</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structcc__status__response__args_html_a1b46e6ee7b5c070d8ec3b45f5bc49a92"><div class="ttname"><a href="../../d8/d57/structcc__status__response__args.html#a1b46e6ee7b5c070d8ec3b45f5bc49a92">cc_status_response_args::devstate</a></div><div class="ttdeci">enum ast_device_state devstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04069">ccss.c:4069</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abbed5486026c06296110f00326fc4688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbed5486026c06296110f00326fc4688">&#9670;&nbsp;</a></span>cc_stop_ringing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cc_stop_ringing </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04002">4002</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03787">ast_cc_monitor_request_acked()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l01002">ast_cc_agent_callbacks::stop_ringing</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04023">ast_cc_monitor_stop_ringing()</a>.</p>
<div class="fragment"><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;{</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = data;</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;   <span class="keywordflow">if</span> (core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a5256b8f41a1691dfcb5b543b529da9ea">stop_ringing</a>) {</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;      res = core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a5256b8f41a1691dfcb5b543b529da9ea">stop_ringing</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>);</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;   }</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;   <span class="comment">/* If an agent is being asked to stop ringing, then he needs to be prepared if for</span></div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;<span class="comment">    * whatever reason he needs to be called back again. The proper state to be in to</span></div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;<span class="comment">    * detect such a circumstance is the CC_ACTIVE state.</span></div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;<span class="comment">    * We get to this state using the slightly unintuitive method of calling</span></div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;<span class="comment">    * ast_cc_monitor_request_acked because it gets us to the proper state.</span></div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a64d38b6c2631ece08ca6f32620e02635">ast_cc_monitor_request_acked</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Agent %s asked to stop ringing. Be prepared to be recalled again.&quot;</span>,</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;         core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Stop ringing finished. Unref core_instance&quot;</span>);</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a64d38b6c2631ece08ca6f32620e02635"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a64d38b6c2631ece08ca6f32620e02635">ast_cc_monitor_request_acked</a></div><div class="ttdeci">int ast_cc_monitor_request_acked(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate that an outbound entity has accepted our CC request. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03787">ccss.c:3787</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a5256b8f41a1691dfcb5b543b529da9ea"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a5256b8f41a1691dfcb5b543b529da9ea">ast_cc_agent_callbacks::stop_ringing</a></div><div class="ttdeci">int(* stop_ringing)(struct ast_cc_agent *agent)</div><div class="ttdoc">Request for an agent&amp;#39;s phone to stop ringing. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l01002">ccss.h:1002</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6f1d4f0682249ce5393d830e4bddf34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6f1d4f0682249ce5393d830e4bddf34">&#9670;&nbsp;</a></span>cc_unique_append()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cc_unique_append </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dialstring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03558">3558</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03588">build_cc_interfaces_chanvar()</a>.</p>
<div class="fragment"><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;{</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;   <span class="keywordtype">char</span> dialstring_search[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a> + 1];</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dialstring)) {</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;      <span class="comment">/* No dialstring to append. */</span></div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;   }</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;   snprintf(dialstring_search, <span class="keyword">sizeof</span>(dialstring_search), <span class="stringliteral">&quot;%s%c&quot;</span>, dialstring, <span class="charliteral">&#39;&amp;&#39;</span>);</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;   <span class="keywordflow">if</span> (strstr(<a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*str), dialstring_search)) {</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;   }</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(str, 0, <span class="stringliteral">&quot;%s&quot;</span>, dialstring_search);</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;}</div><div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28e7ec3ddfe307da016dd327381d8583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e7ec3ddfe307da016dd327381d8583">&#9670;&nbsp;</a></span>cc_unref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* cc_unref </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">149</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00456">ast_cc_agent_callback()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04093">ast_cc_agent_status_response()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01509">ast_cc_available_timer_expire()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">ast_cc_call_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03519">ast_cc_get_monitor_by_recall_core_id()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04051">ast_cc_monitor_party_b_free()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03986">ast_cc_monitor_status_request()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04023">ast_cc_monitor_stop_ringing()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03405">ast_setup_cc_recall_datastore()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03226">cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02928">cc_core_instance_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">cc_do_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02722">cc_generic_agent_stop_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01651">cc_generic_monitor_cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01668">cc_generic_monitor_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01582">cc_generic_monitor_suspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01623">cc_generic_monitor_unsuspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01858">cc_interface_tree_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01837">cc_monitor_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04039">cc_party_b_free()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03392">cc_recall_ds_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03976">cc_status_request()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04072">cc_status_response()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04002">cc_stop_ringing()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">cccancel_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00600">ccss_device_state()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04555">complete_core_id()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01409">create_new_generic_list()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01944">dialed_cc_interfaces_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02761">generic_agent_devstate_cb()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01443">generic_monitor_devstate_tp_cb()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02691">offer_timer_expire()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03193">suspend()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03146">unsuspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(obj, -1, <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42db5cbb36f637ab4351fce84e8b2032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42db5cbb36f637ab4351fce84e8b2032">&#9670;&nbsp;</a></span>cccancel_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cccancel_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">4308</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01741">ao2_t_callback_data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00492">match_agent()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00477">MATCH_REQUEST</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00894">ast_cc_agent_callbacks::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;{</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;   <span class="keywordtype">char</span> device_name[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a>;</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(chan, device_name, <span class="keyword">sizeof</span>(device_name));</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;   match_flags = <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330">MATCH_REQUEST</a>;</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;   <span class="keywordflow">if</span> (!(core_instance = <a class="code" href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, 0, <a class="code" href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a>, device_name, &amp;match_flags, <span class="stringliteral">&quot;Find core instance for CallCompletionCancel&quot;</span>))) {</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Cannot find CC transaction to cancel for caller %s\n&quot;</span>, device_name);</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_CANCEL_RESULT&quot;</span>, <span class="stringliteral">&quot;FAIL&quot;</span>);</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_CANCEL_REASON&quot;</span>, <span class="stringliteral">&quot;NO_CORE_INSTANCE&quot;</span>);</div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;   }</div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;</div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;   <span class="keywordflow">if</span> (strcmp(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, <span class="stringliteral">&quot;generic&quot;</span>)) {</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;CallCompletionCancel may only be used for calles with a generic agent\n&quot;</span>);</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance found during CallCompletionCancel&quot;</span>);</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_CANCEL_RESULT&quot;</span>, <span class="stringliteral">&quot;FAIL&quot;</span>);</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_CANCEL_REASON&quot;</span>, <span class="stringliteral">&quot;NOT_GENERIC&quot;</span>);</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;   }</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Call completion request Cancelled for core ID %d by caller %s&quot;</span>,</div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;         core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, device_name);</div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core instance found during CallCompletionCancel&quot;</span>);</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_CANCEL_RESULT&quot;</span>, res ? <span class="stringliteral">&quot;FAIL&quot;</span> : <span class="stringliteral">&quot;SUCCESS&quot;</span>);</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_CANCEL_REASON&quot;</span>, <span class="stringliteral">&quot;UNSPECIFIED&quot;</span>);</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;   }</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330">MATCH_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00477">ccss.c:477</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_cc_agent_callbacks::type</a></div><div class="ttdeci">const char * type</div><div class="ttdoc">Type of agent the callbacks belong to. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00894">ccss.h:894</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a></div><div class="ttdeci">match_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00469">ccss.c:469</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="ccss_8c_html_abf7cb1b383319818f042a03b15db33f7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a></div><div class="ttdeci">static int match_agent(void *obj, void *arg, void *data, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00492">ccss.c:492</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab55d227245c39181ce1a4e4f013cc898"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a></div><div class="ttdeci">#define ao2_t_callback_data(container, flags, cb_fn, arg, data, tag)</div><div class="ttdoc">ao2_callback_data() is a generic function that applies cb_fn() to all objects in a container...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01741">astobj2.h:1741</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cdced852fd2ee42c5cb8658fc6c3867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cdced852fd2ee42c5cb8658fc6c3867">&#9670;&nbsp;</a></span>ccreq_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ccreq_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">4257</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01741">ao2_t_callback_data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03776">ast_cc_agent_accept_request()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02482">ast_cc_request_is_within_limits()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10697">ast_channel_get_device_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00172">AST_CHANNEL_NAME</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00492">match_agent()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00473">MATCH_NO_REQUEST</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00894">ast_cc_agent_callbacks::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;{</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;   <span class="keywordtype">char</span> device_name[<a class="code" href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a>];</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a>;</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a>(chan, device_name, <span class="keyword">sizeof</span>(device_name));</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;   match_flags = <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a>;</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;   <span class="keywordflow">if</span> (!(core_instance = <a class="code" href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, 0, <a class="code" href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a>, device_name, &amp;match_flags, <span class="stringliteral">&quot;Find core instance for CallCompletionRequest&quot;</span>))) {</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Couldn&#39;t find a core instance for caller %s\n&quot;</span>, device_name);</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_REQUEST_RESULT&quot;</span>, <span class="stringliteral">&quot;FAIL&quot;</span>);</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_REQUEST_REASON&quot;</span>, <span class="stringliteral">&quot;NO_CORE_INSTANCE&quot;</span>);</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;   }</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: Found core_instance for caller %s\n&quot;</span>,</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;         core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, device_name);</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;   <span class="keywordflow">if</span> (strcmp(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, <span class="stringliteral">&quot;generic&quot;</span>)) {</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: CallCompletionRequest is only for generic agent types.\n&quot;</span>,</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;            core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_REQUEST_RESULT&quot;</span>, <span class="stringliteral">&quot;FAIL&quot;</span>);</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_REQUEST_REASON&quot;</span>, <span class="stringliteral">&quot;NOT_GENERIC&quot;</span>);</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core_instance since CallCompletionRequest was called with native agent&quot;</span>);</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;   }</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#ae1570706dee0c4c88406d96f47f166d3">ast_cc_request_is_within_limits</a>()) {</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %d: CallCompletionRequest failed. Too many requests in the system\n&quot;</span>,</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;            core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Too many CC requests\n&quot;</span>);</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_REQUEST_RESULT&quot;</span>, <span class="stringliteral">&quot;FAIL&quot;</span>);</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_REQUEST_REASON&quot;</span>, <span class="stringliteral">&quot;TOO_MANY_REQUESTS&quot;</span>);</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core_instance since too many CC requests&quot;</span>);</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;   }</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;   res = <a class="code" href="../../d3/d5a/ccss_8c.html#a037cc988c277a5a296ad1af1fb05f5a4">ast_cc_agent_accept_request</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;CallCompletionRequest called by caller %s for core_id %d&quot;</span>, device_name, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_REQUEST_RESULT&quot;</span>, res ? <span class="stringliteral">&quot;FAIL&quot;</span> : <span class="stringliteral">&quot;SUCCESS&quot;</span>);</div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_REQUEST_REASON&quot;</span>, <span class="stringliteral">&quot;UNSPECIFIED&quot;</span>);</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;   }</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Done with CallCompletionRequest&quot;</span>);</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a037cc988c277a5a296ad1af1fb05f5a4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a037cc988c277a5a296ad1af1fb05f5a4">ast_cc_agent_accept_request</a></div><div class="ttdeci">int ast_cc_agent_accept_request(int core_id, const char *const debug,...)</div><div class="ttdoc">Accept inbound CC request. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03776">ccss.c:3776</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00473">ccss.c:473</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_ae1570706dee0c4c88406d96f47f166d3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ae1570706dee0c4c88406d96f47f166d3">ast_cc_request_is_within_limits</a></div><div class="ttdeci">int ast_cc_request_is_within_limits(void)</div><div class="ttdoc">Check if the incoming CC request is within the bounds set by the cc_max_requests configuration option...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02482">ccss.c:2482</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_cc_agent_callbacks::type</a></div><div class="ttdeci">const char * type</div><div class="ttdoc">Type of agent the callbacks belong to. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00894">ccss.h:894</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a></div><div class="ttdeci">match_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00469">ccss.c:469</a></div></div>
<div class="ttc" id="channel_8h_html_ab57c278099ea5f8d7cedbb41eba58b56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab57c278099ea5f8d7cedbb41eba58b56">AST_CHANNEL_NAME</a></div><div class="ttdeci">#define AST_CHANNEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00172">channel.h:172</a></div></div>
<div class="ttc" id="ccss_8c_html_abf7cb1b383319818f042a03b15db33f7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a></div><div class="ttdeci">static int match_agent(void *obj, void *arg, void *data, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00492">ccss.c:492</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab55d227245c39181ce1a4e4f013cc898"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a></div><div class="ttdeci">#define ao2_t_callback_data(container, flags, cb_fn, arg, data, tag)</div><div class="ttdoc">ao2_callback_data() is a generic function that applies cb_fn() to all objects in a container...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01741">astobj2.h:1741</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="channel_8h_html_a1677fd1f6e2cab646aeb76db8a044c2e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1677fd1f6e2cab646aeb76db8a044c2e">ast_channel_get_device_name</a></div><div class="ttdeci">int ast_channel_get_device_name(struct ast_channel *chan, char *device_name, size_t name_buffer_length)</div><div class="ttdoc">Get a device name given its channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10697">channel.c:10697</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2181b9979cb127dd522efee38b77e29b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2181b9979cb127dd522efee38b77e29b">&#9670;&nbsp;</a></span>ccss_device_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> ccss_device_state </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>device_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00600">600</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01741">ao2_t_callback_data</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00854">ast_cc_agent::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00211">CC_FAILED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00584">cc_state_to_devstate()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00407">cc_state_to_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00337">cc_core_instance::current_state</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00492">match_agent()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00473">MATCH_NO_REQUEST</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00894">ast_cc_agent_callbacks::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;{</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a>;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> cc_current_state;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   match_flags = <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   core_instance = <a class="code" href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, 0, <a class="code" href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a>,</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      (<span class="keywordtype">char</span> *) device_name, &amp;match_flags,</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="stringliteral">&quot;Find Core Instance for ccss_device_state reqeust.&quot;</span>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <span class="keywordflow">if</span> (!core_instance) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>,</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;         <span class="stringliteral">&quot;Couldn&#39;t find a core instance for caller %s\n&quot;</span>, device_name);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a7b1152f66e69c988f97fe94452bee4b6">cc_state_to_devstate</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>,</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="stringliteral">&quot;Core %d: Found core_instance for caller %s in state %s\n&quot;</span>,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, device_name, <a class="code" href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a>));</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <span class="keywordflow">if</span> (strcmp(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, <span class="stringliteral">&quot;generic&quot;</span>)) {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>,</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;         <span class="stringliteral">&quot;Core %d: Device State is only for generic agent types.\n&quot;</span>,</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;         core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core_instance since ccss_device_state was called with native agent&quot;</span>);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a7b1152f66e69c988f97fe94452bee4b6">cc_state_to_devstate</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   cc_current_state = <a class="code" href="../../d3/d5a/ccss_8c.html#a7b1152f66e69c988f97fe94452bee4b6">cc_state_to_devstate</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Unref core_instance done with ccss_device_state&quot;</span>);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="keywordflow">return</span> cc_current_state;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00473">ccss.c:473</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a7b1152f66e69c988f97fe94452bee4b6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7b1152f66e69c988f97fe94452bee4b6">cc_state_to_devstate</a></div><div class="ttdeci">static enum ast_device_state cc_state_to_devstate(enum cc_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00584">ccss.c:584</a></div></div>
<div class="ttc" id="ccss_8c_html_a8c9c1c94ada3db153cc758d1e65e77c6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a></div><div class="ttdeci">static const char * cc_state_to_string(enum cc_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00407">ccss.c:407</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_cc_agent_callbacks::type</a></div><div class="ttdeci">const char * type</div><div class="ttdoc">Type of agent the callbacks belong to. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00894">ccss.h:894</a></div></div>
<div class="ttc" id="structcc__core__instance_html_a234d140e5063471037fc6aa33258d1bd"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">cc_core_instance::current_state</a></div><div class="ttdeci">enum cc_state current_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00337">ccss.c:337</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a></div><div class="ttdeci">match_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00469">ccss.c:469</a></div></div>
<div class="ttc" id="ccss_8c_html_abf7cb1b383319818f042a03b15db33f7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a></div><div class="ttdeci">static int match_agent(void *obj, void *arg, void *data, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00492">ccss.c:492</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00211">ccss.c:211</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a5700eac0585754c3a9dc8d018efdae51">ast_cc_agent::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00854">ccss.h:854</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab55d227245c39181ce1a4e4f013cc898"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a></div><div class="ttdeci">#define ao2_t_callback_data(container, flags, cb_fn, arg, data, tag)</div><div class="ttdoc">ao2_callback_data() is a generic function that applies cb_fn() to all objects in a container...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01741">astobj2.h:1741</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59a478f22511281c22ca805d175e4176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a478f22511281c22ca805d175e4176">&#9670;&nbsp;</a></span>ccss_notify_device_state_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ccss_notify_device_state_change </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00641">641</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00237">ast_devstate2str()</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00070">AST_DEVSTATE_CACHABLE</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00510">ast_devstate_changed()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00584">cc_state_to_devstate()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00407">cc_state_to_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">cc_do_state_change()</a>.</p>
<div class="fragment"><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> devstate;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   devstate = <a class="code" href="../../d3/d5a/ccss_8c.html#a7b1152f66e69c988f97fe94452bee4b6">cc_state_to_devstate</a>(<a class="code" href="../../d4/d88/structstate.html">state</a>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>,</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="stringliteral">&quot;Notification of CCSS state change to &#39;%s&#39;, device state &#39;%s&#39; for device &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a>(<a class="code" href="../../d4/d88/structstate.html">state</a>), <a class="code" href="../../da/da2/devicestate_8h.html#ac3a57910a6eb04d12d793fe3df796b8e">ast_devstate2str</a>(devstate), device);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(devstate, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;ccss:%s&quot;</span>, device);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_ac3a57910a6eb04d12d793fe3df796b8e"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#ac3a57910a6eb04d12d793fe3df796b8e">ast_devstate2str</a></div><div class="ttdeci">const char * ast_devstate2str(enum ast_device_state devstate) attribute_pure</div><div class="ttdoc">Convert device state to text string for output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00237">devicestate.c:237</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a7b1152f66e69c988f97fe94452bee4b6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7b1152f66e69c988f97fe94452bee4b6">cc_state_to_devstate</a></div><div class="ttdeci">static enum ast_device_state cc_state_to_devstate(enum cc_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00584">ccss.c:584</a></div></div>
<div class="ttc" id="devicestate_8h_html_a62a8e6bc4b82dd797e505688f9f29bff"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a></div><div class="ttdeci">int ast_devstate_changed(enum ast_device_state state, enum ast_devstate_cache cachable, const char *fmt,...)</div><div class="ttdoc">Tells Asterisk the State for Device is changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00510">devicestate.c:510</a></div></div>
<div class="ttc" id="ccss_8c_html_a8c9c1c94ada3db153cc758d1e65e77c6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a></div><div class="ttdeci">static const char * cc_state_to_string(enum cc_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00407">ccss.c:407</a></div></div>
<div class="ttc" id="devicestate_8h_html_a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00070">devicestate.h:70</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab14773630c42f5627bd3377a5d5d541e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14773630c42f5627bd3377a5d5d541e">&#9670;&nbsp;</a></span>check_callback_sanity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_callback_sanity </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">2532</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l01058">ast_cc_agent_callbacks::callee_available</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l01072">ast_cc_agent_callbacks::destructor</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00913">ast_cc_agent_callbacks::init</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00965">ast_cc_agent_callbacks::respond</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l01039">ast_cc_agent_callbacks::start_monitoring</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00934">ast_cc_agent_callbacks::start_offer_timer</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00980">ast_cc_agent_callbacks::status_request</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00947">ast_cc_agent_callbacks::stop_offer_timer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;{</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(callbacks-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#aeeb8ff0890dae22b5f7d39b9c5e24c66">init</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(callbacks-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a805746d67bc4fc51e968ddd28b271e9f">start_offer_timer</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(callbacks-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#add00b87d43860616f10b9f0dd0774152">stop_offer_timer</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(callbacks-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">respond</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(callbacks-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a1862ef446c88799949a4de8f76f9ee13">status_request</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(callbacks-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a919f7047e7bdec9419d339b40e077883">start_monitoring</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(callbacks-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#ae307d9129c1eaa6b8ba587d99fcef234">callee_available</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(callbacks-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#abf1e534523b828b9d7b8821d1d0e4bdb">destructor</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;}</div><div class="ttc" id="structast__cc__agent__callbacks_html_a1862ef446c88799949a4de8f76f9ee13"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a1862ef446c88799949a4de8f76f9ee13">ast_cc_agent_callbacks::status_request</a></div><div class="ttdeci">int(* status_request)(struct ast_cc_agent *agent)</div><div class="ttdoc">Request the status of the agent&amp;#39;s device. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00980">ccss.h:980</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a805746d67bc4fc51e968ddd28b271e9f"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a805746d67bc4fc51e968ddd28b271e9f">ast_cc_agent_callbacks::start_offer_timer</a></div><div class="ttdeci">int(* start_offer_timer)(struct ast_cc_agent *agent)</div><div class="ttdoc">Start the offer timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00934">ccss.h:934</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a919f7047e7bdec9419d339b40e077883"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a919f7047e7bdec9419d339b40e077883">ast_cc_agent_callbacks::start_monitoring</a></div><div class="ttdeci">int(* start_monitoring)(struct ast_cc_agent *agent)</div><div class="ttdoc">Begin monitoring a busy device. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l01039">ccss.h:1039</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_abe187e8a31acf5a75a56b9270d72ecc3"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">ast_cc_agent_callbacks::respond</a></div><div class="ttdeci">void(* respond)(struct ast_cc_agent *agent, enum ast_cc_agent_response_reason reason)</div><div class="ttdoc">Respond to a CC request. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00965">ccss.h:965</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_ae307d9129c1eaa6b8ba587d99fcef234"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#ae307d9129c1eaa6b8ba587d99fcef234">ast_cc_agent_callbacks::callee_available</a></div><div class="ttdeci">int(* callee_available)(struct ast_cc_agent *agent)</div><div class="ttdoc">Alert the caller that it is time to try recalling. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l01058">ccss.h:1058</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_aeeb8ff0890dae22b5f7d39b9c5e24c66"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#aeeb8ff0890dae22b5f7d39b9c5e24c66">ast_cc_agent_callbacks::init</a></div><div class="ttdeci">int(* init)(struct ast_cc_agent *agent, struct ast_channel *chan)</div><div class="ttdoc">CC agent initialization. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00913">ccss.h:913</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_abf1e534523b828b9d7b8821d1d0e4bdb"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#abf1e534523b828b9d7b8821d1d0e4bdb">ast_cc_agent_callbacks::destructor</a></div><div class="ttdeci">void(* destructor)(struct ast_cc_agent *agent)</div><div class="ttdoc">Destroy private data on the agent. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l01072">ccss.h:1072</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_add00b87d43860616f10b9f0dd0774152"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#add00b87d43860616f10b9f0dd0774152">ast_cc_agent_callbacks::stop_offer_timer</a></div><div class="ttdeci">int(* stop_offer_timer)(struct ast_cc_agent *agent)</div><div class="ttdoc">Stop the offer timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00947">ccss.h:947</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a713cd70e5c92c2d90069f11d5d8b2972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a713cd70e5c92c2d90069f11d5d8b2972">&#9670;&nbsp;</a></span>complete_core_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* complete_core_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04555">4555</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01931">ao2_t_iterator_next</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02726">ast_cli_completion_add()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04577">handle_cc_kill()</a>.</p>
<div class="fragment"><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;{</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;   <span class="keywordtype">int</span> wordlen = strlen(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>);</div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> core_iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, 0);</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance;</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;   <span class="keywordflow">for</span> (; (core_instance = <a class="code" href="../../d5/da5/astobj2_8h.html#a2f87a873c7ff5f3150044300fe83bb61">ao2_t_iterator_next</a>(&amp;core_iter, <span class="stringliteral">&quot;Next core instance&quot;</span>));</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;CLI tab completion iteration&quot;</span>)) {</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;      <span class="keywordtype">char</span> core_id_str[20];</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;      snprintf(core_id_str, <span class="keyword">sizeof</span>(core_id_str), <span class="stringliteral">&quot;%d&quot;</span>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;      <span class="keywordflow">if</span> (!strncmp(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, core_id_str, wordlen)) {</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dc/db0/cli_8h.html#a6f5f6c330757d980065d3f887c62237f">ast_cli_completion_add</a>(<a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(core_id_str))) {</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(core_instance, <span class="stringliteral">&quot;Found a matching core ID for CLI tab-completion&quot;</span>);</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;         }</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;      }</div><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;   }</div><div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;core_iter);</div><div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;</div><div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2f87a873c7ff5f3150044300fe83bb61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2f87a873c7ff5f3150044300fe83bb61">ao2_t_iterator_next</a></div><div class="ttdeci">#define ao2_t_iterator_next(iter, tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01931">astobj2.h:1931</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="cli_8h_html_a6f5f6c330757d980065d3f887c62237f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a6f5f6c330757d980065d3f887c62237f">ast_cli_completion_add</a></div><div class="ttdeci">int ast_cli_completion_add(char *value)</div><div class="ttdoc">Add a result to a request for completion options. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/main_2cli_8c_source.html#l02726">main/cli.c:2726</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2d88b9554fb4db981b6783cd88f278e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2d88b9554fb4db981b6783cd88f278e">&#9670;&nbsp;</a></span>count_agents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long count_agents </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id_exception</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02506">2506</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01741">ao2_t_callback_data</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00519">count_agents_cb_data::core_id_exception</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00518">count_agents_cb_data::count</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00530">count_agents_cb()</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;{</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dc1/structcount__agents__cb__data.html">count_agents_cb_data</a> data = {.<a class="code" href="../../d6/dc1/structcount__agents__cb__data.html#a3cdc13baad1740c1f96b5e966547cb5f">core_id_exception</a> = <a class="code" href="../../d6/dc1/structcount__agents__cb__data.html#a3cdc13baad1740c1f96b5e966547cb5f">core_id_exception</a>,};</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a851b1ad1711c9458bf62b17de31fccd0">count_agents_cb</a>, (<span class="keywordtype">char</span> *)caller, &amp;data, <span class="stringliteral">&quot;Counting agents&quot;</span>);</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Counted %d agents\n&quot;</span>, data.<a class="code" href="../../d6/dc1/structcount__agents__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>);</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;   <span class="keywordflow">return</span> data.<a class="code" href="../../d6/dc1/structcount__agents__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a851b1ad1711c9458bf62b17de31fccd0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a851b1ad1711c9458bf62b17de31fccd0">count_agents_cb</a></div><div class="ttdeci">static int count_agents_cb(void *obj, void *arg, void *data, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00530">ccss.c:530</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="structcount__agents__cb__data_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="../../d6/dc1/structcount__agents__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count_agents_cb_data::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00518">ccss.c:518</a></div></div>
<div class="ttc" id="structcount__agents__cb__data_html_a3cdc13baad1740c1f96b5e966547cb5f"><div class="ttname"><a href="../../d6/dc1/structcount__agents__cb__data.html#a3cdc13baad1740c1f96b5e966547cb5f">count_agents_cb_data::core_id_exception</a></div><div class="ttdeci">int core_id_exception</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00519">ccss.c:519</a></div></div>
<div class="ttc" id="structcount__agents__cb__data_html"><div class="ttname"><a href="../../d6/dc1/structcount__agents__cb__data.html">count_agents_cb_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00517">ccss.c:517</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab55d227245c39181ce1a4e4f013cc898"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a></div><div class="ttdeci">#define ao2_t_callback_data(container, flags, cb_fn, arg, data, tag)</div><div class="ttdoc">ao2_callback_data() is a generic function that applies cb_fn() to all objects in a container...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01741">astobj2.h:1741</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a851b1ad1711c9458bf62b17de31fccd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a851b1ad1711c9458bf62b17de31fccd0">&#9670;&nbsp;</a></span>count_agents_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int count_agents_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00530">530</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00188">CC_CALLER_REQUESTED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00519">count_agents_cb_data::core_id_exception</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00518">count_agents_cb_data::count</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00337">cc_core_instance::current_state</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, and <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02506">count_agents()</a>.</p>
<div class="fragment"><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;{</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = obj;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> = arg;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/dc1/structcount__agents__cb__data.html">count_agents_cb_data</a> *cb_data = data;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <span class="keywordflow">if</span> (cb_data-&gt;<a class="code" href="../../d6/dc1/structcount__agents__cb__data.html#a3cdc13baad1740c1f96b5e966547cb5f">core_id_exception</a> == core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Found agent with core_id %d but not counting it toward total\n&quot;</span>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordflow">if</span> (core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a> &gt;= <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a> &amp;&amp; !strcmp(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, name)) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      cb_data-&gt;<a class="code" href="../../d6/dc1/structcount__agents__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>++;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="structcount__agents__cb__data_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="../../d6/dc1/structcount__agents__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count_agents_cb_data::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00518">ccss.c:518</a></div></div>
<div class="ttc" id="structcount__agents__cb__data_html_a3cdc13baad1740c1f96b5e966547cb5f"><div class="ttname"><a href="../../d6/dc1/structcount__agents__cb__data.html#a3cdc13baad1740c1f96b5e966547cb5f">count_agents_cb_data::core_id_exception</a></div><div class="ttdeci">int core_id_exception</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00519">ccss.c:519</a></div></div>
<div class="ttc" id="structcount__agents__cb__data_html"><div class="ttname"><a href="../../d6/dc1/structcount__agents__cb__data.html">count_agents_cb_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00517">ccss.c:517</a></div></div>
<div class="ttc" id="structcc__core__instance_html_a234d140e5063471037fc6aa33258d1bd"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">cc_core_instance::current_state</a></div><div class="ttdeci">enum cc_state current_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00337">ccss.c:337</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0f45524b1f152f9566ac26739552978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f45524b1f152f9566ac26739552978">&#9670;&nbsp;</a></span>count_monitors_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int count_monitors_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04348">4348</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04345">count_monitors_cb_data::count</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04343">count_monitors_cb_data::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00830">ast_cc_interface::monitor_type</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04344">count_monitors_cb_data::monitor_type</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04368">ast_cc_monitor_count()</a>.</p>
<div class="fragment"><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;{</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = obj;</div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structcount__monitors__cb__data.html">count_monitors_cb_data</a> *cb_data = arg;</div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a> = cb_data-&gt;<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>;</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a> = cb_data-&gt;<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>;</div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;</div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;      <span class="keywordflow">if</span> (!strcmp(monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, device_name) &amp;&amp;</div><div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;            !strcmp(monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">monitor_type</a>, monitor_type)) {</div><div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;         cb_data-&gt;<a class="code" href="../../d5/d84/structcount__monitors__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>++;</div><div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;      }</div><div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;   }</div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html#a12094ef48afbb4f03d6eb1b7d630e7bd">count_monitors_cb_data::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04344">ccss.c:4344</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count_monitors_cb_data::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04345">ccss.c:4345</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html">count_monitors_cb_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04342">ccss.c:4342</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a12094ef48afbb4f03d6eb1b7d630e7bd"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a12094ef48afbb4f03d6eb1b7d630e7bd">ast_cc_interface::monitor_type</a></div><div class="ttdeci">const char * monitor_type</div><div class="ttdoc">The type of monitor that should be used for this interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00830">ccss.h:830</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structcount__monitors__cb__data_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../d5/d84/structcount__monitors__cb__data.html#a77c7adc4663824cee5fa2e15b9e266e7">count_monitors_cb_data::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04343">ccss.c:4343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15f0ce6ce80fbf5cbc933df54f4d919c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f0ce6ce80fbf5cbc933df54f4d919c">&#9670;&nbsp;</a></span>create_new_generic_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a>* create_new_generic_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01409">1409</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00409">ao2_t_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01547">ao2_t_link</a>, <a class="el" href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00683">ast_device_state_topic()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01183">ast_tech_to_upper()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01344">generic_monitor_instance_list::current_state</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01343">generic_monitor_instance_list::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01396">generic_monitor_instance_list_destructor()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00652">stasis_subscribe</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01025">stasis_subscription_accept_message_type()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00300">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01079">stasis_subscription_set_filter()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01361">generic_monitor_instance_list::sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;{</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *generic_list = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*generic_list),</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a1d6afae4e7744af180de1cd9650dfa41">generic_monitor_instance_list_destructor</a>, <span class="stringliteral">&quot;allocate generic monitor instance list&quot;</span>);</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <span class="keywordtype">char</span> * <a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *device_specific_topic;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;   <span class="keywordflow">if</span> (!generic_list) {</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   }</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="keywordflow">if</span> (!(device_name = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>))) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Failed to strdup the monitor&#39;s device name&quot;</span>);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;   }</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3">ast_tech_to_upper</a>(device_name);</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a> = device_name;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   device_specific_topic = <a class="code" href="../../da/da2/devicestate_8h.html#a85810de734ea25b982144651195bbebb">ast_device_state_topic</a>(device_name);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;   <span class="keywordflow">if</span> (!device_specific_topic) {</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;   }</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;   <span class="keywordflow">if</span> (!(generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a> = <a class="code" href="../../dd/d79/stasis_8h.html#ae3fe7fe099389094244002113814ec23">stasis_subscribe</a>(device_specific_topic, <a class="code" href="../../d3/d5a/ccss_8c.html#aa2aa33490883a538a3997f76dfe51cd1">generic_monitor_devstate_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Failed to subscribe to device state&quot;</span>);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;   }</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a4f248ee5f4791f05d0af8768aaab282b">stasis_subscription_accept_message_type</a>(generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type</a>());</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a52b5393bef89d7781c0d039d6489de23">stasis_subscription_set_filter</a>(generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a>, <a class="code" href="../../dd/d79/stasis_8h.html#a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a>);</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;   generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a503053a5b5fd6740ae389c208118fd4d">current_state</a> = <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>(monitor-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6db9934459f5cdc95cb3af77d55d426e">ao2_t_link</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a>, generic_list, <span class="stringliteral">&quot;linking new generic monitor instance list&quot;</span>);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;   <span class="keywordflow">return</span> generic_list;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_a85810de734ea25b982144651195bbebb"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a85810de734ea25b982144651195bbebb">ast_device_state_topic</a></div><div class="ttdeci">struct stasis_topic * ast_device_state_topic(const char *device)</div><div class="ttdoc">Get the Stasis topic for device state messages for a specific device. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00683">devicestate.c:683</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad57326008c326db88dc36779741622b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a></div><div class="ttdeci">#define ao2_t_alloc(data_size, destructor_fn, debug_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00409">astobj2.h:409</a></div></div>
<div class="ttc" id="ccss_8c_html_aa2aa33490883a538a3997f76dfe51cd1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa2aa33490883a538a3997f76dfe51cd1">generic_monitor_devstate_cb</a></div><div class="ttdeci">static void generic_monitor_devstate_cb(void *userdata, struct stasis_subscription *sub, struct stasis_message *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01484">ccss.c:1484</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="ccss_8c_html_a1d6afae4e7744af180de1cd9650dfa41"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1d6afae4e7744af180de1cd9650dfa41">generic_monitor_instance_list_destructor</a></div><div class="ttdeci">static void generic_monitor_instance_list_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01396">ccss.c:1396</a></div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="stasis_8h_html_a52b5393bef89d7781c0d039d6489de23"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a52b5393bef89d7781c0d039d6489de23">stasis_subscription_set_filter</a></div><div class="ttdeci">int stasis_subscription_set_filter(struct stasis_subscription *subscription, enum stasis_subscription_message_filter filter)</div><div class="ttdoc">Set the message type filtering level on a subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01079">stasis.c:1079</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6db9934459f5cdc95cb3af77d55d426e"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6db9934459f5cdc95cb3af77d55d426e">ao2_t_link</a></div><div class="ttdeci">#define ao2_t_link(container, obj, tag)</div><div class="ttdoc">Add an object to a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01547">astobj2.h:1547</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="devicestate_8h_html_a9459272db1c8c968ed1aff1387f0f9fd"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type</a></div><div class="ttdeci">struct stasis_message_type * ast_device_state_message_type(void)</div><div class="ttdoc">Get the Stasis message type for device state messages. </div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_a03bb86c52b8e22ea4325ea04e6443fa0"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#a03bb86c52b8e22ea4325ea04e6443fa0">generic_monitor_instance_list::sub</a></div><div class="ttdeci">struct stasis_subscription * sub</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01361">ccss.c:1361</a></div></div>
<div class="ttc" id="stasis_8h_html_ae3fe7fe099389094244002113814ec23"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ae3fe7fe099389094244002113814ec23">stasis_subscribe</a></div><div class="ttdeci">#define stasis_subscribe(topic, callback, data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00652">stasis.h:652</a></div></div>
<div class="ttc" id="ccss_8c_html_aad06522a895314598284234778252c1c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a></div><div class="ttdeci">struct ao2_container * generic_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01333">ccss.c:1333</a></div></div>
<div class="ttc" id="strings_8h_html_a3d00ecafdea681595d840862538266c3"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3">ast_tech_to_upper</a></div><div class="ttdeci">char * ast_tech_to_upper(char *dev_str)</div><div class="ttdoc">Convert the tech portion of a device string to upper case. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01183">strings.h:1183</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="stasis_8h_html_a4f248ee5f4791f05d0af8768aaab282b"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a4f248ee5f4791f05d0af8768aaab282b">stasis_subscription_accept_message_type</a></div><div class="ttdeci">int stasis_subscription_accept_message_type(struct stasis_subscription *subscription, const struct stasis_message_type *type)</div><div class="ttdoc">Indicate to a subscription that we are interested in a message type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01025">stasis.c:1025</a></div></div>
<div class="ttc" id="stasis_8h_html_a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a3804fa8ec76d77090d5cda80fc4ac891a0e40588366edb9a53e453d47ef26d567">STASIS_SUBSCRIPTION_FILTER_SELECTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00300">stasis.h:300</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_a503053a5b5fd6740ae389c208118fd4d"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#a503053a5b5fd6740ae389c208118fd4d">generic_monitor_instance_list::current_state</a></div><div class="ttdeci">enum ast_device_state current_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01344">ccss.c:1344</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#a77c7adc4663824cee5fa2e15b9e266e7">generic_monitor_instance_list::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01343">ccss.c:1343</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01342">ccss.c:1342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ada30c8c7c1ad859b49230c8ed8490d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada30c8c7c1ad859b49230c8ed8490d61">&#9670;&nbsp;</a></span>dialed_cc_interfaces_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dialed_cc_interfaces_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01944">1944</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>.</p>
<div class="fragment"><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;{</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *cc_interfaces = data;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, <span class="stringliteral">&quot;Unref dial&#39;s ref to monitor tree&quot;</span>);</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cc_interfaces);</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5c09d9f499e3ad5bfb4f63311b3cab10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c09d9f499e3ad5bfb4f63311b3cab10">&#9670;&nbsp;</a></span>dialed_cc_interfaces_duplicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* dialed_cc_interfaces_duplicate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01964">1964</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00143">cc_ref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01911">dialed_cc_interfaces::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01902">dialed_cc_interfaces::dial_parent_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01917">dialed_cc_interfaces::ignore</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01929">dialed_cc_interfaces::interface_tree</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01925">dialed_cc_interfaces::is_original_caller</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;{</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *old_cc_interfaces = data;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a> *new_cc_interfaces = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*new_cc_interfaces));</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;   <span class="keywordflow">if</span> (!new_cc_interfaces) {</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;   }</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;   new_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a> = old_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">ignore</a>;</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;   new_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a> = old_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dial_parent_id</a>;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;   new_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">is_original_caller</a> = 0;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a>(old_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>, <span class="stringliteral">&quot;New ref due to duplication of monitor tree&quot;</span>);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;   new_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = old_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;   new_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a> = old_cc_interfaces-&gt;<a class="code" href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">interface_tree</a>;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;   <span class="keywordflow">return</span> new_cc_interfaces;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a1fc26691ea6cfac26369fcf3c797dfd6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a1fc26691ea6cfac26369fcf3c797dfd6">cc_ref</a></div><div class="ttdeci">static void * cc_ref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00143">ccss.c:143</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a669c0daceb501dfa4e4117c8baa54af4"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a669c0daceb501dfa4e4117c8baa54af4">dialed_cc_interfaces::is_original_caller</a></div><div class="ttdeci">char is_original_caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01925">ccss.c:1925</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a298c99414ba09c12e5c0feaf845156b8"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a298c99414ba09c12e5c0feaf845156b8">dialed_cc_interfaces::interface_tree</a></div><div class="ttdeci">struct cc_monitor_tree * interface_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01929">ccss.c:1929</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a72a2c55008105f91d1af2942453eca2b">dialed_cc_interfaces::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01911">ccss.c:1911</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a98a0af0698beae3b2032cffb69d02094"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a98a0af0698beae3b2032cffb69d02094">dialed_cc_interfaces::ignore</a></div><div class="ttdeci">char ignore</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01917">ccss.c:1917</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html_a893d185453957758607107023ba704f0"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html#a893d185453957758607107023ba704f0">dialed_cc_interfaces::dial_parent_id</a></div><div class="ttdeci">unsigned int dial_parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01902">ccss.c:1902</a></div></div>
<div class="ttc" id="structdialed__cc__interfaces_html"><div class="ttname"><a href="../../d4/dbe/structdialed__cc__interfaces.html">dialed_cc_interfaces</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01886">ccss.c:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e96f4540f7d939f7c3c82cc76b18dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e96f4540f7d939f7c3c82cc76b18dcf">&#9670;&nbsp;</a></span>extension_monitor_pvt_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a>* extension_monitor_pvt_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01995">1995</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;{</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a> *ext_pvt = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*ext_pvt));</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;   <span class="keywordflow">if</span> (!ext_pvt) {</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;   }</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;ext_pvt-&gt;<a class="code" href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">child_dialstrings</a>);</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;   <span class="keywordflow">return</span> ext_pvt;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html_a8fa7586c63694073e8558d727401e4a0"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html#a8fa7586c63694073e8558d727401e4a0">extension_monitor_pvt::child_dialstrings</a></div><div class="ttdeci">struct extension_monitor_pvt::@366 child_dialstrings</div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="structextension__monitor__pvt_html"><div class="ttname"><a href="../../d9/dcc/structextension__monitor__pvt.html">extension_monitor_pvt</a></div><div class="ttdoc">Private data for an extension monitor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01817">ccss.c:1817</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afc3c55ef72191d6ce4dbe092be125acc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3c55ef72191d6ce4dbe092be125acc">&#9670;&nbsp;</a></span>find_agent_callbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a>* find_agent_callbacks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01269">1269</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00053">AST_CC_AGENT_GENERIC</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00051">AST_CC_AGENT_NATIVE</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10714">ast_channel_get_cc_agent_type()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10675">ast_channel_get_cc_config_params()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00866">ast_get_cc_agent_policy()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01234">cc_agent_backend::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00894">ast_cc_agent_callbacks::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;{</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a> *backend;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> *callbacks = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> *cc_params;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>[32];</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;   cc_params = <a class="code" href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a>(chan);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   <span class="keywordflow">if</span> (!cc_params) {</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;   }</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a>(cc_params)) {</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>:</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(type, <span class="stringliteral">&quot;generic&quot;</span>, <span class="keyword">sizeof</span>(type));</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a>:</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#afbb24da777f6a7ca9b24918a63e048da">ast_channel_get_cc_agent_type</a>(chan, type, <span class="keyword">sizeof</span>(type));</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Not returning agent callbacks since this channel is configured not to have a CC agent\n&quot;</span>);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;   }</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>, backend, next) {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="keywordflow">if</span> (!strcmp(backend-&gt;<a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, type)) {</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Returning agent backend %s\n&quot;</span>, backend-&gt;<a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>-&gt;<a class="code" href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;         callbacks = backend-&gt;<a class="code" href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">callbacks</a>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      }</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;   }</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>);</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keywordflow">return</span> callbacks;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;}</div><div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00051">ccss.h:51</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00053">ccss.h:53</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_a7df9da0e99e443d7ae13dc07bbc57dcd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7df9da0e99e443d7ae13dc07bbc57dcd">ast_channel_get_cc_config_params</a></div><div class="ttdeci">struct ast_cc_config_params * ast_channel_get_cc_config_params(struct ast_channel *chan)</div><div class="ttdoc">Get the CCSS parameters from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10675">channel.c:10675</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="structcc__agent__backend_html_a5700eac0585754c3a9dc8d018efdae51"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html#a5700eac0585754c3a9dc8d018efdae51">cc_agent_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_agent_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01234">ccss.c:1234</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00887">ccss.h:887</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="channel_8h_html_afbb24da777f6a7ca9b24918a63e048da"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afbb24da777f6a7ca9b24918a63e048da">ast_channel_get_cc_agent_type</a></div><div class="ttdeci">int ast_channel_get_cc_agent_type(struct ast_channel *chan, char *agent_type, size_t size)</div><div class="ttdoc">Find the appropriate CC agent type to use given a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10714">channel.c:10714</a></div></div>
<div class="ttc" id="structcc__agent__backends_html"><div class="ttname"><a href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01237">ccss.c:1237</a></div></div>
<div class="ttc" id="structast__cc__agent__callbacks_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_cc_agent_callbacks::type</a></div><div class="ttdeci">const char * type</div><div class="ttdoc">Type of agent the callbacks belong to. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00894">ccss.h:894</a></div></div>
<div class="ttc" id="structast__cc__config__params_html"><div class="ttname"><a href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00161">ccss.c:161</a></div></div>
<div class="ttc" id="structcc__agent__backend_html"><div class="ttname"><a href="../../d3/db0/structcc__agent__backend.html">cc_agent_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01232">ccss.c:1232</a></div></div>
<div class="ttc" id="ccss_8c_html_a9973d81440cb95d7ca720ef1e331c5cd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a9973d81440cb95d7ca720ef1e331c5cd">ast_get_cc_agent_policy</a></div><div class="ttdeci">enum ast_cc_agent_policies ast_get_cc_agent_policy(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_policy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00866">ccss.c:866</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5074ca9ad1b570ab300a2fd9a0aaf1e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5074ca9ad1b570ab300a2fd9a0aaf1e6">&#9670;&nbsp;</a></span>find_cc_core_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a>* find_cc_core_instance </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>core_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00431">431</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01754">ao2_t_find</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04093">ast_cc_agent_status_response()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03519">ast_cc_get_monitor_by_recall_core_id()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04051">ast_cc_monitor_party_b_free()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03986">ast_cc_monitor_status_request()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04023">ast_cc_monitor_stop_ringing()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03405">ast_setup_cc_recall_datastore()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>.</p>
<div class="fragment"><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> finder = {.<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> = <a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>,};</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a36591ec4147956994abd2c67dacba18f">ao2_t_find</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, &amp;finder, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a>, <span class="stringliteral">&quot;Finding a core_instance&quot;</span>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="astobj2_8h_html_a36591ec4147956994abd2c67dacba18f"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a36591ec4147956994abd2c67dacba18f">ao2_t_find</a></div><div class="ttdeci">#define ao2_t_find(container, arg, flags, tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01754">astobj2.h:1754</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afbedbf4b9985ca5c4f0a0b6a54f3b0c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">&#9670;&nbsp;</a></span>find_generic_monitor_instance_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a>* find_generic_monitor_instance_list </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>device_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01386">1386</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01754">ao2_t_find</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01183">ast_tech_to_upper()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01343">generic_monitor_instance_list::device_name</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01668">cc_generic_monitor_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01582">cc_generic_monitor_suspend()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01623">cc_generic_monitor_unsuspend()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01443">generic_monitor_devstate_tp_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;{</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> finder = {0};</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <span class="keywordtype">char</span> *uppertech = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3">ast_tech_to_upper</a>(uppertech);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;   finder.<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a> = uppertech;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a36591ec4147956994abd2c67dacba18f">ao2_t_find</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a>, &amp;finder, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a>, <span class="stringliteral">&quot;Finding generic monitor instance list&quot;</span>);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="ccss_8c_html_aad06522a895314598284234778252c1c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a></div><div class="ttdeci">struct ao2_container * generic_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01333">ccss.c:1333</a></div></div>
<div class="ttc" id="strings_8h_html_a3d00ecafdea681595d840862538266c3"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a3d00ecafdea681595d840862538266c3">ast_tech_to_upper</a></div><div class="ttdeci">char * ast_tech_to_upper(char *dev_str)</div><div class="ttdoc">Convert the tech portion of a device string to upper case. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01183">strings.h:1183</a></div></div>
<div class="ttc" id="astobj2_8h_html_a36591ec4147956994abd2c67dacba18f"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a36591ec4147956994abd2c67dacba18f">ao2_t_find</a></div><div class="ttdeci">#define ao2_t_find(container, arg, flags, tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01754">astobj2.h:1754</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#a77c7adc4663824cee5fa2e15b9e266e7">generic_monitor_instance_list::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01343">ccss.c:1343</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01342">ccss.c:1342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae560ec7b0f950b1bfc0f5effc28e32d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae560ec7b0f950b1bfc0f5effc28e32d7">&#9670;&nbsp;</a></span>find_monitor_callbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a>* find_monitor_callbacks </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01200">1200</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01179">cc_monitor_backend::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00583">ast_cc_monitor_callbacks::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02216">call_destructor_with_no_monitor()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;{</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a> *backend;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> *callbacks = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>, backend, next) {</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keywordflow">if</span> (!strcmp(backend-&gt;<a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>)) {</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Returning monitor backend %s\n&quot;</span>, backend-&gt;<a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;         callbacks = backend-&gt;<a class="code" href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   }</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;   <span class="keywordflow">return</span> callbacks;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;}</div><div class="ttc" id="structcc__monitor__backends_html"><div class="ttname"><a href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01182">ccss.c:1182</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_cc_monitor_callbacks::type</a></div><div class="ttdeci">const char * type</div><div class="ttdoc">Type of monitor the callbacks belong to. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00583">ccss.h:583</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html#a5bde3787fe7fae4f043982a588b9d7ab">cc_monitor_backend::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01179">ccss.c:1179</a></div></div>
<div class="ttc" id="structcc__monitor__backend_html"><div class="ttname"><a href="../../df/d1a/structcc__monitor__backend.html">cc_monitor_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01177">ccss.c:1177</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a></div><div class="ttdoc">Callbacks defined by CC monitors. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00576">ccss.h:576</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5ead6c4392b14d14aca3d7defa07ff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ead6c4392b14d14aca3d7defa07ff7">&#9670;&nbsp;</a></span>generic_agent_devstate_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void generic_agent_devstate_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02761">2761</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03820">ast_cc_agent_caller_available()</a>, <a class="el" href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00849">ast_cc_agent::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00248">ast_device_state_message::eid</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00871">ast_cc_agent::private_data</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message_type()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01176">stasis_subscription_final_message()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00973">stasis_unsubscribe()</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00250">ast_device_state_message::state</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02628">cc_generic_agent_pvt::sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02791">cc_generic_agent_start_monitoring()</a>.</p>
<div class="fragment"><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;{</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent = userdata;</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> new_state;</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d92/structast__device__state__message.html">ast_device_state_message</a> *dev_state;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a> *generic_pvt = agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d79/stasis_8h.html#a839350445aaa51cedf31f6daec933ee0">stasis_subscription_final_message</a>(sub, msg)) {</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(agent, <span class="stringliteral">&quot;Done holding ref for subscription&quot;</span>);</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type</a>() != <a class="code" href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a>(msg)) {</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;   }</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;   dev_state = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(msg);</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;   <span class="keywordflow">if</span> (dev_state-&gt;<a class="code" href="../../db/d92/structast__device__state__message.html#a39d1b63955a48c72508fa9f884d05762">eid</a>) {</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;      <span class="comment">/* ignore non-aggregate states */</span></div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;   }</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;   new_state = dev_state-&gt;<a class="code" href="../../db/d92/structast__device__state__message.html#a1acd064aff48cf4d5eafec1030f8429d">state</a>;</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a>(new_state)) {</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      <span class="comment">/* Not interested in this new state of the device.  It is still busy. */</span></div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;   }</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;   generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a3498301077e2005383f0d261c471388b">stasis_unsubscribe</a>(sub);</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#ac2a5064d0e089814ba93dc2aefacdd09">ast_cc_agent_caller_available</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <span class="stringliteral">&quot;%s is no longer busy&quot;</span>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="structast__cc__agent_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">ast_cc_agent::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00871">ccss.h:871</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="structast__device__state__message_html_a1acd064aff48cf4d5eafec1030f8429d"><div class="ttname"><a href="../../db/d92/structast__device__state__message.html#a1acd064aff48cf4d5eafec1030f8429d">ast_device_state_message::state</a></div><div class="ttdeci">enum ast_device_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00250">devicestate.h:250</a></div></div>
<div class="ttc" id="stasis_8h_html_a9356e8a29344ca4eac93088198ccff89"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_message_type(const struct stasis_message *msg)</div><div class="ttdoc">Get the message type for a stasis_message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message.c:187</a></div></div>
<div class="ttc" id="devicestate_8h_html_a9459272db1c8c968ed1aff1387f0f9fd"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type</a></div><div class="ttdeci">struct stasis_message_type * ast_device_state_message_type(void)</div><div class="ttdoc">Get the Stasis message type for device state messages. </div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a03bb86c52b8e22ea4325ea04e6443fa0"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a03bb86c52b8e22ea4325ea04e6443fa0">cc_generic_agent_pvt::sub</a></div><div class="ttdeci">struct stasis_subscription * sub</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02628">ccss.c:2628</a></div></div>
<div class="ttc" id="structast__device__state__message_html_a39d1b63955a48c72508fa9f884d05762"><div class="ttname"><a href="../../db/d92/structast__device__state__message.html#a39d1b63955a48c72508fa9f884d05762">ast_device_state_message::eid</a></div><div class="ttdeci">const struct ast_eid * eid</div><div class="ttdoc">The EID of the server where this message originated. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00248">devicestate.h:248</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02619">ccss.c:2619</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="stasis_8h_html_a3498301077e2005383f0d261c471388b"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a3498301077e2005383f0d261c471388b">stasis_unsubscribe</a></div><div class="ttdeci">struct stasis_subscription * stasis_unsubscribe(struct stasis_subscription *subscription)</div><div class="ttdoc">Cancel a subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00973">stasis.c:973</a></div></div>
<div class="ttc" id="stasis_8h_html_a839350445aaa51cedf31f6daec933ee0"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a839350445aaa51cedf31f6daec933ee0">stasis_subscription_final_message</a></div><div class="ttdeci">int stasis_subscription_final_message(struct stasis_subscription *sub, struct stasis_message *msg)</div><div class="ttdoc">Determine whether a message is the final message to be received on a subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01176">stasis.c:1176</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="ccss_8c_html_ac2a5064d0e089814ba93dc2aefacdd09"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac2a5064d0e089814ba93dc2aefacdd09">ast_cc_agent_caller_available</a></div><div class="ttdeci">int ast_cc_agent_caller_available(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate that a previously unavailable caller has become available. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03820">ccss.c:3820</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structast__cc__agent_html"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00844">ccss.h:844</a></div></div>
<div class="ttc" id="structast__device__state__message_html"><div class="ttname"><a href="../../db/d92/structast__device__state__message.html">ast_device_state_message</a></div><div class="ttdoc">The structure that contains device state. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00240">devicestate.h:240</a></div></div>
<div class="ttc" id="ccss_8c_html_a957c2dad047b8a2050d66c3dd069a082"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a></div><div class="ttdeci">static int cc_generic_is_device_available(enum ast_device_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01313">ccss.c:1313</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2aa33490883a538a3997f76dfe51cd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2aa33490883a538a3997f76dfe51cd1">&#9670;&nbsp;</a></span>generic_monitor_devstate_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void generic_monitor_devstate_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01484">1484</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00248">ast_device_state_message::eid</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01443">generic_monitor_devstate_tp_cb()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message_type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01396">generic_monitor_instance_list_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;{</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;   <span class="comment">/* Wow, it&#39;s cool that we&#39;ve picked up on a state change, but we really want</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">    * the actual work to be done in the core&#39;s taskprocessor execution thread</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">    * so that all monitor operations can be serialized. Locks?! We don&#39;t need</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">    * no steenkin&#39; locks!</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d92/structast__device__state__message.html">ast_device_state_message</a> *dev_state;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type</a>() != <a class="code" href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a>(msg)) {</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;   }</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;   dev_state = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(msg);</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   <span class="keywordflow">if</span> (dev_state-&gt;<a class="code" href="../../db/d92/structast__device__state__message.html#a39d1b63955a48c72508fa9f884d05762">eid</a>) {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="comment">/* ignore non-aggregate states */</span></div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   }</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(dev_state, +1, <span class="stringliteral">&quot;Bumping dev_state ref for cc_core_taskprocessor&quot;</span>);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a12ded4575d2e387d2390ec7ccf5a7d90">generic_monitor_devstate_tp_cb</a>, dev_state)) {</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(dev_state);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;   }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="stasis_8h_html_a9356e8a29344ca4eac93088198ccff89"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_message_type(const struct stasis_message *msg)</div><div class="ttdoc">Get the message type for a stasis_message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message.c:187</a></div></div>
<div class="ttc" id="ccss_8c_html_a12ded4575d2e387d2390ec7ccf5a7d90"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a12ded4575d2e387d2390ec7ccf5a7d90">generic_monitor_devstate_tp_cb</a></div><div class="ttdeci">static int generic_monitor_devstate_tp_cb(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01443">ccss.c:1443</a></div></div>
<div class="ttc" id="devicestate_8h_html_a9459272db1c8c968ed1aff1387f0f9fd"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a9459272db1c8c968ed1aff1387f0f9fd">ast_device_state_message_type</a></div><div class="ttdeci">struct stasis_message_type * ast_device_state_message_type(void)</div><div class="ttdoc">Get the Stasis message type for device state messages. </div></div>
<div class="ttc" id="structast__device__state__message_html_a39d1b63955a48c72508fa9f884d05762"><div class="ttname"><a href="../../db/d92/structast__device__state__message.html#a39d1b63955a48c72508fa9f884d05762">ast_device_state_message::eid</a></div><div class="ttdeci">const struct ast_eid * eid</div><div class="ttdoc">The EID of the server where this message originated. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00248">devicestate.h:248</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__device__state__message_html"><div class="ttname"><a href="../../db/d92/structast__device__state__message.html">ast_device_state_message</a></div><div class="ttdoc">The structure that contains device state. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00240">devicestate.h:240</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a12ded4575d2e387d2390ec7ccf5a7d90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12ded4575d2e387d2390ec7ccf5a7d90">&#9670;&nbsp;</a></span>generic_monitor_devstate_tp_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int generic_monitor_devstate_tp_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01443">1443</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03798">ast_cc_monitor_callee_available()</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00056">AST_DEVICE_BUSY</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00055">AST_DEVICE_INUSE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00058">AST_DEVICE_UNAVAILABLE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01313">cc_generic_is_device_available()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01336">generic_monitor_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01344">generic_monitor_instance_list::current_state</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01386">find_generic_monitor_instance_list()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01360">generic_monitor_instance_list::fit_for_recall</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01337">generic_monitor_instance::is_suspended</a>, <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01338">generic_monitor_instance::monitoring</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01339">generic_monitor_instance::next</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01484">generic_monitor_devstate_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;{</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../db/d92/structast__device__state__message.html">ast_device_state_message</a> *, dev_state, data, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> new_state = dev_state-&gt;state;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> previous_state;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *generic_list;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a> *generic_instance;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;   <span class="keywordflow">if</span> (!(generic_list = <a class="code" href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a>(dev_state-&gt;device))) {</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <span class="comment">/* The most likely cause for this is that we destroyed the monitor in the</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">       * time between subscribing to its device state and the time this executes.</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="comment">       * Not really a big deal.</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   }</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   <span class="keywordflow">if</span> (generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a503053a5b5fd6740ae389c208118fd4d">current_state</a> == new_state) {</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="comment">/* The device state hasn&#39;t actually changed, so we don&#39;t really care */</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Kill reference of generic list in devstate taskprocessor callback&quot;</span>);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;   }</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;   previous_state = generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a503053a5b5fd6740ae389c208118fd4d">current_state</a>;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a503053a5b5fd6740ae389c208118fd4d">current_state</a> = new_state;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a>(new_state) &amp;&amp;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;         (previous_state == <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a> || previous_state == <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549">AST_DEVICE_UNAVAILABLE</a> ||</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;          previous_state == <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a>)) {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>, generic_instance, <a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">next</a>) {</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;         <span class="keywordflow">if</span> (!generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">is_suspended</a> &amp;&amp; generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">monitoring</a>) {</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">monitoring</a> = 0;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ae276c787d6077c1a375e4e1e9284079d">fit_for_recall</a> = 1;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a>(generic_instance-&gt;<a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;Generic monitored party has become available&quot;</span>);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;         }</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      }</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   }</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(generic_list, <span class="stringliteral">&quot;Kill reference of generic list in devstate taskprocessor callback&quot;</span>);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a8f831cfaba759c6073f1940c9b81e2a9"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8f831cfaba759c6073f1940c9b81e2a9">ast_cc_monitor_callee_available</a></div><div class="ttdeci">int ast_cc_monitor_callee_available(const int core_id, const char *const debug,...)</div><div class="ttdoc">Alert the core that a device being monitored has become available. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03798">ccss.c:3798</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549">AST_DEVICE_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00058">devicestate.h:58</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a1a6588582c3092775aaca48a1b374e78"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a1a6588582c3092775aaca48a1b374e78">generic_monitor_instance::is_suspended</a></div><div class="ttdeci">int is_suspended</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01337">ccss.c:1337</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ab7ef0dbef8e1c1b0efb448932ceb9413"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a></div><div class="ttdeci">struct generic_monitor_instance_list::@364 list</div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00056">devicestate.h:56</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00055">devicestate.h:55</a></div></div>
<div class="ttc" id="ccss_8c_html_afbedbf4b9985ca5c4f0a0b6a54f3b0c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afbedbf4b9985ca5c4f0a0b6a54f3b0c1">find_generic_monitor_instance_list</a></div><div class="ttdeci">static struct generic_monitor_instance_list * find_generic_monitor_instance_list(const char *const device_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01386">ccss.c:1386</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a620e73b056649601be8c509dd4f11cdd"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a620e73b056649601be8c509dd4f11cdd">generic_monitor_instance::monitoring</a></div><div class="ttdeci">int monitoring</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01338">ccss.c:1338</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#a72a2c55008105f91d1af2942453eca2b">generic_monitor_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01336">ccss.c:1336</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01335">ccss.c:1335</a></div></div>
<div class="ttc" id="structast__device__state__message_html"><div class="ttname"><a href="../../db/d92/structast__device__state__message.html">ast_device_state_message</a></div><div class="ttdoc">The structure that contains device state. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00240">devicestate.h:240</a></div></div>
<div class="ttc" id="ccss_8c_html_a957c2dad047b8a2050d66c3dd069a082"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a957c2dad047b8a2050d66c3dd069a082">cc_generic_is_device_available</a></div><div class="ttdeci">static int cc_generic_is_device_available(enum ast_device_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01313">ccss.c:1313</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_a503053a5b5fd6740ae389c208118fd4d"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#a503053a5b5fd6740ae389c208118fd4d">generic_monitor_instance_list::current_state</a></div><div class="ttdeci">enum ast_device_state current_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01344">ccss.c:1344</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ae276c787d6077c1a375e4e1e9284079d"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ae276c787d6077c1a375e4e1e9284079d">generic_monitor_instance_list::fit_for_recall</a></div><div class="ttdeci">int fit_for_recall</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01360">ccss.c:1360</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_ae23621ecf780a667bb92aadeb65abbf3"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">generic_monitor_instance::next</a></div><div class="ttdeci">struct generic_monitor_instance * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01339">ccss.c:1339</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01342">ccss.c:1342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d6afae4e7744af180de1cd9650dfa41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6afae4e7744af180de1cd9650dfa41">&#9670;&nbsp;</a></span>generic_monitor_instance_list_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void generic_monitor_instance_list_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01396">1396</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01343">generic_monitor_instance_list::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01484">generic_monitor_devstate_cb()</a>, <a class="el" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01339">generic_monitor_instance::next</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00973">stasis_unsubscribe()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00240">sub</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01361">generic_monitor_instance_list::sub</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01409">create_new_generic_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;{</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a> *generic_list = obj;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a> *generic_instance;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a3498301077e2005383f0d261c471388b">stasis_unsubscribe</a>(generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a03bb86c52b8e22ea4325ea04e6443fa0">sub</a>);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <span class="keywordflow">while</span> ((generic_instance = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">list</a>, <a class="code" href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">next</a>))) {</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(generic_instance);</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   }</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *)generic_list-&gt;<a class="code" href="../../d0/d4a/structgeneric__monitor__instance__list.html#a77c7adc4663824cee5fa2e15b9e266e7">device_name</a>);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_a03bb86c52b8e22ea4325ea04e6443fa0"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#a03bb86c52b8e22ea4325ea04e6443fa0">generic_monitor_instance_list::sub</a></div><div class="ttdeci">struct stasis_subscription * sub</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01361">ccss.c:1361</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_ab7ef0dbef8e1c1b0efb448932ceb9413"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#ab7ef0dbef8e1c1b0efb448932ceb9413">generic_monitor_instance_list::list</a></div><div class="ttdeci">struct generic_monitor_instance_list::@364 list</div></div>
<div class="ttc" id="stasis_8h_html_a3498301077e2005383f0d261c471388b"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a3498301077e2005383f0d261c471388b">stasis_unsubscribe</a></div><div class="ttdeci">struct stasis_subscription * stasis_unsubscribe(struct stasis_subscription *subscription)</div><div class="ttdoc">Cancel a subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00973">stasis.c:973</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html">generic_monitor_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01335">ccss.c:1335</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html_a77c7adc4663824cee5fa2e15b9e266e7"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html#a77c7adc4663824cee5fa2e15b9e266e7">generic_monitor_instance_list::device_name</a></div><div class="ttdeci">const char * device_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01343">ccss.c:1343</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance_html_ae23621ecf780a667bb92aadeb65abbf3"><div class="ttname"><a href="../../d4/daf/structgeneric__monitor__instance.html#ae23621ecf780a667bb92aadeb65abbf3">generic_monitor_instance::next</a></div><div class="ttdeci">struct generic_monitor_instance * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01339">ccss.c:1339</a></div></div>
<div class="ttc" id="structgeneric__monitor__instance__list_html"><div class="ttname"><a href="../../d0/d4a/structgeneric__monitor__instance__list.html">generic_monitor_instance_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01342">ccss.c:1342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd86c854f9feb5e231de8ca4f8d29c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd86c854f9feb5e231de8ca4f8d29c33">&#9670;&nbsp;</a></span>generic_recall()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* generic_recall </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">2816</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00273">ast_app_exec_macro()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00370">ast_app_exec_sub()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03831">ast_cc_agent_recalling()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03631">ast_cc_agent_set_interfaces_chanvar()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00348">ast_channel_context_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00357">ast_channel_exten_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00448">ast_channel_priority_set()</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00994">ast_get_cc_callback_macro()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00999">ast_get_cc_callback_sub()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00930">ast_get_cc_recall_timer()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04712">ast_pbx_start()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06264">ast_request_and_dial()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03405">ast_setup_cc_recall_datastore()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02650">cc_generic_agent_pvt::cid_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02642">cc_generic_agent_pvt::cid_num</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02666">cc_generic_agent_pvt::context</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02658">cc_generic_agent_pvt::exten</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00871">ast_cc_agent::private_data</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02895">cc_generic_agent_recall()</a>.</p>
<div class="fragment"><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;{</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent = data;</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a> *generic_pvt = agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">interface </span>= <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a46199282e56a1def66a4f406e64e1690">ast_get_cc_agent_dialstring</a>(agent-&gt;cc_params), <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(agent-&gt;device_name));</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *tech;</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;   <span class="keywordtype">char</span> *target;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;   <span class="keywordtype">int</span> reason;</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *callback_macro = <a class="code" href="../../d3/d5a/ccss_8c.html#a7b7a459ee48682680795c741e748c086">ast_get_cc_callback_macro</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a>);</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *callback_sub = <a class="code" href="../../d3/d5a/ccss_8c.html#acccfe3f2b9de8a7009e02e2972ca6be5">ast_get_cc_callback_sub</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a>);</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> recall_timer = <a class="code" href="../../d3/d5a/ccss_8c.html#a017388f7e4b902e8caac6458e586f47a">ast_get_cc_recall_timer</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">cc_params</a>) * 1000;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *tmp_cap = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;   <span class="keywordflow">if</span> (!tmp_cap) {</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;   }</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;   tech = interface;</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;   <span class="keywordflow">if</span> ((target = strchr(interface, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;      *target++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;   }</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(tmp_cap, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>, 0);</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;   <span class="keywordflow">if</span> (!(chan = <a class="code" href="../../d5/d7b/channel_8h.html#a915faa3d41bb2cc6b4c2aa722c3ca68b">ast_request_and_dial</a>(tech, tmp_cap, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, target, recall_timer, &amp;reason, generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a9162a260cb494f0e5b76dad3967257fb">cid_num</a>, generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a9ea476d4754b891dcae7f9cb8a57ff79">cid_name</a>))) {</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;      <span class="comment">/* Hmm, no channel. Sucks for you, bud.</span></div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %u: Failed to call back %s for reason %d\n&quot;</span>,</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;            agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, reason);</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <span class="stringliteral">&quot;Failed to call back device %s/%s&quot;</span>, tech, target);</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(tmp_cap, -1);</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;   }</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(tmp_cap, -1);</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;   <span class="comment">/* We have a channel. It&#39;s time now to set up the datastore of recalled CC interfaces.</span></div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="comment">    * This will be a common task for all recall functions. If it were possible, I&#39;d have</span></div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<span class="comment">    * the core do it automatically, but alas I cannot. Instead, I will provide a public</span></div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="comment">    * function to do so.</span></div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a3d7883a7ab60e13e2697fccb74ed5d8d">ast_setup_cc_recall_datastore</a>(chan, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>);</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#ac943e39777b9c5ac58c4b4802b7347c6">ast_cc_agent_set_interfaces_chanvar</a>(chan);</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(chan, generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#ac4a5154adb73aec06ffe067102df8822">exten</a>);</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(chan, generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a3cee01aec2b39358cc622dfa122f818c">context</a>);</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a>(chan, 1);</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_EXTEN&quot;</span>, generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#ac4a5154adb73aec06ffe067102df8822">exten</a>);</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CC_CONTEXT&quot;</span>, generic_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a3cee01aec2b39358cc622dfa122f818c">context</a>);</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(callback_macro)) {</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %u: There&#39;s a callback macro configured for agent %s\n&quot;</span>,</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;            agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#aaf3af8d672383b48d194deb468074cbe">ast_app_exec_macro</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan, callback_macro)) {</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <span class="stringliteral">&quot;Callback macro to %s failed. Maybe a hangup?&quot;</span>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(chan);</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      }</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;   }</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(callback_sub)) {</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %u: There&#39;s a callback subroutine configured for agent %s\n&quot;</span>,</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;            agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#aee5e20694b04eee43463fde6cf121d06">ast_app_exec_sub</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan, callback_sub, 0)) {</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <span class="stringliteral">&quot;Callback subroutine to %s failed. Maybe a hangup?&quot;</span>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(chan);</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;      }</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;   }</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a>(chan)) {</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <span class="stringliteral">&quot;PBX failed to start for %s.&quot;</span>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(chan);</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;   }</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a6d36b7a6c430c9a9d9a773745db94354">ast_cc_agent_recalling</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <span class="stringliteral">&quot;Generic agent %s is recalling&quot;</span>,</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;      agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__cc__agent_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">ast_cc_agent::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00871">ccss.h:871</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a9162a260cb494f0e5b76dad3967257fb"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a9162a260cb494f0e5b76dad3967257fb">cc_generic_agent_pvt::cid_num</a></div><div class="ttdeci">char cid_num[AST_CHANNEL_NAME]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02642">ccss.c:2642</a></div></div>
<div class="ttc" id="channel_8h_html_a915faa3d41bb2cc6b4c2aa722c3ca68b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a915faa3d41bb2cc6b4c2aa722c3ca68b">ast_request_and_dial</a></div><div class="ttdeci">struct ast_channel * ast_request_and_dial(const char *type, struct ast_format_cap *cap, const struct ast_assigned_ids *assignedids, const struct ast_channel *requestor, const char *addr, int timeout, int *reason, const char *cid_num, const char *cid_name)</div><div class="ttdoc">Request a channel of a given type, with data as optional information used by the low level module and...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06264">channel.c:6264</a></div></div>
<div class="ttc" id="ccss_8c_html_a017388f7e4b902e8caac6458e586f47a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a017388f7e4b902e8caac6458e586f47a">ast_get_cc_recall_timer</a></div><div class="ttdeci">unsigned int ast_get_cc_recall_timer(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_recall_timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00930">ccss.c:930</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="pbx_8h_html_a9a937fbb3b5f4e68880a9c5714a29ce5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a></div><div class="ttdeci">enum ast_pbx_result ast_pbx_start(struct ast_channel *c)</div><div class="ttdoc">Create a new thread and start the PBX. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04712">pbx.c:4712</a></div></div>
<div class="ttc" id="structast__cc__agent_html_ad1b63200d8c1c6e60caa69a887b9964e"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad1b63200d8c1c6e60caa69a887b9964e">ast_cc_agent::cc_params</a></div><div class="ttdeci">struct ast_cc_config_params * cc_params</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00859">ccss.h:859</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a3cee01aec2b39358cc622dfa122f818c"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a3cee01aec2b39358cc622dfa122f818c">cc_generic_agent_pvt::context</a></div><div class="ttdeci">char context[AST_CHANNEL_NAME]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02666">ccss.c:2666</a></div></div>
<div class="ttc" id="ccss_8c_html_a3d7883a7ab60e13e2697fccb74ed5d8d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a3d7883a7ab60e13e2697fccb74ed5d8d">ast_setup_cc_recall_datastore</a></div><div class="ttdeci">int ast_setup_cc_recall_datastore(struct ast_channel *chan, const int core_id)</div><div class="ttdoc">Set up a CC recall datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03405">ccss.c:3405</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_ac4a5154adb73aec06ffe067102df8822"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#ac4a5154adb73aec06ffe067102df8822">cc_generic_agent_pvt::exten</a></div><div class="ttdeci">char exten[AST_CHANNEL_NAME]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02658">ccss.c:2658</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="ccss_8c_html_a6d36b7a6c430c9a9d9a773745db94354"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6d36b7a6c430c9a9d9a773745db94354">ast_cc_agent_recalling</a></div><div class="ttdeci">int ast_cc_agent_recalling(int core_id, const char *const debug,...)</div><div class="ttdoc">Tell the CC core that a caller is currently recalling. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03831">ccss.c:3831</a></div></div>
<div class="ttc" id="ccss_8c_html_a46199282e56a1def66a4f406e64e1690"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a46199282e56a1def66a4f406e64e1690">ast_get_cc_agent_dialstring</a></div><div class="ttdeci">const char * ast_get_cc_agent_dialstring(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the cc_agent_dialstring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00960">ccss.c:960</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02619">ccss.c:2619</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="ccss_8c_html_ac943e39777b9c5ac58c4b4802b7347c6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac943e39777b9c5ac58c4b4802b7347c6">ast_cc_agent_set_interfaces_chanvar</a></div><div class="ttdeci">int ast_cc_agent_set_interfaces_chanvar(struct ast_channel *chan)</div><div class="ttdoc">Set the first level CC_INTERFACES channel variable for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03631">ccss.c:3631</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_aaf3af8d672383b48d194deb468074cbe"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#aaf3af8d672383b48d194deb468074cbe">ast_app_exec_macro</a></div><div class="ttdeci">int ast_app_exec_macro(struct ast_channel *autoservice_chan, struct ast_channel *macro_chan, const char *macro_args)</div><div class="ttdoc">Run a macro on a channel, placing an optional second channel into autoservice. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00273">main/app.c:273</a></div></div>
<div class="ttc" id="ccss_8c_html_a7b7a459ee48682680795c741e748c086"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7b7a459ee48682680795c741e748c086">ast_get_cc_callback_macro</a></div><div class="ttdeci">const char * ast_get_cc_callback_macro(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the name of the callback_macro. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00994">ccss.c:994</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="channel_8h_html_a018b7a29cef2d62074dc46e9aaad0d1a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a></div><div class="ttdeci">void ast_channel_exten_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00357">channel_internal_api.c:357</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="channel_8h_html_aca211972dac7b8f3f08a283bfe0aa8bf"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a></div><div class="ttdeci">void ast_channel_context_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00348">channel_internal_api.c:348</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a9ea476d4754b891dcae7f9cb8a57ff79"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a9ea476d4754b891dcae7f9cb8a57ff79">cc_generic_agent_pvt::cid_name</a></div><div class="ttdeci">char cid_name[AST_CHANNEL_NAME]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02650">ccss.c:2650</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_aee5e20694b04eee43463fde6cf121d06"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#aee5e20694b04eee43463fde6cf121d06">ast_app_exec_sub</a></div><div class="ttdeci">int ast_app_exec_sub(struct ast_channel *autoservice_chan, struct ast_channel *sub_chan, const char *sub_args, int ignore_hangup)</div><div class="ttdoc">Run a subroutine on a channel, placing an optional second channel into autoservice. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00370">main/app.c:370</a></div></div>
<div class="ttc" id="structast__cc__agent_html"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00844">ccss.h:844</a></div></div>
<div class="ttc" id="ccss_8c_html_acccfe3f2b9de8a7009e02e2972ca6be5"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#acccfe3f2b9de8a7009e02e2972ca6be5">ast_get_cc_callback_sub</a></div><div class="ttdeci">const char * ast_get_cc_callback_sub(struct ast_cc_config_params *config)</div><div class="ttdoc">Get the name of the callback subroutine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00999">ccss.c:999</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="channel_8h_html_ae56cab679c0cda6436b930bc74297895"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a></div><div class="ttdeci">void ast_channel_priority_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00448">channel_internal_api.c:448</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a10f215e5431b1db91950434baf24916d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f215e5431b1db91950434baf24916d">&#9670;&nbsp;</a></span>handle_cc_kill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cc_kill </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04577">4577</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01714">ao2_t_callback</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04555">complete_core_id()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04544">kill_cores()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>
<div class="fragment"><div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;{</div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;cc cancel [core|all]&quot;</span>;</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;         <span class="stringliteral">&quot;Usage: cc cancel can be used in two ways.\n&quot;</span></div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;         <span class="stringliteral">&quot;       1. &#39;cc cancel core [core ID]&#39; will cancel the CC transaction with\n&quot;</span></div><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;         <span class="stringliteral">&quot;          core ID equal to the specified core ID.\n&quot;</span></div><div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;         <span class="stringliteral">&quot;       2. &#39;cc cancel all&#39; will cancel all active CC transactions.\n&quot;</span>;</div><div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;      <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 3 &amp;&amp; !strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], <span class="stringliteral">&quot;core&quot;</span>)) {</div><div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a713cd70e5c92c2d90069f11d5d8b2972">complete_core_id</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>);</div><div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;      }</div><div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;   }</div><div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;</div><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 4) {</div><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;      <span class="keywordtype">int</span> core_id;</div><div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;      <span class="keywordtype">char</span> *endptr;</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], <span class="stringliteral">&quot;core&quot;</span>)) {</div><div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;      }</div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;      core_id = strtol(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], &amp;endptr, 10);</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> != 0 &amp;&amp; core_id == 0) || (endptr == a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3])) {</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;      }</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#aeac596280952a84fea6f7192586f885d">kill_cores</a>, &amp;core_id, <span class="stringliteral">&quot;CLI Killing Core Id&quot;</span>);</div><div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 3) {</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], <span class="stringliteral">&quot;all&quot;</span>)) {</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;      }</div><div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#aeac596280952a84fea6f7192586f885d">kill_cores</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;CLI Killing all CC cores&quot;</span>);</div><div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;   }</div><div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a713cd70e5c92c2d90069f11d5d8b2972"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a713cd70e5c92c2d90069f11d5d8b2972">complete_core_id</a></div><div class="ttdeci">static char * complete_core_id(const char *word)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04555">ccss.c:4555</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="ccss_8c_html_aeac596280952a84fea6f7192586f885d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aeac596280952a84fea6f7192586f885d">kill_cores</a></div><div class="ttdeci">static int kill_cores(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04544">ccss.c:4544</a></div></div>
<div class="ttc" id="astobj2_8h_html_aeca960ec22a1d0384f6e285b25df8501"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aeca960ec22a1d0384f6e285b25df8501">ao2_t_callback</a></div><div class="ttdeci">#define ao2_t_callback(c, flags, cb_fn, arg, tag)</div><div class="ttdoc">ao2_callback() is a generic function that applies cb_fn() to all objects in a container, as described below. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01714">astobj2.h:1714</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86f608afebe74c4f8ff778a270d5e4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f608afebe74c4f8ff778a270d5e4b0">&#9670;&nbsp;</a></span>handle_cc_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cc_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04511">4511</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01175">ast_taskprocessor_push()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04494">cc_cli_output_status()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;{</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;   <span class="keywordtype">int</span> *cli_fd;</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;cc report status&quot;</span>;</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;         <span class="stringliteral">&quot;Usage: cc report status\n&quot;</span></div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;         <span class="stringliteral">&quot;       Report the current status of any ongoing CC transactions\n&quot;</span>;</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;   }</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 3) {</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;   }</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;</div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;   cli_fd = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*cli_fd));</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;   <span class="keywordflow">if</span> (!cli_fd) {</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;   }</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;   *cli_fd = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>;</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;</div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a6a7063bfb92213985b9fa5acd1dde9d6">cc_cli_output_status</a>, cli_fd)) {</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cli_fd);</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;   }</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;}</div><div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a6b2508ba0a6b8f43ae6d3963f3189585"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a6b2508ba0a6b8f43ae6d3963f3189585">ast_taskprocessor_push</a></div><div class="ttdeci">int ast_taskprocessor_push(struct ast_taskprocessor *tps, int(*task_exe)(void *datap), void *datap) attribute_warn_unused_result</div><div class="ttdoc">Push a task into the specified taskprocessor queue and signal the taskprocessor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01175">taskprocessor.c:1175</a></div></div>
<div class="ttc" id="ccss_8c_html_a6a7063bfb92213985b9fa5acd1dde9d6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6a7063bfb92213985b9fa5acd1dde9d6">cc_cli_output_status</a></div><div class="ttdeci">static int cc_cli_output_status(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04494">ccss.c:4494</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa60dcba0563e29185a0d65f428dadb48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa60dcba0563e29185a0d65f428dadb48">&#9670;&nbsp;</a></span>has_device_monitors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int has_device_monitors </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check if the core instance has any device monitors </p>
<p>In any case where we end up removing a device monitor from the list of device monitors, it is important to see what the state of the list is afterwards. If we find that we only have extension monitors left, then no devices are actually being monitored. In such a case, we need to declare that CC has failed for this call. This function helps those cases to determine if they should declare failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core_instance</td><td>The core instance we are checking for the existence of device monitors </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No device monitors exist on this core_instance </td></tr>
    <tr><td class="paramname">1</td><td>There is still at least 1 device monitor remaining </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03093">3093</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03226">cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">request_cc()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03193">suspend()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03146">unsuspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;{</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *iter;</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;      <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>) {</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;         res = 1;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      }</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;   }</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06bedc8cb792eb2d792d505a6389c767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06bedc8cb792eb2d792d505a6389c767">&#9670;&nbsp;</a></span>initialize_cc_devstate_map()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initialize_cc_devstate_map </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04436">4436</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00191">CC_ACTIVE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00183">CC_AVAILABLE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00194">CC_CALLEE_READY</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00198">CC_CALLER_BUSY</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00185">CC_CALLER_OFFERED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00188">CC_CALLER_REQUESTED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00206">CC_COMPLETE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00211">CC_FAILED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00202">CC_RECALLING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04412">initialize_cc_devstate_map_helper()</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;{</div><div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cc_config;</div><div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { 0, };</div><div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;</div><div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;   cc_config = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(<span class="stringliteral">&quot;ccss.conf&quot;</span>, <span class="stringliteral">&quot;ccss&quot;</span>, config_flags);</div><div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;   <span class="keywordflow">if</span> (!cc_config || cc_config == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;         <span class="stringliteral">&quot;Could not find valid ccss.conf file. Using cc_[state]_devstate defaults\n&quot;</span>);</div><div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;   }</div><div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;</div><div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a>, <span class="stringliteral">&quot;cc_available_devstate&quot;</span>);</div><div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a>, <span class="stringliteral">&quot;cc_caller_offered_devstate&quot;</span>);</div><div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>, <span class="stringliteral">&quot;cc_caller_requested_devstate&quot;</span>);</div><div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>, <span class="stringliteral">&quot;cc_active_devstate&quot;</span>);</div><div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a>, <span class="stringliteral">&quot;cc_callee_ready_devstate&quot;</span>);</div><div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a>, <span class="stringliteral">&quot;cc_caller_busy_devstate&quot;</span>);</div><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a>, <span class="stringliteral">&quot;cc_recalling_devstate&quot;</span>);</div><div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a>, <span class="stringliteral">&quot;cc_complete_devstate&quot;</span>);</div><div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a>(cc_config, <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a>, <span class="stringliteral">&quot;cc_failed_devstate&quot;</span>);</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;</div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cc_config);</div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00198">ccss.c:198</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00185">ccss.c:185</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00183">ccss.c:183</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00191">ccss.c:191</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00194">ccss.c:194</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00211">ccss.c:211</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00206">ccss.c:206</a></div></div>
<div class="ttc" id="ccss_8c_html_a5df0617a5a78db13911e9dfae4326be3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5df0617a5a78db13911e9dfae4326be3">initialize_cc_devstate_map_helper</a></div><div class="ttdeci">static void initialize_cc_devstate_map_helper(struct ast_config *cc_config, enum cc_state state, const char *cc_setting)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04412">ccss.c:4412</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00202">ccss.c:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5df0617a5a78db13911e9dfae4326be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df0617a5a78db13911e9dfae4326be3">&#9670;&nbsp;</a></span>initialize_cc_devstate_map_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initialize_cc_devstate_map_helper </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td>
          <td class="paramname"><em>cc_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cc_setting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04412">4412</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/da2/devicestate_8h_source.html#l00053">AST_DEVICE_UNKNOWN</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00260">ast_devstate_val()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00393">state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04436">initialize_cc_devstate_map()</a>.</p>
<div class="fragment"><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;{</div><div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *cc_devstate_str;</div><div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> this_devstate;</div><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;</div><div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;   <span class="keywordflow">if</span> ((cc_devstate_str = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cc_config, <span class="stringliteral">&quot;general&quot;</span>, cc_setting))) {</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;      this_devstate = <a class="code" href="../../da/da2/devicestate_8h.html#ae148e0b95218b57b0348ab53f2f82657">ast_devstate_val</a>(cc_devstate_str);</div><div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;      <span class="keywordflow">if</span> (this_devstate != <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a>) {</div><div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#acf2de0a1a74fea71224b3670cb6df73f">cc_state_to_devstate_map</a>[<a class="code" href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a>] = this_devstate;</div><div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;      }</div><div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;   }</div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="ccss_8c_html_aa15a5955ae71d81bd990da3569c06258"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa15a5955ae71d81bd990da3569c06258">state</a></div><div class="ttdeci">enum cc_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00393">ccss.c:393</a></div></div>
<div class="ttc" id="ccss_8c_html_acf2de0a1a74fea71224b3670cb6df73f"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#acf2de0a1a74fea71224b3670cb6df73f">cc_state_to_devstate_map</a></div><div class="ttdeci">static enum ast_device_state cc_state_to_devstate_map[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00563">ccss.c:563</a></div></div>
<div class="ttc" id="devicestate_8h_html_ae148e0b95218b57b0348ab53f2f82657"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#ae148e0b95218b57b0348ab53f2f82657">ast_devstate_val</a></div><div class="ttdeci">enum ast_device_state ast_devstate_val(const char *val)</div><div class="ttdoc">Convert device state from text to integer value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00260">devicestate.c:260</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00053">devicestate.h:53</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa52d21c491ea8b21735078102e5be521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52d21c491ea8b21735078102e5be521">&#9670;&nbsp;</a></span>initialize_cc_max_requests()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initialize_cc_max_requests </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04377">4377</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00137">global_cc_max_requests</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00660">GLOBAL_CC_MAX_REQUESTS_DEFAULT</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;{</div><div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cc_config;</div><div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *cc_max_requests_str;</div><div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = {0,};</div><div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;   <span class="keywordtype">char</span> *endptr;</div><div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;</div><div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;   cc_config = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(<span class="stringliteral">&quot;ccss.conf&quot;</span>, <span class="stringliteral">&quot;ccss&quot;</span>, config_flags);</div><div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;   <span class="keywordflow">if</span> (!cc_config || cc_config == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find valid ccss.conf file. Using cc_max_requests default\n&quot;</span>);</div><div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a65cf228d0a816fcbef564fb1ffca432a">GLOBAL_CC_MAX_REQUESTS_DEFAULT</a>;</div><div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;   }</div><div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;</div><div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;   <span class="keywordflow">if</span> (!(cc_max_requests_str = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cc_config, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;cc_max_requests&quot;</span>))) {</div><div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cc_config);</div><div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a65cf228d0a816fcbef564fb1ffca432a">GLOBAL_CC_MAX_REQUESTS_DEFAULT</a>;</div><div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;   }</div><div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;</div><div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a> = strtol(cc_max_requests_str, &amp;endptr, 10);</div><div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;</div><div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endptr)) {</div><div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid input given for cc_max_requests. Using default\n&quot;</span>);</div><div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a65cf228d0a816fcbef564fb1ffca432a">GLOBAL_CC_MAX_REQUESTS_DEFAULT</a>;</div><div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;   }</div><div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;</div><div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cc_config);</div><div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a4a80bcf12d1976a90ad79ba7ba07dec4"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a4a80bcf12d1976a90ad79ba7ba07dec4">global_cc_max_requests</a></div><div class="ttdeci">static unsigned int global_cc_max_requests</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00137">ccss.c:137</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="ccss_8c_html_a65cf228d0a816fcbef564fb1ffca432a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a65cf228d0a816fcbef564fb1ffca432a">GLOBAL_CC_MAX_REQUESTS_DEFAULT</a></div><div class="ttdeci">#define GLOBAL_CC_MAX_REQUESTS_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00660">ccss.c:660</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa759ffc37d142821c2c99b97499b07c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa759ffc37d142821c2c99b97499b07c2">&#9670;&nbsp;</a></span>is_state_change_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_state_change_valid </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a>&#160;</td>
          <td class="paramname"><em>new_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03001">3001</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00067">AST_CC_AGENT_SKIP_OFFER</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00191">CC_ACTIVE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00183">CC_AVAILABLE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00194">CC_CALLEE_READY</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00198">CC_CALLER_BUSY</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00185">CC_CALLER_OFFERED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00188">CC_CALLER_REQUESTED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00206">CC_COMPLETE</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00211">CC_FAILED</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00202">CC_RECALLING</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00849">ast_cc_agent::core_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">cc_do_state_change()</a>.</p>
<div class="fragment"><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;{</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;   <span class="keywordtype">int</span> is_valid = 0;</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;   <span class="keywordflow">switch</span> (new_state) {</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a>:</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %u: Asked to change to state %u? That should never happen.\n&quot;</span>,</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;            agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, new_state);</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a>:</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;      <span class="keywordflow">if</span> (current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a>) {</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;         is_valid = 1;</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      }</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>:</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;      <span class="keywordflow">if</span> (current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a> ||</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;            (current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a> &amp;&amp; <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(agent, <a class="code" href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16">AST_CC_AGENT_SKIP_OFFER</a>))) {</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;         is_valid = 1;</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;      }</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>:</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;      <span class="keywordflow">if</span> (current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a> || current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a>) {</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;         is_valid = 1;</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;      }</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a>:</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;      <span class="keywordflow">if</span> (current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a>) {</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;         is_valid = 1;</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;      }</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a>:</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;      <span class="keywordflow">if</span> (current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a>) {</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;         is_valid = 1;</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;      }</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a>:</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;      <span class="keywordflow">if</span> (current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a>) {</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;         is_valid = 1;</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;      }</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a>:</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordflow">if</span> (current_state == <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a>) {</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;         is_valid = 1;</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;      }</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a>:</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;      is_valid = 1;</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %u: Asked to change to unknown state %u\n&quot;</span>,</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;            agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, new_state);</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;   }</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;   <span class="keywordflow">return</span> is_valid;</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a98b9e18f2a18575e7bf75dcb6df1d766">CC_CALLER_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00198">ccss.c:198</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a2942eaf5fb676fed772bc81b560fc6a0">CC_CALLER_OFFERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00185">ccss.c:185</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9938078c97e498e6a1fb5c5a07345ecf">CC_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00183">ccss.c:183</a></div></div>
<div class="ttc" id="ccss_8h_html_ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#ab4abe51a3cf7a84be8a5d0a2e06f1a92a6ac7ee135b3c410dc5f9fcbec384ef16">AST_CC_AGENT_SKIP_OFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00067">ccss.h:67</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a306b94b9f14c1e0ed013d5341f0d3f5d">CC_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00191">ccss.c:191</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a286ce9300ce587c8b8e17740843eac45">CC_CALLEE_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00194">ccss.c:194</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a83511815f69308c57dea75a92b8d56bd">CC_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00211">ccss.c:211</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a26c2c310dafb30cc1425222c748e5701">CC_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00206">ccss.c:206</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080a9db69f429fa6fcb59526c3c380c802a3">CC_RECALLING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00202">ccss.c:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeac596280952a84fea6f7192586f885d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac596280952a84fea6f7192586f885d">&#9670;&nbsp;</a></span>kill_cores()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kill_cores </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04544">4544</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04577">handle_cc_kill()</a>.</p>
<div class="fragment"><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;{</div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;   <span class="keywordtype">int</span> *core_id = arg;</div><div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = obj;</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;</div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;   <span class="keywordflow">if</span> (!core_id || (core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a> == *core_id)) {</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;CC transaction canceled administratively\n&quot;</span>);</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;   }</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6311796a5920729e1f68771aa76d5cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6311796a5920729e1f68771aa76d5cc4">&#9670;&nbsp;</a></span>kill_duplicate_offers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kill_duplicate_offers </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>caller</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02515">2515</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01741">ao2_t_callback_data</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00492">match_agent()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00473">MATCH_NO_REQUEST</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>.</p>
<div class="fragment"><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;{</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a> = <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a>;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *dups_iter;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="comment">    * Must remove the ref that was in cc_core_instances outside of</span></div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;<span class="comment">    * the container lock to prevent deadlock.</span></div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;   dups_iter = <a class="code" href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>,</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a>, caller, &amp;match_flags, <span class="stringliteral">&quot;Killing duplicate offers&quot;</span>);</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;   <span class="keywordflow">if</span> (dups_iter) {</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      <span class="comment">/* Now actually unref any duplicate offers by simply destroying the iterator. */</span></div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(dups_iter);</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;   }</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;}</div><div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00473">ccss.c:473</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a></div><div class="ttdeci">match_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00469">ccss.c:469</a></div></div>
<div class="ttc" id="ccss_8c_html_abf7cb1b383319818f042a03b15db33f7"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#abf7cb1b383319818f042a03b15db33f7">match_agent</a></div><div class="ttdeci">static int match_agent(void *obj, void *arg, void *data, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00492">ccss.c:492</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab55d227245c39181ce1a4e4f013cc898"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab55d227245c39181ce1a4e4f013cc898">ao2_t_callback_data</a></div><div class="ttdeci">#define ao2_t_callback_data(container, flags, cb_fn, arg, data, tag)</div><div class="ttdoc">ao2_callback_data() is a generic function that applies cb_fn() to all objects in a container...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01741">astobj2.h:1741</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">4653</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01308">ao2_t_container_alloc_hash</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01239">ast_cc_agent_register()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01184">ast_cc_monitor_register()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00391">ast_devstate_prov_add()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02503">ast_logger_register_level()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00324">AST_MODPRI_CORE</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00102">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00103">ast_register_application2()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00236">ast_sched_context_create()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00195">ast_sched_start_thread()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01044">ast_taskprocessor_get()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00423">cc_core_instance_cmp_fn()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00417">cc_core_instance_hash_fn()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00326">CC_CORE_INSTANCES_BUCKETS</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00129">CC_LOGGER_LEVEL_NAME</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">cccancel_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00600">ccss_device_state()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04436">initialize_cc_devstate_map()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04377">initialize_cc_max_requests()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d1e/taskprocessor_8h_source.html#l00075">TPS_REF_DEFAULT</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04623">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;{</div><div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;</div><div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ab5c800b526ca7de022a0a3e79d0292ad">ao2_t_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a38ebea09cd5ab7bcb1921f62f347bfc8">CC_CORE_INSTANCES_BUCKETS</a>,</div><div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#af4516fb324cbf99c5220fdf9b7afabec">cc_core_instance_hash_fn</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a611eba4508e148925f5e9465a8e11fa1">cc_core_instance_cmp_fn</a>,</div><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;      <span class="stringliteral">&quot;Create core instance container&quot;</span>);</div><div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>) {</div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>;</div><div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;   }</div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;</div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ab5c800b526ca7de022a0a3e79d0292ad">ao2_t_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a38ebea09cd5ab7bcb1921f62f347bfc8">CC_CORE_INSTANCES_BUCKETS</a>,</div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;      generic_monitor_instance_list_hash_fn, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, generic_monitor_instance_list_cmp_fn,</div><div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;      <span class="stringliteral">&quot;Create generic monitor container&quot;</span>);</div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a>) {</div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>;</div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;   }</div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a> = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#ac999cc9523590a29dff6acbd9cad24a9">ast_taskprocessor_get</a>(<span class="stringliteral">&quot;CCSS_core&quot;</span>, <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a42ae78df3dc5106c133bf2f7b72080f7ae248d04bb7a6b5e0906e4906af4ee35a">TPS_REF_DEFAULT</a>))) {</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>;</div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;   }</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a> = <a class="code" href="../../d7/d00/sched_8h.html#a5baecc149aeabdbef9b3ed6780c1c4a6">ast_sched_context_create</a>())) {</div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>;</div><div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;   }</div><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d00/sched_8h.html#a8ae97d1549b62cfbfc78bd92efe48005">ast_sched_start_thread</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a>)) {</div><div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>;</div><div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;   }</div><div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;   res = <a class="code" href="../../d5/d16/module_8h.html#a5fd926a7510f3d3fd0d69ae710ec1e89">ast_register_application2</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a3d5b52c0c580e6280605a4bfbe3f260a">ccreq_app</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a6cdced852fd2ee42c5cb8658fc6c3867">ccreq_exec</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#a5fd926a7510f3d3fd0d69ae710ec1e89">ast_register_application2</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a4bc0357f26e1ae04619892894f7978cc">cccancel_app</a>, <a class="code" href="../../d3/d5a/ccss_8c.html#a42db5cbb36f637ab4351fce84e8b2032">cccancel_exec</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;   res |= <a class="code" href="../../d3/d5a/ccss_8c.html#a21c61c03681638d2b04390f4201e2320">ast_cc_monitor_register</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a6987126a8cf306e730e9020eac827980">generic_monitor_cbs</a>);</div><div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;   res |= <a class="code" href="../../d3/d5a/ccss_8c.html#a6645437018e01782a83ada2ff4735c7a">ast_cc_agent_register</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#afea6db2fc1573d4c44baed1a9aa0bc44">generic_agent_callbacks</a>);</div><div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;</div><div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#ac33c195198aa5ecefa83cb02fa0e024a">cc_cli</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#ac33c195198aa5ecefa83cb02fa0e024a">cc_cli</a>));</div><div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a> = <a class="code" href="../../d1/d8c/logger_8h.html#aa689efaaa503de6322c2b13b3faab63d">ast_logger_register_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a68d983dbcda956ce9384633f524673c3">CC_LOGGER_LEVEL_NAME</a>);</div><div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a00c11e22178be31913d96130d567d6da">dialed_cc_interface_counter</a> = 1;</div><div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#aa52d21c491ea8b21735078102e5be521">initialize_cc_max_requests</a>();</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;</div><div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;   <span class="comment">/* Read the map and register the device state callback for generic agents */</span></div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a06bedc8cb792eb2d792d505a6389c767">initialize_cc_devstate_map</a>();</div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;   res |= <a class="code" href="../../da/da2/devicestate_8h.html#ae832fcc32c88962e73025ffeafe2961e">ast_devstate_prov_add</a>(<span class="stringliteral">&quot;ccss&quot;</span>, <a class="code" href="../../d3/d5a/ccss_8c.html#a2181b9979cb127dd522efee38b77e29b">ccss_device_state</a>);</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;   <span class="keywordflow">return</span> res ? <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a> : <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;}</div><div class="ttc" id="sched_8h_html_a8ae97d1549b62cfbfc78bd92efe48005"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a8ae97d1549b62cfbfc78bd92efe48005">ast_sched_start_thread</a></div><div class="ttdeci">int ast_sched_start_thread(struct ast_sched_context *con)</div><div class="ttdoc">Start a thread for processing scheduler entries. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00195">sched.c:195</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="ccss_8c_html_a00c11e22178be31913d96130d567d6da"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a00c11e22178be31913d96130d567d6da">dialed_cc_interface_counter</a></div><div class="ttdeci">static int dialed_cc_interface_counter</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01875">ccss.c:1875</a></div></div>
<div class="ttc" id="ccss_8c_html_a38ebea09cd5ab7bcb1921f62f347bfc8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a38ebea09cd5ab7bcb1921f62f347bfc8">CC_CORE_INSTANCES_BUCKETS</a></div><div class="ttdeci">static const int CC_CORE_INSTANCES_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00326">ccss.c:326</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_ac999cc9523590a29dff6acbd9cad24a9"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#ac999cc9523590a29dff6acbd9cad24a9">ast_taskprocessor_get</a></div><div class="ttdeci">struct ast_taskprocessor * ast_taskprocessor_get(const char *name, enum ast_tps_options create)</div><div class="ttdoc">Get a reference to a taskprocessor with the specified name and create the taskprocessor if necessary...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01044">taskprocessor.c:1044</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a42ae78df3dc5106c133bf2f7b72080f7ae248d04bb7a6b5e0906e4906af4ee35a"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a42ae78df3dc5106c133bf2f7b72080f7ae248d04bb7a6b5e0906e4906af4ee35a">TPS_REF_DEFAULT</a></div><div class="ttdoc">return a reference to a taskprocessor, create one if it does not exist </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1e/taskprocessor_8h_source.html#l00075">taskprocessor.h:75</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="devicestate_8h_html_ae832fcc32c88962e73025ffeafe2961e"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#ae832fcc32c88962e73025ffeafe2961e">ast_devstate_prov_add</a></div><div class="ttdeci">int ast_devstate_prov_add(const char *label, ast_devstate_prov_cb_type callback)</div><div class="ttdoc">Add device state provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00391">devicestate.c:391</a></div></div>
<div class="ttc" id="ccss_8c_html_a3d5b52c0c580e6280605a4bfbe3f260a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a3d5b52c0c580e6280605a4bfbe3f260a">ccreq_app</a></div><div class="ttdeci">static const char * ccreq_app</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04255">ccss.c:4255</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="ccss_8c_html_a68d983dbcda956ce9384633f524673c3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a68d983dbcda956ce9384633f524673c3">CC_LOGGER_LEVEL_NAME</a></div><div class="ttdeci">static const char * CC_LOGGER_LEVEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00129">ccss.c:129</a></div></div>
<div class="ttc" id="ccss_8c_html_a082832e22a050d2dd5e8c3019207b1ed"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a></div><div class="ttdeci">static struct ast_sched_context * cc_sched_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00115">ccss.c:115</a></div></div>
<div class="ttc" id="ccss_8c_html_a42db5cbb36f637ab4351fce84e8b2032"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a42db5cbb36f637ab4351fce84e8b2032">cccancel_exec</a></div><div class="ttdeci">static int cccancel_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04308">ccss.c:4308</a></div></div>
<div class="ttc" id="ccss_8c_html_ac33c195198aa5ecefa83cb02fa0e024a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac33c195198aa5ecefa83cb02fa0e024a">cc_cli</a></div><div class="ttdeci">static struct ast_cli_entry cc_cli[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04618">ccss.c:4618</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="logger_8h_html_aa689efaaa503de6322c2b13b3faab63d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa689efaaa503de6322c2b13b3faab63d">ast_logger_register_level</a></div><div class="ttdeci">int ast_logger_register_level(const char *name)</div><div class="ttdoc">Register a new logger level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02503">logger.c:2503</a></div></div>
<div class="ttc" id="ccss_8c_html_a06bedc8cb792eb2d792d505a6389c767"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a06bedc8cb792eb2d792d505a6389c767">initialize_cc_devstate_map</a></div><div class="ttdeci">static void initialize_cc_devstate_map(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04436">ccss.c:4436</a></div></div>
<div class="ttc" id="sched_8h_html_a5baecc149aeabdbef9b3ed6780c1c4a6"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a5baecc149aeabdbef9b3ed6780c1c4a6">ast_sched_context_create</a></div><div class="ttdeci">struct ast_sched_context * ast_sched_context_create(void)</div><div class="ttdoc">Create a scheduler context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00236">sched.c:236</a></div></div>
<div class="ttc" id="ccss_8c_html_a6cdced852fd2ee42c5cb8658fc6c3867"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6cdced852fd2ee42c5cb8658fc6c3867">ccreq_exec</a></div><div class="ttdeci">static int ccreq_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04257">ccss.c:4257</a></div></div>
<div class="ttc" id="ccss_8c_html_aad06522a895314598284234778252c1c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a></div><div class="ttdeci">struct ao2_container * generic_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01333">ccss.c:1333</a></div></div>
<div class="ttc" id="ccss_8c_html_afea6db2fc1573d4c44baed1a9aa0bc44"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afea6db2fc1573d4c44baed1a9aa0bc44">generic_agent_callbacks</a></div><div class="ttdeci">static struct ast_cc_agent_callbacks generic_agent_callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02606">ccss.c:2606</a></div></div>
<div class="ttc" id="ccss_8c_html_a611eba4508e148925f5e9465a8e11fa1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a611eba4508e148925f5e9465a8e11fa1">cc_core_instance_cmp_fn</a></div><div class="ttdeci">static int cc_core_instance_cmp_fn(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00423">ccss.c:423</a></div></div>
<div class="ttc" id="ccss_8c_html_a21c61c03681638d2b04390f4201e2320"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a21c61c03681638d2b04390f4201e2320">ast_cc_monitor_register</a></div><div class="ttdeci">int ast_cc_monitor_register(const struct ast_cc_monitor_callbacks *callbacks)</div><div class="ttdoc">Register a set of monitor callbacks with the core. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01184">ccss.c:1184</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab5c800b526ca7de022a0a3e79d0292ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab5c800b526ca7de022a0a3e79d0292ad">ao2_t_container_alloc_hash</a></div><div class="ttdeci">#define ao2_t_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn, tag)</div><div class="ttdoc">Allocate and initialize a hash container with the desired number of buckets. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01308">astobj2.h:1308</a></div></div>
<div class="ttc" id="ccss_8c_html_aa52d21c491ea8b21735078102e5be521"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa52d21c491ea8b21735078102e5be521">initialize_cc_max_requests</a></div><div class="ttdeci">static void initialize_cc_max_requests(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04377">ccss.c:4377</a></div></div>
<div class="ttc" id="ccss_8c_html_a2181b9979cb127dd522efee38b77e29b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a2181b9979cb127dd522efee38b77e29b">ccss_device_state</a></div><div class="ttdeci">static enum ast_device_state ccss_device_state(const char *device_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00600">ccss.c:600</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="module_8h_html_a5fd926a7510f3d3fd0d69ae710ec1e89"><div class="ttname"><a href="../../d5/d16/module_8h.html#a5fd926a7510f3d3fd0d69ae710ec1e89">ast_register_application2</a></div><div class="ttdeci">int ast_register_application2(const char *app, int(*execute)(struct ast_channel *, const char *), const char *synopsis, const char *description, void *mod)</div><div class="ttdoc">Register an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00103">pbx_app.c:103</a></div></div>
<div class="ttc" id="ccss_8c_html_a6987126a8cf306e730e9020eac827980"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6987126a8cf306e730e9020eac827980">generic_monitor_cbs</a></div><div class="ttdeci">static struct ast_cc_monitor_callbacks generic_monitor_cbs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01324">ccss.c:1324</a></div></div>
<div class="ttc" id="ccss_8c_html_a4bc0357f26e1ae04619892894f7978cc"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a4bc0357f26e1ae04619892894f7978cc">cccancel_app</a></div><div class="ttdeci">static const char * cccancel_app</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04306">ccss.c:4306</a></div></div>
<div class="ttc" id="ccss_8c_html_a6645437018e01782a83ada2ff4735c7a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6645437018e01782a83ada2ff4735c7a">ast_cc_agent_register</a></div><div class="ttdeci">int ast_cc_agent_register(const struct ast_cc_agent_callbacks *callbacks)</div><div class="ttdoc">Register a set of agent callbacks with the core. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01239">ccss.c:1239</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
<div class="ttc" id="ccss_8c_html_af4516fb324cbf99c5220fdf9b7afabec"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#af4516fb324cbf99c5220fdf9b7afabec">cc_core_instance_hash_fn</a></div><div class="ttdeci">static int cc_core_instance_hash_fn(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00417">ccss.c:417</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf7cb1b383319818f042a03b15db33f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf7cb1b383319818f042a03b15db33f7">&#9670;&nbsp;</a></span>match_agent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int match_agent </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00492">492</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00188">CC_CALLER_REQUESTED</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01032">CMP_STOP</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00337">cc_core_instance::current_state</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00473">MATCH_NO_REQUEST</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00477">MATCH_REQUEST</a>, and <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">cccancel_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00600">ccss_device_state()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02515">kill_duplicate_offers()</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = obj;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> = arg;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a> = *(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)data;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <span class="keywordtype">int</span> possible_match = 0;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keywordflow">if</span> ((match_flags &amp; <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a>) &amp;&amp; core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a> &lt; <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      possible_match = 1;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">if</span> ((match_flags &amp; <a class="code" href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330">MATCH_REQUEST</a>) &amp;&amp; core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a> &gt;= <a class="code" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a>) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      possible_match = 1;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <span class="keywordflow">if</span> (!possible_match) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <span class="keywordflow">if</span> (!strcmp(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, name)) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19aee996f42794ffeefef7cc4420112fcb8">MATCH_NO_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00473">ccss.c:473</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01032">astobj2.h:1032</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19abf9b8c93b1987fe60700d383b4a54330">MATCH_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00477">ccss.c:477</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structcc__core__instance_html_a234d140e5063471037fc6aa33258d1bd"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">cc_core_instance::current_state</a></div><div class="ttdeci">enum cc_state current_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00337">ccss.c:337</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="ccss_8c_html_a7711f9723c81c04c807aef92a9478b19"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7711f9723c81c04c807aef92a9478b19">match_flags</a></div><div class="ttdeci">match_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00469">ccss.c:469</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="ccss_8c_html_a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080addde4be926289690b75365f5807c9900">CC_CALLER_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00188">ccss.c:188</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a36da7590fe51b7f5b8bc1d449381592f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36da7590fe51b7f5b8bc1d449381592f">&#9670;&nbsp;</a></span>monitor_policy_to_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* monitor_policy_to_str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a>&#160;</td>
          <td class="paramname"><em>policy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00743">743</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00087">AST_CC_MONITOR_ALWAYS</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00083">AST_CC_MONITOR_GENERIC</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00078">AST_CC_MONITOR_NATIVE</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00076">AST_CC_MONITOR_NEVER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00759">ast_cc_get_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;{</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   <span class="keywordflow">switch</span> (policy) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2">AST_CC_MONITOR_NEVER</a>:</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;never&quot;</span>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e">AST_CC_MONITOR_NATIVE</a>:</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;native&quot;</span>;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a>:</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;generic&quot;</span>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a>:</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;always&quot;</span>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="comment">/* This should never happen... */</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div><div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e">AST_CC_MONITOR_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00078">ccss.h:78</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2">AST_CC_MONITOR_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00076">ccss.h:76</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00087">ccss.h:87</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00083">ccss.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6eafdaf4a298814d2cb24cf21cc09eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eafdaf4a298814d2cb24cf21cc09eb3">&#9670;&nbsp;</a></span>offer_timer_expire()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int offer_timer_expire </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02691">2691</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00439">ast_log_dynamic_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">cc_logger_level</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00849">ast_cc_agent::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02632">cc_generic_agent_pvt::offer_timer_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00871">ast_cc_agent::private_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02703">cc_generic_agent_start_offer_timer()</a>.</p>
<div class="fragment"><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;{</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent = (<span class="keyword">struct </span><a class="code" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *) data;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a> *<a class="code" href="../../dd/d4d/structagent__pvt.html">agent_pvt</a> = agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a>, <span class="stringliteral">&quot;Core %u: Queuing change request because offer timer has expired.\n&quot;</span>,</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;         agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>);</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;   agent_pvt-&gt;<a class="code" href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">offer_timer_id</a> = -1;</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">core_id</a>, <span class="stringliteral">&quot;Generic agent %s offer timer expired&quot;</span>, agent-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(agent, <span class="stringliteral">&quot;Remove scheduler&#39;s reference to the agent&quot;</span>);</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;}</div><div class="ttc" id="structast__cc__agent_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#ad517770dac2061381b2008850ff12e6c">ast_cc_agent::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00871">ccss.h:871</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="logger_8h_html_aa27e6ab6364e8aea74c77f858ccd231e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa27e6ab6364e8aea74c77f858ccd231e">ast_log_dynamic_level</a></div><div class="ttdeci">#define ast_log_dynamic_level(level,...)</div><div class="ttdoc">Send a log message to a dynamically registered log level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00439">logger.h:439</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html">cc_generic_agent_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02619">ccss.c:2619</a></div></div>
<div class="ttc" id="structagent__pvt_html"><div class="ttname"><a href="../../dd/d4d/structagent__pvt.html">agent_pvt</a></div><div class="ttdoc">Structure representing an agent. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/app__agent__pool_8c_source.html#l00594">app_agent_pool.c:594</a></div></div>
<div class="ttc" id="structast__cc__agent_html_a48e5b8fb1ab4916549247ea116b8f5b9"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#a48e5b8fb1ab4916549247ea116b8f5b9">ast_cc_agent::core_id</a></div><div class="ttdeci">unsigned int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00849">ccss.h:849</a></div></div>
<div class="ttc" id="structcc__generic__agent__pvt_html_a333ae32cb2dd11e7d343630628b9500a"><div class="ttname"><a href="../../d9/d9d/structcc__generic__agent__pvt.html#a333ae32cb2dd11e7d343630628b9500a">cc_generic_agent_pvt::offer_timer_id</a></div><div class="ttdeci">int offer_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02632">ccss.c:2632</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structast__cc__agent_html"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00844">ccss.h:844</a></div></div>
<div class="ttc" id="ccss_8c_html_aae8cd1128e743ae3b91dba2ebac18548"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aae8cd1128e743ae3b91dba2ebac18548">cc_logger_level</a></div><div class="ttdeci">static int cc_logger_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00133">ccss.c:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8ed6337dffca5894189562d30aa96f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8ed6337dffca5894189562d30aa96f4">&#9670;&nbsp;</a></span>print_stats_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int print_stats_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04481">4481</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04461">cc_cli_print_monitor_stats()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00407">cc_state_to_string()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00337">cc_core_instance::current_state</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04494">cc_cli_output_status()</a>.</p>
<div class="fragment"><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;{</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;   <span class="keywordtype">int</span> *cli_fd = arg;</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *core_instance = obj;</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(*cli_fd, <span class="stringliteral">&quot;%d\t\t%s\t\t%s\n&quot;</span>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>,</div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;         <a class="code" href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">current_state</a>));</div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#a8ea447d6360ffc2f2c5281ffe7d6fbae">cc_cli_print_monitor_stats</a>(<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>), *cli_fd, 0);</div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structcc__core__instance_html"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00329">ccss.c:329</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="ccss_8c_html_a8c9c1c94ada3db153cc758d1e65e77c6"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8c9c1c94ada3db153cc758d1e65e77c6">cc_state_to_string</a></div><div class="ttdeci">static const char * cc_state_to_string(enum cc_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00407">ccss.c:407</a></div></div>
<div class="ttc" id="structcc__core__instance_html_a234d140e5063471037fc6aa33258d1bd"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a234d140e5063471037fc6aa33258d1bd">cc_core_instance::current_state</a></div><div class="ttdeci">enum cc_state current_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00337">ccss.c:337</a></div></div>
<div class="ttc" id="ccss_8c_html_a8ea447d6360ffc2f2c5281ffe7d6fbae"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a8ea447d6360ffc2f2c5281ffe7d6fbae">cc_cli_print_monitor_stats</a></div><div class="ttdeci">static void cc_cli_print_monitor_stats(struct ast_cc_monitor *monitor, int fd, int parent_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04461">ccss.c:4461</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b7b2000ccfac0858924a7fd0ce51c53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7b2000ccfac0858924a7fd0ce51c53">&#9670;&nbsp;</a></span>request_cc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void request_cc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03108">3108</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00341">cc_core_instance::agent</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00547">ast_cc_monitor::available_timer_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01087">cc_publish_requested()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00875">ast_cc_agent::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03093">has_device_monitors()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00599">ast_cc_monitor_callbacks::request_cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03132">cc_caller_requested()</a>.</p>
<div class="fragment"><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;{</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;      <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>) {</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;         <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#a1a0f12b8aef59f052ac26e2d9bf79241">request_cc</a>(monitor_iter, &amp;monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">available_timer_id</a>)) {</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>);</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a>(core_instance, monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>,</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;                  monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, 1);</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor_iter, <span class="stringliteral">&quot;request_cc failed. Unref list&#39;s reference to monitor&quot;</span>);</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a84d67356509002d570a03bd7a85c0394">cc_publish_requested</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">agent</a>-&gt;<a class="code" href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>);</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;         }</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      }</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;   }</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a>(core_instance)) {</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;All device monitors failed to request CC&quot;</span>);</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;   }</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_aaf2435c66b53e4ebc6b4048228533132"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a></div><div class="ttdeci">static void cc_extension_monitor_change_is_valid(struct cc_core_instance *core_instance, unsigned int parent_id, const char *const device_name, int is_valid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02050">ccss.c:2050</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="ccss_8c_html_a84d67356509002d570a03bd7a85c0394"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a84d67356509002d570a03bd7a85c0394">cc_publish_requested</a></div><div class="ttdeci">static void cc_publish_requested(int core_id, const char *caller, const char *callee)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01087">ccss.c:1087</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_a1a0f12b8aef59f052ac26e2d9bf79241"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#a1a0f12b8aef59f052ac26e2d9bf79241">ast_cc_monitor_callbacks::request_cc</a></div><div class="ttdeci">int(* request_cc)(struct ast_cc_monitor *monitor, int *available_timer_id)</div><div class="ttdoc">Request CCSS. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00599">ccss.h:599</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__agent_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d0/db3/structast__cc__agent.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_agent::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00875">ccss.h:875</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad914ac9074b19cbe0c220113b3cdc65f"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad914ac9074b19cbe0c220113b3cdc65f">ast_cc_monitor::available_timer_id</a></div><div class="ttdeci">int available_timer_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00547">ccss.h:547</a></div></div>
<div class="ttc" id="ccss_8c_html_aa60dcba0563e29185a0d65f428dadb48"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a></div><div class="ttdeci">static int has_device_monitors(struct cc_core_instance *core_instance)</div><div class="ttdoc">check if the core instance has any device monitors </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03093">ccss.c:3093</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af4f95d13a70c7474b0ba3c9a408cbe45"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af4f95d13a70c7474b0ba3c9a408cbe45">cc_core_instance::agent</a></div><div class="ttdeci">struct ast_cc_agent * agent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00341">ccss.c:341</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91e5b91aa90c8e5426a1b7657f00c4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e5b91aa90c8e5426a1b7657f00c4bb">&#9670;&nbsp;</a></span>str_to_agent_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8">ast_cc_agent_policies</a> str_to_agent_policy </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00698">698</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00053">AST_CC_AGENT_GENERIC</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00051">AST_CC_AGENT_NATIVE</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00049">AST_CC_AGENT_NEVER</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;{</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;never&quot;</span>)) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;native&quot;</span>)) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;generic&quot;</span>)) {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s is an invalid value for cc_agent_policy. Switching to &#39;never&#39;\n&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a0a66e5afc39cd62be5992914e1278f3c">AST_CC_AGENT_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00049">ccss.h:49</a></div></div>
<div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a2c8271240868af320e5c06a248874fce">AST_CC_AGENT_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00051">ccss.h:51</a></div></div>
<div class="ttc" id="ccss_8h_html_aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aa160e8c9504bf8c772a07b37a491e8f8a15663c2d6f12e81c6fe5523feb10580e">AST_CC_AGENT_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00053">ccss.h:53</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a89ed8f86f1673334c9a2614ce01b2c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89ed8f86f1673334c9a2614ce01b2c33">&#9670;&nbsp;</a></span>str_to_monitor_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4">ast_cc_monitor_policies</a> str_to_monitor_policy </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00712">712</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00087">AST_CC_MONITOR_ALWAYS</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00083">AST_CC_MONITOR_GENERIC</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00078">AST_CC_MONITOR_NATIVE</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00076">AST_CC_MONITOR_NEVER</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00804">ast_cc_set_param()</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;never&quot;</span>)) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2">AST_CC_MONITOR_NEVER</a>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;native&quot;</span>)) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e">AST_CC_MONITOR_NATIVE</a>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;generic&quot;</span>)) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;always&quot;</span>)) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s is an invalid value for cc_monitor_policy. Switching to &#39;never&#39;\n&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2">AST_CC_MONITOR_NEVER</a>;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div><div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a8f6c86645c00c1789fec227c20bfa66e">AST_CC_MONITOR_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00078">ccss.h:78</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a302a65a5fc7468b6b96af0ec39eedae2">AST_CC_MONITOR_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00076">ccss.h:76</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4a7b88359e04845d054178fb03d238ea77">AST_CC_MONITOR_ALWAYS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00087">ccss.h:87</a></div></div>
<div class="ttc" id="ccss_8h_html_a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#a9a078a59bc29f1ace8486ab9ecb774c4af60dcecaf7e419b66f364595c3739b05">AST_CC_MONITOR_GENERIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00083">ccss.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8bd1c39b4993f80f1bf674e3a1d717dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd1c39b4993f80f1bf674e3a1d717dd">&#9670;&nbsp;</a></span>suspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void suspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a225">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03193">3193</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03093">has_device_monitors()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00612">ast_cc_monitor_callbacks::suspend</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03215">cc_caller_busy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05409">handle_bridge_technology_suspend()</a>, and <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02495">handle_controlstreamfile()</a>.</p>
<div class="fragment"><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;{</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;      <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>) {</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;         <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#add4b858087910042e288c7475053de8c">suspend</a>(monitor_iter)) {</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>);</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a>(core_instance, monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>,</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                  monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, 1);</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor_iter, <span class="stringliteral">&quot;suspend failed. Unref list&#39;s reference to monitor&quot;</span>);</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;         }</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;      }</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;   }</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a>(core_instance)) {</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;All device monitors failed to suspend CC&quot;</span>);</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;   }</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_aaf2435c66b53e4ebc6b4048228533132"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a></div><div class="ttdeci">static void cc_extension_monitor_change_is_valid(struct cc_core_instance *core_instance, unsigned int parent_id, const char *const device_name, int is_valid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02050">ccss.c:2050</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_add4b858087910042e288c7475053de8c"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#add4b858087910042e288c7475053de8c">ast_cc_monitor_callbacks::suspend</a></div><div class="ttdeci">int(* suspend)(struct ast_cc_monitor *monitor)</div><div class="ttdoc">Suspend monitoring. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00612">ccss.h:612</a></div></div>
<div class="ttc" id="ccss_8c_html_aa60dcba0563e29185a0d65f428dadb48"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a></div><div class="ttdeci">static int has_device_monitors(struct cc_core_instance *core_instance)</div><div class="ttdoc">check if the core instance has any device monitors </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03093">ccss.c:3093</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04623">4623</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00463">ao2_t_ref</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01254">ast_cc_agent_unregister()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01217">ast_cc_monitor_unregister()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00418">ast_devstate_prov_del()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02536">ast_logger_unregister_level()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00269">ast_sched_context_destroy()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01109">ast_taskprocessor_unreference()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00129">CC_LOGGER_LEVEL_NAME</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;{</div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a1ab579ae15aaca64a904c3c41d8b8b01">ast_devstate_prov_del</a>(<span class="stringliteral">&quot;ccss&quot;</span>);</div><div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#ad888baaa4d37a6197c2712bc1756d963">ast_cc_agent_unregister</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#afea6db2fc1573d4c44baed1a9aa0bc44">generic_agent_callbacks</a>);</div><div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;   <a class="code" href="../../d3/d5a/ccss_8c.html#aaefbdf8c3c2642f5ff99b3110b2b6066">ast_cc_monitor_unregister</a>(&amp;<a class="code" href="../../d3/d5a/ccss_8c.html#a6987126a8cf306e730e9020eac827980">generic_monitor_cbs</a>);</div><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a4bc0357f26e1ae04619892894f7978cc">cccancel_app</a>);</div><div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a3d5b52c0c580e6280605a4bfbe3f260a">ccreq_app</a>);</div><div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ae3d21782b3b66b21cda6d9e153545909">ast_logger_unregister_level</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a68d983dbcda956ce9384633f524673c3">CC_LOGGER_LEVEL_NAME</a>);</div><div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#ac33c195198aa5ecefa83cb02fa0e024a">cc_cli</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#ac33c195198aa5ecefa83cb02fa0e024a">cc_cli</a>));</div><div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;</div><div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a>) {</div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;      <a class="code" href="../../d7/d00/sched_8h.html#a862f869d056628b38e09042f21b54413">ast_sched_context_destroy</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a>);</div><div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;   }</div><div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>) {</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a> = <a class="code" href="../../d0/d1e/taskprocessor_8h.html#a32492eb2480cb8c46ad669622cff8556">ast_taskprocessor_unreference</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a>);</div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;   }</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;   <span class="comment">/* Note that core instances must be destroyed prior to the generic_monitors */</span></div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>) {</div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a>, -1, <span class="stringliteral">&quot;Unref cc_core_instances container in cc_shutdown&quot;</span>);</div><div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;   }</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a>) {</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a>(<a class="code" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a>, -1, <span class="stringliteral">&quot;Unref generic_monitor container in cc_shutdown&quot;</span>);</div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;   }</div><div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;</div><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a14c61bcab109a520a96d30c56ba5fcde"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a14c61bcab109a520a96d30c56ba5fcde">ao2_t_ref</a></div><div class="ttdeci">#define ao2_t_ref(o, delta, tag)</div><div class="ttdoc">Reference/unreference an object and return the old refcount. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00463">astobj2.h:463</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="devicestate_8h_html_a1ab579ae15aaca64a904c3c41d8b8b01"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a1ab579ae15aaca64a904c3c41d8b8b01">ast_devstate_prov_del</a></div><div class="ttdeci">int ast_devstate_prov_del(const char *label)</div><div class="ttdoc">Remove device state provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00418">devicestate.c:418</a></div></div>
<div class="ttc" id="ccss_8c_html_a3d5b52c0c580e6280605a4bfbe3f260a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a3d5b52c0c580e6280605a4bfbe3f260a">ccreq_app</a></div><div class="ttdeci">static const char * ccreq_app</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04255">ccss.c:4255</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="ccss_8c_html_a68d983dbcda956ce9384633f524673c3"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a68d983dbcda956ce9384633f524673c3">CC_LOGGER_LEVEL_NAME</a></div><div class="ttdeci">static const char * CC_LOGGER_LEVEL_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00129">ccss.c:129</a></div></div>
<div class="ttc" id="ccss_8c_html_a082832e22a050d2dd5e8c3019207b1ed"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a082832e22a050d2dd5e8c3019207b1ed">cc_sched_context</a></div><div class="ttdeci">static struct ast_sched_context * cc_sched_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00115">ccss.c:115</a></div></div>
<div class="ttc" id="logger_8h_html_ae3d21782b3b66b21cda6d9e153545909"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ae3d21782b3b66b21cda6d9e153545909">ast_logger_unregister_level</a></div><div class="ttdeci">void ast_logger_unregister_level(const char *name)</div><div class="ttdoc">Unregister a previously registered logger level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02536">logger.c:2536</a></div></div>
<div class="ttc" id="ccss_8c_html_ac33c195198aa5ecefa83cb02fa0e024a"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ac33c195198aa5ecefa83cb02fa0e024a">cc_cli</a></div><div class="ttdeci">static struct ast_cli_entry cc_cli[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04618">ccss.c:4618</a></div></div>
<div class="ttc" id="ccss_8c_html_aad06522a895314598284234778252c1c"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aad06522a895314598284234778252c1c">generic_monitors</a></div><div class="ttdeci">struct ao2_container * generic_monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01333">ccss.c:1333</a></div></div>
<div class="ttc" id="ccss_8c_html_afea6db2fc1573d4c44baed1a9aa0bc44"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afea6db2fc1573d4c44baed1a9aa0bc44">generic_agent_callbacks</a></div><div class="ttdeci">static struct ast_cc_agent_callbacks generic_agent_callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02606">ccss.c:2606</a></div></div>
<div class="ttc" id="ccss_8c_html_ad888baaa4d37a6197c2712bc1756d963"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad888baaa4d37a6197c2712bc1756d963">ast_cc_agent_unregister</a></div><div class="ttdeci">void ast_cc_agent_unregister(const struct ast_cc_agent_callbacks *callbacks)</div><div class="ttdoc">Unregister a set of agent callbacks with the core. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01254">ccss.c:1254</a></div></div>
<div class="ttc" id="taskprocessor_8h_html_a32492eb2480cb8c46ad669622cff8556"><div class="ttname"><a href="../../d0/d1e/taskprocessor_8h.html#a32492eb2480cb8c46ad669622cff8556">ast_taskprocessor_unreference</a></div><div class="ttdeci">void * ast_taskprocessor_unreference(struct ast_taskprocessor *tps)</div><div class="ttdoc">Unreference the specified taskprocessor and its reference count will decrement. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/deb/taskprocessor_8c_source.html#l01109">taskprocessor.c:1109</a></div></div>
<div class="ttc" id="ccss_8c_html_aaefbdf8c3c2642f5ff99b3110b2b6066"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aaefbdf8c3c2642f5ff99b3110b2b6066">ast_cc_monitor_unregister</a></div><div class="ttdeci">void ast_cc_monitor_unregister(const struct ast_cc_monitor_callbacks *callbacks)</div><div class="ttdoc">Unregister a set of monitor callbacks with the core. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01217">ccss.c:1217</a></div></div>
<div class="ttc" id="ccss_8c_html_a49eacb17be4373eb3f0997db522631c1"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a49eacb17be4373eb3f0997db522631c1">cc_core_instances</a></div><div class="ttdeci">static struct ao2_container * cc_core_instances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00327">ccss.c:327</a></div></div>
<div class="ttc" id="ccss_8c_html_a6987126a8cf306e730e9020eac827980"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a6987126a8cf306e730e9020eac827980">generic_monitor_cbs</a></div><div class="ttdeci">static struct ast_cc_monitor_callbacks generic_monitor_cbs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01324">ccss.c:1324</a></div></div>
<div class="ttc" id="ccss_8c_html_a4bc0357f26e1ae04619892894f7978cc"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a4bc0357f26e1ae04619892894f7978cc">cccancel_app</a></div><div class="ttdeci">static const char * cccancel_app</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04306">ccss.c:4306</a></div></div>
<div class="ttc" id="sched_8h_html_a862f869d056628b38e09042f21b54413"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a862f869d056628b38e09042f21b54413">ast_sched_context_destroy</a></div><div class="ttdeci">void ast_sched_context_destroy(struct ast_sched_context *c)</div><div class="ttdoc">destroys a schedule context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00269">sched.c:269</a></div></div>
<div class="ttc" id="ccss_8c_html_a7add9c7f7586e620928c58976b5e142b"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a7add9c7f7586e620928c58976b5e142b">cc_core_taskprocessor</a></div><div class="ttdeci">static struct ast_taskprocessor * cc_core_taskprocessor</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00125">ccss.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a25d16f7567f92f89969ead967d740b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d16f7567f92f89969ead967d740b41">&#9670;&nbsp;</a></span>unsuspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unsuspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *&#160;</td>
          <td class="paramname"><em>core_instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03146">3146</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc8/ccss_8h_source.html#l00497">AST_CC_DEVICE_MONITOR</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03879">ast_cc_failed()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00551">ast_cc_monitor::callbacks</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02050">cc_extension_monitor_change_is_valid()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00149">cc_unref()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00333">cc_core_instance::core_id</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00839">ast_cc_interface::device_name</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03093">has_device_monitors()</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00514">ast_cc_monitor::interface</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00821">ast_cc_interface::monitor_class</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00345">cc_core_instance::monitors</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00562">ast_cc_monitor::next</a>, <a class="el" href="../../de/dc8/ccss_8h_source.html#l00524">ast_cc_monitor::parent_id</a>, and <a class="el" href="../../de/dc8/ccss_8h_source.html#l00640">ast_cc_monitor_callbacks::unsuspend</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03168">cc_active()</a>.</p>
<div class="fragment"><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;{</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a> *monitor_iter;</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>, monitor_iter, <a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>) {</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;      <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">monitor_class</a> == <a class="code" href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a>) {</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;         <span class="keywordflow">if</span> (monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">callbacks</a>-&gt;<a class="code" href="../../d0/d66/structast__cc__monitor__callbacks.html#acf4b44ab4c4e597d4566b20f05021b30">unsuspend</a>(monitor_iter)) {</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">next</a>);</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a>(core_instance, monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">parent_id</a>,</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                  monitor_iter-&gt;<a class="code" href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">interface</a>-&gt;<a class="code" href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">device_name</a>, 1);</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;            <a class="code" href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a>(monitor_iter, <span class="stringliteral">&quot;unsuspend failed. Unref list&#39;s reference to monitor&quot;</span>);</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;         }</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;      }</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;   }</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a>(core_instance)) {</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;      <a class="code" href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">core_id</a>, <span class="stringliteral">&quot;All device monitors failed to unsuspend CC&quot;</span>);</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;   }</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(core_instance-&gt;<a class="code" href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">monitors</a>);</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;}</div><div class="ttc" id="structcc__core__instance_html_a72a2c55008105f91d1af2942453eca2b"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#a72a2c55008105f91d1af2942453eca2b">cc_core_instance::core_id</a></div><div class="ttdeci">int core_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00333">ccss.c:333</a></div></div>
<div class="ttc" id="structcc__core__instance_html_af7fd6702fd8507c463cb4c3a7cb8c4ba"><div class="ttname"><a href="../../d0/d63/structcc__core__instance.html#af7fd6702fd8507c463cb4c3a7cb8c4ba">cc_core_instance::monitors</a></div><div class="ttdeci">struct cc_monitor_tree * monitors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00345">ccss.c:345</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_ad33c9b9d42aa2c12af22afcd8a9d07da"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#ad33c9b9d42aa2c12af22afcd8a9d07da">ast_cc_monitor::next</a></div><div class="ttdeci">struct ast_cc_monitor * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00562">ccss.h:562</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="ccss_8c_html_ad25ea527a36ed77fcba9eb1eba0b4186"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ad25ea527a36ed77fcba9eb1eba0b4186">ast_cc_failed</a></div><div class="ttdeci">int ast_cc_failed(int core_id, const char *const debug,...)</div><div class="ttdoc">Indicate failure has occurred. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03879">ccss.c:3879</a></div></div>
<div class="ttc" id="ccss_8c_html_a28e7ec3ddfe307da016dd327381d8583"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a28e7ec3ddfe307da016dd327381d8583">cc_unref</a></div><div class="ttdeci">static void * cc_unref(void *obj, const char *debug)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l00149">ccss.c:149</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="ccss_8c_html_aaf2435c66b53e4ebc6b4048228533132"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aaf2435c66b53e4ebc6b4048228533132">cc_extension_monitor_change_is_valid</a></div><div class="ttdeci">static void cc_extension_monitor_change_is_valid(struct cc_core_instance *core_instance, unsigned int parent_id, const char *const device_name, int is_valid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l02050">ccss.c:2050</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a5bde3787fe7fae4f043982a588b9d7ab"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a5bde3787fe7fae4f043982a588b9d7ab">ast_cc_monitor::callbacks</a></div><div class="ttdeci">const struct ast_cc_monitor_callbacks * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00551">ccss.h:551</a></div></div>
<div class="ttc" id="structast__cc__monitor_html"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html">ast_cc_monitor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00510">ccss.h:510</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_aa006ee07d29b867657a17cdf39aae0cb"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#aa006ee07d29b867657a17cdf39aae0cb">ast_cc_monitor::parent_id</a></div><div class="ttdeci">unsigned int parent_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00524">ccss.h:524</a></div></div>
<div class="ttc" id="structast__cc__monitor__callbacks_html_acf4b44ab4c4e597d4566b20f05021b30"><div class="ttname"><a href="../../d0/d66/structast__cc__monitor__callbacks.html#acf4b44ab4c4e597d4566b20f05021b30">ast_cc_monitor_callbacks::unsuspend</a></div><div class="ttdeci">int(* unsuspend)(struct ast_cc_monitor *monitor)</div><div class="ttdoc">Unsuspend monitoring. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00640">ccss.h:640</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="structast__cc__monitor_html_a6ae059856aefe18742a80836c5c587c2"><div class="ttname"><a href="../../d0/d6e/structast__cc__monitor.html#a6ae059856aefe18742a80836c5c587c2">ast_cc_monitor::interface</a></div><div class="ttdeci">struct ast_cc_interface * interface</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00514">ccss.h:514</a></div></div>
<div class="ttc" id="ccss_8c_html_aa60dcba0563e29185a0d65f428dadb48"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#aa60dcba0563e29185a0d65f428dadb48">has_device_monitors</a></div><div class="ttdeci">static int has_device_monitors(struct cc_core_instance *core_instance)</div><div class="ttdoc">check if the core instance has any device monitors </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03093">ccss.c:3093</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structast__cc__interface_html_afb08eea322bbbb748cd19d547f7952fa"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#afb08eea322bbbb748cd19d547f7952fa">ast_cc_interface::device_name</a></div><div class="ttdeci">char device_name[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00839">ccss.h:839</a></div></div>
<div class="ttc" id="structast__cc__interface_html_a846e9dea5f91b6da30da4e222e01bd23"><div class="ttname"><a href="../../d5/d58/structast__cc__interface.html#a846e9dea5f91b6da30da4e222e01bd23">ast_cc_interface::monitor_class</a></div><div class="ttdeci">enum ast_cc_monitor_class monitor_class</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00821">ccss.h:821</a></div></div>
<div class="ttc" id="ccss_8h_html_aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e"><div class="ttname"><a href="../../de/dc8/ccss_8h.html#aba1f9c278d0afcd4792c017807417c31aee41db2bd5824cf1e53e666a97933e6e">AST_CC_DEVICE_MONITOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc8/ccss_8h_source.html#l00497">ccss.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Call Completion Supplementary Services&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_CORE, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04703">4703</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04703">4703</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a7ded4ddc3e1aeef1810148829d6b51e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ded4ddc3e1aeef1810148829d6b51e7">&#9670;&nbsp;</a></span>cc_agent_backends</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a>   <a class="el" href="../../de/dea/structcc__agent__backends.html">cc_agent_backends</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac33c195198aa5ecefa83cb02fa0e024a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33c195198aa5ecefa83cb02fa0e024a">&#9670;&nbsp;</a></span>cc_cli</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cc_cli[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   { .handler =  <a class="code" href="../../d3/d5a/ccss_8c.html#a86f608afebe74c4f8ff778a270d5e4b0">handle_cc_status</a> , .summary =  <span class="stringliteral">&quot;Reports CC stats&quot;</span> ,},</div><div class="line">   { .handler =  <a class="code" href="../../d3/d5a/ccss_8c.html#a10f215e5431b1db91950434baf24916d">handle_cc_kill</a> , .summary =  <span class="stringliteral">&quot;Kill a CC transaction&quot;</span> ,},</div><div class="line">}</div><div class="ttc" id="ccss_8c_html_a86f608afebe74c4f8ff778a270d5e4b0"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a86f608afebe74c4f8ff778a270d5e4b0">handle_cc_status</a></div><div class="ttdeci">static char * handle_cc_status(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04511">ccss.c:4511</a></div></div>
<div class="ttc" id="ccss_8c_html_a10f215e5431b1db91950434baf24916d"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a10f215e5431b1db91950434baf24916d">handle_cc_kill</a></div><div class="ttdeci">static char * handle_cc_kill(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l04577">ccss.c:4577</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04618">4618</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a49eacb17be4373eb3f0997db522631c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49eacb17be4373eb3f0997db522631c1">&#9670;&nbsp;</a></span>cc_core_instances</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* cc_core_instances</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00327">327</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a38ebea09cd5ab7bcb1921f62f347bfc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38ebea09cd5ab7bcb1921f62f347bfc8">&#9670;&nbsp;</a></span>CC_CORE_INSTANCES_BUCKETS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int CC_CORE_INSTANCES_BUCKETS = 17</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00326">326</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>

</div>
</div>
<a id="a7add9c7f7586e620928c58976b5e142b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7add9c7f7586e620928c58976b5e142b">&#9670;&nbsp;</a></span>cc_core_taskprocessor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/d17/structast__taskprocessor.html">ast_taskprocessor</a>* cc_core_taskprocessor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Taskprocessor from which all CC agent and monitor callbacks are called. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00125">125</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a30b2b0e8999d8157d45e2c0bffdfbb01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b2b0e8999d8157d45e2c0bffdfbb01">&#9670;&nbsp;</a></span>cc_default_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d4/d2e/structast__cc__config__params.html">ast_cc_config_params</a> cc_default_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00662">662</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00676">ast_cc_default_config_params()</a>.</p>

</div>
</div>
<a id="aae8cd1128e743ae3b91dba2ebac18548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae8cd1128e743ae3b91dba2ebac18548">&#9670;&nbsp;</a></span>cc_logger_level</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cc_logger_level</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Logger level registered by the CC core. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00133">133</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03631">ast_cc_agent_set_interfaces_chanvar()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02409">ast_cc_call_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04368">ast_cc_monitor_count()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02316">ast_handle_cc_control_frame()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03668">ast_set_cc_interfaces_chanvar()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03064">cc_caller_offered()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02940">cc_core_init_instance()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02928">cc_core_instance_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">cc_do_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02703">cc_generic_agent_start_offer_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01651">cc_generic_monitor_cancel_available_timer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01668">cc_generic_monitor_destructor()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01737">cc_interface_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01837">cc_monitor_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03896">cc_monitor_failed()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">cccancel_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00600">ccss_device_state()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00641">ccss_notify_device_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02506">count_agents()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00530">count_agents_cb()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01269">find_agent_callbacks()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01200">find_monitor_callbacks()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03001">is_state_change_valid()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02691">offer_timer_expire()</a>.</p>

</div>
</div>
<a id="a68d983dbcda956ce9384633f524673c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68d983dbcda956ce9384633f524673c3">&#9670;&nbsp;</a></span>CC_LOGGER_LEVEL_NAME</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* CC_LOGGER_LEVEL_NAME = &quot;CC&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Name printed on all CC log messages. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00129">129</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04623">unload_module()</a>.</p>

</div>
</div>
<a id="a87acd483e970b945b762537e23b18e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87acd483e970b945b762537e23b18e91">&#9670;&nbsp;</a></span>cc_monitor_backends</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a>   <a class="el" href="../../d1/d0a/structcc__monitor__backends.html">cc_monitor_backends</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ba9ea400c5348fb9283442abcdd40f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba9ea400c5348fb9283442abcdd40f8">&#9670;&nbsp;</a></span>cc_request_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cc_request_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The current number of CC requests in the system </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00141">141</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02482">ast_cc_request_is_within_limits()</a>.</p>

</div>
</div>
<a id="a082832e22a050d2dd5e8c3019207b1ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082832e22a050d2dd5e8c3019207b1ed">&#9670;&nbsp;</a></span>cc_sched_context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/de8/structast__sched__context.html">ast_sched_context</a>* cc_sched_context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The <a class="el" href="../../d7/de8/structast__sched__context.html">ast_sched_context</a> used for all generic CC timeouts </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00115">115</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="ac91b4419075d5d7fdd8e11d668315241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91b4419075d5d7fdd8e11d668315241">&#9670;&nbsp;</a></span>cc_service_to_string_map</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const { ... }   cc_service_to_string_map[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00412">cc_service_to_string()</a>.</p>

</div>
</div>
<a id="acf2de0a1a74fea71224b3670cb6df73f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf2de0a1a74fea71224b3670cb6df73f">&#9670;&nbsp;</a></span>cc_state_to_devstate_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> cc_state_to_devstate_map[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00563">563</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a93ebb240754feb8124f2a0fc9ce62c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ebb240754feb8124f2a0fc9ce62c51">&#9670;&nbsp;</a></span>cc_state_to_string_map</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const { ... }   cc_state_to_string_map[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00407">cc_state_to_string()</a>.</p>

</div>
</div>
<a id="a4bc0357f26e1ae04619892894f7978cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bc0357f26e1ae04619892894f7978cc">&#9670;&nbsp;</a></span>cccancel_app</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* cccancel_app = &quot;CallCompletionCancel&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04306">4306</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a3d5b52c0c580e6280605a4bfbe3f260a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5b52c0c580e6280605a4bfbe3f260a">&#9670;&nbsp;</a></span>ccreq_app</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* ccreq_app = &quot;CallCompletionRequest&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04255">4255</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="af8d4090067f1b06025c2ff74d45199a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8d4090067f1b06025c2ff74d45199a6">&#9670;&nbsp;</a></span>core_id_counter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core_id_counter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Counter used to create core IDs for CC calls. Each new core ID is created by atomically adding 1 to the core_id_counter </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00120">120</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>.</p>

</div>
</div>
<a id="a00c11e22178be31913d96130d567d6da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00c11e22178be31913d96130d567d6da">&#9670;&nbsp;</a></span>dialed_cc_interface_counter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int dialed_cc_interface_counter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This counter is used for assigning unique ids to CC-enabled dialed interfaces. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01875">1875</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a7fc80ab1d004be14384ef28210a3405c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc80ab1d004be14384ef28210a3405c">&#9670;&nbsp;</a></span>dialed_cc_interfaces_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> dialed_cc_interfaces_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;Dial CC Interfaces&quot;</span>,</div><div class="line">   .duplicate = <a class="code" href="../../d3/d5a/ccss_8c.html#a5c09d9f499e3ad5bfb4f63311b3cab10">dialed_cc_interfaces_duplicate</a>,</div><div class="line">   .destroy = <a class="code" href="../../d3/d5a/ccss_8c.html#ada30c8c7c1ad859b49230c8ed8490d61">dialed_cc_interfaces_destroy</a>,</div><div class="line">}</div><div class="ttc" id="ccss_8c_html_ada30c8c7c1ad859b49230c8ed8490d61"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#ada30c8c7c1ad859b49230c8ed8490d61">dialed_cc_interfaces_destroy</a></div><div class="ttdeci">static void dialed_cc_interfaces_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01944">ccss.c:1944</a></div></div>
<div class="ttc" id="ccss_8c_html_a5c09d9f499e3ad5bfb4f63311b3cab10"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a5c09d9f499e3ad5bfb4f63311b3cab10">dialed_cc_interfaces_duplicate</a></div><div class="ttdeci">static void * dialed_cc_interfaces_duplicate(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l01964">ccss.c:1964</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01989">1989</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="afea6db2fc1573d4c44baed1a9aa0bc44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea6db2fc1573d4c44baed1a9aa0bc44">&#9670;&nbsp;</a></span>generic_agent_callbacks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html">ast_cc_agent_callbacks</a> generic_agent_callbacks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02606">2606</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a6987126a8cf306e730e9020eac827980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6987126a8cf306e730e9020eac827980">&#9670;&nbsp;</a></span>generic_monitor_cbs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d66/structast__cc__monitor__callbacks.html">ast_cc_monitor_callbacks</a> generic_monitor_cbs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01324">1324</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="aad06522a895314598284234778252c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad06522a895314598284234778252c1c">&#9670;&nbsp;</a></span>generic_monitors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* generic_monitors</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01333">1333</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a4a80bcf12d1976a90ad79ba7ba07dec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a80bcf12d1976a90ad79ba7ba07dec4">&#9670;&nbsp;</a></span>global_cc_max_requests</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int global_cc_max_requests</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parsed configuration value for cc_max_requests </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00137">137</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02482">ast_cc_request_is_within_limits()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04377">initialize_cc_max_requests()</a>.</p>

</div>
</div>
<a id="a010707a1d95ff32920705c9320a94bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010707a1d95ff32920705c9320a94bcb">&#9670;&nbsp;</a></span>recall_ds_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> recall_ds_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;cc_recall&quot;</span>,</div><div class="line">   .duplicate = <a class="code" href="../../d3/d5a/ccss_8c.html#afa1cc3710cbb699f1bbaa538520fb397">cc_recall_ds_duplicate</a>,</div><div class="line">   .destroy = <a class="code" href="../../d3/d5a/ccss_8c.html#a4367c909a58bcc19a8700a50aae2fa4e">cc_recall_ds_destroy</a>,</div><div class="line">}</div><div class="ttc" id="ccss_8c_html_a4367c909a58bcc19a8700a50aae2fa4e"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#a4367c909a58bcc19a8700a50aae2fa4e">cc_recall_ds_destroy</a></div><div class="ttdeci">static void cc_recall_ds_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03392">ccss.c:3392</a></div></div>
<div class="ttc" id="ccss_8c_html_afa1cc3710cbb699f1bbaa538520fb397"><div class="ttname"><a href="../../d3/d5a/ccss_8c.html#afa1cc3710cbb699f1bbaa538520fb397">cc_recall_ds_duplicate</a></div><div class="ttdeci">static void * cc_recall_ds_duplicate(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/ccss_8c_source.html#l03378">ccss.c:3378</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03399">3399</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="a495cc24c1947d49a2b6de488a45c9d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a495cc24c1947d49a2b6de488a45c9d72">&#9670;&nbsp;</a></span>service</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc8/ccss_8h.html#a50c1ff8b0de8119431904e2ce0064530">ast_cc_service_type</a> service</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00383">383</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04121">cc_build_payload()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01519">cc_generic_monitor_request_cc()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00412">cc_service_to_string()</a>.</p>

</div>
</div>
<a id="a8e19c02156413c7bea516003be9e6b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e19c02156413c7bea516003be9e6b48">&#9670;&nbsp;</a></span>service_string</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* service_string</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00384">384</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
<a id="aa15a5955ae71d81bd990da3569c06258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa15a5955ae71d81bd990da3569c06258">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00393">393</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03328">cc_request_state_change()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00584">cc_state_to_devstate()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00407">cc_state_to_string()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04412">initialize_cc_devstate_map_helper()</a>.</p>

</div>
</div>
<a id="a93d30c63a76b4c181c54dec0ee44282a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d30c63a76b4c181c54dec0ee44282a">&#9670;&nbsp;</a></span>state_change_funcs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int(* const state_change_funcs[])(struct <a class="el" href="../../d0/d63/structcc__core__instance.html">cc_core_instance</a> *, struct <a class="el" href="../../de/d72/structcc__state__change__args.html">cc_state_change_args</a> *, enum <a class="el" href="../../d3/d5a/ccss_8c.html#a630d6e4aa40892ca671eb62897795080">cc_state</a> previous_state)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03273">3273</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">cc_do_state_change()</a>.</p>

</div>
</div>
<a id="ab0118a930bd1e6cf279c86249248fd45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0118a930bd1e6cf279c86249248fd45">&#9670;&nbsp;</a></span>state_string</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* state_string</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00394">394</a> of file <a class="el" href="../../d3/d5a/ccss_8c_source.html">ccss.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:56 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
