<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: test_stringfields.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">test_stringfields.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d3/d5a/test__stringfields_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Asterisk -- An open source telephony toolkit.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2009, Mark Michelson</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Mark Michelson &lt;mmmichelson@digium.com&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * See http://www.asterisk.org for more information about</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * the Asterisk project. Please do not directly contact</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * any of the maintainers of this project for assistance;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * the project provides a web site, mailing lists and IRC</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * channels for your use.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * This program is free software, distributed under the terms of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * at the top of the source tree.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/*! \file</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * \brief String fields test</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * \author\verbatim Mark Michelson &lt;mmichelson@digium.com&gt; \endverbatim</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * Test module for string fields API</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * \ingroup tests</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/*** MODULEINFO</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">   &lt;depend&gt;TEST_FRAMEWORK&lt;/depend&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">   &lt;support_level&gt;core&lt;/support_level&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> ***/</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db2/asterisk_8h.html">asterisk.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d16/module_8h.html">asterisk/module.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d0f/stringfields_8h.html">asterisk/stringfields.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/db0/cli_8h.html">asterisk/cli.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d60/utils_8h.html">asterisk/utils.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/ddc/test_8h.html">asterisk/test.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d3/d5a/test__stringfields_8c.html#a82d8f76759565377998d641d91cd44c1">   41</a></span>&#160;<a class="code" href="../../d3/d5a/test__stringfields_8c.html#a82d8f76759565377998d641d91cd44c1">AST_TEST_DEFINE</a>(string_field_test)</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *address_holder;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *field_pool1;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *field_pool2;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *field_pool3;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> LONG_STRING[] = <span class="stringliteral">&quot;A professional panoramic photograph of the majestic elephant bathing itself and its young by the shores of the raging Mississippi River&quot;</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <span class="keyword">struct </span>{</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a> (</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(string1);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      );</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#ab8670e3e170d6d64cfbeebb93787dc40">AST_STRING_FIELD_EXTENDED</a>(string2);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   } <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;   <span class="keyword">struct </span>{</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a> (</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(string1);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(string2);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      );</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#ab8670e3e170d6d64cfbeebb93787dc40">AST_STRING_FIELD_EXTENDED</a>(string3);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   } test_struct2;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;string_field_test&quot;</span>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/utils/&quot;</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test stringfield operations&quot;</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;         <span class="stringliteral">&quot;This tests the stringfield API&quot;</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   memset(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>));</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   memset(&amp;test_struct2, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>));</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;First things first. Let&#39;s see if we can actually allocate string fields\n&quot;</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, 32)) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Failure to initialize string fields. They are totally messed up\n&quot;</span>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;All right! Successfully allocated! Now let&#39;s get down to business\n&quot;</span>);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a94cf672031c1cdee340ed1979ae2a379">ast_string_field_init_extended</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, string2);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>,<span class="stringliteral">&quot;We&#39;re going to set some string fields and perform some checks\n&quot;</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, string1, <span class="stringliteral">&quot;elephant&quot;</span>);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, string2, <span class="stringliteral">&quot;hippopotamus&quot;</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;First we&#39;re going to make sure that the strings are actually set to what we expect\n&quot;</span>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, <span class="stringliteral">&quot;elephant&quot;</span>)) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;We were expecting test_struct.string1 to have &#39;elephant&#39; but it has %s\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;test_struct.string1 appears to be all clear. It has &#39;%s&#39; and that&#39;s what we expect\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2, <span class="stringliteral">&quot;hippopotamus&quot;</span>)) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;We were expecting test_struct.string2 to have &#39;hippopotamus&#39; but it has %s\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;test_struct.string2 appears to be all clear. It has &#39;%s&#39; and that&#39;s what we expect\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Now let&#39;s make sure that our recorded capacities for these strings is what we expect\n&quot;</span>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) != strlen(<span class="stringliteral">&quot;elephant&quot;</span>) + 1) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 has allocation area of %hu but we expect %lu\n&quot;</span>,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) strlen(<span class="stringliteral">&quot;elephant&quot;</span>) + 1);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 has the allocation area we expect: %hu\n&quot;</span>, <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>));</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2) != strlen(<span class="stringliteral">&quot;hippopotamus&quot;</span>) + 1) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string2 has allocation area of %hu but we expect %lu\n&quot;</span>,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) strlen(<span class="stringliteral">&quot;hippopotamus&quot;</span>) + 1);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string2 has the allocation area we expect: %hu\n&quot;</span>, <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2));</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Now we&#39;re going to shrink string1 and see if it&#39;s in the same place in memory\n&quot;</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   address_holder = <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, string1, <span class="stringliteral">&quot;rhino&quot;</span>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, <span class="stringliteral">&quot;rhino&quot;</span>)) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 has the wrong value in it. We want &#39;rhino&#39; but it has &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 successfully was changed to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="keywordflow">if</span> (address_holder != <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;We shrunk string1, but it moved?!\n&quot;</span>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Shrinking string1 allowed it to stay in the same place in memory\n&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) != strlen(<span class="stringliteral">&quot;elephant&quot;</span>) + 1) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;The allocation amount changed when we shrunk the string...\n&quot;</span>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Shrinking string1 did not change its allocation area (This is a good thing)\n&quot;</span>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Next, let&#39;s increase it a little but not all the way to its original size\n&quot;</span>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   address_holder = <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, string1, <span class="stringliteral">&quot;mammoth&quot;</span>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, <span class="stringliteral">&quot;mammoth&quot;</span>)) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 has the wrong value in it. We want &#39;mammoth&#39; but it has &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 successfully was changed to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keywordflow">if</span> (address_holder != <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;We expanded string1, but it moved?!\n&quot;</span>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Expanding string1 allowed it to stay in the same place in memory\n&quot;</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) != strlen(<span class="stringliteral">&quot;elephant&quot;</span>) + 1) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;The allocation amount changed when we expanded the string...\n&quot;</span>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Expanding string1 did not change its allocation area (This is a good thing)\n&quot;</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Cool, now let&#39;s bring it back to its original size and see what happens\n&quot;</span>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, string1, <span class="stringliteral">&quot;elephant&quot;</span>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, <span class="stringliteral">&quot;elephant&quot;</span>)) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 has the wrong value in it. We want &#39;elephant&#39; but it has &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 successfully changed to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordflow">if</span> (address_holder != <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;We restored string1 to its original size, but it moved?!\n&quot;</span>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Restoring string1 did not cause it to move (This is a good thing)\n&quot;</span>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) != strlen(<span class="stringliteral">&quot;elephant&quot;</span>) + 1) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;The allocation amount changed when we re-expanded the string...\n&quot;</span>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;The allocation amount for string1 is still holding steady\n&quot;</span>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;All right, now we&#39;re going to expand string 2. It should stay in place since it was the last string allocated in this pool\n&quot;</span>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   address_holder = <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, string2, <span class="stringliteral">&quot;hippopotamus face&quot;</span>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2, <span class="stringliteral">&quot;hippopotamus face&quot;</span>)) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string2 has the wrong value. We want &#39;hippopotamus face&#39; but it has &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string2 successfully changed to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2) != strlen(<span class="stringliteral">&quot;hippopotamus face&quot;</span>) + 1) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;The allocation amount is incorrect for string2. We expect %lu but it has %d\n&quot;</span>,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) strlen(<span class="stringliteral">&quot;hippopotamus face&quot;</span>), <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2) + 1);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;The allocation amount successfully increased for string2 when it grew\n&quot;</span>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.string2 != address_holder) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string2 has moved, but it should not have since it had room to grow\n&quot;</span>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string2 stayed in place when it grew. Good job!\n&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Now we&#39;re going to set string1 to a very long string so that a new string field pool must be allocated\n&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   address_holder = <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, string1, LONG_STRING);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, LONG_STRING)) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;We were expecting string1 to be &#39;%s&#39;\nbut it was actually &#39;%s&#39;\n&quot;</span>, LONG_STRING, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;string1 successfully changed to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keywordflow">if</span> (address_holder == <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Uh oh, string1 didn&#39;t move when we set it to a long value\n&quot;</span>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Good. Setting string1 to a long value caused it to change addresses\n&quot;</span>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>) != strlen(LONG_STRING) + 1) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;The string field allocation for string1 indicates a length of %hu instead of the expected %lu\n&quot;</span>,</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>.<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) strlen(LONG_STRING) + 1);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;The stored allocation size of string1 is what we expect\n&quot;</span>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(&amp;test_struct2, 32);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Now using a totally separate area of memory we&#39;re going to test a basic pool freeing scenario\n&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a94cf672031c1cdee340ed1979ae2a379">ast_string_field_init_extended</a>(&amp;test_struct2, string3);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;test_struct2, string1, <span class="stringliteral">&quot;first&quot;</span>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;test_struct2, string2, <span class="stringliteral">&quot;second&quot;</span>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;test_struct2, string3, <span class="stringliteral">&quot;third&quot;</span>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="comment">/* This string is 208 characters long, which will surely exceed the initial pool size */</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;test_struct2, string1, <span class="stringliteral">&quot;Expanded first string to create new pool-----------------------------------------------------------------------------------------------------------------------------------------------------------------------&quot;</span>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="comment">/* Pool size at this point is 976, so 1000 chars should do it */</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;test_struct2, string2, <span class="stringliteral">&quot;Expanded second string to create new pool----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------&quot;</span>);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   field_pool3 = test_struct2.__field_mgr_pool;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   field_pool2 = test_struct2.__field_mgr_pool-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   field_pool1 = test_struct2.__field_mgr_pool-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="keywordflow">if</span>(field_pool3-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a> != field_pool2 || field_pool2-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a> != field_pool1) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Pools are not linked properly!\n&quot;</span>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Three different pools are linked as expected.\n&quot;</span>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(&amp;test_struct2, string1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">if</span> (test_struct2.string1 != <a class="code" href="../../d1/d0f/stringfields_8h.html#a986c48d189ab62291dea325789921fc1">__ast_string_field_empty</a> || field_pool3-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a> != field_pool1) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Things did not work out when removing the middle pool!\n&quot;</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;After removing a pool the remaining two are linked as expected.\n&quot;</span>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(&amp;test_struct2);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>:</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(&amp;<a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(&amp;test_struct2);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a> {</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="../../d3/d89/structtest__struct.html#a819b717d29c6c488a332fefeeb3815ba">  303</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d3/d89/structtest__struct.html#a819b717d29c6c488a332fefeeb3815ba">foo</a>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a> (</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(string1);</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">  306</a></span>&#160;   );</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="../../d3/d89/structtest__struct.html#ac970e2dcec27a1523ed4975f74504812">  307</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d3/d89/structtest__struct.html#ac970e2dcec27a1523ed4975f74504812">foo2</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#ab8670e3e170d6d64cfbeebb93787dc40">AST_STRING_FIELD_EXTENDED</a>(string2);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;};</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="../../d3/d5a/test__stringfields_8c.html#a075dd922ea3350c7f6cbe256c6f4f638">  311</a></span>&#160;<a class="code" href="../../d3/d5a/test__stringfields_8c.html#a82d8f76759565377998d641d91cd44c1">AST_TEST_DEFINE</a>(string_field_aggregate_test)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a> *inst1 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a> *inst2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a> *inst3 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a> *inst4 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = <span class="stringliteral">&quot;string_field_aggregate_test&quot;</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <span class="stringliteral">&quot;/main/utils/&quot;</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test stringfield aggregate operations&quot;</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;         <span class="stringliteral">&quot;This tests the structure comparison and copy macros of the stringfield API&quot;</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   inst1 = <a class="code" href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a>(1, <span class="keyword">struct</span> <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, 32);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="keywordflow">if</span> (!inst1) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Unable to allocate structure 1!\n&quot;</span>);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a94cf672031c1cdee340ed1979ae2a379">ast_string_field_init_extended</a>(inst1, string2);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   inst2 = <a class="code" href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a>(1, <span class="keyword">struct</span> <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, 32);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keywordflow">if</span> (!inst2) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Unable to allocate structure 2!\n&quot;</span>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a94cf672031c1cdee340ed1979ae2a379">ast_string_field_init_extended</a>(inst2, string2);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   inst3 = <a class="code" href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a>(1, <span class="keyword">struct</span> <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, 32);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <span class="keywordflow">if</span> (!inst3) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Unable to allocate structure 3!\n&quot;</span>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a94cf672031c1cdee340ed1979ae2a379">ast_string_field_init_extended</a>(inst3, string2);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   inst4 = <a class="code" href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a>(1, <span class="keyword">struct</span> <a class="code" href="../../d3/d89/structtest__struct.html">test_struct</a>, 32);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordflow">if</span> (!inst4) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Unable to allocate structure 4!\n&quot;</span>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a94cf672031c1cdee340ed1979ae2a379">ast_string_field_init_extended</a>(inst4, string2);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(inst1, <a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, <span class="stringliteral">&quot;foo&quot;</span>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(inst1, string2, <span class="stringliteral">&quot;bar&quot;</span>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   inst1-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a819b717d29c6c488a332fefeeb3815ba">foo</a> = 1;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#ad8deab902d72a4afd1e6404635b47023">ast_string_field_ptr_set_by_fields</a>(inst2-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a91220444fce3fb48a92017e943bf6232">__field_mgr_pool</a>, inst2-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>, &amp;inst2-&gt;string2, <span class="stringliteral">&quot;bar&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#ad8deab902d72a4afd1e6404635b47023">ast_string_field_ptr_set_by_fields</a>(inst2-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a91220444fce3fb48a92017e943bf6232">__field_mgr_pool</a>, inst2-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>, &amp;inst2-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, <span class="stringliteral">&quot;foo&quot;</span>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   inst2-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a819b717d29c6c488a332fefeeb3815ba">foo</a> = 2;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <span class="keywordflow">if</span> (inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>.<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a>-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 3 embedded pool should not have a previous pool!\n&quot;</span>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(inst3, <a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, <span class="stringliteral">&quot;foo&quot;</span>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordflow">if</span> (inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>.<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a> != inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a91220444fce3fb48a92017e943bf6232">__field_mgr_pool</a>) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 3 embedded pool should have been the current pool!\n&quot;</span>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">if</span> (inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>.<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a>-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 3 embedded pool should not have a previous pool!\n&quot;</span>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 3 embedded pool initialized successfully.\n&quot;</span>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   <span class="comment">/* Exhaust the embedded pool */</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(inst3, string2, <span class="stringliteral">&quot;baz 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890&quot;</span>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a819b717d29c6c488a332fefeeb3815ba">foo</a> = 3;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <span class="keywordflow">if</span> (inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a91220444fce3fb48a92017e943bf6232">__field_mgr_pool</a> == inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>.<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a>) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 3 embedded pool should not have been the current pool!\n&quot;</span>);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordflow">if</span> (inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>.<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a> != inst3-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a91220444fce3fb48a92017e943bf6232">__field_mgr_pool</a>-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 3 embedded pool should be the current pool&#39;s previous!\n&quot;</span>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 3 additional pool initialized successfully.\n&quot;</span>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(inst4, <a class="code" href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">string1</a>, <span class="stringliteral">&quot;faz&quot;</span>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="comment">/* Exhaust the embedded pool */</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(inst4, string2, <span class="stringliteral">&quot;baz 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890&quot;</span>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   inst4-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a819b717d29c6c488a332fefeeb3815ba">foo</a> = 4;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a>(inst1, inst2)) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/2 should be equal!\n&quot;</span>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/2 are equal as expected.\n&quot;</span>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a>(inst1, inst3)) {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/3 should be different!\n&quot;</span>);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/3 are different as expected.\n&quot;</span>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   }</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a>(inst2, inst3)) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 2/3 should be different!\n&quot;</span>);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 2/3 are different as expected.\n&quot;</span>);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a>(inst3, inst4)) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 3/4 should be different!\n&quot;</span>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 3/4 are different as expected.\n&quot;</span>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a5ecae7d38e954c0d5723547cd932eb5d">ast_string_fields_copy</a>(inst1, inst3)) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Copying from structure 3 to structure 1 failed!\n&quot;</span>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Copying from structure 3 to structure 1 succeeded!\n&quot;</span>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="comment">/* inst1 and inst3 should now be equal and inst1 should no longer be equal to inst2 */</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a>(inst1, inst3)) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/3 should be equal!\n&quot;</span>);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/3 are equal as expected.\n&quot;</span>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a>(inst1, inst2)) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/2 should be different!\n&quot;</span>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/2 are different as expected.\n&quot;</span>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Reset but don&#39;t free.\n&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(inst1, <a class="code" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(inst2, <a class="code" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(inst3, <a class="code" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(inst4, <a class="code" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a>(inst1, inst2)) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/2 should be the same (empty)!\n&quot;</span>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structures 1/2 are the same (empty) as expected.\n&quot;</span>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <span class="keywordflow">if</span> (inst4-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>.<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a> != inst4-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a91220444fce3fb48a92017e943bf6232">__field_mgr_pool</a>) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 4 embedded pool should have been the current pool!\n&quot;</span>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 4 embedded pool is the current pool as expected.\n&quot;</span>);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   }</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <span class="keywordflow">if</span> (inst4-&gt;<a class="code" href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">__field_mgr</a>.<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a>-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 4 embedded pool should not have a previous pool!\n&quot;</span>);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, <span class="stringliteral">&quot;Structure 4 embedded pool does not have a previous as expected.\n&quot;</span>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>:</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(inst1);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(inst1);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(inst2);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(inst2);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(inst3);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(inst3);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(inst4);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(inst4);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="../../d3/d5a/test__stringfields_8c.html#ad09fa931f468002152a3cc2d5ce25eae">  516</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d5a/test__stringfields_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;{</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(string_field_aggregate_test);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(string_field_test);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;}</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="../../d3/d5a/test__stringfields_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">  523</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d5a/test__stringfields_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(string_field_test);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(string_field_aggregate_test);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="../../d3/d5a/test__stringfields_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">  530</a></span>&#160;<a class="code" href="../../d5/d16/module_8h.html#a70ea6b2dde349dfaae4d21d93b9a5683">AST_MODULE_INFO_STANDARD</a>(<a class="code" href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a>, <span class="stringliteral">&quot;String Fields Test&quot;</span>);</div><div class="ttc" id="stringfields_8h_html_a94cf672031c1cdee340ed1979ae2a379"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a94cf672031c1cdee340ed1979ae2a379">ast_string_field_init_extended</a></div><div class="ttdeci">#define ast_string_field_init_extended(x, field)</div><div class="ttdoc">Initialize an extended string field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00395">stringfields.h:395</a></div></div>
<div class="ttc" id="module_8h_html_a70ea6b2dde349dfaae4d21d93b9a5683"><div class="ttname"><a href="../../d5/d16/module_8h.html#a70ea6b2dde349dfaae4d21d93b9a5683">AST_MODULE_INFO_STANDARD</a></div><div class="ttdeci">#define AST_MODULE_INFO_STANDARD(keystr, desc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00567">module.h:567</a></div></div>
<div class="ttc" id="asterisk_8h_html"><div class="ttname"><a href="../../db/db2/asterisk_8h.html">asterisk.h</a></div><div class="ttdoc">Asterisk main include file. File version handling, generic pbx functions. </div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a19ebcc2b703ea5d5bb7124f39c62bc63"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">ast_string_field_mgr::embedded_pool</a></div><div class="ttdeci">struct ast_string_field_pool * embedded_pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00229">stringfields.h:229</a></div></div>
<div class="ttc" id="test_8h_html"><div class="ttname"><a href="../../d2/ddc/test_8h.html">test.h</a></div><div class="ttdoc">Test Framework API. </div></div>
<div class="ttc" id="test_8h_html_a34f64a69c09d98ceb693b077efd7ef97"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a></div><div class="ttdeci">#define AST_TEST_REGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00127">test.h:127</a></div></div>
<div class="ttc" id="stringfields_8h_html_a3b64083b978bdb9d28222357acf5aff7"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a></div><div class="ttdeci">#define ast_calloc_with_stringfields(n, type, size)</div><div class="ttdoc">Allocate a structure with embedded stringfields in a single allocation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00426">stringfields.h:426</a></div></div>
<div class="ttc" id="stringfields_8h_html_a986c48d189ab62291dea325789921fc1"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a986c48d189ab62291dea325789921fc1">__ast_string_field_empty</a></div><div class="ttdeci">const char * __ast_string_field_empty</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00043">stringfields.c:43</a></div></div>
<div class="ttc" id="stringfields_8h_html_a061580e89c55282a7140fa3fdfd52b6d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a></div><div class="ttdeci">#define AST_DECLARE_STRING_FIELDS(field_list)</div><div class="ttdoc">Declare the fields needed in a structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00337">stringfields.h:337</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__string__field__pool_html"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00208">stringfields.h:208</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="stringfields_8h_html"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html">stringfields.h</a></div></div>
<div class="ttc" id="utils_8h_html"><div class="ttname"><a href="../../d5/d60/utils_8h.html">utils.h</a></div><div class="ttdoc">Utility functions. </div></div>
<div class="ttc" id="stringfields_8h_html_ad614492e2dc37afd8835ce6a2804bdb1"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a></div><div class="ttdeci">#define AST_STRING_FIELD_ALLOCATION(x)</div><div class="ttdoc">Macro to provide access to the allocation field that lives immediately in front of a string field...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00460">stringfields.h:460</a></div></div>
<div class="ttc" id="structtest__struct_html"><div class="ttname"><a href="../../d3/d89/structtest__struct.html">test_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d05/test__scoped__lock_8c_source.html#l00102">test_scoped_lock.c:102</a></div></div>
<div class="ttc" id="stringfields_8h_html_ab8670e3e170d6d64cfbeebb93787dc40"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#ab8670e3e170d6d64cfbeebb93787dc40">AST_STRING_FIELD_EXTENDED</a></div><div class="ttdeci">#define AST_STRING_FIELD_EXTENDED(name)</div><div class="ttdoc">Declare an extended string field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00307">stringfields.h:307</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="stringfields_8h_html_a51b5729220efb7cda4393ed35ecdfea2"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a></div><div class="ttdeci">#define AST_STRING_FIELD(name)</div><div class="ttdoc">Declare a string field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00299">stringfields.h:299</a></div></div>
<div class="ttc" id="test__stringfields_8c_html_a82d8f76759565377998d641d91cd44c1"><div class="ttname"><a href="../../d3/d5a/test__stringfields_8c.html#a82d8f76759565377998d641d91cd44c1">AST_TEST_DEFINE</a></div><div class="ttdeci">AST_TEST_DEFINE(string_field_test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/test__stringfields_8c_source.html#l00041">test_stringfields.c:41</a></div></div>
<div class="ttc" id="structtest__struct_html_ac970e2dcec27a1523ed4975f74504812"><div class="ttname"><a href="../../d3/d89/structtest__struct.html#ac970e2dcec27a1523ed4975f74504812">test_struct::foo2</a></div><div class="ttdeci">int foo2</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/test__stringfields_8c_source.html#l00307">test_stringfields.c:307</a></div></div>
<div class="ttc" id="stringfields_8h_html_a1abf7a8d48a500697745b31fd64e2a8f"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a></div><div class="ttdeci">#define ast_string_fields_cmp(instance1, instance2)</div><div class="ttdoc">Compare the string fields in two instances of the same structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00607">stringfields.h:607</a></div></div>
<div class="ttc" id="stringfields_8h_html_a5ecae7d38e954c0d5723547cd932eb5d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a5ecae7d38e954c0d5723547cd932eb5d">ast_string_fields_copy</a></div><div class="ttdeci">#define ast_string_fields_copy(copy, orig)</div><div class="ttdoc">Copy all string fields from one instance to another of the same structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00627">stringfields.h:627</a></div></div>
<div class="ttc" id="test__stringfields_8c_html_ad09fa931f468002152a3cc2d5ce25eae"><div class="ttname"><a href="../../d3/d5a/test__stringfields_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a></div><div class="ttdeci">static int unload_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/test__stringfields_8c_source.html#l00516">test_stringfields.c:516</a></div></div>
<div class="ttc" id="structtest__struct_html_a385248f457748f60f984b484fb76d09e"><div class="ttname"><a href="../../d3/d89/structtest__struct.html#a385248f457748f60f984b484fb76d09e">test_struct::__field_mgr</a></div><div class="ttdeci">struct ast_string_field_mgr __field_mgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/test__stringfields_8c_source.html#l00306">test_stringfields.c:306</a></div></div>
<div class="ttc" id="test_8h_html_a79bc64a935b14b1b181156e5ada58ead"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a></div><div class="ttdeci">#define AST_TEST_UNREGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00128">test.h:128</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="stringfields_8h_html_ad8deab902d72a4afd1e6404635b47023"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#ad8deab902d72a4afd1e6404635b47023">ast_string_field_ptr_set_by_fields</a></div><div class="ttdeci">#define ast_string_field_ptr_set_by_fields(field_mgr_pool, field_mgr, ptr, data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00503">stringfields.h:503</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="structtest__struct_html_a91220444fce3fb48a92017e943bf6232"><div class="ttname"><a href="../../d3/d89/structtest__struct.html#a91220444fce3fb48a92017e943bf6232">test_struct::__field_mgr_pool</a></div><div class="ttdeci">struct ast_string_field_pool * __field_mgr_pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/test__stringfields_8c_source.html#l00306">test_stringfields.c:306</a></div></div>
<div class="ttc" id="cli_8h_html"><div class="ttname"><a href="../../dc/db0/cli_8h.html">cli.h</a></div><div class="ttdoc">Standard Command Line Interface. </div></div>
<div class="ttc" id="test__stringfields_8c_html_ac3382bf6da54c56b37069bd76bbdf4f9"><div class="ttname"><a href="../../d3/d5a/test__stringfields_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a></div><div class="ttdeci">static int load_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/test__stringfields_8c_source.html#l00523">test_stringfields.c:523</a></div></div>
<div class="ttc" id="structast__string__field__pool_html_a5782414ec616579b78d42c79ed254962"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">ast_string_field_pool::prev</a></div><div class="ttdeci">struct ast_string_field_pool * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00209">stringfields.h:209</a></div></div>
<div class="ttc" id="stringfields_8h_html_a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00314">stringfields.h:314</a></div></div>
<div class="ttc" id="structtest__struct_html_aa508558d75b1f0217a870fbcfabe5c05"><div class="ttname"><a href="../../d3/d89/structtest__struct.html#aa508558d75b1f0217a870fbcfabe5c05">test_struct::string1</a></div><div class="ttdeci">const ast_string_field string1</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/test__stringfields_8c_source.html#l00306">test_stringfields.c:306</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="module_8h_html_aba2c8d4be709a254658b21a834f8294a"><div class="ttname"><a href="../../d5/d16/module_8h.html#aba2c8d4be709a254658b21a834f8294a">ASTERISK_GPL_KEY</a></div><div class="ttdeci">#define ASTERISK_GPL_KEY</div><div class="ttdoc">The text the key() function should return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00046">module.h:46</a></div></div>
<div class="ttc" id="module_8h_html"><div class="ttname"><a href="../../d5/d16/module_8h.html">module.h</a></div><div class="ttdoc">Asterisk module definitions. </div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
<div class="ttc" id="structtest__struct_html_a819b717d29c6c488a332fefeeb3815ba"><div class="ttname"><a href="../../d3/d89/structtest__struct.html#a819b717d29c6c488a332fefeeb3815ba">test_struct::foo</a></div><div class="ttdeci">int foo</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/test__stringfields_8c_source.html#l00303">test_stringfields.c:303</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:22 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
