<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: loader.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">loader.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module Loader.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d78/__private_8h_source.html">asterisk/_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &lt;dirent.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d43/dlinkedlists_8h_source.html">asterisk/dlinkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/term_8h_source.html">asterisk/term.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/manager_8h_source.html">asterisk/manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/dac/io_8h_source.html">asterisk/io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d68/vector_8h_source.html">asterisk/vector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/ddc/test_8h_source.html">asterisk/test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &lt;dlfcn.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../da/db0/md5_8h_source.html">asterisk/md5.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for loader.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/loader_8c__incl.png" border="0" usemap="#loader_8c" alt=""/></div>
<map name="loader_8c" id="loader_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="2322,304,2406,331"/>
<area shape="rect" id="node8" href="../../d4/d78/__private_8h.html" title="Prototypes for public functions only of internal interest,. " alt="" coords="44,80,183,107"/>
<area shape="rect" id="node9" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="208,80,332,107"/>
<area shape="rect" id="node11" href="../../d0/d43/dlinkedlists_8h.html" title="A set of macros to manage doubly&#45;linked lists. " alt="" coords="502,379,661,405"/>
<area shape="rect" id="node12" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1037,453,1150,480"/>
<area shape="rect" id="node20" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="955,155,1091,181"/>
<area shape="rect" id="node21" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1000,229,1115,256"/>
<area shape="rect" id="node24" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="300,379,426,405"/>
<area shape="rect" id="node25" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1284,155,1410,181"/>
<area shape="rect" id="node26" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1658,80,1796,107"/>
<area shape="rect" id="node41" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="654,229,800,256"/>
<area shape="rect" id="node43" href="../../db/d45/term_8h.html" title="Handy terminal functions for vt* terms. " alt="" coords="1821,80,1940,107"/>
<area shape="rect" id="node44" href="../../dc/dac/io_8h.html" title="I/O Management (derived from Cheops&#45;NG) " alt="" coords="2832,80,2931,107"/>
<area shape="rect" id="node46" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="711,80,823,107"/>
<area shape="rect" id="node47" href="../../d2/ddc/test_8h.html" title="Test Framework API. " alt="" coords="2116,80,2229,107"/>
<area shape="rect" id="node48" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="2988,155,3090,181"/>
<area shape="rect" id="node50" href="../../da/db0/md5_8h.html" title="MD5 digest functions. " alt="" coords="3252,80,3370,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1762,603,1916,629"/>
<area shape="rect" id="node4" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1304,453,1441,480"/>
<area shape="rect" id="node7" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="2297,379,2432,405"/>
<area shape="rect" id="node5" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1301,528,1444,555"/>
<area shape="rect" id="node14" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1214,528,1277,555"/>
<area shape="rect" id="node15" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1172,603,1319,629"/>
<area shape="rect" id="node18" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="829,528,980,555"/>
<area shape="rect" id="node19" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1560,528,1686,555"/>
<area shape="rect" id="node22" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="736,304,875,331"/>
<area shape="rect" id="node23" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="899,304,1056,331"/>
<area shape="rect" id="node27" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1115,155,1259,181"/>
<area shape="rect" id="node28" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="2197,155,2356,181"/>
<area shape="rect" id="node29" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="2164,304,2298,331"/>
<area shape="rect" id="node30" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1746,379,1897,405"/>
<area shape="rect" id="node31" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="2800,155,2964,181"/>
<area shape="rect" id="node32" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1860,229,1986,256"/>
<area shape="rect" id="node33" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1638,229,1784,256"/>
<area shape="rect" id="node34" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="2380,155,2487,181"/>
<area shape="rect" id="node35" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1582,304,1733,331"/>
<area shape="rect" id="node36" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="2512,155,2673,181"/>
<area shape="rect" id="node37" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="2478,229,2648,256"/>
<area shape="rect" id="node38" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="2062,229,2178,256"/>
<area shape="rect" id="node39" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1790,155,1947,181"/>
<area shape="rect" id="node40" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="704,155,830,181"/>
<area shape="rect" id="node42" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="2022,155,2173,181"/>
<area shape="rect" id="node45" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="2075,453,2222,480"/>
</map>
</div>
</div>
<p><a href="../../d3/d96/loader_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/df5/structast__module.html">ast_module</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d56/structload__order.html">load_order</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d78/structload__order__entry.html">load_order_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dee/structload__results__map.html">load_results_map</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd7/structload__retries.html">load_retries</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d70/structloadupdate.html">loadupdate</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d5f/structmodule__list.html">module_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da4/structmodule__load__word.html">module_load_word</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d5b/structmodule__user__list.html">module_user_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6c/structreload__queue.html">reload_queue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/structreload__queue__item.html">reload_queue_item</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/daf/structupdaters.html">updaters</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab47dd1e5c0575322872962667c2b0c0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ab47dd1e5c0575322872962667c2b0c0c">AST_MODULE_LOAD_UNKNOWN_STRING</a>&#160;&#160;&#160;&quot;Unknown&quot;		/* Status <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> for <a class="el" href="../../d6/d62/test__core__codec_8c.html#a9dec7356daac94621e9f62538be37b57">unknown</a> load <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> */</td></tr>
<tr class="separator:ab47dd1e5c0575322872962667c2b0c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233010260f7e61c5dab09e2bca10a590"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a233010260f7e61c5dab09e2bca10a590">RTLD_LOCAL</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a233010260f7e61c5dab09e2bca10a590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a6517467cf7d1dd27d6c6dce78a6cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a98a6517467cf7d1dd27d6c6dce78a6cf">RTLD_NOW</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a98a6517467cf7d1dd27d6c6dce78a6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d17d77e95d948463f58f0e3bbd8ff3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ac8d17d77e95d948463f58f0e3bbd8ff3">STR_APPEND_TEXT</a>(txt,  <a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)</td></tr>
<tr class="separator:ac8d17d77e95d948463f58f0e3bbd8ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad93e209757c58beaaf1832031f553878"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *func)</td></tr>
<tr class="separator:ad93e209757c58beaaf1832031f553878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401eb9f01aa98f085300275ce9f8b1de"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a401eb9f01aa98f085300275ce9f8b1de">__ast_module_running_ref</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *func)</td></tr>
<tr class="separator:a401eb9f01aa98f085300275ce9f8b1de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e706a32aef4126d59d1f4c2b981dc91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a9e706a32aef4126d59d1f4c2b981dc91">__ast_module_shutdown_ref</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *func)</td></tr>
<tr class="separator:a9e706a32aef4126d59d1f4c2b981dc91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ae513b9d81eb9faae2c9cd92fc214a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a01ae513b9d81eb9faae2c9cd92fc214a">__ast_module_unref</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, const char *file, int line, const char *func)</td></tr>
<tr class="separator:a01ae513b9d81eb9faae2c9cd92fc214a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddd2136c9f1f9e8eeda76f2194901d3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a0ddd2136c9f1f9e8eeda76f2194901d3">__ast_module_user_add</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a0ddd2136c9f1f9e8eeda76f2194901d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cb9c203d9110487fccf21905b903e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="separator:a14cb9c203d9110487fccf21905b903e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14013f16abe2b07476d88bbe088db2c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a14013f16abe2b07476d88bbe088db2c3">__ast_module_user_remove</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, struct <a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u)</td></tr>
<tr class="separator:a14013f16abe2b07476d88bbe088db2c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec5280a9b7c28a628f4e8704faa357a7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/d78/structload__order__entry.html">load_order_entry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#aec5280a9b7c28a628f4e8704faa357a7">add_to_load_order</a> (const char *resource, struct <a class="el" href="../../d6/d56/structload__order.html">load_order</a> *<a class="el" href="../../d6/d56/structload__order.html">load_order</a>, int required, int preload, int builtin)</td></tr>
<tr class="separator:aec5280a9b7c28a628f4e8704faa357a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af368dd8f1ddb78f8aecdae735f007081"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a> (struct module_vector *alpha_module_list)</td></tr>
<tr class="separator:af368dd8f1ddb78f8aecdae735f007081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a960ce8e91726dae1a50d3f99ecfa67dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a960ce8e91726dae1a50d3f99ecfa67dd">ast_load_resource</a> (const char *resource_name)</td></tr>
<tr class="memdesc:a960ce8e91726dae1a50d3f99ecfa67dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a module.  <a href="#a960ce8e91726dae1a50d3f99ecfa67dd">More...</a><br /></td></tr>
<tr class="separator:a960ce8e91726dae1a50d3f99ecfa67dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7c864654599264f4ec7cb3480126fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#aac7c864654599264f4ec7cb3480126fb">ast_loader_register</a> (int(*v)(void))</td></tr>
<tr class="memdesc:aac7c864654599264f4ec7cb3480126fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a procedure to be run when modules have been updated.  <a href="#aac7c864654599264f4ec7cb3480126fb">More...</a><br /></td></tr>
<tr class="separator:aac7c864654599264f4ec7cb3480126fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8484cb41db21a164962080607b260c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ac8484cb41db21a164962080607b260c6">ast_loader_unregister</a> (int(*v)(void))</td></tr>
<tr class="memdesc:ac8484cb41db21a164962080607b260c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a procedure to be run when modules are updated.  <a href="#ac8484cb41db21a164962080607b260c6">More...</a><br /></td></tr>
<tr class="separator:ac8484cb41db21a164962080607b260c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f7e2f25f4d0c60de6cca164232a6d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a15f7e2f25f4d0c60de6cca164232a6d4">ast_module_check</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a15f7e2f25f4d0c60de6cca164232a6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if module exists.  <a href="#a15f7e2f25f4d0c60de6cca164232a6d4">More...</a><br /></td></tr>
<tr class="separator:a15f7e2f25f4d0c60de6cca164232a6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9c668b5d436bc9c7c1076a008b9ed1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a6e9c668b5d436bc9c7c1076a008b9ed1">ast_module_helper</a> (const char *line, const char *<a class="el" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, int pos, int <a class="el" href="../../d4/d88/structstate.html">state</a>, int rpos, enum <a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68">ast_module_helper_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a6e9c668b5d436bc9c7c1076a008b9ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match modules names for the Asterisk cli.  <a href="#a6e9c668b5d436bc9c7c1076a008b9ed1">More...</a><br /></td></tr>
<tr class="separator:a6e9c668b5d436bc9c7c1076a008b9ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10842e2d5bac25543eabaccde49f7aad"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a> (const struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="memdesc:a10842e2d5bac25543eabaccde49f7aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of a module.  <a href="#a10842e2d5bac25543eabaccde49f7aad">More...</a><br /></td></tr>
<tr class="separator:a10842e2d5bac25543eabaccde49f7aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e7cd0c758d1be01319bdb127080061a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a2e7cd0c758d1be01319bdb127080061a">ast_module_register</a> (const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *info)</td></tr>
<tr class="separator:a2e7cd0c758d1be01319bdb127080061a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e3b4ae730e43312e00fcbc1707588b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#af9e3b4ae730e43312e00fcbc1707588b">ast_module_reload</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:af9e3b4ae730e43312e00fcbc1707588b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reload asterisk modules.  <a href="#af9e3b4ae730e43312e00fcbc1707588b">More...</a><br /></td></tr>
<tr class="separator:af9e3b4ae730e43312e00fcbc1707588b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f4b88764cb218434ad6fb580d93808"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a42f4b88764cb218434ad6fb580d93808">ast_module_support_level_to_string</a> (enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level)</td></tr>
<tr class="separator:a42f4b88764cb218434ad6fb580d93808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31d09c4c58b1eed5424e24cd2eea7b43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a31d09c4c58b1eed5424e24cd2eea7b43">ast_module_unregister</a> (const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *info)</td></tr>
<tr class="separator:a31d09c4c58b1eed5424e24cd2eea7b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07bf5448c6189024cbc925a3e8ecb5e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a07bf5448c6189024cbc925a3e8ecb5e0">ast_process_pending_reloads</a> (void)</td></tr>
<tr class="memdesc:a07bf5448c6189024cbc925a3e8ecb5e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process reload requests received during startup.  <a href="#a07bf5448c6189024cbc925a3e8ecb5e0">More...</a><br /></td></tr>
<tr class="separator:a07bf5448c6189024cbc925a3e8ecb5e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace211f75a31cd7b835c85daa3c232f9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ace211f75a31cd7b835c85daa3c232f9f">ast_unload_resource</a> (const char *resource_name, enum <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9">ast_module_unload_mode</a> force)</td></tr>
<tr class="memdesc:ace211f75a31cd7b835c85daa3c232f9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unload a module.  <a href="#ace211f75a31cd7b835c85daa3c232f9f">More...</a><br /></td></tr>
<tr class="separator:ace211f75a31cd7b835c85daa3c232f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029cc67c86d03d3f0d59b7a2ec0aa936"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a029cc67c86d03d3f0d59b7a2ec0aa936">ast_update_module_list</a> (int(*modentry)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level), const char *like)</td></tr>
<tr class="memdesc:a029cc67c86d03d3f0d59b7a2ec0aa936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask for a list of modules, descriptions, use counts and status.  <a href="#a029cc67c86d03d3f0d59b7a2ec0aa936">More...</a><br /></td></tr>
<tr class="separator:a029cc67c86d03d3f0d59b7a2ec0aa936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0395d2e09c87db9db68d119bfb98aa1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ae0395d2e09c87db9db68d119bfb98aa1">ast_update_module_list_condition</a> (int(*modentry)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level, void *data, const char *condition), const char *like, void *data, const char *condition)</td></tr>
<tr class="memdesc:ae0395d2e09c87db9db68d119bfb98aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask for a list of modules, descriptions, use counts and status.  <a href="#ae0395d2e09c87db9db68d119bfb98aa1">More...</a><br /></td></tr>
<tr class="separator:ae0395d2e09c87db9db68d119bfb98aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d685667cf74c0a067dece185a7f873"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ad5d685667cf74c0a067dece185a7f873">ast_update_module_list_data</a> (int(*modentry)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level, void *data), const char *like, void *data)</td></tr>
<tr class="memdesc:ad5d685667cf74c0a067dece185a7f873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask for a list of modules, descriptions, use counts and status.  <a href="#ad5d685667cf74c0a067dece185a7f873">More...</a><br /></td></tr>
<tr class="separator:ad5d685667cf74c0a067dece185a7f873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b9e8444e0f9b495cc1b10628b816e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a> (void)</td></tr>
<tr class="memdesc:a28b9e8444e0f9b495cc1b10628b816e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify when usecount has been changed.  <a href="#a28b9e8444e0f9b495cc1b10628b816e8">More...</a><br /></td></tr>
<tr class="separator:a28b9e8444e0f9b495cc1b10628b816e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f10c6b272aa373ac33acd19815149de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a6f10c6b272aa373ac33acd19815149de">AST_VECTOR</a> (module_vector, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *)</td></tr>
<tr class="separator:a6f10c6b272aa373ac33acd19815149de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfa4f5b3534c7b15263da6bec670e17"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a> (const char *resource, int do_lock)</td></tr>
<tr class="separator:a5bfa4f5b3534c7b15263da6bec670e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a244c47889769c7dde67d313248b303"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a8a244c47889769c7dde67d313248b303">get_name_from_resource</a> (const char *resource)</td></tr>
<tr class="separator:a8a244c47889769c7dde67d313248b303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac262e8ae87d02b08cead525063bccf9d"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ac262e8ae87d02b08cead525063bccf9d">inspect_module</a> (const struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="separator:ac262e8ae87d02b08cead525063bccf9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1726d42d9feef28e5cd133f15e89cc2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#af1726d42d9feef28e5cd133f15e89cc2">is_module_loaded</a> (const char *resource_name)</td></tr>
<tr class="memdesc:af1726d42d9feef28e5cd133f15e89cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if the given resource is loaded.  <a href="#af1726d42d9feef28e5cd133f15e89cc2">More...</a><br /></td></tr>
<tr class="separator:af1726d42d9feef28e5cd133f15e89cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70ace2c657fad50a45ea594be9f1b21"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ab70ace2c657fad50a45ea594be9f1b21">key_matches</a> (const unsigned char *key1, const unsigned char *key2)</td></tr>
<tr class="separator:ab70ace2c657fad50a45ea594be9f1b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad30be0a0e0f84c2dd750d14e39c289d4"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ad30be0a0e0f84c2dd750d14e39c289d4">load_dlopen</a> (const char *resource_in, const char *so_ext, const char *filename, int flags, unsigned int suppress_logging)</td></tr>
<tr class="separator:ad30be0a0e0f84c2dd750d14e39c289d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96df3d56aae09dfbd265ad83060cc331"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a96df3d56aae09dfbd265ad83060cc331">load_dlopen_missing</a> (struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **list, struct ast_vector_string *deps)</td></tr>
<tr class="separator:a96df3d56aae09dfbd265ad83060cc331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a732387993922d623a1a0f5fcc4f91b3c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a732387993922d623a1a0f5fcc4f91b3c">load_dynamic_module</a> (const char *resource_in, unsigned int suppress_logging)</td></tr>
<tr class="separator:a732387993922d623a1a0f5fcc4f91b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ce35b5edad956ec349975bdefb4d76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a19ce35b5edad956ec349975bdefb4d76">load_modules</a> (void)</td></tr>
<tr class="separator:a19ce35b5edad956ec349975bdefb4d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab143f0b545c2fe83ebacf96cf896246a"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ab143f0b545c2fe83ebacf96cf896246a">load_resource</a> (const char *resource_name, unsigned int suppress_logging, struct module_vector *module_priorities, int required, int preload)</td></tr>
<tr class="separator:ab143f0b545c2fe83ebacf96cf896246a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cfb64a65021446c76f29cc5d4d334e1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a3cfb64a65021446c76f29cc5d4d334e1">load_resource_list</a> (struct <a class="el" href="../../d6/d56/structload__order.html">load_order</a> *<a class="el" href="../../d6/d56/structload__order.html">load_order</a>, int *mod_count)</td></tr>
<tr class="separator:a3cfb64a65021446c76f29cc5d4d334e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad380fd91a2fa9b8de2acd7cc8274297c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ad380fd91a2fa9b8de2acd7cc8274297c">loader_builtin_init</a> (struct <a class="el" href="../../d6/d56/structload__order.html">load_order</a> *<a class="el" href="../../d6/d56/structload__order.html">load_order</a>)</td></tr>
<tr class="separator:ad380fd91a2fa9b8de2acd7cc8274297c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b6c100d7193cc6e704659ae31c4b09"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a86b6c100d7193cc6e704659ae31c4b09">loader_config_init</a> (struct <a class="el" href="../../d6/d56/structload__order.html">load_order</a> *<a class="el" href="../../d6/d56/structload__order.html">load_order</a>)</td></tr>
<tr class="separator:a86b6c100d7193cc6e704659ae31c4b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2b0fb41793faa48b214a07c62c3875"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#afe2b0fb41793faa48b214a07c62c3875">loadresult2str</a> (enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> <a class="el" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>)</td></tr>
<tr class="separator:afe2b0fb41793faa48b214a07c62c3875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2e521ef2d6a796923f8ed10ae68250"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, void *lib)</td></tr>
<tr class="memdesc:a2b2e521ef2d6a796923f8ed10ae68250"><td class="mdescLeft">&#160;</td><td class="mdescRight">dlclose(), with failure logging.  <a href="#a2b2e521ef2d6a796923f8ed10ae68250">More...</a><br /></td></tr>
<tr class="separator:a2b2e521ef2d6a796923f8ed10ae68250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cbff8d916e2246e6769fcfceaad514"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, struct module_vector *missingdeps)</td></tr>
<tr class="memdesc:a68cbff8d916e2246e6769fcfceaad514"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively find required dependencies that are not running.  <a href="#a68cbff8d916e2246e6769fcfceaad514">More...</a><br /></td></tr>
<tr class="separator:a68cbff8d916e2246e6769fcfceaad514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab486a5540cad4c655e97747984d4cb2c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ab486a5540cad4c655e97747984d4cb2c">module_deps_process_reqlist</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, struct ast_vector_string *vec, struct ast_vector_const_string *missing, int ref_enhancers, int isoptional)</td></tr>
<tr class="separator:ab486a5540cad4c655e97747984d4cb2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507ce938f37ed6a435d24c2facfbdc71"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, struct ast_vector_const_string *missing)</td></tr>
<tr class="separator:a507ce938f37ed6a435d24c2facfbdc71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d38865fb6c00613b03a3e130c907bb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a95d38865fb6c00613b03a3e130c907bb">module_destroy</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="separator:a95d38865fb6c00613b03a3e130c907bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeacb9a42f717e903d50c201dc035410"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a> (const char *fmt,...)</td></tr>
<tr class="separator:abeacb9a42f717e903d50c201dc035410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af868e7e5e85f6170fac291fc9aff9167"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#af868e7e5e85f6170fac291fc9aff9167">module_load_helper</a> (const char *<a class="el" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>)</td></tr>
<tr class="separator:af868e7e5e85f6170fac291fc9aff9167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab3c71067f8953f2fad586b6e07cf90"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a1ab3c71067f8953f2fad586b6e07cf90">module_load_helper_on_file</a> (const char *dir_name, const char *filename, void *obj)</td></tr>
<tr class="separator:a1ab3c71067f8953f2fad586b6e07cf90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade039f491385a8ed2ea9668493b03eb9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ade039f491385a8ed2ea9668493b03eb9">module_matches_helper_type</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, enum <a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68">ast_module_helper_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="separator:ade039f491385a8ed2ea9668493b03eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3531ad241e4f9cbdfd872dd8e9d7e564"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a3531ad241e4f9cbdfd872dd8e9d7e564">module_post_register</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="separator:a3531ad241e4f9cbdfd872dd8e9d7e564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5dd9f9353188acb7aabf7a82b9ee7f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a9b5dd9f9353188acb7aabf7a82b9ee7f">module_reffed_deps_add</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *dep, struct ast_vector_const_string *missing)</td></tr>
<tr class="separator:a9b5dd9f9353188acb7aabf7a82b9ee7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab20d4d88475312238b5739c27a18a741"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ab20d4d88475312238b5739c27a18a741">module_reffed_deps_add_dep_enhancers</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *dep, struct ast_vector_const_string *missing)</td></tr>
<tr class="separator:ab20d4d88475312238b5739c27a18a741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab483ff3d8ae5b845583c324291fab438"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ab483ff3d8ae5b845583c324291fab438">module_vector_cmp</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="separator:ab483ff3d8ae5b845583c324291fab438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb041ec2a672fa036781d7c2cdc7ff6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#afdb041ec2a672fa036781d7c2cdc7ff6">module_vector_strcasecmp</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="separator:afdb041ec2a672fa036781d7c2cdc7ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090952bbd448a14d7cad9b960f520c32"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a090952bbd448a14d7cad9b960f520c32">modules_shutdown</a> (void)</td></tr>
<tr class="separator:a090952bbd448a14d7cad9b960f520c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d241d42a14083d24f97bd7ea0d9117"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ac3d241d42a14083d24f97bd7ea0d9117">printdigest</a> (const unsigned char *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>)</td></tr>
<tr class="separator:ac3d241d42a14083d24f97bd7ea0d9117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b69a9fafd733008e4107b5b9b5fa6a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#af5b69a9fafd733008e4107b5b9b5fa6a">publish_load_message</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> <a class="el" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>)</td></tr>
<tr class="separator:af5b69a9fafd733008e4107b5b9b5fa6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2dd38a08f60c3d38b1493b904c12a8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a4e2dd38a08f60c3d38b1493b904c12a8">publish_load_message_type</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</td></tr>
<tr class="separator:a4e2dd38a08f60c3d38b1493b904c12a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc7346b80a2ffb5aebaac61ef60e0763"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#acc7346b80a2ffb5aebaac61ef60e0763">publish_reload_message</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, enum <a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a> <a class="el" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>)</td></tr>
<tr class="separator:acc7346b80a2ffb5aebaac61ef60e0763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f008201fb4f3527c964224c271cfbc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a03f008201fb4f3527c964224c271cfbc">publish_unload_message</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>)</td></tr>
<tr class="separator:a03f008201fb4f3527c964224c271cfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc4572014dbb249f18af82933dc40050"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#abc4572014dbb249f18af82933dc40050">queue_reload_request</a> (const char *module)</td></tr>
<tr class="separator:abc4572014dbb249f18af82933dc40050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb274610b05d8bf8bd1977066c403d9f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#abb274610b05d8bf8bd1977066c403d9f">resource_list_recursive_decline</a> (struct module_vector *resources, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **printmissing)</td></tr>
<tr class="separator:abb274610b05d8bf8bd1977066c403d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50dd3101474993b227de3e651457f15"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:ad50dd3101474993b227de3e651457f15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f72e7e80873f05719c41b557a395143"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a> (const char *name1, size_t baselen1, const char *name2)</td></tr>
<tr class="separator:a5f72e7e80873f05719c41b557a395143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9df2b9679f9e75ba5acee5b93f378b1"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ac9df2b9679f9e75ba5acee5b93f378b1">start_resource</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="separator:ac9df2b9679f9e75ba5acee5b93f378b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd71c82e83875ac0d32ddea0f4caa3a7"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#abd71c82e83875ac0d32ddea0f4caa3a7">start_resource_attempt</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod, int *count)</td></tr>
<tr class="separator:abd71c82e83875ac0d32ddea0f4caa3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177482b5f791fe9df1c25e322c140bfd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a177482b5f791fe9df1c25e322c140bfd">start_resource_list</a> (struct module_vector *resources, int *mod_count)</td></tr>
<tr class="separator:a177482b5f791fe9df1c25e322c140bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e400c9a7efe02d48abcbb6740c88ce5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a> (struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="separator:a5e400c9a7efe02d48abcbb6740c88ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb6765fa45de2f4c58acc4125e3de92"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#adeb6765fa45de2f4c58acc4125e3de92">verify_key</a> (const unsigned char *key)</td></tr>
<tr class="separator:adeb6765fa45de2f4c58acc4125e3de92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6e9967e19b2e269bd26d6eaeae60ac8b"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a6e9967e19b2e269bd26d6eaeae60ac8b">buildopt_sum</a> [33] = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a></td></tr>
<tr class="separator:a6e9967e19b2e269bd26d6eaeae60ac8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7fa704cd26e5ef5affa89a62e9fffd1"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d5f/structmodule__list.html">module_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#ab7fa704cd26e5ef5affa89a62e9fffd1">builtin_module_list</a></td></tr>
<tr class="separator:ab7fa704cd26e5ef5affa89a62e9fffd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c997a1dd7a91d37adb9845a44e56535"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a7c997a1dd7a91d37adb9845a44e56535">do_full_reload</a> = 0</td></tr>
<tr class="separator:a7c997a1dd7a91d37adb9845a44e56535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71388469e6cd681fd639be1f4bc40de8"><td class="memItemLeft" align="right" valign="top">static const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a71388469e6cd681fd639be1f4bc40de8">expected_key</a> []</td></tr>
<tr class="separator:a71388469e6cd681fd639be1f4bc40de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f3f0923632d6d19635aefc198d5123"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d0/dee/structload__results__map.html">load_results_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#aa3f3f0923632d6d19635aefc198d5123">load_results</a> []</td></tr>
<tr class="separator:aa3f3f0923632d6d19635aefc198d5123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63792b1ca1cd1436e3667028f8f0285f"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a63792b1ca1cd1436e3667028f8f0285f">loader_ready</a></td></tr>
<tr class="separator:a63792b1ca1cd1436e3667028f8f0285f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fa5ed079c9d5be4267b330ee87948c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d5f/structmodule__list.html">module_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a11fa5ed079c9d5be4267b330ee87948c">module_list</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a11fa5ed079c9d5be4267b330ee87948c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b61c392d5cfb81ebdf50ca4880b4aa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a34b61c392d5cfb81ebdf50ca4880b4aa">modules_loaded</a></td></tr>
<tr class="memdesc:a34b61c392d5cfb81ebdf50ca4880b4aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal flag to indicate all modules have been initially loaded.  <a href="#a34b61c392d5cfb81ebdf50ca4880b4aa">More...</a><br /></td></tr>
<tr class="separator:a34b61c392d5cfb81ebdf50ca4880b4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2c1b317c19b970ec8ef1b82606a62e"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d6c/structreload__queue.html">reload_queue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#afe2c1b317c19b970ec8ef1b82606a62e">reload_queue</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:afe2c1b317c19b970ec8ef1b82606a62e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a4ab22c3e08054d2efe759d8610f12"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:a39a4ab22c3e08054d2efe759d8610f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed3ca5c75a63241f94a6601b11148bf"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a></td></tr>
<tr class="separator:afed3ca5c75a63241f94a6601b11148bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a868f4df6b093d8fb5403943de1b88c34"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a></td></tr>
<tr class="separator:a868f4df6b093d8fb5403943de1b88c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7009e38410774eddfee7838dc45137b3"><td class="memItemLeft" align="right" valign="top">static struct ast_vector_string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a7009e38410774eddfee7838dc45137b3">startup_errors</a></td></tr>
<tr class="separator:a7009e38410774eddfee7838dc45137b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bcd1b774605144f6954d7ca4811ec5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a39bcd1b774605144f6954d7ca4811ec5">support_level_map</a> []</td></tr>
<tr class="separator:a39bcd1b774605144f6954d7ca4811ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d46879c97ed909d7de06572b6259d15"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/daf/structupdaters.html">updaters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/loader_8c.html#a7d46879c97ed909d7de06572b6259d15">updaters</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a7d46879c97ed909d7de06572b6259d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module Loader. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Spencer <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ks'+'ter'+'@d'+'igi'+'um'+'.co'+'m'; return false;">marks<span style="display: none;">.nosp@m.</span>ter@<span style="display: none;">.nosp@m.</span>digiu<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a> </dd>
<dd>
Kevin P. Fleming <a href="#" onclick="location.href='mai'+'lto:'+'kpf'+'le'+'min'+'g@'+'dig'+'iu'+'m.c'+'om'; return false;">kpfle<span style="display: none;">.nosp@m.</span>ming<span style="display: none;">.nosp@m.</span>@digi<span style="display: none;">.nosp@m.</span>um.c<span style="display: none;">.nosp@m.</span>om</a> </dd>
<dd>
Luigi Rizzo <a href="#" onclick="location.href='mai'+'lto:'+'riz'+'zo'+'@ic'+'ir'+'.or'+'g'; return false;">rizzo<span style="display: none;">.nosp@m.</span>@ici<span style="display: none;">.nosp@m.</span>r.org</a><ul>
<li>See ModMngMnt </li>
</ul>
</dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab47dd1e5c0575322872962667c2b0c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab47dd1e5c0575322872962667c2b0c0c">&#9670;&nbsp;</a></span>AST_MODULE_LOAD_UNKNOWN_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MODULE_LOAD_UNKNOWN_STRING&#160;&#160;&#160;&quot;Unknown&quot;		/* Status <a class="el" href="../../d5/dba/stringfields_8c.html#a3d4e66c2067ac2d83b7f65a222e5ab54">string</a> for <a class="el" href="../../d6/d62/test__core__codec_8c.html#a9dec7356daac94621e9f62538be37b57">unknown</a> load <a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00351">351</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01514">loadresult2str()</a>.</p>

</div>
</div>
<a id="a233010260f7e61c5dab09e2bca10a590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a233010260f7e61c5dab09e2bca10a590">&#9670;&nbsp;</a></span>RTLD_LOCAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTLD_LOCAL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00124">124</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01070">load_dlopen()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01155">load_dynamic_module()</a>.</p>

</div>
</div>
<a id="a98a6517467cf7d1dd27d6c6dce78a6cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a6517467cf7d1dd27d6c6dce78a6cf">&#9670;&nbsp;</a></span>RTLD_NOW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTLD_NOW&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00120">120</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01155">load_dynamic_module()</a>.</p>

</div>
</div>
<a id="ac8d17d77e95d948463f58f0e3bbd8ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d17d77e95d948463f58f0e3bbd8ff3">&#9670;&nbsp;</a></span>STR_APPEND_TEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STR_APPEND_TEXT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">txt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, 0, <span class="stringliteral">&quot;%s%s&quot;</span>, \</div><div class="line">      <a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(*(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)) &gt; 0 ? <span class="stringliteral">&quot;, &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, \</div><div class="line">      txt)</div><div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
</div><!-- fragment --><p>Used with AST_VECTOR_CALLBACK_VOID to create a comma separated list of module names for error messages. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00144">144</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01040">load_dlopen_missing()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01906">resource_list_recursive_decline()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad93e209757c58beaaf1832031f553878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad93e209757c58beaaf1832031f553878">&#9670;&nbsp;</a></span>__ast_module_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* __ast_module_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">2698</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00498">__ao2_ref()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02714">__ast_module_running_ref()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02724">__ast_module_shutdown_ref()</a>.</p>
<div class="fragment"><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;{</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;   <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;   }</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>) {</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad72d2e83978a52738059465c1fd10928">__ao2_ref</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>, +1, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;   }</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>, +1);</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;   <span class="keywordflow">return</span> mod;</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;}</div><div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad72d2e83978a52738059465c1fd10928"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad72d2e83978a52738059465c1fd10928">__ao2_ref</a></div><div class="ttdeci">int __ao2_ref(void *o, int delta, const char *tag, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00498">astobj2.c:498</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a401eb9f01aa98f085300275ce9f8b1de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a401eb9f01aa98f085300275ce9f8b1de">&#9670;&nbsp;</a></span>__ast_module_running_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* __ast_module_running_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02714">2714</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">__ast_module_ref()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>.</p>
<div class="fragment"><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;{</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;   <span class="keywordflow">if</span> (!mod || !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>) {</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;   }</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a>(mod, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;}</div><div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="loader_8c_html_ad93e209757c58beaaf1832031f553878"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a></div><div class="ttdeci">struct ast_module * __ast_module_ref(struct ast_module *mod, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02698">loader.c:2698</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e706a32aef4126d59d1f4c2b981dc91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e706a32aef4126d59d1f4c2b981dc91">&#9670;&nbsp;</a></span>__ast_module_shutdown_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_module_shutdown_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02724">2724</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">__ast_module_ref()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00324">ast_module::keepuntilshutdown</a>.</p>
<div class="fragment"><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;{</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;   <span class="keywordflow">if</span> (!mod || mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">keepuntilshutdown</a>) {</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;   }</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a>(mod, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">keepuntilshutdown</a> = 1;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__module_html_a84a2c52e4b546ee4761dfce7ddeea601"><div class="ttname"><a href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">ast_module::keepuntilshutdown</a></div><div class="ttdeci">unsigned int keepuntilshutdown</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00324">loader.c:324</a></div></div>
<div class="ttc" id="loader_8c_html_ad93e209757c58beaaf1832031f553878"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad93e209757c58beaaf1832031f553878">__ast_module_ref</a></div><div class="ttdeci">struct ast_module * __ast_module_ref(struct ast_module *mod, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02698">loader.c:2698</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a01ae513b9d81eb9faae2c9cd92fc214a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ae513b9d81eb9faae2c9cd92fc214a">&#9670;&nbsp;</a></span>__ast_module_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_module_unref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02734">2734</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00498">__ao2_ref()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>
<div class="fragment"><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;{</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;   <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;   }</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>) {</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad72d2e83978a52738059465c1fd10928">__ao2_ref</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>, -1, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func);</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;   }</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>, -1);</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;}</div><div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad72d2e83978a52738059465c1fd10928"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad72d2e83978a52738059465c1fd10928">__ao2_ref</a></div><div class="ttdeci">int __ao2_ref(void *o, int delta, const char *tag, const char *file, int line, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00498">astobj2.c:498</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ddd2136c9f1f9e8eeda76f2194901d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddd2136c9f1f9e8eeda76f2194901d3">&#9670;&nbsp;</a></span>__ast_module_user_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a>* __ast_module_user_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">800</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00128">ast_module_user::chan</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00599">ast_func_read()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00642">ast_func_read2()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00692">ast_func_write()</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00471">pbx_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;{</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   u = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*u));</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   <span class="keywordflow">if</span> (!u) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   u-&gt;<a class="code" href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a> = <a class="code" href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>, u, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>) {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>, +1);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>, +1);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="keywordflow">return</span> u;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div><div class="ttc" id="structast__module_html_a036f5d6b841eb6c93b9e24425c1bff72"><div class="ttname"><a href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">ast_module::users</a></div><div class="ttdeci">struct module_user_list users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00302">loader.c:302</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="structast__module__user_html"><div class="ttname"><a href="../../d4/d98/structast__module__user.html">ast_module_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00127">loader.c:127</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__module__user_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">ast_module_user::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00128">loader.c:128</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a14cb9c203d9110487fccf21905b903e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14cb9c203d9110487fccf21905b903e3">&#9670;&nbsp;</a></span>__ast_module_user_hangup_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_module_user_hangup_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00853">853</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01144">AST_SOFTHANGUP_APPUNLOAD</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00128">ast_module_user::chan</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">ast_unload_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;{</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keywordflow">while</span> ((u = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>, <a class="code" href="../../d3/d96/structentry.html">entry</a>))) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="keywordflow">if</span> (u-&gt;<a class="code" href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a>) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(u-&gt;<a class="code" href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867">AST_SOFTHANGUP_APPUNLOAD</a>);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>) {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>, -1);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>, -1);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(u);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div><div class="ttc" id="structast__module_html_a036f5d6b841eb6c93b9e24425c1bff72"><div class="ttname"><a href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">ast_module::users</a></div><div class="ttdeci">struct module_user_list users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00302">loader.c:302</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="structast__module__user_html"><div class="ttname"><a href="../../d4/d98/structast__module__user.html">ast_module_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00127">loader.c:127</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structast__module__user_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d4/d98/structast__module__user.html#a84d1435c5b8d387806714ea7079304b7">ast_module_user::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00128">loader.c:128</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4aeeafae6abd77156800ec76b0ff7d3867">AST_SOFTHANGUP_APPUNLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01144">channel.h:1144</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a14013f16abe2b07476d88bbe088db2c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14013f16abe2b07476d88bbe088db2c3">&#9670;&nbsp;</a></span>__ast_module_user_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_module_user_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *&#160;</td>
          <td class="paramname"><em>u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">826</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00855">AST_LIST_REMOVE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00599">ast_func_read()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00642">ast_func_read2()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00692">ast_func_write()</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00471">pbx_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <span class="keywordflow">if</span> (!u) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   }</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   u = <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>, u, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <span class="keywordflow">if</span> (!u) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">       * Was not in the list.  Either a bad pointer or</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">       * __ast_module_user_hangup_all() has been called.</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>, -1);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>, -1);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(u);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;}</div><div class="ttc" id="structast__module_html_a036f5d6b841eb6c93b9e24425c1bff72"><div class="ttname"><a href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">ast_module::users</a></div><div class="ttdeci">struct module_user_list users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00302">loader.c:302</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa36e72b77f1b80881cd0a9fcca66ce19"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a></div><div class="ttdeci">#define AST_LIST_REMOVE(head, elm, field)</div><div class="ttdoc">Removes a specific entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00855">linkedlists.h:855</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aec5280a9b7c28a628f4e8704faa357a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec5280a9b7c28a628f4e8704faa357a7">&#9670;&nbsp;</a></span>add_to_load_order()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../db/d78/structload__order__entry.html">load_order_entry</a>* add_to_load_order </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d56/structload__order.html">load_order</a> *&#160;</td>
          <td class="paramname"><em>load_order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>required</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>preload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>builtin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01842">1842</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01836">load_order_entry::builtin</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/d79/analys_8c_source.html#l00066">order</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01835">load_order_entry::preload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01834">load_order_entry::required</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01833">load_order_entry::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00917">resource_name_baselen()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00928">resource_name_match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02179">loader_builtin_init()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02214">loader_config_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;{</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d78/structload__order__entry.html">load_order_entry</a> *<a class="code" href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a>;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;   <span class="keywordtype">size_t</span> resource_baselen = <a class="code" href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a>(<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>);</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(load_order, order, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a>(<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>, resource_baselen, order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>)) {</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;         <span class="comment">/* Make sure we have the proper setting for the required field</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="comment">            (we might have both load= and required= lines in modules.conf) */</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;         order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">required</a> |= <a class="code" href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">required</a>;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;         order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">preload</a> |= <a class="code" href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">preload</a>;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a>;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      }</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;   }</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;   order = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*order));</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;   <span class="keywordflow">if</span> (!order) {</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;   }</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;   order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>);</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;   <span class="keywordflow">if</span> (!order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>) {</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(order);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   }</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;   order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">required</a> = <a class="code" href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">required</a>;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;   order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">preload</a> = <a class="code" href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">preload</a>;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;   order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#a829c1e34f68e38e6ee97cf44ed4d8315">builtin</a> = <a class="code" href="../../db/d78/structload__order__entry.html#a829c1e34f68e38e6ee97cf44ed4d8315">builtin</a>;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(load_order, order, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a>;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;}</div><div class="ttc" id="structload__order__entry_html"><div class="ttname"><a href="../../db/d78/structload__order__entry.html">load_order_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01832">loader.c:1832</a></div></div>
<div class="ttc" id="loader_8c_html_a5f72e7e80873f05719c41b557a395143"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a></div><div class="ttdeci">static int resource_name_match(const char *name1, size_t baselen1, const char *name2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00928">loader.c:928</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structload__order__entry_html_a84a316f22589622c8e3143d54ab52db7"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">load_order_entry::required</a></div><div class="ttdeci">int required</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01834">loader.c:1834</a></div></div>
<div class="ttc" id="structload__order__entry_html_add9403c2dd81e949c8c4aa872eabdcc7"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">load_order_entry::resource</a></div><div class="ttdeci">char * resource</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01833">loader.c:1833</a></div></div>
<div class="ttc" id="analys_8c_html_aed7ca058008dc3e5ee131e575abed285"><div class="ttname"><a href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a></div><div class="ttdeci">integer order</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d79/analys_8c_source.html#l00066">analys.c:66</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="structload__order__entry_html_a829c1e34f68e38e6ee97cf44ed4d8315"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#a829c1e34f68e38e6ee97cf44ed4d8315">load_order_entry::builtin</a></div><div class="ttdeci">int builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01836">loader.c:1836</a></div></div>
<div class="ttc" id="structload__order__entry_html_aa7442ff7d688c7deb31ca8e2842343f8"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">load_order_entry::preload</a></div><div class="ttdeci">int preload</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01835">loader.c:1835</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="loader_8c_html_ad50dd3101474993b227de3e651457f15"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a></div><div class="ttdeci">static size_t resource_name_baselen(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00917">loader.c:917</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af368dd8f1ddb78f8aecdae735f007081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af368dd8f1ddb78f8aecdae735f007081">&#9670;&nbsp;</a></span>alpha_module_list_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int alpha_module_list_create </td>
          <td>(</td>
          <td class="paramtype">struct module_vector *&#160;</td>
          <td class="paramname"><em>alpha_module_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02550">2550</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00371">AST_VECTOR_ADD_SORTED</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00366">module_vector_strcasecmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02567">ast_update_module_list()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02622">ast_update_module_list_condition()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02594">ast_update_module_list_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;{</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur;</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(alpha_module_list, 32)) {</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;   }</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a8418853c95c2093a85174233f0ef4827">AST_VECTOR_ADD_SORTED</a>(alpha_module_list, cur, <a class="code" href="../../d3/d96/loader_8c.html#afdb041ec2a672fa036781d7c2cdc7ff6">module_vector_strcasecmp</a>)) {</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      }</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;   }</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;}</div><div class="ttc" id="vector_8h_html_a8418853c95c2093a85174233f0ef4827"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a8418853c95c2093a85174233f0ef4827">AST_VECTOR_ADD_SORTED</a></div><div class="ttdeci">#define AST_VECTOR_ADD_SORTED(vec, elem, cmp)</div><div class="ttdoc">Add an element into a sorted vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00371">vector.h:371</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="loader_8c_html_afdb041ec2a672fa036781d7c2cdc7ff6"><div class="ttname"><a href="../../d3/d96/loader_8c.html#afdb041ec2a672fa036781d7c2cdc7ff6">module_vector_strcasecmp</a></div><div class="ttdeci">static int module_vector_strcasecmp(struct ast_module *a, struct ast_module *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00366">loader.c:366</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a960ce8e91726dae1a50d3f99ecfa67dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a960ce8e91726dae1a50d3f99ecfa67dd">&#9670;&nbsp;</a></span>ast_load_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_load_resource </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource_name</td><td>The name of the module to load.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is run by the PBX to load the modules. It performs all loading and initialization tasks. Basically, to load a module, just give it the name of the module and it will do the rest.</p>
<dl class="section return"><dt>Returns</dt><dd>See possible enum values for ast_module_load_result. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01819">1819</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00196">ast_test_suite_event_notify</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00519">ast_ari_asterisk_load_module()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00240">handle_load()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l06505">manager_moduleload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;{</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;   res = <a class="code" href="../../d3/d96/loader_8c.html#ab143f0b545c2fe83ebacf96cf896246a">load_resource</a>(resource_name, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0);</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a>(<span class="stringliteral">&quot;MODULE_LOAD&quot;</span>, <span class="stringliteral">&quot;Message: %s&quot;</span>, resource_name);</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;   }</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;}</div><div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="test_8h_html_a9482d93ea3931853331bdbc745ce7cb4"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a></div><div class="ttdeci">#define ast_test_suite_event_notify(s, f,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00196">test.h:196</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="loader_8c_html_ab143f0b545c2fe83ebacf96cf896246a"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab143f0b545c2fe83ebacf96cf896246a">load_resource</a></div><div class="ttdeci">static enum ast_module_load_result load_resource(const char *resource_name, unsigned int suppress_logging, struct module_vector *module_priorities, int required, int preload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01763">loader.c:1763</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac7c864654599264f4ec7cb3480126fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7c864654599264f4ec7cb3480126fb">&#9670;&nbsp;</a></span>ast_loader_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_loader_register </td>
          <td>(</td>
          <td class="paramtype">int(*)(void)&#160;</td>
          <td class="paramname"><em>updater</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a procedure to be run when modules have been updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updater</td><td>The function to run when modules have been updated.</td></tr>
  </table>
  </dd>
</dl>
<p>This function adds the given function to a linked list of functions to be run when the modules are updated.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02666">2666</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00625">loadupdate::updater</a>.</p>
<div class="fragment"><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;{</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d70/structloadupdate.html">loadupdate</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;   <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*tmp))))</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;   tmp-&gt;<a class="code" href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">updater</a> = v;</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>, tmp, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structloadupdate_html_a905a3e31a1324bfa4f518a370018baab"><div class="ttname"><a href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">loadupdate::updater</a></div><div class="ttdeci">int(* updater)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00625">loader.c:625</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structupdaters_html"><div class="ttname"><a href="../../d9/daf/structupdaters.html">updaters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00629">loader.c:629</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="structloadupdate_html"><div class="ttname"><a href="../../d9/d70/structloadupdate.html">loadupdate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00624">loader.c:624</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8484cb41db21a164962080607b260c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8484cb41db21a164962080607b260c6">&#9670;&nbsp;</a></span>ast_loader_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_loader_unregister </td>
          <td>(</td>
          <td class="paramtype">int(*)(void)&#160;</td>
          <td class="paramname"><em>updater</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a procedure to be run when modules are updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updater</td><td>The updater function to unregister.</td></tr>
  </table>
  </dd>
</dl>
<p>This removes the given function from the updater list.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02681">2681</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00625">loadupdate::updater</a>.</p>
<div class="fragment"><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;{</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d70/structloadupdate.html">loadupdate</a> *cur;</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">updater</a> == v)  {</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      }</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;   }</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;   <span class="keywordflow">return</span> cur ? 0 : -1;</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structloadupdate_html_a905a3e31a1324bfa4f518a370018baab"><div class="ttname"><a href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">loadupdate::updater</a></div><div class="ttdeci">int(* updater)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00625">loader.c:625</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structupdaters_html"><div class="ttname"><a href="../../d9/daf/structupdaters.html">updaters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00629">loader.c:629</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="structloadupdate_html"><div class="ttname"><a href="../../d9/d70/structloadupdate.html">loadupdate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00624">loader.c:624</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15f7e2f25f4d0c60de6cca164232a6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f7e2f25f4d0c60de6cca164232a6d4">&#9670;&nbsp;</a></span>ast_module_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_module_check </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if module exists. </p>
<p>Check if module with the name given is loaded. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02653">2653</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00484">ast_ari_asterisk_get_module()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00519">ast_ari_asterisk_load_module()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00584">ast_ari_asterisk_reload_module()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00556">ast_ari_asterisk_unload_module()</a>, <a class="el" href="../../d9/dbe/test__utils_8c_source.html#l00331">AST_TEST_DEFINE()</a>, <a class="el" href="../../d1/d52/func__module_8c_source.html#l00052">ifmodule_read()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l06470">manager_modulecheck()</a>.</p>
<div class="fragment"><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;{</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur;</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>))</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">return</span> 0;       <span class="comment">/* FALSE */</span></div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;   cur = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, 1);</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;   <span class="keywordflow">return</span> (cur != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;}</div><div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e9c668b5d436bc9c7c1076a008b9ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9c668b5d436bc9c7c1076a008b9ed1">&#9670;&nbsp;</a></span>ast_module_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_module_helper </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68">ast_module_helper_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Match modules names for the Asterisk cli. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>Unused by this function, but this should be the line we are matching. </td></tr>
    <tr><td class="paramname">word</td><td>The partial name to match. </td></tr>
    <tr><td class="paramname">pos</td><td>The position the word we are completing is in. </td></tr>
    <tr><td class="paramname">state</td><td>The possible match to return. </td></tr>
    <tr><td class="paramname">rpos</td><td>The position we should be matching. This should be the same as pos. </td></tr>
    <tr><td class="paramname">type</td><td>The type of action that will be performed by CLI.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>possible completion of the partial match. </td></tr>
    <tr><td class="paramname">NULL</td><td>if no matches were found. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01374">1374</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00133">AST_MODULE_HELPER_LOAD</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01361">module_load_helper()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01299">module_matches_helper_type()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00572">handle_debug()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00240">handle_load()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00971">handle_modlist()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00268">handle_reload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00630">handle_trace()</a>, and <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00808">handle_unload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;{</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   <span class="keywordtype">int</span> wordlen = strlen(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;   <span class="keywordflow">if</span> (pos != rpos) {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;   }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> == <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4">AST_MODULE_HELPER_LOAD</a>) {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#af868e7e5e85f6170fac291fc9aff9167">module_load_helper</a>(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#ade039f491385a8ed2ea9668493b03eb9">module_matches_helper_type</a>(mod, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>)) {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, wordlen) &amp;&amp; ++which &gt; <a class="code" href="../../d4/d88/structstate.html">state</a>) {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;         ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   }</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68ad80c7e6093e034efcef04c16e909bae4">AST_MODULE_HELPER_LOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00133">module.h:133</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="loader_8c_html_ade039f491385a8ed2ea9668493b03eb9"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ade039f491385a8ed2ea9668493b03eb9">module_matches_helper_type</a></div><div class="ttdeci">static int module_matches_helper_type(struct ast_module *mod, enum ast_module_helper_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01299">loader.c:1299</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="loader_8c_html_af868e7e5e85f6170fac291fc9aff9167"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af868e7e5e85f6170fac291fc9aff9167">module_load_helper</a></div><div class="ttdeci">static void module_load_helper(const char *word)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01361">loader.c:1361</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a10842e2d5bac25543eabaccde49f7aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10842e2d5bac25543eabaccde49f7aad">&#9670;&nbsp;</a></span>ast_module_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_module_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of a module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>A pointer to the module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the name of the module </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if mod or mod-&gt;info is NULL </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00615">615</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00328">acf_retrieve_docs()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00103">ast_register_application2()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01906">resource_list_recursive_decline()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">unload_dynamic_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;{</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   <span class="keywordflow">if</span> (!mod || !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   <span class="keywordflow">return</span> mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__module__info_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">ast_module_info::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00350">module.h:350</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e7cd0c758d1be01319bdb127080061a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e7cd0c758d1be01319bdb127080061a">&#9670;&nbsp;</a></span>ast_module_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_module_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00659">659</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00404">ao2_t_alloc_options</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l01088">AST_DLLIST_INSERT_TAIL</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00625">AST_LIST_HEAD_INIT</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00135">ast_opt_ref_debug</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01756">ast_std_calloc()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00326">ast_module::builtin</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00364">builtin_module_list</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00309">ast_module::enhances</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00150">loader_ready</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00307">ast_module::optional_modules</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00317">ast_module::reffed_deps</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00305">ast_module::requires</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00650">resource_being_loaded</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00342">ast_module_info::self</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00157">get_name_from_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02179">loader_builtin_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#a63792b1ca1cd1436e3667028f8f0285f">loader_ready</a>) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      mod = <a class="code" href="../../d8/d8a/astmm_8h.html#aaa6644de621bccffd4b6d77d4606fa6e">ast_std_calloc</a>(1, <span class="keyword">sizeof</span>(*mod) + strlen(info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) + 1);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;         <span class="comment">/* We haven&#39;t even reached main() yet, if we can&#39;t</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">          * allocate memory at this point just give up. */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Allocation failure during startup.\n&quot;</span>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;         exit(2);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      strcpy(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>); <span class="comment">/* safe */</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">builtin</a> = 1;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#abaf7e78379c2699dc30ff2845ec9b28b">AST_DLLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#ab7fa704cd26e5ef5affa89a62e9fffd1">builtin_module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">/* ast_module_register for built-in modules is run again during module preload. */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">    * This lock protects resource_being_loaded as well as the module</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">    * list.  Normally we already have a lock on module_list when we</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">    * begin the load but locking again from here prevents corruption</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">    * if an asterisk module is dlopen&#39;ed from outside the module loader.</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   mod = <a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Registering module %s\n&quot;</span>, info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="comment">/* This tells load_dynamic_module that we&#39;re registered. */</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a> = <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a1c0008b2469ea80be83559cb31c54050">ast_opt_ref_debug</a>) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#a7d8e253a1db2dc47ed4af636c3ea89ce">ao2_t_alloc_options</a>(0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">requires</a>, 0);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">optional_modules</a>, 0);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">enhances</a>, 0);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">reffed_deps</a>, 0);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#abaf7e78379c2699dc30ff2845ec9b28b">AST_DLLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="comment">/* give the module a copy of its own handle, for later use in registrations and the like */</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   *((<span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> **) &amp;(info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">self</a>)) = mod;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="preprocessor">#if defined(HAVE_PERMANENT_DLOPEN)</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">builtin</a> != 1) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keyword">struct </span>info_list_obj *obj_tmp = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(info_list, info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">if</span> (!obj_tmp) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;         obj_tmp = info_list_obj_alloc(info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, info);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         <span class="keywordflow">if</span> (obj_tmp) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(info_list, obj_tmp);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj_tmp, -1);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(obj_tmp, -1);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div><div class="ttc" id="loader_8c_html_a63792b1ca1cd1436e3667028f8f0285f"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a63792b1ca1cd1436e3667028f8f0285f">loader_ready</a></div><div class="ttdeci">static unsigned int loader_ready</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00150">loader.c:150</a></div></div>
<div class="ttc" id="structast__module_html_a036f5d6b841eb6c93b9e24425c1bff72"><div class="ttname"><a href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">ast_module::users</a></div><div class="ttdeci">struct module_user_list users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00302">loader.c:302</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="loader_8c_html_ab7fa704cd26e5ef5affa89a62e9fffd1"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab7fa704cd26e5ef5affa89a62e9fffd1">builtin_module_list</a></div><div class="ttdeci">static struct module_list builtin_module_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00364">loader.c:364</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7d8e253a1db2dc47ed4af636c3ea89ce"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7d8e253a1db2dc47ed4af636c3ea89ce">ao2_t_alloc_options</a></div><div class="ttdeci">#define ao2_t_alloc_options(data_size, destructor_fn, options, debug_msg)</div><div class="ttdoc">Allocate and initialize an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00404">astobj2.h:404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_abaf7e78379c2699dc30ff2845ec9b28b"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#abaf7e78379c2699dc30ff2845ec9b28b">AST_DLLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_DLLIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l01088">dlinkedlists.h:1088</a></div></div>
<div class="ttc" id="structast__module_html_aff7b1c595dc1dd848cec8bd49e65ba5e"><div class="ttname"><a href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">ast_module::enhances</a></div><div class="ttdeci">struct ast_vector_string enhances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00309">loader.c:309</a></div></div>
<div class="ttc" id="structast__module__info_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">ast_module_info::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00350">module.h:350</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structast__module__info_html_a1aff0615d43e1dfa5c72c1c7d1c6d709"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a1aff0615d43e1dfa5c72c1c7d1c6d709">ast_module_info::self</a></div><div class="ttdeci">struct ast_module * self</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00342">module.h:342</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__module_html_a543acd2e8bdfacdbd5be239958e40614"><div class="ttname"><a href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">ast_module::optional_modules</a></div><div class="ttdeci">struct ast_vector_string optional_modules</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00307">loader.c:307</a></div></div>
<div class="ttc" id="structast__module_html_a48f30df52d1f0c51cc8f7c20b11eec44"><div class="ttname"><a href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">ast_module::requires</a></div><div class="ttdeci">struct ast_vector_string requires</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00305">loader.c:305</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6f42d3bf45cc9af6f794d9d1cf8c45ca"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6f42d3bf45cc9af6f794d9d1cf8c45ca">AST_LIST_HEAD_INIT</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00625">linkedlists.h:625</a></div></div>
<div class="ttc" id="loader_8c_html_afed3ca5c75a63241f94a6601b11148bf"><div class="ttname"><a href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a></div><div class="ttdeci">static struct ast_module *volatile resource_being_loaded</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00650">loader.c:650</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astmm_8h_html_aaa6644de621bccffd4b6d77d4606fa6e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aaa6644de621bccffd4b6d77d4606fa6e">ast_std_calloc</a></div><div class="ttdeci">void * ast_std_calloc(size_t nmemb, size_t size) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01756">astmm.c:1756</a></div></div>
<div class="ttc" id="structast__module_html_a835ea305371281793bcda066dec1d1fb"><div class="ttname"><a href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">ast_module::builtin</a></div><div class="ttdeci">unsigned int builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00326">loader.c:326</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="structast__module_html_a62aae0135470cb1390b8429638b02332"><div class="ttname"><a href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">ast_module::reffed_deps</a></div><div class="ttdeci">struct module_vector reffed_deps</div><div class="ttdoc">Vector holding pointers to modules we have a reference to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00317">loader.c:317</a></div></div>
<div class="ttc" id="options_8h_html_a1c0008b2469ea80be83559cb31c54050"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a1c0008b2469ea80be83559cb31c54050">ast_opt_ref_debug</a></div><div class="ttdeci">#define ast_opt_ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00135">options.h:135</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9e3b4ae730e43312e00fcbc1707588b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9e3b4ae730e43312e00fcbc1707588b">&#9670;&nbsp;</a></span>ast_module_reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a> ast_module_reload </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reload asterisk modules. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the module to reload</td></tr>
  </table>
  </dd>
</dl>
<p>This function reloads the specified module, or if no modules are specified, it will reload all loaded modules.</p>
<dl class="section note"><dt>Note</dt><dd>Modules are reloaded using their <a class="el" href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload()</a> functions, not unloading them and loading them again.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td><a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a> status of the module load request </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">1562</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00151">ast_config_AST_CONFIG_DIR</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l00337">ast_lastreloadtime</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02457">ast_lock_path()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01165">AST_LOCK_SUCCESS</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01166">AST_LOCK_TIMEOUT</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00279">AST_LOG_WARNING</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00113">AST_MODULE_RELOAD_ERROR</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00114">AST_MODULE_RELOAD_IN_PROGRESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00112">AST_MODULE_RELOAD_NOT_FOUND</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00116">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00111">AST_MODULE_RELOAD_QUEUED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00110">AST_MODULE_RELOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00115">AST_MODULE_RELOAD_UNINITIALIZED</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00189">ast_mutex_trylock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00133">ast_opt_lock_confdir</a>, <a class="el" href="../../df/d0a/io_8c_source.html#l00392">ast_sd_notify()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02473">ast_unlock_path()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01554">publish_reload_message()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01432">queue_reload_request()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00346">ast_module_info::reload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00631">reloadlock</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00917">resource_name_baselen()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00928">resource_name_match()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l06358">action_reload()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04102">action_updateconfig()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00584">ast_ari_asterisk_reload_module()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01407">ast_process_pending_reloads()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l02076">handle_cli_moh_reload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00319">handle_core_reload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00268">handle_reload()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06505">manager_moduleload()</a>, and <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03370">monitor_sig_flags()</a>.</p>
<div class="fragment"><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;{</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a> res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;   <span class="keywordtype">size_t</span> name_baselen = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> ? <a class="code" href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) : 0;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;   <span class="comment">/* If we aren&#39;t fully booted, we just pretend we reloaded but we queue this</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">      up to run once we are booted up. */</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#a34b61c392d5cfb81ebdf50ca4880b4aa">modules_loaded</a>) {</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abc4572014dbb249f18af82933dc40050">queue_reload_request</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf">AST_MODULE_RELOAD_QUEUED</a>;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <span class="keywordflow">goto</span> module_reload_exit;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d42/lock_8h.html#a987fc536e8b6a1044689eca873610792">ast_mutex_trylock</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a>)) {</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;The previous reload command didn&#39;t finish yet\n&quot;</span>);</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade">AST_MODULE_RELOAD_IN_PROGRESS</a>;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">goto</span> module_reload_exit;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;   }</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <a class="code" href="../../dc/dac/io_8h.html#ac0cde8a3fde83180d994ad3c95f8bf49">ast_sd_notify</a>(<span class="stringliteral">&quot;RELOAD=1&quot;</span>);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   <a class="code" href="../../d7/d5b/options_8h.html#a7cdafc5a121e87659887ffc9abe36760">ast_lastreloadtime</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a18ff36366d39024dbfc8b9262b08452a">ast_opt_lock_confdir</a>) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <span class="keywordtype">int</span> <span class="keywordflow">try</span>;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <span class="keywordtype">int</span> lockres;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordflow">try</span> = 1, lockres = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d">AST_LOCK_TIMEOUT</a>; <span class="keywordflow">try</span> &lt; 6 &amp;&amp; (lockres == <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d">AST_LOCK_TIMEOUT</a>); <span class="keywordflow">try</span>++) {</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;         lockres = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a74c57b5a842dcbc15cc991a31f679a13">ast_lock_path</a>(<a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>);</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;         <span class="keywordflow">if</span> (lockres == <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d">AST_LOCK_TIMEOUT</a>) {</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to grab lock on %s, try %d\n&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>, <span class="keywordflow">try</span>);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;         }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      }</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="keywordflow">if</span> (lockres != <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca37bdbc92223520af2a24d5bfd6f561bb">AST_LOCK_SUCCESS</a>) {</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot grab lock on %s\n&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;         res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a>;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;         <span class="keywordflow">goto</span> module_reload_done;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   }</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a> = cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> &amp;&amp; <a class="code" href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, name_baselen, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>)) {</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      }</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      <span class="keywordflow">if</span> (!cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> || cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>) {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;         <span class="keywordflow">if</span> (res == <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be">AST_MODULE_RELOAD_UNINITIALIZED</a>;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;         }</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;         }</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      }</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      <span class="keywordflow">if</span> (!info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ab90db509cfd1055638970ca6cfaef729">reload</a>) { <span class="comment">/* cannot be reloaded */</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;         <span class="keywordflow">if</span> (res == <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>) {</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a>;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;         }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;         }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Reloading module &#39;%s&#39; (%s)\n&quot;</span>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">if</span> (info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ab90db509cfd1055638970ca6cfaef729">reload</a>() == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>) {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;         res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed">AST_MODULE_RELOAD_SUCCESS</a>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a>) {</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;         res = <a class="code" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      }</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) {</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      }</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   }</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a18ff36366d39024dbfc8b9262b08452a">ast_opt_lock_confdir</a>) {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a>(<a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>);</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;   }</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;module_reload_done:</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a>);</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;   <a class="code" href="../../dc/dac/io_8h.html#ac0cde8a3fde83180d994ad3c95f8bf49">ast_sd_notify</a>(<span class="stringliteral">&quot;READY=1&quot;</span>);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;module_reload_exit:</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#acc7346b80a2ffb5aebaac61ef60e0763">publish_reload_message</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, res);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ad06be99930a02b142bf370e2627849be">AST_MODULE_RELOAD_UNINITIALIZED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00115">module.h:115</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a382bf96f47f0b7fa86ae5ed0644b3f8ca37bdbc92223520af2a24d5bfd6f561bb"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca37bdbc92223520af2a24d5bfd6f561bb">AST_LOCK_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01165">include/asterisk/app.h:1165</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7ac0be7032578c68902708da91e5e7d71a">AST_MODULE_RELOAD_NOT_FOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00112">module.h:112</a></div></div>
<div class="ttc" id="structast__module__info_html"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html">ast_module_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00336">module.h:336</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a></div><div class="ttdeci">ast_module_reload_result</div><div class="ttdoc">Possible return types for ast_module_reload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00109">module.h:109</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_acc7346b80a2ffb5aebaac61ef60e0763"><div class="ttname"><a href="../../d3/d96/loader_8c.html#acc7346b80a2ffb5aebaac61ef60e0763">publish_reload_message</a></div><div class="ttdeci">static void publish_reload_message(const char *name, enum ast_module_reload_result result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01554">loader.c:1554</a></div></div>
<div class="ttc" id="logger_8h_html_a2878d83e36d91850732bad997524e45e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a></div><div class="ttdeci">#define AST_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00279">logger.h:279</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a382bf96f47f0b7fa86ae5ed0644b3f8ca9c0f41302de02bb0130a92669d17333d">AST_LOCK_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01166">include/asterisk/app.h:1166</a></div></div>
<div class="ttc" id="loader_8c_html_a5f72e7e80873f05719c41b557a395143"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a></div><div class="ttdeci">static int resource_name_match(const char *name1, size_t baselen1, const char *name2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00928">loader.c:928</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af6428878db94a4adf8136850e6a654f5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af6428878db94a4adf8136850e6a654f5">ast_unlock_path</a></div><div class="ttdeci">int ast_unlock_path(const char *path)</div><div class="ttdoc">Unlock a path. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02473">main/app.c:2473</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a74c57b5a842dcbc15cc991a31f679a13"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a74c57b5a842dcbc15cc991a31f679a13">ast_lock_path</a></div><div class="ttdeci">enum AST_LOCK_RESULT ast_lock_path(const char *path)</div><div class="ttdoc">Lock a filesystem path. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02457">main/app.c:2457</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="lock_8h_html_a987fc536e8b6a1044689eca873610792"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a987fc536e8b6a1044689eca873610792">ast_mutex_trylock</a></div><div class="ttdeci">#define ast_mutex_trylock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00189">lock.h:189</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="io_8h_html_ac0cde8a3fde83180d994ad3c95f8bf49"><div class="ttname"><a href="../../dc/dac/io_8h.html#ac0cde8a3fde83180d994ad3c95f8bf49">ast_sd_notify</a></div><div class="ttdeci">int ast_sd_notify(const char *state)</div><div class="ttdoc">a wrapper for sd_notify(): notify systemd of any state changes. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0a/io_8c_source.html#l00392">io.c:392</a></div></div>
<div class="ttc" id="loader_8c_html_a34b61c392d5cfb81ebdf50ca4880b4aa"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a34b61c392d5cfb81ebdf50ca4880b4aa">modules_loaded</a></div><div class="ttdeci">static int modules_loaded</div><div class="ttdoc">Internal flag to indicate all modules have been initially loaded. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00291">loader.c:291</a></div></div>
<div class="ttc" id="options_8h_html_a7cdafc5a121e87659887ffc9abe36760"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a7cdafc5a121e87659887ffc9abe36760">ast_lastreloadtime</a></div><div class="ttdeci">struct timeval ast_lastreloadtime</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00337">asterisk.c:337</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="structast__module__info_html_ab90db509cfd1055638970ca6cfaef729"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#ab90db509cfd1055638970ca6cfaef729">ast_module_info::reload</a></div><div class="ttdeci">int(* reload)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00346">module.h:346</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a3c7e5ccf0a567b17833b1e60ba387abf">AST_MODULE_RELOAD_QUEUED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00111">module.h:111</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a9696155a2eb5969139965fbc5b8a66ed">AST_MODULE_RELOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00110">module.h:110</a></div></div>
<div class="ttc" id="paths_8h_html_a7d3836e5581e433c9f5edd30300cc187"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_CONFIG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00151">options.c:151</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7a2a1ae659f41755f987f33586cb43fade">AST_MODULE_RELOAD_IN_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00114">module.h:114</a></div></div>
<div class="ttc" id="loader_8c_html_ad50dd3101474993b227de3e651457f15"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a></div><div class="ttdeci">static size_t resource_name_baselen(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00917">loader.c:917</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aa719b0c0d0c58b358deaf9933a8dd3f6">AST_MODULE_RELOAD_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00113">module.h:113</a></div></div>
<div class="ttc" id="loader_8c_html_abc4572014dbb249f18af82933dc40050"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abc4572014dbb249f18af82933dc40050">queue_reload_request</a></div><div class="ttdeci">static void queue_reload_request(const char *module)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01432">loader.c:1432</a></div></div>
<div class="ttc" id="loader_8c_html_a39a4ab22c3e08054d2efe759d8610f12"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a></div><div class="ttdeci">static ast_mutex_t reloadlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00631">loader.c:631</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="module_8h_html_ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7aae470b102da613cbd14c611b36e75b11">AST_MODULE_RELOAD_NOT_IMPLEMENTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00116">module.h:116</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="options_8h_html_a18ff36366d39024dbfc8b9262b08452a"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a18ff36366d39024dbfc8b9262b08452a">ast_opt_lock_confdir</a></div><div class="ttdeci">#define ast_opt_lock_confdir</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00133">options.h:133</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42f4b88764cb218434ad6fb580d93808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42f4b88764cb218434ad6fb580d93808">&#9670;&nbsp;</a></span>ast_module_support_level_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_module_support_level_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a>&#160;</td>
          <td class="paramname"><em>support_level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02755">2755</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00459">identify_module()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00863">modlist_modentry()</a>, and <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00410">process_module_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;{</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d96/loader_8c.html#a39bcd1b774605144f6954d7ca4811ec5">support_level_map</a>[<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a>];</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;}</div><div class="ttc" id="loader_8c_html_a39bcd1b774605144f6954d7ca4811ec5"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a39bcd1b774605144f6954d7ca4811ec5">support_level_map</a></div><div class="ttdeci">const char * support_level_map[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02748">loader.c:2748</a></div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31d09c4c58b1eed5424e24cd2eea7b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31d09c4c58b1eed5424e24cd2eea7b43">&#9670;&nbsp;</a></span>ast_module_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_module_unregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00768">768</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00752">AST_DLLIST_REMOVE_CURRENT</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00887">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00920">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00744">module_destroy()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00157">get_name_from_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <span class="comment">/* it is assumed that the users list in the module structure</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">      will already be empty, or we cannot have gotten to this</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">      point</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a05e53f1c09d4e45309496ce2776d9fe4">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a> == info) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;         <a class="code" href="../../d0/d43/dlinkedlists_8h.html#ab06b2888f6ac58baf6005ed8fd0245c6">AST_DLLIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#afb668b38499833530e0741be25becd39">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   <span class="keywordflow">if</span> (mod &amp;&amp; !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">       * We are intentionally leaking mod if usecount is not zero.</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">       * This is necessary if the module is being forcefully unloaded.</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">       * In addition module_destroy is not safe to run after exit()</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">       * is called.  ast_module_unregister is run during cleanup of</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">       * the process when libc releases each module&#39;s shared object</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">       * library.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Unregistering module %s\n&quot;</span>, info-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a95d38865fb6c00613b03a3e130c907bb">module_destroy</a>(mod);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div><div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_a95d38865fb6c00613b03a3e130c907bb"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a95d38865fb6c00613b03a3e130c907bb">module_destroy</a></div><div class="ttdeci">static void module_destroy(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00744">loader.c:744</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a05e53f1c09d4e45309496ce2776d9fe4"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a05e53f1c09d4e45309496ce2776d9fe4">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00887">dlinkedlists.h:887</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_ab06b2888f6ac58baf6005ed8fd0245c6"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#ab06b2888f6ac58baf6005ed8fd0245c6">AST_DLLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_DLLIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00752">dlinkedlists.h:752</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__module__info_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">ast_module_info::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00350">module.h:350</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_afb668b38499833530e0741be25becd39"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#afb668b38499833530e0741be25becd39">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00920">dlinkedlists.h:920</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a07bf5448c6189024cbc925a3e8ecb5e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07bf5448c6189024cbc925a3e8ecb5e0">&#9670;&nbsp;</a></span>ast_process_pending_reloads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_process_pending_reloads </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process reload requests received during startup. </p>
<p>This function requests that the loader execute the pending reload requests that were queued during server startup.</p>
<dl class="section note"><dt>Note</dt><dd>This function will do nothing if the server has not completely started up. Once called, the reload queue is emptied, and further invocations will have no affect. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01407">1407</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">ast_module_reload()</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01463">item</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00635">reload_queue_item::module</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03947">asterisk_daemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;{</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d39/structreload__queue__item.html">reload_queue_item</a> *<a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a34b61c392d5cfb81ebdf50ca4880b4aa">modules_loaded</a> = 1;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a7c997a1dd7a91d37adb9845a44e56535">do_full_reload</a>) {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a7c997a1dd7a91d37adb9845a44e56535">do_full_reload</a> = 0;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Executing deferred reload request.\n&quot;</span>);</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#af9e3b4ae730e43312e00fcbc1707588b">ast_module_reload</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   }</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;   <span class="keywordflow">while</span> ((item = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>, <a class="code" href="../../d3/d96/structentry.html">entry</a>))) {</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Executing deferred reload request for module &#39;%s&#39;.\n&quot;</span>, item-&gt;<a class="code" href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">module</a>);</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#af9e3b4ae730e43312e00fcbc1707588b">ast_module_reload</a>(item-&gt;<a class="code" href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">module</a>);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(item);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   }</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>);</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structreload__queue_html"><div class="ttname"><a href="../../d8/d6c/structreload__queue.html">reload_queue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00640">loader.c:640</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="loader_8c_html_af9e3b4ae730e43312e00fcbc1707588b"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af9e3b4ae730e43312e00fcbc1707588b">ast_module_reload</a></div><div class="ttdeci">enum ast_module_reload_result ast_module_reload(const char *name)</div><div class="ttdoc">Reload asterisk modules. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01562">loader.c:1562</a></div></div>
<div class="ttc" id="test__config_8c_html_aecdc7cbd5dfa76493c0212caa55d706c"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a></div><div class="ttdeci">static struct aco_type item</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l01463">test_config.c:1463</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structreload__queue__item_html"><div class="ttname"><a href="../../d7/d39/structreload__queue__item.html">reload_queue_item</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00633">loader.c:633</a></div></div>
<div class="ttc" id="structreload__queue__item_html_af63def77ab06c90fe93bcdf2157b2a90"><div class="ttname"><a href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">reload_queue_item::module</a></div><div class="ttdeci">char module[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00635">loader.c:635</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="loader_8c_html_a34b61c392d5cfb81ebdf50ca4880b4aa"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a34b61c392d5cfb81ebdf50ca4880b4aa">modules_loaded</a></div><div class="ttdeci">static int modules_loaded</div><div class="ttdoc">Internal flag to indicate all modules have been initially loaded. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00291">loader.c:291</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="loader_8c_html_a7c997a1dd7a91d37adb9845a44e56535"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a7c997a1dd7a91d37adb9845a44e56535">do_full_reload</a></div><div class="ttdeci">static int do_full_reload</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00638">loader.c:638</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace211f75a31cd7b835c85daa3c232f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace211f75a31cd7b835c85daa3c232f9f">&#9670;&nbsp;</a></span>ast_unload_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_unload_resource </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum&#160;</td>
          <td class="paramname"><em>ast_module_unload_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unload a module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource_name</td><td>The name of the module to unload. </td></tr>
    <tr><td class="paramname">ast_module_unload_mode</td><td>The force flag. This should be set using one of the AST_FORCE flags.</td></tr>
  </table>
  </dd>
</dl>
<p>This function unloads a module. It will only unload modules that are not in use (usecount not zero), unless <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a> or <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9">AST_FORCE_HARD</a> is specified. Setting <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a> or <a class="el" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a4fbd520c0fa0b70495fe9dd6aee373b9">AST_FORCE_HARD</a> will unload the module regardless of consequences (NOT RECOMMENDED).</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">1229</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00853">__ast_module_user_hangup_all()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00063">AST_FORCE_FIRM</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00196">ast_test_suite_event_notify</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01544">publish_unload_message()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00348">ast_module_info::unload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">unload_dynamic_module()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00556">ast_ari_asterisk_unload_module()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00808">handle_unload()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06505">manager_moduleload()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01852">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;{</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a> = 0;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keywordflow">if</span> (!(mod = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(resource_name, 0))) {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unload failed, &#39;%s&#39; could not be found\n&quot;</span>, resource_name);</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   }</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   <span class="keywordflow">if</span> (!mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> || mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unload failed, &#39;%s&#39; is not loaded.\n&quot;</span>, resource_name);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      error = 1;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   }</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <span class="keywordflow">if</span> (!error &amp;&amp; (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a> &gt; 0)) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">if</span> (force)</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Warning:  Forcing removal of module &#39;%s&#39; with use count %d\n&quot;</span>,</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            resource_name, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Soft unload failed, &#39;%s&#39; has use count %d\n&quot;</span>, resource_name,</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;         error = 1;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   }</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <span class="keywordflow">if</span> (!error) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="comment">/* Request any channels attached to the module to hangup. */</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a>(mod);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Unloading %s\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      res = mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ad0b80e76c21ce546ae00d081e8b84b48">unload</a>();</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Firm unload failed for %s\n&quot;</span>, resource_name);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;         <span class="keywordflow">if</span> (force &lt;= <a class="code" href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a>) {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            error = 1;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;** Dangerous **: Unloading resource anyway, at user request\n&quot;</span>);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;         }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <span class="keywordflow">if</span> (!error) {</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">          * Request hangup on any channels that managed to get attached</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">          * while we called the module unload function.</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a>(mod);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;         sched_yield();</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      }</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;   }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;   <span class="keywordflow">if</span> (!error)</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> = mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> = 0;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <span class="keywordflow">if</span> (!error) {</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a>(mod);</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a>(<span class="stringliteral">&quot;MODULE_UNLOAD&quot;</span>, <span class="stringliteral">&quot;Message: %s&quot;</span>, resource_name);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a03f008201fb4f3527c964224c271cfbc">publish_unload_message</a>(resource_name, <span class="stringliteral">&quot;Success&quot;</span>);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   }</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div><div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="loader_8c_html_a14cb9c203d9110487fccf21905b903e3"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a14cb9c203d9110487fccf21905b903e3">__ast_module_user_hangup_all</a></div><div class="ttdeci">void __ast_module_user_hangup_all(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00853">loader.c:853</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_a03f008201fb4f3527c964224c271cfbc"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a03f008201fb4f3527c964224c271cfbc">publish_unload_message</a></div><div class="ttdeci">static void publish_unload_message(const char *name, const char *status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01544">loader.c:1544</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="module_8h_html_ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522"><div class="ttname"><a href="../../d5/d16/module_8h.html#ac034ec04e9dd255a0d39bdfcb73113b9a8145144df4ddbc9122deba5069de0522">AST_FORCE_FIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00063">module.h:63</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="structast__module__info_html_ad0b80e76c21ce546ae00d081e8b84b48"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#ad0b80e76c21ce546ae00d081e8b84b48">ast_module_info::unload</a></div><div class="ttdeci">int(* unload)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00348">module.h:348</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="test_8h_html_a9482d93ea3931853331bdbc745ce7cb4"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a></div><div class="ttdeci">#define ast_test_suite_event_notify(s, f,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00196">test.h:196</a></div></div>
<div class="ttc" id="loader_8c_html_a5e400c9a7efe02d48abcbb6740c88ce5"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a></div><div class="ttdeci">static void unload_dynamic_module(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01010">loader.c:1010</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a029cc67c86d03d3f0d59b7a2ec0aa936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029cc67c86d03d3f0d59b7a2ec0aa936">&#9670;&nbsp;</a></span>ast_update_module_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_update_module_list </td>
          <td>(</td>
          <td class="paramtype">int(*)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level)&#160;</td>
          <td class="paramname"><em>modentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>like</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask for a list of modules, descriptions, use counts and status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modentry</td><td>A callback to an updater function. </td></tr>
    <tr><td class="paramname">like</td><td>For each of the modules loaded, modentry will be executed with the resource, description, and usecount values of each particular module.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of modules loaded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02567">2567</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02550">alpha_module_list_create()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00416">ast_module_info::support_level</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d2b/agent_8c_source.html#l00780">ast_var_Modules()</a>, and <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00971">handle_modlist()</a>.</p>
<div class="fragment"><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;{</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;   <span class="keywordtype">int</span> total_mod_loaded = 0;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;   <span class="keyword">struct </span>module_vector alpha_module_list;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a>(&amp;alpha_module_list)) {</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;alpha_module_list); idx++) {</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;alpha_module_list, idx);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;         total_mod_loaded += modentry(cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>,</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;            cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> ? <span class="stringliteral">&quot;Running&quot;</span> : <span class="stringliteral">&quot;Not Running&quot;</span>, like, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a>);</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      }</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;   }</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;alpha_module_list);</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;   <span class="keywordflow">return</span> total_mod_loaded;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_af368dd8f1ddb78f8aecdae735f007081"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a></div><div class="ttdeci">static int alpha_module_list_create(struct module_vector *alpha_module_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02550">loader.c:2550</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0395d2e09c87db9db68d119bfb98aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0395d2e09c87db9db68d119bfb98aa1">&#9670;&nbsp;</a></span>ast_update_module_list_condition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_update_module_list_condition </td>
          <td>(</td>
          <td class="paramtype">int(*)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level, void *data, const char *condition)&#160;</td>
          <td class="paramname"><em>modentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>like</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>condition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask for a list of modules, descriptions, use counts and status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modentry</td><td>A callback to an updater function </td></tr>
    <tr><td class="paramname">like</td><td></td></tr>
    <tr><td class="paramname">data</td><td>Data passed into the callback for manipulation </td></tr>
    <tr><td class="paramname">condition</td><td>The condition to meet</td></tr>
  </table>
  </dd>
</dl>
<p>For each of the modules loaded, modentry will be executed with the resource, description, and usecount values of each particular module.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of conditions met </dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.5.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02622">2622</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02550">alpha_module_list_create()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00416">ast_module_info::support_level</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00484">ast_ari_asterisk_get_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;{</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;   <span class="keywordtype">int</span> conditions_met = 0;</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;   <span class="keyword">struct </span>module_vector alpha_module_list;</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a>(&amp;alpha_module_list)) {</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;alpha_module_list); idx++) {</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;alpha_module_list, idx);</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;         conditions_met += modentry(cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>,</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;            cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>? <span class="stringliteral">&quot;Running&quot;</span> : <span class="stringliteral">&quot;Not Running&quot;</span>, like, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a>, data,</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;            condition);</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;      }</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;   }</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;alpha_module_list);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;   <span class="keywordflow">return</span> conditions_met;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_af368dd8f1ddb78f8aecdae735f007081"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a></div><div class="ttdeci">static int alpha_module_list_create(struct module_vector *alpha_module_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02550">loader.c:2550</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5d685667cf74c0a067dece185a7f873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d685667cf74c0a067dece185a7f873">&#9670;&nbsp;</a></span>ast_update_module_list_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_update_module_list_data </td>
          <td>(</td>
          <td class="paramtype">int(*)(const char *module, const char *description, int <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a2f8d20b887dab5677a21b650895a0dec">usecnt</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *like, enum <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5">ast_module_support_level</a> support_level, void *data)&#160;</td>
          <td class="paramname"><em>modentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>like</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask for a list of modules, descriptions, use counts and status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modentry</td><td>A callback to an updater function </td></tr>
    <tr><td class="paramname">like</td><td></td></tr>
    <tr><td class="paramname">data</td><td>Data passed into the callback for manipulation</td></tr>
  </table>
  </dd>
</dl>
<p>For each of the modules loaded, modentry will be executed with the resource, description, and usecount values of each particular module.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of modules loaded </dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.5.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02594">2594</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l02550">alpha_module_list_create()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00416">ast_module_info::support_level</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00429">ast_ari_asterisk_list_modules()</a>.</p>
<div class="fragment"><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;{</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;   <span class="keywordtype">int</span> total_mod_loaded = 0;</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;   <span class="keyword">struct </span>module_vector alpha_module_list;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a>(&amp;alpha_module_list)) {</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;alpha_module_list); idx++) {</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;alpha_module_list, idx);</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;         total_mod_loaded += modentry(cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>,</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;            cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>? <span class="stringliteral">&quot;Running&quot;</span> : <span class="stringliteral">&quot;Not Running&quot;</span>, like, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a>, data);</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;      }</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;   }</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;alpha_module_list);</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;   <span class="keywordflow">return</span> total_mod_loaded;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_af368dd8f1ddb78f8aecdae735f007081"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af368dd8f1ddb78f8aecdae735f007081">alpha_module_list_create</a></div><div class="ttdeci">static int alpha_module_list_create(struct module_vector *alpha_module_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02550">loader.c:2550</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28b9e8444e0f9b495cc1b10628b816e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b9e8444e0f9b495cc1b10628b816e8">&#9670;&nbsp;</a></span>ast_update_use_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_update_use_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify when usecount has been changed. </p>
<p>This function calulates use counts and notifies anyone trying to keep track of them. It should be called whenever your module's usecount changes.</p>
<dl class="section note"><dt>Note</dt><dd>The ast_module_user_* functions take care of calling this function for you. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">2528</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00625">loadupdate::updater</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">__ast_module_ref()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02734">__ast_module_unref()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">__ast_module_user_add()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00853">__ast_module_user_hangup_all()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">__ast_module_user_remove()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">ast_unload_resource()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29424">handle_request_do()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01087">ooh323_hangup()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00080">ooh323c_call_thread()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30793">sip_request_call()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">start_resource()</a>, and <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05704">unistim_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;{</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;   <span class="comment">/* Notify any module monitors that the use count for a</span></div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;<span class="comment">      resource has changed */</span></div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d70/structloadupdate.html">loadupdate</a> *m;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>, m, <a class="code" href="../../d3/d96/structentry.html">entry</a>)</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      m-&gt;<a class="code" href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">updater</a>();</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/daf/structupdaters.html">updaters</a>);</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structloadupdate_html_a905a3e31a1324bfa4f518a370018baab"><div class="ttname"><a href="../../d9/d70/structloadupdate.html#a905a3e31a1324bfa4f518a370018baab">loadupdate::updater</a></div><div class="ttdeci">int(* updater)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00625">loader.c:625</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structupdaters_html"><div class="ttname"><a href="../../d9/daf/structupdaters.html">updaters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00629">loader.c:629</a></div></div>
<div class="ttc" id="structloadupdate_html"><div class="ttname"><a href="../../d9/d70/structloadupdate.html">loadupdate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00624">loader.c:624</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f10c6b272aa373ac33acd19815149de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f10c6b272aa373ac33acd19815149de">&#9670;&nbsp;</a></span>AST_VECTOR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_VECTOR </td>
          <td>(</td>
          <td class="paramtype">module_vector&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5bfa4f5b3534c7b15263da6bec670e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bfa4f5b3534c7b15263da6bec670e17">&#9670;&nbsp;</a></span>find_resource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> * find_resource </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>do_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">937</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00917">resource_name_baselen()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00928">resource_name_match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02653">ast_module_check()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">ast_unload_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01040">load_dlopen_missing()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02214">loader_config_init()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00566">module_deps_missing_recursive()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00485">module_deps_process_reqlist()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01329">module_load_helper_on_file()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00371">module_vector_cmp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;{</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   <span class="keywordtype">size_t</span> resource_baselen = <a class="code" href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a>(<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <span class="keywordflow">if</span> (do_lock) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a>(<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, resource_baselen, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>)) {</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      }</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <span class="keywordflow">if</span> (do_lock) {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;   }</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <span class="keywordflow">return</span> cur;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;}</div><div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_a5f72e7e80873f05719c41b557a395143"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a></div><div class="ttdeci">static int resource_name_match(const char *name1, size_t baselen1, const char *name2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00928">loader.c:928</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="loader_8c_html_ad50dd3101474993b227de3e651457f15"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a></div><div class="ttdeci">static size_t resource_name_baselen(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00917">loader.c:917</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a244c47889769c7dde67d313248b303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a244c47889769c7dde67d313248b303">&#9670;&nbsp;</a></span>get_name_from_resource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* get_name_from_resource </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00157">157</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l02071">AO2_STRING_FIELD_CMP_FN</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00659">ast_module_register()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00768">ast_module_unregister()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01829">ast_shutdown_final()</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02338">load_modules()</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *last_three;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <span class="keywordtype">char</span> *mod_name;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   len = strlen(<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <span class="keywordflow">if</span> (len &gt; 3) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      last_three = &amp;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>[len-3];</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(last_three, <span class="stringliteral">&quot;.so&quot;</span>)) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;         mod_name = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, len - 2);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;         <span class="keywordflow">if</span> (mod_name) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(mod_name, <a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, len - 2);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">return</span> mod_name;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="comment">/* Unable to allocate memory. */</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="comment">/* Resource is the name - happens when manually unloading a module. */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   mod_name = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, len + 1);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordflow">if</span> (mod_name) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(mod_name, <a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, len + 1);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">return</span> mod_name;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <span class="comment">/* Unable to allocate memory. */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac262e8ae87d02b08cead525063bccf9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac262e8ae87d02b08cead525063bccf9d">&#9670;&nbsp;</a></span>inspect_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int inspect_module </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01651">1651</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00138">buildopt_sum</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00363">ast_module_info::buildopt_sum</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00359">ast_module_info::key</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00900">verify_key()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;{</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <span class="keywordflow">if</span> (!mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>) {</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Module &#39;%s&#39; does not provide a description.\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;   }</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   <span class="keywordflow">if</span> (!mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>) {</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Module &#39;%s&#39; does not provide a license key.\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;   }</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#adeb6765fa45de2f4c58acc4125e3de92">verify_key</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>)) {</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Module &#39;%s&#39; did not provide a valid license key.\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   }</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a89449edfd4b26e70296dcf2bef3a82b0">buildopt_sum</a>) &amp;&amp;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;       strcmp(<a class="code" href="../../d3/d96/loader_8c.html#a6e9967e19b2e269bd26d6eaeae60ac8b">buildopt_sum</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a89449edfd4b26e70296dcf2bef3a82b0">buildopt_sum</a>)) {</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Module &#39;%s&#39; was not compiled with the same compile-time options as this version of Asterisk.\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Module &#39;%s&#39; will not be initialized as it may cause instability.\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   }</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="loader_8c_html_adeb6765fa45de2f4c58acc4125e3de92"><div class="ttname"><a href="../../d3/d96/loader_8c.html#adeb6765fa45de2f4c58acc4125e3de92">verify_key</a></div><div class="ttdeci">static int verify_key(const unsigned char *key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00900">loader.c:900</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="loader_8c_html_abeacb9a42f717e903d50c201dc035410"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a></div><div class="ttdeci">static void module_load_error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00269">loader.c:269</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="loader_8c_html_a6e9967e19b2e269bd26d6eaeae60ac8b"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a6e9967e19b2e269bd26d6eaeae60ac8b">buildopt_sum</a></div><div class="ttdeci">static char buildopt_sum[33]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00138">loader.c:138</a></div></div>
<div class="ttc" id="structast__module__info_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#acd3d88da3c0e0313c3645ff34f62f542">ast_module_info::key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00359">module.h:359</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="structast__module__info_html_a89449edfd4b26e70296dcf2bef3a82b0"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a89449edfd4b26e70296dcf2bef3a82b0">ast_module_info::buildopt_sum</a></div><div class="ttdeci">const char buildopt_sum[33]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00363">module.h:363</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af1726d42d9feef28e5cd133f15e89cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1726d42d9feef28e5cd133f15e89cc2">&#9670;&nbsp;</a></span>is_module_loaded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_module_loaded </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check to see if the given resource is loaded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resource_name</td><td>Name of the resource, including .so suffix. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>False (0) if module is not loaded. </dd>
<dd>
True (non-zero) if module is loaded. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00991">991</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00153">ast_config_AST_MODULE_DIR</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00298">ast_module::lib</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00962">logged_dlclose()</a>, and <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">unload_dynamic_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;{</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   <span class="keywordtype">char</span> fn[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   snprintf(fn, <span class="keyword">sizeof</span>(fn), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a>,</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      resource_name);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   lib = dlopen(fn, RTLD_LAZY | RTLD_NOLOAD);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <span class="keywordflow">if</span> (lib) {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a>(resource_name, lib);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div><div class="ttc" id="paths_8h_html_a5852d8e3bf5485c09b0f3d2c2375eec3"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a></div><div class="ttdeci">const char * ast_config_AST_MODULE_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00153">options.c:153</a></div></div>
<div class="ttc" id="loader_8c_html_a2b2e521ef2d6a796923f8ed10ae68250"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a></div><div class="ttdeci">static void logged_dlclose(const char *name, void *lib)</div><div class="ttdoc">dlclose(), with failure logging. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00962">loader.c:962</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a5940281c73a2d41b4afdfff28af5859a"><div class="ttname"><a href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">ast_module::lib</a></div><div class="ttdeci">void * lib</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00298">loader.c:298</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab70ace2c657fad50a45ea594be9f1b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70ace2c657fad50a45ea594be9f1b21">&#9670;&nbsp;</a></span>key_matches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int key_matches </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>key1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>key2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00888">888</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00900">verify_key()</a>.</p>
<div class="fragment"><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;{</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; 16; x++) {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordflow">if</span> (key1[x] != key2[x])</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ad30be0a0e0f84c2dd750d14e39c289d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad30be0a0e0f84c2dd750d14e39c289d4">&#9670;&nbsp;</a></span>load_dlopen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* load_dlopen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>so_ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>suppress_logging</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01070">1070</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00688">ast_str_strlen()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00309">ast_module::enhances</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00298">ast_module::lib</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01040">load_dlopen_missing()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00962">logged_dlclose()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00732">module_post_register()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00307">ast_module::optional_modules</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00305">ast_module::requires</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00124">RTLD_LOCAL</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">unload_dynamic_module()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01155">load_dynamic_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;{</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!<a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a>);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   mod = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*mod) + strlen(resource_in) + strlen(so_ext) + 1);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;   <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   sprintf(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, <span class="stringliteral">&quot;%s%s&quot;</span>, resource_in, so_ext); <span class="comment">/* safe */</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a> = mod;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a> = dlopen(filename, <a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="preprocessor">#if defined(HAVE_PERMANENT_DLOPEN)</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;   manual_mod_reg(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a>) {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *list;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = 0;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *dlerror_msg = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(dlerror(), <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a>) {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Module &#39;%s&#39; did not register itself during load\n&quot;</span>, resource_in);</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a>(resource_in, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;         <span class="keywordflow">goto</span> error_return;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="keywordflow">if</span> (suppress_logging) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;         <span class="keywordflow">goto</span> error_return;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a> = mod;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a> = dlopen(filename, RTLD_LAZY | <a class="code" href="../../d3/d96/loader_8c.html#a233010260f7e61c5dab09e2bca10a590">RTLD_LOCAL</a>);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="preprocessor">#if defined(HAVE_PERMANENT_DLOPEN)</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      manual_mod_reg(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a>) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Error loading module &#39;%s&#39;: %s\n&quot;</span>, resource_in, dlerror_msg);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a>(resource_in, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a>);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;         <span class="keywordflow">goto</span> error_return;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      list = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <span class="keywordflow">if</span> (list) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a3531ad241e4f9cbdfd872dd8e9d7e564">module_post_register</a>(mod)) {</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            <span class="keywordflow">goto</span> loaded_error;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;         }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;         c = <a class="code" href="../../d3/d96/loader_8c.html#a96df3d56aae09dfbd265ad83060cc331">load_dlopen_missing</a>(&amp;list, &amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">requires</a>);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;         c += <a class="code" href="../../d3/d96/loader_8c.html#a96df3d56aae09dfbd265ad83060cc331">load_dlopen_missing</a>(&amp;list, &amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">enhances</a>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="preprocessor">#ifndef OPTIONAL_API</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;         c += <a class="code" href="../../d3/d96/loader_8c.html#a96df3d56aae09dfbd265ad83060cc331">load_dlopen_missing</a>(&amp;list, &amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">optional_modules</a>);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">if</span> (list &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(list)) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Error loading module &#39;%s&#39;, missing %s: %s\n&quot;</span>,</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            resource_in, c == 1 ? <span class="stringliteral">&quot;dependency&quot;</span> : <span class="stringliteral">&quot;dependencies&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(list));</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Error loading module &#39;%s&#39;: %s\n&quot;</span>, resource_in, dlerror_msg);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;loaded_error:</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(list);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a>(mod);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;error_return:</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mod);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   }</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <span class="keywordflow">return</span> mod;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div><div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="loader_8c_html_a3531ad241e4f9cbdfd872dd8e9d7e564"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a3531ad241e4f9cbdfd872dd8e9d7e564">module_post_register</a></div><div class="ttdeci">static int module_post_register(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00732">loader.c:732</a></div></div>
<div class="ttc" id="loader_8c_html_abeacb9a42f717e903d50c201dc035410"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a></div><div class="ttdeci">static void module_load_error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00269">loader.c:269</a></div></div>
<div class="ttc" id="structast__module_html_aff7b1c595dc1dd848cec8bd49e65ba5e"><div class="ttname"><a href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">ast_module::enhances</a></div><div class="ttdeci">struct ast_vector_string enhances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00309">loader.c:309</a></div></div>
<div class="ttc" id="loader_8c_html_a233010260f7e61c5dab09e2bca10a590"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a233010260f7e61c5dab09e2bca10a590">RTLD_LOCAL</a></div><div class="ttdeci">#define RTLD_LOCAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00124">loader.c:124</a></div></div>
<div class="ttc" id="structast__module_html_a543acd2e8bdfacdbd5be239958e40614"><div class="ttname"><a href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">ast_module::optional_modules</a></div><div class="ttdeci">struct ast_vector_string optional_modules</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00307">loader.c:307</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="loader_8c_html_a5e400c9a7efe02d48abcbb6740c88ce5"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a></div><div class="ttdeci">static void unload_dynamic_module(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01010">loader.c:1010</a></div></div>
<div class="ttc" id="loader_8c_html_a2b2e521ef2d6a796923f8ed10ae68250"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a></div><div class="ttdeci">static void logged_dlclose(const char *name, void *lib)</div><div class="ttdoc">dlclose(), with failure logging. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00962">loader.c:962</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structast__module_html_a48f30df52d1f0c51cc8f7c20b11eec44"><div class="ttname"><a href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">ast_module::requires</a></div><div class="ttdeci">struct ast_vector_string requires</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00305">loader.c:305</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="loader_8c_html_afed3ca5c75a63241f94a6601b11148bf"><div class="ttname"><a href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a></div><div class="ttdeci">static struct ast_module *volatile resource_being_loaded</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00650">loader.c:650</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="loader_8c_html_a96df3d56aae09dfbd265ad83060cc331"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a96df3d56aae09dfbd265ad83060cc331">load_dlopen_missing</a></div><div class="ttdeci">static int load_dlopen_missing(struct ast_str **list, struct ast_vector_string *deps)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01040">loader.c:1040</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_a5940281c73a2d41b4afdfff28af5859a"><div class="ttname"><a href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">ast_module::lib</a></div><div class="ttdeci">void * lib</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00298">loader.c:298</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96df3d56aae09dfbd265ad83060cc331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96df3d56aae09dfbd265ad83060cc331">&#9670;&nbsp;</a></span>load_dlopen_missing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_dlopen_missing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_vector_string *&#160;</td>
          <td class="paramname"><em>deps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01040">1040</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00144">STR_APPEND_TEXT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01070">load_dlopen()</a>.</p>
<div class="fragment"><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;{</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = 0;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(deps); i++) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *dep = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(deps, i);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(dep, 0)) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#ac8d17d77e95d948463f58f0e3bbd8ff3">STR_APPEND_TEXT</a>(dep, list);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;         c++;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      }</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="loader_8c_html_ac8d17d77e95d948463f58f0e3bbd8ff3"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ac8d17d77e95d948463f58f0e3bbd8ff3">STR_APPEND_TEXT</a></div><div class="ttdeci">#define STR_APPEND_TEXT(txt, str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00144">loader.c:144</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a732387993922d623a1a0f5fcc4f91b3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a732387993922d623a1a0f5fcc4f91b3c">&#9670;&nbsp;</a></span>load_dynamic_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* load_dynamic_module </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>suppress_logging</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01155">1155</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00153">ast_config_AST_MODULE_DIR</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00298">ast_module::lib</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01070">load_dlopen()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00962">logged_dlclose()</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00124">RTLD_LOCAL</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00120">RTLD_NOW</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;{</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;   <span class="keywordtype">char</span> fn[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;   <span class="keywordtype">size_t</span> resource_in_len = strlen(resource_in);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *so_ext = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;   <span class="keywordflow">if</span> (resource_in_len &lt; 4 || strcasecmp(resource_in + resource_in_len - 3, <span class="stringliteral">&quot;.so&quot;</span>)) {</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      so_ext = <span class="stringliteral">&quot;.so&quot;</span>;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;   }</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;   snprintf(fn, <span class="keyword">sizeof</span>(fn), <span class="stringliteral">&quot;%s/%s%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a>, resource_in, so_ext);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   <span class="comment">/* Try loading in quiet mode first with RTLD_LOCAL.  The majority of modules do not</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment">    * export symbols so this allows the least number of calls to dlopen. */</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   mod = <a class="code" href="../../d3/d96/loader_8c.html#ad30be0a0e0f84c2dd750d14e39c289d4">load_dlopen</a>(resource_in, so_ext, fn, <a class="code" href="../../d3/d96/loader_8c.html#a98a6517467cf7d1dd27d6c6dce78a6cf">RTLD_NOW</a> | <a class="code" href="../../d3/d96/loader_8c.html#a233010260f7e61c5dab09e2bca10a590">RTLD_LOCAL</a>, suppress_logging);</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;   <span class="keywordflow">if</span> (!mod || !<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>, <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a>)) {</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">return</span> mod;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;   }</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="comment">/* Close the module so we can reopen with correct flags. */</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a>(resource_in, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a>);</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d96/loader_8c.html#ad30be0a0e0f84c2dd750d14e39c289d4">load_dlopen</a>(resource_in, so_ext, fn, <a class="code" href="../../d3/d96/loader_8c.html#a98a6517467cf7d1dd27d6c6dce78a6cf">RTLD_NOW</a> | RTLD_GLOBAL, 0);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;}</div><div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="paths_8h_html_a5852d8e3bf5485c09b0f3d2c2375eec3"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a></div><div class="ttdeci">const char * ast_config_AST_MODULE_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00153">options.c:153</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="loader_8c_html_a233010260f7e61c5dab09e2bca10a590"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a233010260f7e61c5dab09e2bca10a590">RTLD_LOCAL</a></div><div class="ttdeci">#define RTLD_LOCAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00124">loader.c:124</a></div></div>
<div class="ttc" id="loader_8c_html_a2b2e521ef2d6a796923f8ed10ae68250"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a></div><div class="ttdeci">static void logged_dlclose(const char *name, void *lib)</div><div class="ttdoc">dlclose(), with failure logging. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00962">loader.c:962</a></div></div>
<div class="ttc" id="loader_8c_html_ad30be0a0e0f84c2dd750d14e39c289d4"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad30be0a0e0f84c2dd750d14e39c289d4">load_dlopen</a></div><div class="ttdeci">static struct ast_module * load_dlopen(const char *resource_in, const char *so_ext, const char *filename, int flags, unsigned int suppress_logging)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01070">loader.c:1070</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00316">module.h:316</a></div></div>
<div class="ttc" id="loader_8c_html_a98a6517467cf7d1dd27d6c6dce78a6cf"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a98a6517467cf7d1dd27d6c6dce78a6cf">RTLD_NOW</a></div><div class="ttdeci">#define RTLD_NOW</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00120">loader.c:120</a></div></div>
<div class="ttc" id="structast__module_html_a5940281c73a2d41b4afdfff28af5859a"><div class="ttname"><a href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">ast_module::lib</a></div><div class="ttdeci">void * lib</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00298">loader.c:298</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19ce35b5edad956ec349975bdefb4d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ce35b5edad956ec349975bdefb4d76">&#9670;&nbsp;</a></span>load_modules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_modules </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provided by loader.c </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02338">2338</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01335">ao2_container_alloc_list</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00123">AST_MODULE_SUPPORT_DEPRECATED</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00688">ast_str_strlen()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00078">ast_tvdiff_us()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d4/da3/xml_8c_source.html#l00266">ast_xml_find_element()</a>, <a class="el" href="../../d4/da3/xml_8c_source.html#l00317">ast_xml_get_text()</a>, <a class="el" href="../../d4/da3/xml_8c_source.html#l00345">ast_xml_node_get_children()</a>, <a class="el" href="../../d4/da3/xml_8c_source.html#l00365">ast_xml_xpath_get_first_result()</a>, <a class="el" href="../../d4/da3/xml_8c_source.html#l00370">ast_xml_xpath_results_free()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l02545">ast_xmldoc_query()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00048">done</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00157">get_name_from_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02101">load_resource_list()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02179">loader_builtin_init()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02214">loader_config_init()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/d79/analys_8c_source.html#l00066">order</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01833">load_order_entry::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00153">startup_errors</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>, and <a class="el" href="../../d5/d16/module_8h_source.html#l00416">ast_module_info::support_level</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03947">asterisk_daemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;{</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d78/structload__order__entry.html">load_order_entry</a> *<a class="code" href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a>;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> load_count;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d56/structload__order.html">load_order</a> <a class="code" href="../../d6/d56/structload__order.html">load_order</a>;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;   <span class="keywordtype">int</span> modulecount = 0;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur;</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *warning_msg;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;   <span class="keywordtype">char</span> deprecated_in[33];</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;   <span class="keywordtype">char</span> removed_in[33];</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;   <span class="keywordtype">char</span> replacement[129];</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;   <span class="keyword">struct </span>timeval start_time = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;   <span class="keyword">struct </span>timeval end_time;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;   int64_t usElapsed;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Asterisk Dynamic Loader Starting:\n&quot;</span>);</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="preprocessor">#if defined(HAVE_PERMANENT_DLOPEN)</span></div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;   info_list = <a class="code" href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      info_list_obj_cmp_fn); <span class="comment">/* must not be cleaned at shutdown */</span></div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;   <span class="keywordflow">if</span> (!info_list) {</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;Module info list allocation failure.\n&quot;</span>);</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;   }</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;<a class="code" href="../../d6/d56/structload__order.html">load_order</a>);</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a7009e38410774eddfee7838dc45137b3">startup_errors</a>, 0);</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;   res = <a class="code" href="../../d3/d96/loader_8c.html#ad380fd91a2fa9b8de2acd7cc8274297c">loader_builtin_init</a>(&amp;<a class="code" href="../../d6/d56/structload__order.html">load_order</a>);</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;   }</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;   res = <a class="code" href="../../d3/d96/loader_8c.html#a86b6c100d7193cc6e704659ae31c4b09">loader_config_init</a>(&amp;<a class="code" href="../../d6/d56/structload__order.html">load_order</a>);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;   }</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;   load_count = 0;</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d6/d56/structload__order.html">load_order</a>, order, <a class="code" href="../../d3/d96/structentry.html">entry</a>)</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;      load_count++;</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;   <span class="keywordflow">if</span> (load_count)</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;%u modules will be loaded.\n&quot;</span>, load_count);</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;   res = <a class="code" href="../../d3/d96/loader_8c.html#a3cfb64a65021446c76f29cc5d4d334e1">load_resource_list</a>(&amp;<a class="code" href="../../d6/d56/structload__order.html">load_order</a>, &amp;modulecount);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;   <span class="keywordflow">if</span> (res == -1) {</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Some non-required modules failed to load.\n&quot;</span>);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;      res = 0;</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;   }</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;<a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   <span class="keywordflow">while</span> ((order = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d6/d56/structload__order.html">load_order</a>, <a class="code" href="../../d3/d96/structentry.html">entry</a>))) {</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>);</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(order);</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;   }</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;   warning_msg = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(512);</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <span class="keywordtype">char</span> *mod_name = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      <span class="keyword">struct </span>ast_xml_xpath_results *results;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      <span class="keywordflow">if</span> (!cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> || cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>) {</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;      }</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;      mod_name = <a class="code" href="../../d3/d96/loader_8c.html#a8a244c47889769c7dde67d313248b303">get_name_from_resource</a>(cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      <span class="keywordflow">if</span> (!warning_msg || !mod_name) {</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;         <span class="comment">/* If we can&#39;t allocate memory, we have bigger issues */</span></div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mod_name);</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      }</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      <span class="comment">/* Clear out the previous values */</span></div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      deprecated_in[0] = removed_in[0] = replacement[0] = 0;</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;      results = <a class="code" href="../../d1/d99/xmldoc_8h.html#a5494fe5ef718adae5e25149552e202e8">ast_xmldoc_query</a>(<span class="stringliteral">&quot;/docs/module[@name=&#39;%s&#39;]&quot;</span>, mod_name);</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="keywordflow">if</span> (results) {</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;         <span class="keyword">struct </span>ast_xml_node *deprecated_node, *removed_node, *replacement_node;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;         <span class="keyword">struct </span>ast_xml_node *metadata_nodes = <a class="code" href="../../d0/d62/xml_8h.html#a6064a4b3e299bb92aa8c8c7c1b363527">ast_xml_node_get_children</a>(<a class="code" href="../../d0/d62/xml_8h.html#a3c0dc6fb4b6cb9f211e2726ca5fd4282">ast_xml_xpath_get_first_result</a>(results));</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;         deprecated_node = <a class="code" href="../../d0/d62/xml_8h.html#a8299a9da6d1e609761341b3ca45bc771">ast_xml_find_element</a>(metadata_nodes, <span class="stringliteral">&quot;deprecated_in&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;         <span class="keywordflow">if</span> (deprecated_node) {</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *result_tmp = <a class="code" href="../../d0/d62/xml_8h.html#ad113291cd96631f7b440d82fbc33dd13">ast_xml_get_text</a>(deprecated_node);</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(result_tmp)) {</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(deprecated_in, result_tmp, <span class="keyword">sizeof</span>(deprecated_in));</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;            }</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;         }</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;         removed_node = <a class="code" href="../../d0/d62/xml_8h.html#a8299a9da6d1e609761341b3ca45bc771">ast_xml_find_element</a>(metadata_nodes, <span class="stringliteral">&quot;removed_in&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;         <span class="keywordflow">if</span> (removed_node) {</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *result_tmp = <a class="code" href="../../d0/d62/xml_8h.html#ad113291cd96631f7b440d82fbc33dd13">ast_xml_get_text</a>(removed_node);</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(result_tmp)) {</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(removed_in, result_tmp, <span class="keyword">sizeof</span>(removed_in));</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;            }</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;         }</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;         replacement_node = <a class="code" href="../../d0/d62/xml_8h.html#a8299a9da6d1e609761341b3ca45bc771">ast_xml_find_element</a>(metadata_nodes, <span class="stringliteral">&quot;replacement&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;         <span class="keywordflow">if</span> (replacement_node) {</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *result_tmp = <a class="code" href="../../d0/d62/xml_8h.html#ad113291cd96631f7b440d82fbc33dd13">ast_xml_get_text</a>(replacement_node);</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(result_tmp)) {</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(replacement, result_tmp, <span class="keyword">sizeof</span>(replacement));</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;            }</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;         }</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;         <a class="code" href="../../d0/d62/xml_8h.html#ac0e6426fa9265de03f3737b473ba1161">ast_xml_xpath_results_free</a>(results);</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;      }</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(warning_msg);</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a> == <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd">AST_MODULE_SUPPORT_DEPRECATED</a> || !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(deprecated_in)</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;         || !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(removed_in) || !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(replacement)) {</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;         <span class="keywordtype">int</span> already_butted = 0;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;warning_msg, -1, <span class="stringliteral">&quot;Module &#39;%s&#39; has been loaded&quot;</span>, mod_name);</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(deprecated_in)) {</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;warning_msg, -1, <span class="stringliteral">&quot; but %s deprecated in Asterisk version %s&quot;</span>,</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;                cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a> == <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd">AST_MODULE_SUPPORT_DEPRECATED</a> ? <span class="stringliteral">&quot;was&quot;</span> : <span class="stringliteral">&quot;will be&quot;</span>, deprecated_in);</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;            already_butted = 1;</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;         }</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(removed_in)) {</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;warning_msg, -1, <span class="stringliteral">&quot; %s will be removed in Asterisk version %s&quot;</span>, already_butted ? <span class="stringliteral">&quot;and&quot;</span> : <span class="stringliteral">&quot;but&quot;</span>, removed_in);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;warning_msg, -1, <span class="stringliteral">&quot; %s may be removed in a future release&quot;</span>, already_butted ? <span class="stringliteral">&quot;and&quot;</span> : <span class="stringliteral">&quot;but&quot;</span>);</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;         }</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;warning_msg, -1, <span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(replacement)) {</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;warning_msg, -1, <span class="stringliteral">&quot; Its replacement is &#39;%s&#39;.&quot;</span>, replacement);</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;         }</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      }</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(warning_msg)) {</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(warning_msg));</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      }</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mod_name);</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">support_level</a> == <a class="code" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd">AST_MODULE_SUPPORT_DEPRECATED</a>) {</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;The deprecated module &#39;%s&#39; has been loaded and is running, it may be removed in a future version\n&quot;</span>, cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;      }</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;   }</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(warning_msg);</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a7009e38410774eddfee7838dc45137b3">startup_errors</a>); i++) {</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a7009e38410774eddfee7838dc45137b3">startup_errors</a>, i);</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;%s&quot;</span>, str);</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;   }</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a7009e38410774eddfee7838dc45137b3">startup_errors</a>);</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(<a class="code" href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a>);</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;   end_time = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;   usElapsed = <a class="code" href="../../de/df7/time_8h.html#a14d1e085a2d8580052c28807e762bfad">ast_tvdiff_us</a>(end_time, start_time);</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Loader time with AST_XML_DOCS: %ld.%06ld\n&quot;</span>, usElapsed / 1000000, usElapsed % 1000000);</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Loader time without AST_XML_DOCS: %ld.%06ld\n&quot;</span>, usElapsed / 1000000, usElapsed % 1000000);</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="loader_8c_html_a8a244c47889769c7dde67d313248b303"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a8a244c47889769c7dde67d313248b303">get_name_from_resource</a></div><div class="ttdeci">static char * get_name_from_resource(const char *resource)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00157">loader.c:157</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="astobj2_8h_html_add41bd9979cb8642f81dd38aa2dfcd6d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#add41bd9979cb8642f81dd38aa2dfcd6d">ao2_container_alloc_list</a></div><div class="ttdeci">#define ao2_container_alloc_list(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01335">astobj2.h:1335</a></div></div>
<div class="ttc" id="structload__order__entry_html"><div class="ttname"><a href="../../db/d78/structload__order__entry.html">load_order_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01832">loader.c:1832</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a5494fe5ef718adae5e25149552e202e8"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a5494fe5ef718adae5e25149552e202e8">ast_xmldoc_query</a></div><div class="ttdeci">struct ast_xml_xpath_results * ast_xmldoc_query(const char *fmt,...)</div><div class="ttdoc">Execute an XPath query on the loaded XML documentation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2f/xmldoc_8c_source.html#l02545">xmldoc.c:2545</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="test__amihooks_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/test__amihooks_8c_source.html#l00048">test_amihooks.c:48</a></div></div>
<div class="ttc" id="structload__order__entry_html_add9403c2dd81e949c8c4aa872eabdcc7"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">load_order_entry::resource</a></div><div class="ttdeci">char * resource</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01833">loader.c:1833</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="analys_8c_html_aed7ca058008dc3e5ee131e575abed285"><div class="ttname"><a href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a></div><div class="ttdeci">integer order</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d79/analys_8c_source.html#l00066">analys.c:66</a></div></div>
<div class="ttc" id="xml_8h_html_a8299a9da6d1e609761341b3ca45bc771"><div class="ttname"><a href="../../d0/d62/xml_8h.html#a8299a9da6d1e609761341b3ca45bc771">ast_xml_find_element</a></div><div class="ttdeci">struct ast_xml_node * ast_xml_find_element(struct ast_xml_node *root_node, const char *name, const char *attrname, const char *attrvalue)</div><div class="ttdoc">Find a node element by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/xml_8c_source.html#l00266">xml.c:266</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="loader_8c_html_a3cfb64a65021446c76f29cc5d4d334e1"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a3cfb64a65021446c76f29cc5d4d334e1">load_resource_list</a></div><div class="ttdeci">static int load_resource_list(struct load_order *load_order, int *mod_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02101">loader.c:2101</a></div></div>
<div class="ttc" id="structload__order_html"><div class="ttname"><a href="../../d6/d56/structload__order.html">load_order</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01840">loader.c:1840</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="loader_8c_html_ad380fd91a2fa9b8de2acd7cc8274297c"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad380fd91a2fa9b8de2acd7cc8274297c">loader_builtin_init</a></div><div class="ttdeci">static int loader_builtin_init(struct load_order *load_order)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02179">loader.c:2179</a></div></div>
<div class="ttc" id="loader_8c_html_a86b6c100d7193cc6e704659ae31c4b09"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a86b6c100d7193cc6e704659ae31c4b09">loader_config_init</a></div><div class="ttdeci">static int loader_config_init(struct load_order *load_order)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02214">loader.c:2214</a></div></div>
<div class="ttc" id="loader_8c_html_a868f4df6b093d8fb5403943de1b88c34"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a></div><div class="ttdeci">static struct ast_str * startup_error_builder</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00154">loader.c:154</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="xml_8h_html_ac0e6426fa9265de03f3737b473ba1161"><div class="ttname"><a href="../../d0/d62/xml_8h.html#ac0e6426fa9265de03f3737b473ba1161">ast_xml_xpath_results_free</a></div><div class="ttdeci">void ast_xml_xpath_results_free(struct ast_xml_xpath_results *results)</div><div class="ttdoc">Free the XPath results. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/xml_8c_source.html#l00370">xml.c:370</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="xml_8h_html_ad113291cd96631f7b440d82fbc33dd13"><div class="ttname"><a href="../../d0/d62/xml_8h.html#ad113291cd96631f7b440d82fbc33dd13">ast_xml_get_text</a></div><div class="ttdeci">const char * ast_xml_get_text(struct ast_xml_node *node)</div><div class="ttdoc">Get an element content string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/xml_8c_source.html#l00317">xml.c:317</a></div></div>
<div class="ttc" id="module_8h_html_ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a29bc2fa1929477c1f28ba6d8094759cd">AST_MODULE_SUPPORT_DEPRECATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00123">module.h:123</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="time_8h_html_a14d1e085a2d8580052c28807e762bfad"><div class="ttname"><a href="../../de/df7/time_8h.html#a14d1e085a2d8580052c28807e762bfad">ast_tvdiff_us</a></div><div class="ttdeci">int64_t ast_tvdiff_us(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in microseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00078">time.h:78</a></div></div>
<div class="ttc" id="loader_8c_html_a7009e38410774eddfee7838dc45137b3"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a7009e38410774eddfee7838dc45137b3">startup_errors</a></div><div class="ttdeci">static struct ast_vector_string startup_errors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00153">loader.c:153</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module__info_html_a481d25e5ca044221c7179aedff41ea3f"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a481d25e5ca044221c7179aedff41ea3f">ast_module_info::support_level</a></div><div class="ttdeci">enum ast_module_support_level support_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00416">module.h:416</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="xml_8h_html_a3c0dc6fb4b6cb9f211e2726ca5fd4282"><div class="ttname"><a href="../../d0/d62/xml_8h.html#a3c0dc6fb4b6cb9f211e2726ca5fd4282">ast_xml_xpath_get_first_result</a></div><div class="ttdeci">struct ast_xml_node * ast_xml_xpath_get_first_result(struct ast_xml_xpath_results *results)</div><div class="ttdoc">Return the first result node of an XPath query. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/xml_8c_source.html#l00365">xml.c:365</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="xml_8h_html_a6064a4b3e299bb92aa8c8c7c1b363527"><div class="ttname"><a href="../../d0/d62/xml_8h.html#a6064a4b3e299bb92aa8c8c7c1b363527">ast_xml_node_get_children</a></div><div class="ttdeci">struct ast_xml_node * ast_xml_node_get_children(struct ast_xml_node *node)</div><div class="ttdoc">Get the node&amp;#39;s children. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/xml_8c_source.html#l00345">xml.c:345</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab143f0b545c2fe83ebacf96cf896246a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab143f0b545c2fe83ebacf96cf896246a">&#9670;&nbsp;</a></span>load_resource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> load_resource </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>suppress_logging</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct module_vector *&#160;</td>
          <td class="paramname"><em>module_priorities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>required</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>preload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>loads a resource based upon resource_name. If global_symbols_only is set only modules with global symbols will be loaded.</p>
<p>If the module_vector is provided (not NULL) the module is found and added to the vector without running the module's load() function. By doing this, modules can be initialized later in order by priority and dependencies.</p>
<p>If the module_vector is not provided, the module's load function will be executed immediately </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">1763</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d5b/options_8h_source.html#l00115">ast_fully_booted</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00102">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00090">AST_MODULE_LOAD_PRIORITY</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01829">ast_shutdown_final()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00371">AST_VECTOR_ADD_SORTED</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01651">inspect_module()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01155">load_dynamic_module()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00732">module_post_register()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00371">module_vector_cmp()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00330">ast_module::preload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01531">publish_load_message()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00328">ast_module::required</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">start_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">unload_dynamic_module()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01819">ast_load_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02101">load_resource_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;{</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> res = <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;   <span class="keywordflow">if</span> ((mod = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(resource_name, 0))) {</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>) {</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Module &#39;%s&#39; already loaded and running.\n&quot;</span>, resource_name);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      }</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      mod = <a class="code" href="../../d3/d96/loader_8c.html#a732387993922d623a1a0f5fcc4f91b3c">load_dynamic_module</a>(resource_name, suppress_logging);</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      <span class="keywordflow">if</span> (!mod) {</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a> ? <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a> : <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      }</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a3531ad241e4f9cbdfd872dd8e9d7e564">module_post_register</a>(mod)) {</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;         <span class="keywordflow">goto</span> prestart_error;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      }</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;   }</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a> |= <a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a>;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#ab528d71464599c7569334b249a508f2a">preload</a> |= <a class="code" href="../../d9/df5/structast__module.html#ab528d71464599c7569334b249a508f2a">preload</a>;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#ac262e8ae87d02b08cead525063bccf9d">inspect_module</a>(mod)) {</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      <span class="keywordflow">goto</span> prestart_error;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;   }</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> = 0;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;   <span class="keywordflow">if</span> (module_priorities) {</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a8418853c95c2093a85174233f0ef4827">AST_VECTOR_ADD_SORTED</a>(module_priorities, mod, <a class="code" href="../../d3/d96/loader_8c.html#ab483ff3d8ae5b845583c324291fab438">module_vector_cmp</a>)) {</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;         <span class="keywordflow">goto</span> prestart_error;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      }</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      res = <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a>;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;      res = <a class="code" href="../../d3/d96/loader_8c.html#ac9df2b9679f9e75ba5acee5b93f378b1">start_resource</a>(mod);</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;   }</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a6da2c0ee84c135b777b761b443861f19">ast_fully_booted</a> &amp;&amp; !<a class="code" href="../../db/db2/asterisk_8h.html#a0eb0441c04955094ce5845fb0258645a">ast_shutdown_final</a>()) {</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#af5b69a9fafd733008e4107b5b9b5fa6a">publish_load_message</a>(resource_name, res);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;   }</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;prestart_error:</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Module &#39;%s&#39; could not be loaded.\n&quot;</span>, resource_name);</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a>(mod);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;   res = <a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a> ? <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a> : <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a6da2c0ee84c135b777b761b443861f19">ast_fully_booted</a> &amp;&amp; !<a class="code" href="../../db/db2/asterisk_8h.html#a0eb0441c04955094ce5845fb0258645a">ast_shutdown_final</a>()) {</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#af5b69a9fafd733008e4107b5b9b5fa6a">publish_load_message</a>(resource_name, res);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;   }</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;}</div><div class="ttc" id="loader_8c_html_ac9df2b9679f9e75ba5acee5b93f378b1"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ac9df2b9679f9e75ba5acee5b93f378b1">start_resource</a></div><div class="ttdeci">static enum ast_module_load_result start_resource(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01678">loader.c:1678</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952df"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a></div><div class="ttdeci">ast_module_load_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00068">module.h:68</a></div></div>
<div class="ttc" id="vector_8h_html_a8418853c95c2093a85174233f0ef4827"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a8418853c95c2093a85174233f0ef4827">AST_VECTOR_ADD_SORTED</a></div><div class="ttdeci">#define AST_VECTOR_ADD_SORTED(vec, elem, cmp)</div><div class="ttdoc">Add an element into a sorted vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00371">vector.h:371</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="structast__module_html_a5539966940da24166eb4c386d1e223a5"><div class="ttname"><a href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">ast_module::required</a></div><div class="ttdeci">unsigned int required</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00328">loader.c:328</a></div></div>
<div class="ttc" id="structast__module_html_ab528d71464599c7569334b249a508f2a"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab528d71464599c7569334b249a508f2a">ast_module::preload</a></div><div class="ttdeci">unsigned int preload</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00330">loader.c:330</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="loader_8c_html_af5b69a9fafd733008e4107b5b9b5fa6a"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af5b69a9fafd733008e4107b5b9b5fa6a">publish_load_message</a></div><div class="ttdeci">static void publish_load_message(const char *name, enum ast_module_load_result result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01531">loader.c:1531</a></div></div>
<div class="ttc" id="loader_8c_html_a3531ad241e4f9cbdfd872dd8e9d7e564"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a3531ad241e4f9cbdfd872dd8e9d7e564">module_post_register</a></div><div class="ttdeci">static int module_post_register(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00732">loader.c:732</a></div></div>
<div class="ttc" id="loader_8c_html_abeacb9a42f717e903d50c201dc035410"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a></div><div class="ttdeci">static void module_load_error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00269">loader.c:269</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="options_8h_html_a6da2c0ee84c135b777b761b443861f19"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a6da2c0ee84c135b777b761b443861f19">ast_fully_booted</a></div><div class="ttdeci">#define ast_fully_booted</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00115">options.h:115</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="loader_8c_html_a5e400c9a7efe02d48abcbb6740c88ce5"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5e400c9a7efe02d48abcbb6740c88ce5">unload_dynamic_module</a></div><div class="ttdeci">static void unload_dynamic_module(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01010">loader.c:1010</a></div></div>
<div class="ttc" id="asterisk_8h_html_a0eb0441c04955094ce5845fb0258645a"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a0eb0441c04955094ce5845fb0258645a">ast_shutdown_final</a></div><div class="ttdeci">int ast_shutdown_final(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l01829">asterisk.c:1829</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00090">module.h:90</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="loader_8c_html_a732387993922d623a1a0f5fcc4f91b3c"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a732387993922d623a1a0f5fcc4f91b3c">load_dynamic_module</a></div><div class="ttdeci">static struct ast_module * load_dynamic_module(const char *resource_in, unsigned int suppress_logging)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01155">loader.c:1155</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="loader_8c_html_ac262e8ae87d02b08cead525063bccf9d"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ac262e8ae87d02b08cead525063bccf9d">inspect_module</a></div><div class="ttdeci">static unsigned int inspect_module(const struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01651">loader.c:1651</a></div></div>
<div class="ttc" id="loader_8c_html_ab483ff3d8ae5b845583c324291fab438"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab483ff3d8ae5b845583c324291fab438">module_vector_cmp</a></div><div class="ttdeci">static int module_vector_cmp(struct ast_module *a, struct ast_module *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00371">loader.c:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3cfb64a65021446c76f29cc5d4d334e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cfb64a65021446c76f29cc5d4d334e1">&#9670;&nbsp;</a></span>load_resource_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_resource_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d56/structload__order.html">load_order</a> *&#160;</td>
          <td class="paramname"><em>load_order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>mod_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>loads modules in order by load_pri, updates mod_count </p><dl class="section return"><dt>Returns</dt><dd>-1 on failure to load module, -2 on failure to load required module, otherwise 0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02101">2101</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00102">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00090">AST_MODULE_LOAD_PRIORITY</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00084">AST_MODULE_LOAD_SKIP</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>, <a class="el" href="../../d2/d79/analys_8c_source.html#l00066">order</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01835">load_order_entry::preload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01834">load_order_entry::required</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01833">load_order_entry::resource</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02338">load_modules()</a>.</p>
<div class="fragment"><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;{</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;   <span class="keyword">struct </span>module_vector module_priorities;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d78/structload__order__entry.html">load_order_entry</a> *<a class="code" href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a>;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;   <span class="keywordtype">int</span> attempt = 0;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;   <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;   <span class="keywordtype">int</span> didwork;</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;   <span class="keywordtype">int</span> lasttry = 0;</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;module_priorities, 500)) {</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to initialize module loader.\n&quot;</span>);</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;   }</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;   <span class="keywordflow">while</span> (res != -2) {</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      didwork = 0;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(load_order, order, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;         <span class="keyword">enum</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> lres;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;         <span class="comment">/* Suppress log messages unless this is the last pass */</span></div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;         lres = <a class="code" href="../../d3/d96/loader_8c.html#ab143f0b545c2fe83ebacf96cf896246a">load_resource</a>(order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>, !lasttry, &amp;module_priorities, order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">required</a>, order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">preload</a>);</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;PASS %d: %-46s %d\n&quot;</span>, attempt, order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>, lres);</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;         <span class="keywordflow">switch</span> (lres) {</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>:</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a>:</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;            <span class="comment">/* We&#39;re supplying module_priorities so SUCCESS isn&#39;t possible but we</span></div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="comment">             * still have to test for it.  SKIP is only used when we try to start a</span></div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;<span class="comment">             * module that is missing dependencies. */</span></div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>:</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            res = -1;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>:</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;            <span class="comment">/* LOAD_FAILURE only happens for required modules */</span></div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;            <span class="keywordflow">if</span> (lasttry) {</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;               <span class="comment">/* This run is just to print errors. */</span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;               <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;*** Failed to load module %s - Required\n&quot;</span>, order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;               fprintf(stderr, <span class="stringliteral">&quot;*** Failed to load module %s - Required\n&quot;</span>, order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>);</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;               res =  -2;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            }</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a>:</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;            <span class="comment">/* load_resource worked and the module was added to module_priorities */</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>);</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(order);</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;            didwork = 1;</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;         }</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      }</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <span class="keywordflow">if</span> (!didwork) {</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;         <span class="keywordflow">if</span> (lasttry) {</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;         }</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;         <span class="comment">/* We know the next try is going to fail, it&#39;s only being performed</span></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<span class="comment">          * so we can print errors. */</span></div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;         lasttry = 1;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      }</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      attempt++;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;   }</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;   <span class="keywordflow">if</span> (res != -2) {</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      res = <a class="code" href="../../d3/d96/loader_8c.html#a177482b5f791fe9df1c25e322c140bfd">start_resource_list</a>(&amp;module_priorities, &amp;count);</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;   }</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;   <span class="keywordflow">if</span> (mod_count) {</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      *mod_count += count;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;   }</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;module_priorities);</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952df"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a></div><div class="ttdeci">ast_module_load_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00068">module.h:68</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="structload__order__entry_html"><div class="ttname"><a href="../../db/d78/structload__order__entry.html">load_order_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01832">loader.c:1832</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="loader_8c_html_abeacb9a42f717e903d50c201dc035410"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a></div><div class="ttdeci">static void module_load_error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00269">loader.c:269</a></div></div>
<div class="ttc" id="structload__order__entry_html_a84a316f22589622c8e3143d54ab52db7"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">load_order_entry::required</a></div><div class="ttdeci">int required</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01834">loader.c:1834</a></div></div>
<div class="ttc" id="structload__order__entry_html_add9403c2dd81e949c8c4aa872eabdcc7"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">load_order_entry::resource</a></div><div class="ttdeci">char * resource</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01833">loader.c:1833</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="analys_8c_html_aed7ca058008dc3e5ee131e575abed285"><div class="ttname"><a href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a></div><div class="ttdeci">integer order</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d79/analys_8c_source.html#l00066">analys.c:66</a></div></div>
<div class="ttc" id="loader_8c_html_a177482b5f791fe9df1c25e322c140bfd"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a177482b5f791fe9df1c25e322c140bfd">start_resource_list</a></div><div class="ttdeci">static int start_resource_list(struct module_vector *resources, int *mod_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01969">loader.c:1969</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00090">module.h:90</a></div></div>
<div class="ttc" id="structload__order__entry_html_aa7442ff7d688c7deb31ca8e2842343f8"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">load_order_entry::preload</a></div><div class="ttdeci">int preload</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01835">loader.c:1835</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00084">module.h:84</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="loader_8c_html_ab143f0b545c2fe83ebacf96cf896246a"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab143f0b545c2fe83ebacf96cf896246a">load_resource</a></div><div class="ttdeci">static enum ast_module_load_result load_resource(const char *resource_name, unsigned int suppress_logging, struct module_vector *module_priorities, int required, int preload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01763">loader.c:1763</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad380fd91a2fa9b8de2acd7cc8274297c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad380fd91a2fa9b8de2acd7cc8274297c">&#9670;&nbsp;</a></span>loader_builtin_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int loader_builtin_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d56/structload__order.html">load_order</a> *&#160;</td>
          <td class="paramname"><em>load_order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02179">2179</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l01842">add_to_load_order()</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l01141">AST_DLLIST_REMOVE_HEAD</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00659">ast_module_register()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00326">ast_module::builtin</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00364">builtin_module_list</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00150">loader_ready</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00732">module_post_register()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02338">load_modules()</a>.</p>
<div class="fragment"><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;{</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;<span class="comment">    * All built-in modules have registered the first time, now it&#39;s time to complete</span></div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;<span class="comment">    * the registration and add them to the priority list.</span></div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a63792b1ca1cd1436e3667028f8f0285f">loader_ready</a> = 1;</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;   <span class="keywordflow">while</span> ((<a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a> = <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a7133f3959dea100b4eeaeeadf295d700">AST_DLLIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#ab7fa704cd26e5ef5affa89a62e9fffd1">builtin_module_list</a>, <a class="code" href="../../d3/d96/structentry.html">entry</a>))) {</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;      <span class="comment">/* ast_module_register doesn&#39;t finish when first run by built-in modules. */</span></div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a2e7cd0c758d1be01319bdb127080061a">ast_module_register</a>(<a class="code" href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a>-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>);</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;   }</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;   <span class="comment">/* Add all built-in modules to the load order. */</span></div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;      <span class="keywordflow">if</span> (!mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">builtin</a>) {</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      }</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      <span class="comment">/* Parse dependendencies from mod-&gt;info. */</span></div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a3531ad241e4f9cbdfd872dd8e9d7e564">module_post_register</a>(mod)) {</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      }</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      <span class="comment">/* Built-in modules are not preloaded, most have an early load priority. */</span></div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#aec5280a9b7c28a628f4e8704faa357a7">add_to_load_order</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, load_order, 0, 0, 1)) {</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      }</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;   }</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;}</div><div class="ttc" id="loader_8c_html_a2e7cd0c758d1be01319bdb127080061a"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a2e7cd0c758d1be01319bdb127080061a">ast_module_register</a></div><div class="ttdeci">void ast_module_register(const struct ast_module_info *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00659">loader.c:659</a></div></div>
<div class="ttc" id="loader_8c_html_a63792b1ca1cd1436e3667028f8f0285f"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a63792b1ca1cd1436e3667028f8f0285f">loader_ready</a></div><div class="ttdeci">static unsigned int loader_ready</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00150">loader.c:150</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="loader_8c_html_ab7fa704cd26e5ef5affa89a62e9fffd1"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab7fa704cd26e5ef5affa89a62e9fffd1">builtin_module_list</a></div><div class="ttdeci">static struct module_list builtin_module_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00364">loader.c:364</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a7133f3959dea100b4eeaeeadf295d700"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a7133f3959dea100b4eeaeeadf295d700">AST_DLLIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_DLLIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l01141">dlinkedlists.h:1141</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="loader_8c_html_a3531ad241e4f9cbdfd872dd8e9d7e564"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a3531ad241e4f9cbdfd872dd8e9d7e564">module_post_register</a></div><div class="ttdeci">static int module_post_register(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00732">loader.c:732</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="loader_8c_html_aec5280a9b7c28a628f4e8704faa357a7"><div class="ttname"><a href="../../d3/d96/loader_8c.html#aec5280a9b7c28a628f4e8704faa357a7">add_to_load_order</a></div><div class="ttdeci">static struct load_order_entry * add_to_load_order(const char *resource, struct load_order *load_order, int required, int preload, int builtin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01842">loader.c:1842</a></div></div>
<div class="ttc" id="loader_8c_html_afed3ca5c75a63241f94a6601b11148bf"><div class="ttname"><a href="../../d3/d96/loader_8c.html#afed3ca5c75a63241f94a6601b11148bf">resource_being_loaded</a></div><div class="ttdeci">static struct ast_module *volatile resource_being_loaded</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00650">loader.c:650</a></div></div>
<div class="ttc" id="structast__module_html_a835ea305371281793bcda066dec1d1fb"><div class="ttname"><a href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">ast_module::builtin</a></div><div class="ttdeci">unsigned int builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00326">loader.c:326</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86b6c100d7193cc6e704659ae31c4b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86b6c100d7193cc6e704659ae31c4b09">&#9670;&nbsp;</a></span>loader_config_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int loader_config_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d56/structload__order.html">load_order</a> *&#160;</td>
          <td class="paramname"><em>load_order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02214">2214</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l01842">add_to_load_order()</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00153">ast_config_AST_MODULE_DIR</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00059">AST_MODULE_CONFIG</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01836">load_order_entry::builtin</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00058">CONFIG_STATUS_FILEMISSING</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00048">done</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d2/d79/analys_8c_source.html#l00066">order</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01835">load_order_entry::preload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01834">load_order_entry::required</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01833">load_order_entry::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00917">resource_name_baselen()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00928">resource_name_match()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02338">load_modules()</a>.</p>
<div class="fragment"><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;{</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d78/structload__order__entry.html">load_order_entry</a> *<a class="code" href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a>;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { 0 };</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(<a class="code" href="../../d5/d16/module_8h.html#a9d567e7b64d402c1d710b9bd47679cd9">AST_MODULE_CONFIG</a>, <span class="stringliteral">&quot;&quot;</span> <span class="comment">/* core, can&#39;t reload */</span>, config_flags);</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;   <span class="keywordflow">if</span> (cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39bacaabcacf47583204c7634e64a2a0">CONFIG_STATUS_FILEMISSING</a> || cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;&#39;%s&#39; invalid or missing.\n&quot;</span>, <a class="code" href="../../d5/d16/module_8h.html#a9d567e7b64d402c1d710b9bd47679cd9">AST_MODULE_CONFIG</a>);</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;   }</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;   <span class="comment">/* first, find all the modules we have been explicitly requested to load */</span></div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;   <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;modules&quot;</span>); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;      <span class="keywordtype">int</span> required;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      <span class="keywordtype">int</span> preload = 0;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;preload&quot;</span>, strlen(<span class="stringliteral">&quot;preload&quot;</span>))) {</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;         preload = 1;</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;preload&quot;</span>)) {</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;            required = 0;</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;preload-require&quot;</span>)) {</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;            required = 1;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown configuration option &#39;%s&#39;&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;         }</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;load&quot;</span>)) {</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;         required = 0;</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;require&quot;</span>)) {</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;         required = 1;</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;noload&quot;</span>) || !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;autoload&quot;</span>)) {</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown configuration option &#39;%s&#39;&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      }</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;      <span class="keywordflow">if</span> (required) {</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Adding module to required list: %s (%s)\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;      }</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#aec5280a9b7c28a628f4e8704faa357a7">add_to_load_order</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, load_order, required, preload, 0)) {</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;      }</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;   }</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;   <span class="comment">/* check if &#39;autoload&#39; is on */</span></div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;modules&quot;</span>, <span class="stringliteral">&quot;autoload&quot;</span>))) {</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <span class="comment">/* if we are allowed to load dynamic modules, scan the directory for</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="comment">         for all available modules and add them as well */</span></div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;      DIR *dir = opendir(<a class="code" href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a>);</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      <span class="keyword">struct </span>dirent *dirent;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      <span class="keywordflow">if</span> (dir) {</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;         <span class="keywordflow">while</span> ((dirent = readdir(dir))) {</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <span class="keywordtype">int</span> ld = strlen(dirent-&gt;d_name);</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            <span class="comment">/* Must end in .so to load it.  */</span></div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;            <span class="keywordflow">if</span> (ld &lt; 4)</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;            <span class="keywordflow">if</span> (strcasecmp(dirent-&gt;d_name + ld - 3, <span class="stringliteral">&quot;.so&quot;</span>))</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            <span class="comment">/* if there is already a module by this name in the module_list,</span></div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">               skip this file */</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(dirent-&gt;d_name, 0))</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#aec5280a9b7c28a628f4e8704faa357a7">add_to_load_order</a>(dirent-&gt;d_name, load_order, 0, 0, 0)) {</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;               closedir(dir);</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;               <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            }</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;         }</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;         closedir(dir);</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to open modules directory &#39;%s&#39;.\n&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a>);</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      }</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;   }</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;   <span class="comment">/* now scan the config for any modules we are prohibited from loading and</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="comment">      remove them from the load order */</span></div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;   <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;modules&quot;</span>); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <span class="keywordtype">size_t</span> baselen;</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;noload&quot;</span>)) {</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      }</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      baselen = <a class="code" href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(load_order, order, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, baselen, order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>)) {</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;            <span class="keywordflow">if</span> (order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#a829c1e34f68e38e6ee97cf44ed4d8315">builtin</a>) {</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;%s is a built-in module, you cannot specify &#39;noload&#39;.\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;               <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;            }</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;            <span class="keywordflow">if</span> (order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">required</a>) {</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;%s is configured with &#39;%s&#39; and &#39;noload&#39;, this is impossible.\n&quot;</span>,</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;                  v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">preload</a> ? <span class="stringliteral">&quot;preload-require&quot;</span> : <span class="stringliteral">&quot;require&quot;</span>);</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;               <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;            }</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(order-&gt;<a class="code" href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">resource</a>);</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(order);</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;         }</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      }</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   }</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;   res = 0;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="paths_8h_html_a5852d8e3bf5485c09b0f3d2c2375eec3"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a></div><div class="ttdeci">const char * ast_config_AST_MODULE_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00153">options.c:153</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="structload__order__entry_html"><div class="ttname"><a href="../../db/d78/structload__order__entry.html">load_order_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01832">loader.c:1832</a></div></div>
<div class="ttc" id="loader_8c_html_a5f72e7e80873f05719c41b557a395143"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5f72e7e80873f05719c41b557a395143">resource_name_match</a></div><div class="ttdeci">static int resource_name_match(const char *name1, size_t baselen1, const char *name2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00928">loader.c:928</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="test__amihooks_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/test__amihooks_8c_source.html#l00048">test_amihooks.c:48</a></div></div>
<div class="ttc" id="structload__order__entry_html_a84a316f22589622c8e3143d54ab52db7"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#a84a316f22589622c8e3143d54ab52db7">load_order_entry::required</a></div><div class="ttdeci">int required</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01834">loader.c:1834</a></div></div>
<div class="ttc" id="structload__order__entry_html_add9403c2dd81e949c8c4aa872eabdcc7"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#add9403c2dd81e949c8c4aa872eabdcc7">load_order_entry::resource</a></div><div class="ttdeci">char * resource</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01833">loader.c:1833</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="analys_8c_html_aed7ca058008dc3e5ee131e575abed285"><div class="ttname"><a href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a></div><div class="ttdeci">integer order</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d79/analys_8c_source.html#l00066">analys.c:66</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="structload__order__entry_html_a829c1e34f68e38e6ee97cf44ed4d8315"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#a829c1e34f68e38e6ee97cf44ed4d8315">load_order_entry::builtin</a></div><div class="ttdeci">int builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01836">loader.c:1836</a></div></div>
<div class="ttc" id="loader_8c_html_aec5280a9b7c28a628f4e8704faa357a7"><div class="ttname"><a href="../../d3/d96/loader_8c.html#aec5280a9b7c28a628f4e8704faa357a7">add_to_load_order</a></div><div class="ttdeci">static struct load_order_entry * add_to_load_order(const char *resource, struct load_order *load_order, int required, int preload, int builtin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01842">loader.c:1842</a></div></div>
<div class="ttc" id="structload__order__entry_html_aa7442ff7d688c7deb31ca8e2842343f8"><div class="ttname"><a href="../../db/d78/structload__order__entry.html#aa7442ff7d688c7deb31ca8e2842343f8">load_order_entry::preload</a></div><div class="ttdeci">int preload</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01835">loader.c:1835</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="loader_8c_html_ad50dd3101474993b227de3e651457f15"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a></div><div class="ttdeci">static size_t resource_name_baselen(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00917">loader.c:917</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39bacaabcacf47583204c7634e64a2a0"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39bacaabcacf47583204c7634e64a2a0">CONFIG_STATUS_FILEMISSING</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEMISSING</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00058">include/asterisk/config.h:58</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="module_8h_html_a9d567e7b64d402c1d710b9bd47679cd9"><div class="ttname"><a href="../../d5/d16/module_8h.html#a9d567e7b64d402c1d710b9bd47679cd9">AST_MODULE_CONFIG</a></div><div class="ttdeci">#define AST_MODULE_CONFIG</div><div class="ttdoc">Module configuration file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00059">module.h:59</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afe2b0fb41793faa48b214a07c62c3875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2b0fb41793faa48b214a07c62c3875">&#9670;&nbsp;</a></span>loadresult2str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* loadresult2str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a>&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01514">1514</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00351">AST_MODULE_LOAD_UNKNOWN_STRING</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00341">load_results_map::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01531">publish_load_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;{</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d3/d96/loader_8c.html#aa3f3f0923632d6d19635aefc198d5123">load_results</a>); i++) {</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#aa3f3f0923632d6d19635aefc198d5123">load_results</a>[i].<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> == <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>) {</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d3/d96/loader_8c.html#aa3f3f0923632d6d19635aefc198d5123">load_results</a>[i].<a class="code" href="../../d0/dee/structload__results__map.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      }</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   }</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to find correct load result status. result %d\n&quot;</span>, <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d96/loader_8c.html#ab47dd1e5c0575322872962667c2b0c0c">AST_MODULE_LOAD_UNKNOWN_STRING</a>;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structload__results__map_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d0/dee/structload__results__map.html#a8f8f80d37794cde9472343e4487ba3eb">load_results_map::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00341">loader.c:341</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="loader_8c_html_ab47dd1e5c0575322872962667c2b0c0c"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab47dd1e5c0575322872962667c2b0c0c">AST_MODULE_LOAD_UNKNOWN_STRING</a></div><div class="ttdeci">#define AST_MODULE_LOAD_UNKNOWN_STRING</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00351">loader.c:351</a></div></div>
<div class="ttc" id="loader_8c_html_aa3f3f0923632d6d19635aefc198d5123"><div class="ttname"><a href="../../d3/d96/loader_8c.html#aa3f3f0923632d6d19635aefc198d5123">load_results</a></div><div class="ttdeci">static const struct load_results_map load_results[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00344">loader.c:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b2e521ef2d6a796923f8ed10ae68250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2e521ef2d6a796923f8ed10ae68250">&#9670;&nbsp;</a></span>logged_dlclose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void logged_dlclose </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lib</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>dlclose(), with failure logging. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00962">962</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00290">AST_LOG_ERROR</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00999">error()</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00991">is_module_loaded()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01070">load_dlopen()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01155">load_dynamic_module()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">unload_dynamic_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;{</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   <span class="keywordflow">if</span> (!lib) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;   }</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   <span class="comment">/* Clear any existing error */</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   dlerror();</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <span class="keywordflow">if</span> (dlclose(lib)) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      error = dlerror();</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a>, <span class="stringliteral">&quot;Failure in dlclose for module &#39;%s&#39;: %s\n&quot;</span>,</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;unknown&quot;</span>), <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(error, <span class="stringliteral">&quot;Unknown error&quot;</span>));</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="preprocessor">#if defined(HAVE_PERMANENT_DLOPEN)</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      manual_mod_unreg(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;}</div><div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_a2fdd5bff193a29ec6c7278da2851ea56"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2fdd5bff193a29ec6c7278da2851ea56">AST_LOG_ERROR</a></div><div class="ttdeci">#define AST_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00290">logger.h:290</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a68cbff8d916e2246e6769fcfceaad514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68cbff8d916e2246e6769fcfceaad514">&#9670;&nbsp;</a></span>module_deps_missing_recursive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_deps_missing_recursive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct module_vector *&#160;</td>
          <td class="paramname"><em>missingdeps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively find required dependencies that are not running. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>Module to scan for dependencies. </td></tr>
    <tr><td class="paramname">missingdeps</td><td>Vector listing modules that must be started first.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>All dependencies resolved. </td></tr>
    <tr><td class="paramname">-1</td><td>Failed to resolve some dependencies.</td></tr>
  </table>
  </dd>
</dl>
<p>An error from this function usually means a required module is not even loaded. This function is safe from infinite recursion, but dependency loops are not reported as an error from here. On success missingdeps will contain a list of every module that needs to be running before this module can start. missingdeps is sorted by load priority so any missing dependencies can be started if needed. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00566">566</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00371">AST_VECTOR_ADD_SORTED</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00564">AST_VECTOR_ELEM_DEFAULT_CMP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00733">AST_VECTOR_GET_CMP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00412">AST_VECTOR_REMOVE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00534">module_deps_reference()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00371">module_vector_cmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01906">resource_list_recursive_decline()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">start_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;{</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   <span class="keyword">struct </span>ast_vector_const_string localdeps;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *dep;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">    * localdeps stores a copy of all dependencies that mod could not reference.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">    * First we discard modules that we&#39;ve already found. We add all newly found</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">    * modules to the missingdeps vector then scan them recursively.  This will</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">    * ensure we quickly run out of stuff to do.</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;localdeps, 0);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a>(mod, &amp;localdeps)) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">goto</span> clean_return;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <span class="keywordflow">while</span> (i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;localdeps)) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      dep = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(<a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;localdeps, i), 0);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">if</span> (!dep) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;         <span class="keywordflow">goto</span> clean_return;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a>(missingdeps, dep, <a class="code" href="../../d6/d68/vector_8h.html#a815f68701a777bc620e8e24565ac0236">AST_VECTOR_ELEM_DEFAULT_CMP</a>)) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;         <span class="comment">/* Skip common dependency.  We have already searched it. */</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#abe6d979239bef1a97d069b1a10c7d35c">AST_VECTOR_REMOVE</a>(&amp;localdeps, i, 0);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;         <span class="comment">/* missingdeps is the real list so keep it sorted. */</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a8418853c95c2093a85174233f0ef4827">AST_VECTOR_ADD_SORTED</a>(missingdeps, dep, <a class="code" href="../../d3/d96/loader_8c.html#ab483ff3d8ae5b845583c324291fab438">module_vector_cmp</a>)) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">goto</span> clean_return;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;         }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;         i++;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   res = 0;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keywordflow">for</span> (i = 0; !res &amp;&amp; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;localdeps); i++) {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      dep = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(<a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;localdeps, i), 0);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">/* We&#39;ve already confirmed dep is loaded in the first loop. */</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      res = <a class="code" href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a>(dep, missingdeps);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;clean_return:</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;localdeps);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="vector_8h_html_a8418853c95c2093a85174233f0ef4827"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a8418853c95c2093a85174233f0ef4827">AST_VECTOR_ADD_SORTED</a></div><div class="ttdeci">#define AST_VECTOR_ADD_SORTED(vec, elem, cmp)</div><div class="ttdoc">Add an element into a sorted vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00371">vector.h:371</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="vector_8h_html_a815f68701a777bc620e8e24565ac0236"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a815f68701a777bc620e8e24565ac0236">AST_VECTOR_ELEM_DEFAULT_CMP</a></div><div class="ttdeci">#define AST_VECTOR_ELEM_DEFAULT_CMP(elem, value)</div><div class="ttdoc">Default comparator for AST_VECTOR_REMOVE_ELEM_UNORDERED() </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00564">vector.h:564</a></div></div>
<div class="ttc" id="loader_8c_html_a68cbff8d916e2246e6769fcfceaad514"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a></div><div class="ttdeci">static int module_deps_missing_recursive(struct ast_module *mod, struct module_vector *missingdeps)</div><div class="ttdoc">Recursively find required dependencies that are not running. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00566">loader.c:566</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="vector_8h_html_a7851644ae05acad1ab8b970ccfb172ba"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a></div><div class="ttdeci">#define AST_VECTOR_GET_CMP(vec, value, cmp)</div><div class="ttdoc">Get an element from a vector that matches the given comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00733">vector.h:733</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_a507ce938f37ed6a435d24c2facfbdc71"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a></div><div class="ttdeci">static int module_deps_reference(struct ast_module *mod, struct ast_vector_const_string *missing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00534">loader.c:534</a></div></div>
<div class="ttc" id="vector_8h_html_abe6d979239bef1a97d069b1a10c7d35c"><div class="ttname"><a href="../../d6/d68/vector_8h.html#abe6d979239bef1a97d069b1a10c7d35c">AST_VECTOR_REMOVE</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE(vec, idx, preserve_ordered)</div><div class="ttdoc">Remove an element from a vector by index. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00412">vector.h:412</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="loader_8c_html_ab483ff3d8ae5b845583c324291fab438"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab483ff3d8ae5b845583c324291fab438">module_vector_cmp</a></div><div class="ttdeci">static int module_vector_cmp(struct ast_module *a, struct ast_module *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00371">loader.c:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab486a5540cad4c655e97747984d4cb2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab486a5540cad4c655e97747984d4cb2c">&#9670;&nbsp;</a></span>module_deps_process_reqlist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_deps_process_reqlist </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_vector_string *&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_vector_const_string *&#160;</td>
          <td class="paramname"><em>missing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ref_enhancers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>isoptional</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00485">485</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00416">module_reffed_deps_add()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00448">module_reffed_deps_add_dep_enhancers()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00534">module_deps_reference()</a>.</p>
<div class="fragment"><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;{</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(vec); idx++) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *depname = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(vec, idx);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *dep = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(depname, 0);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">if</span> (!dep || !dep-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;         <span class="keywordflow">if</span> (isoptional &amp;&amp; !dep) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;         }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;         <span class="keywordflow">if</span> (missing &amp;&amp; !<a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(missing, depname)) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;         }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a9b5dd9f9353188acb7aabf7a82b9ee7f">module_reffed_deps_add</a>(mod, dep, missing)) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">if</span> (ref_enhancers &amp;&amp; <a class="code" href="../../d3/d96/loader_8c.html#ab20d4d88475312238b5739c27a18a741">module_reffed_deps_add_dep_enhancers</a>(mod, dep, missing)) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div><div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="loader_8c_html_ab20d4d88475312238b5739c27a18a741"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab20d4d88475312238b5739c27a18a741">module_reffed_deps_add_dep_enhancers</a></div><div class="ttdeci">static int module_reffed_deps_add_dep_enhancers(struct ast_module *mod, struct ast_module *dep, struct ast_vector_const_string *missing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00448">loader.c:448</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="loader_8c_html_a9b5dd9f9353188acb7aabf7a82b9ee7f"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a9b5dd9f9353188acb7aabf7a82b9ee7f">module_reffed_deps_add</a></div><div class="ttdeci">static int module_reffed_deps_add(struct ast_module *mod, struct ast_module *dep, struct ast_vector_const_string *missing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00416">loader.c:416</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a507ce938f37ed6a435d24c2facfbdc71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507ce938f37ed6a435d24c2facfbdc71">&#9670;&nbsp;</a></span>module_deps_reference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_deps_reference </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_vector_const_string *&#160;</td>
          <td class="paramname"><em>missing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00534">534</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00309">ast_module::enhances</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00485">module_deps_process_reqlist()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00307">ast_module::optional_modules</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00305">ast_module::requires</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00566">module_deps_missing_recursive()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">start_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01878">start_resource_attempt()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;{</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   <span class="comment">/* Grab references to modules we enhance but not other enhancements. */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   res |= <a class="code" href="../../d3/d96/loader_8c.html#ab486a5540cad4c655e97747984d4cb2c">module_deps_process_reqlist</a>(mod, &amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">enhances</a>, missing, 0, 0);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="comment">/* Grab references to modules we require plus enhancements. */</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   res |= <a class="code" href="../../d3/d96/loader_8c.html#ab486a5540cad4c655e97747984d4cb2c">module_deps_process_reqlist</a>(mod, &amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">requires</a>, missing, 1, 0);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   <span class="comment">/* Grab references to optional modules including enhancements. */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   res |= <a class="code" href="../../d3/d96/loader_8c.html#ab486a5540cad4c655e97747984d4cb2c">module_deps_process_reqlist</a>(mod, &amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">optional_modules</a>, missing, 1, 1);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="ttc" id="structast__module_html_aff7b1c595dc1dd848cec8bd49e65ba5e"><div class="ttname"><a href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">ast_module::enhances</a></div><div class="ttdeci">struct ast_vector_string enhances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00309">loader.c:309</a></div></div>
<div class="ttc" id="structast__module_html_a543acd2e8bdfacdbd5be239958e40614"><div class="ttname"><a href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">ast_module::optional_modules</a></div><div class="ttdeci">struct ast_vector_string optional_modules</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00307">loader.c:307</a></div></div>
<div class="ttc" id="structast__module_html_a48f30df52d1f0c51cc8f7c20b11eec44"><div class="ttname"><a href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">ast_module::requires</a></div><div class="ttdeci">struct ast_vector_string requires</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00305">loader.c:305</a></div></div>
<div class="ttc" id="loader_8c_html_ab486a5540cad4c655e97747984d4cb2c"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab486a5540cad4c655e97747984d4cb2c">module_deps_process_reqlist</a></div><div class="ttdeci">static int module_deps_process_reqlist(struct ast_module *mod, struct ast_vector_string *vec, struct ast_vector_const_string *missing, int ref_enhancers, int isoptional)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00485">loader.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95d38865fb6c00613b03a3e130c907bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d38865fb6c00613b03a3e130c907bb">&#9670;&nbsp;</a></span>module_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void module_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00744">744</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00652">AST_LIST_HEAD_DESTROY</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00469">ast_module_unref</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01766">ast_std_free()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00865">AST_VECTOR_CALLBACK_VOID</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00326">ast_module::builtin</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00309">ast_module::enhances</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00307">ast_module::optional_modules</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00296">ast_module::ref_debug</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00317">ast_module::reffed_deps</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00305">ast_module::requires</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00302">ast_module::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00768">ast_module_unregister()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01182">modules_shutdown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;{</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">requires</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">requires</a>);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">optional_modules</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">optional_modules</a>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">enhances</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">enhances</a>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <span class="comment">/* Release references to all dependencies. */</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">reffed_deps</a>, <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">reffed_deps</a>);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a47bafe663a14b91827082787d7654d7c">AST_LIST_HEAD_DESTROY</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">users</a>);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ref_debug</a>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">builtin</a>) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a1b7699f7e51f653f1032daa2df2319cd">ast_std_free</a>(mod);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(mod);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="astmm_8h_html_a1b7699f7e51f653f1032daa2df2319cd"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a1b7699f7e51f653f1032daa2df2319cd">ast_std_free</a></div><div class="ttdeci">void ast_std_free(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01766">astmm.c:1766</a></div></div>
<div class="ttc" id="structast__module_html_a036f5d6b841eb6c93b9e24425c1bff72"><div class="ttname"><a href="../../d9/df5/structast__module.html#a036f5d6b841eb6c93b9e24425c1bff72">ast_module::users</a></div><div class="ttdeci">struct module_user_list users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00302">loader.c:302</a></div></div>
<div class="ttc" id="module_8h_html_a15896c26e51e8162df5eb9a0124c841f"><div class="ttname"><a href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a></div><div class="ttdeci">#define ast_module_unref(mod)</div><div class="ttdoc">Release a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00469">module.h:469</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a47bafe663a14b91827082787d7654d7c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a47bafe663a14b91827082787d7654d7c">AST_LIST_HEAD_DESTROY</a></div><div class="ttdeci">#define AST_LIST_HEAD_DESTROY(head)</div><div class="ttdoc">Destroys a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00652">linkedlists.h:652</a></div></div>
<div class="ttc" id="structast__module_html_aff7b1c595dc1dd848cec8bd49e65ba5e"><div class="ttname"><a href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">ast_module::enhances</a></div><div class="ttdeci">struct ast_vector_string enhances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00309">loader.c:309</a></div></div>
<div class="ttc" id="structast__module_html_a543acd2e8bdfacdbd5be239958e40614"><div class="ttname"><a href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">ast_module::optional_modules</a></div><div class="ttdeci">struct ast_vector_string optional_modules</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00307">loader.c:307</a></div></div>
<div class="ttc" id="structast__module_html_a48f30df52d1f0c51cc8f7c20b11eec44"><div class="ttname"><a href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">ast_module::requires</a></div><div class="ttdeci">struct ast_vector_string requires</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00305">loader.c:305</a></div></div>
<div class="ttc" id="structast__module_html_a090ac02c52c0fb7908da14ba853c55ed"><div class="ttname"><a href="../../d9/df5/structast__module.html#a090ac02c52c0fb7908da14ba853c55ed">ast_module::ref_debug</a></div><div class="ttdeci">void * ref_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00296">loader.c:296</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__module_html_a835ea305371281793bcda066dec1d1fb"><div class="ttname"><a href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">ast_module::builtin</a></div><div class="ttdeci">unsigned int builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00326">loader.c:326</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_a62aae0135470cb1390b8429638b02332"><div class="ttname"><a href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">ast_module::reffed_deps</a></div><div class="ttdeci">struct module_vector reffed_deps</div><div class="ttdoc">Vector holding pointers to modules we have a reference to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00317">loader.c:317</a></div></div>
<div class="ttc" id="vector_8h_html_aeb9853664dde8a7df8bc7ea180d73d54"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a></div><div class="ttdeci">#define AST_VECTOR_CALLBACK_VOID(vec, callback,...)</div><div class="ttdoc">Execute a callback on every element in a vector disregarding callback return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00865">vector.h:865</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abeacb9a42f717e903d50c201dc035410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeacb9a42f717e903d50c201dc035410">&#9670;&nbsp;</a></span>module_load_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void module_load_error </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">269</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02110">ast_log_ap()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00982">ast_str_set_va()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l04629">copy()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00153">startup_errors</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01651">inspect_module()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01070">load_dlopen()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02101">load_resource_list()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01906">resource_list_recursive_decline()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">start_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01878">start_resource_attempt()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   va_list ap;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a>) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a271350c7540474095b75cbea17d4837a">ast_str_set_va</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a>, 0, fmt, ap);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      copy = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(<a class="code" href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a>));</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">if</span> (!copy || <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;<a class="code" href="../../d3/d96/loader_8c.html#a7009e38410774eddfee7838dc45137b3">startup_errors</a>, copy)) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(<a class="code" href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a>));</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(copy);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a88b95c279d534db8de80accfb4570e95">ast_log_ap</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, fmt, ap);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   va_end(ap);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="strings_8h_html_a271350c7540474095b75cbea17d4837a"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a271350c7540474095b75cbea17d4837a">ast_str_set_va</a></div><div class="ttdeci">int ast_str_set_va(struct ast_str **buf, ssize_t max_len, const char *fmt, va_list ap)</div><div class="ttdoc">Set a dynamic string from a va_list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00982">strings.h:982</a></div></div>
<div class="ttc" id="app__voicemail_8c_html_abe15777a07ac747625b018ac01f92531"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a></div><div class="ttdeci">static int copy(char *infile, char *outfile)</div><div class="ttdoc">Utility function to copy a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l04629">app_voicemail.c:4629</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="loader_8c_html_a868f4df6b093d8fb5403943de1b88c34"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a868f4df6b093d8fb5403943de1b88c34">startup_error_builder</a></div><div class="ttdeci">static struct ast_str * startup_error_builder</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00154">loader.c:154</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="loader_8c_html_a7009e38410774eddfee7838dc45137b3"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a7009e38410774eddfee7838dc45137b3">startup_errors</a></div><div class="ttdeci">static struct ast_vector_string startup_errors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00153">loader.c:153</a></div></div>
<div class="ttc" id="logger_8h_html_a88b95c279d534db8de80accfb4570e95"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a88b95c279d534db8de80accfb4570e95">ast_log_ap</a></div><div class="ttdeci">void ast_log_ap(int level, const char *file, int line, const char *function, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02110">logger.c:2110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af868e7e5e85f6170fac291fc9aff9167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af868e7e5e85f6170fac291fc9aff9167">&#9670;&nbsp;</a></span>module_load_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void module_load_helper </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01361">1361</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00153">ast_config_AST_MODULE_DIR</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01231">ast_file_read_dirs()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01329">module_load_helper_on_file()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01324">module_load_word::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01374">ast_module_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;{</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/da4/structmodule__load__word.html">module_load_word</a> word_l = {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      .<a class="code" href="../../df/da4/structmodule__load__word.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a> = <a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>,</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      .len = strlen(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>),</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      .moddir_len = strlen(<a class="code" href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a>),</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;   };</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;   <a class="code" href="../../d2/d4d/file_8h.html#a650841bb643208a8541172297dba1d99">ast_file_read_dirs</a>(<a class="code" href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a>, <a class="code" href="../../d3/d96/loader_8c.html#a1ab3c71067f8953f2fad586b6e07cf90">module_load_helper_on_file</a>, &amp;word_l, -1);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;}</div><div class="ttc" id="structmodule__load__word_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../df/da4/structmodule__load__word.html#adc1f34651f7bbfa3ba5af27db5f53817">module_load_word::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01324">loader.c:1324</a></div></div>
<div class="ttc" id="paths_8h_html_a5852d8e3bf5485c09b0f3d2c2375eec3"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a></div><div class="ttdeci">const char * ast_config_AST_MODULE_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00153">options.c:153</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_a1ab3c71067f8953f2fad586b6e07cf90"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a1ab3c71067f8953f2fad586b6e07cf90">module_load_helper_on_file</a></div><div class="ttdeci">static int module_load_helper_on_file(const char *dir_name, const char *filename, void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01329">loader.c:1329</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="file_8h_html_a650841bb643208a8541172297dba1d99"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a650841bb643208a8541172297dba1d99">ast_file_read_dirs</a></div><div class="ttdeci">int ast_file_read_dirs(const char *dir_name, ast_file_on_file on_file, void *obj, int max_depth)</div><div class="ttdoc">Recursively iterate through files and directories up to max_depth. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01231">file.c:1231</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="structmodule__load__word_html"><div class="ttname"><a href="../../df/da4/structmodule__load__word.html">module_load_word</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01323">loader.c:1323</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ab3c71067f8953f2fad586b6e07cf90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab3c71067f8953f2fad586b6e07cf90">&#9670;&nbsp;</a></span>module_load_helper_on_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_load_helper_on_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dir_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01329">1329</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00269">ast_asprintf</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02726">ast_cli_completion_add()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01325">module_load_word::len</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01326">module_load_word::moddir_len</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01324">module_load_word::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01361">module_load_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;{</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/da4/structmodule__load__word.html">module_load_word</a> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a> = obj;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="keywordtype">char</span> *filename_merged = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;   <span class="comment">/* dir_name will never be shorter than word-&gt;moddir_len. */</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;   dir_name += word-&gt;<a class="code" href="../../df/da4/structmodule__load__word.html#a26faba2c1f1321a31db306bc66f289f4">moddir_len</a>;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dir_name)) {</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(dir_name[0] == <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      dir_name += 1;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(&amp;filename_merged, <span class="stringliteral">&quot;%s/%s&quot;</span>, dir_name, filename) &lt; 0) {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;         <span class="comment">/* If we can&#39;t allocate the string just give up! */</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      }</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      filename = filename_merged;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;   }</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;   <span class="keywordflow">if</span> (!strncasecmp(filename, word-&gt;<a class="code" href="../../df/da4/structmodule__load__word.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, word-&gt;<a class="code" href="../../df/da4/structmodule__load__word.html#a7360b55975153b822efc5217b7734e6a">len</a>)) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="comment">/* Don&#39;t list files that are already loaded! */</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      mod = <a class="code" href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a>(filename, 0);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="keywordflow">if</span> (!mod || !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>) {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a6f5f6c330757d980065d3f887c62237f">ast_cli_completion_add</a>(<a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(filename));</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;   }</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(filename_merged);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;}</div><div class="ttc" id="structmodule__load__word_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../df/da4/structmodule__load__word.html#adc1f34651f7bbfa3ba5af27db5f53817">module_load_word::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01324">loader.c:1324</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ada667b6f84a08e6848cb37c5ffb94a5f"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a></div><div class="ttdeci">#define ast_asprintf(ret, fmt,...)</div><div class="ttdoc">A wrapper for asprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00269">astmm.h:269</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structmodule__load__word_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="../../df/da4/structmodule__load__word.html#a7360b55975153b822efc5217b7734e6a">module_load_word::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01325">loader.c:1325</a></div></div>
<div class="ttc" id="structmodule__load__word_html_a26faba2c1f1321a31db306bc66f289f4"><div class="ttname"><a href="../../df/da4/structmodule__load__word.html#a26faba2c1f1321a31db306bc66f289f4">module_load_word::moddir_len</a></div><div class="ttdeci">size_t moddir_len</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01326">loader.c:1326</a></div></div>
<div class="ttc" id="loader_8c_html_a5bfa4f5b3534c7b15263da6bec670e17"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a5bfa4f5b3534c7b15263da6bec670e17">find_resource</a></div><div class="ttdeci">static struct ast_module * find_resource(const char *resource, int do_lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00937">loader.c:937</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="cli_8h_html_a6f5f6c330757d980065d3f887c62237f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a6f5f6c330757d980065d3f887c62237f">ast_cli_completion_add</a></div><div class="ttdeci">int ast_cli_completion_add(char *value)</div><div class="ttdoc">Add a result to a request for completion options. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/main_2cli_8c_source.html#l02726">main/cli.c:2726</a></div></div>
<div class="ttc" id="structmodule__load__word_html"><div class="ttname"><a href="../../df/da4/structmodule__load__word.html">module_load_word</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01323">loader.c:1323</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ade039f491385a8ed2ea9668493b03eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade039f491385a8ed2ea9668493b03eb9">&#9670;&nbsp;</a></span>module_matches_helper_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_matches_helper_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68">ast_module_helper_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01299">1299</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00129">AST_MODULE_HELPER_LOADED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00131">AST_MODULE_HELPER_RELOAD</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00137">AST_MODULE_HELPER_RUNNING</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00135">AST_MODULE_HELPER_UNLOAD</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00346">ast_module_info::reload</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01374">ast_module_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;{</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a94f5601297965c442e89368ea4056165">AST_MODULE_HELPER_UNLOAD</a>:</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="keywordflow">return</span> !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a> &amp;&amp; mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> &amp;&amp; !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a34b04d5c4f36f36dc6b3568ba00607e0">AST_MODULE_HELPER_RELOAD</a>:</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="keywordflow">return</span> mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> &amp;&amp; mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ab90db509cfd1055638970ca6cfaef729">reload</a>;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68af2b7a80de6b847c1d09201166128ebdb">AST_MODULE_HELPER_RUNNING</a>:</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <span class="keywordflow">return</span> mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a5aefabfd802a86b13928fb84f12f1fd4">AST_MODULE_HELPER_LOADED</a>:</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="comment">/* if we have a &#39;struct ast_module&#39; then we&#39;re loaded. */</span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="comment">/* This function is not called for AST_MODULE_HELPER_LOAD. */</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <span class="comment">/* Unknown ast_module_helper_type. Assume it doesn&#39;t match. */</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68a34b04d5c4f36f36dc6b3568ba00607e0"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a34b04d5c4f36f36dc6b3568ba00607e0">AST_MODULE_HELPER_RELOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00131">module.h:131</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="structast__module__info_html_ab90db509cfd1055638970ca6cfaef729"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#ab90db509cfd1055638970ca6cfaef729">ast_module_info::reload</a></div><div class="ttdeci">int(* reload)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00346">module.h:346</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68a94f5601297965c442e89368ea4056165"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a94f5601297965c442e89368ea4056165">AST_MODULE_HELPER_UNLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00135">module.h:135</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68af2b7a80de6b847c1d09201166128ebdb"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68af2b7a80de6b847c1d09201166128ebdb">AST_MODULE_HELPER_RUNNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00137">module.h:137</a></div></div>
<div class="ttc" id="module_8h_html_af03b737dae4048bd0e3820aadc6b4e68a5aefabfd802a86b13928fb84f12f1fd4"><div class="ttname"><a href="../../d5/d16/module_8h.html#af03b737dae4048bd0e3820aadc6b4e68a5aefabfd802a86b13928fb84f12f1fd4">AST_MODULE_HELPER_LOADED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00129">module.h:129</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3531ad241e4f9cbdfd872dd8e9d7e564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3531ad241e4f9cbdfd872dd8e9d7e564">&#9670;&nbsp;</a></span>module_post_register()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_post_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00732">732</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d48/strings_8c_source.html#l00393">ast_vector_string_split()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00309">ast_module::enhances</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00406">ast_module_info::enhances</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00307">ast_module::optional_modules</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00383">ast_module_info::optional_modules</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00305">ast_module::requires</a>, and <a class="el" href="../../d5/d16/module_8h_source.html#l00373">ast_module_info::requires</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01070">load_dlopen()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02179">loader_builtin_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;{</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   <span class="comment">/* Split lists from mod-&gt;info. */</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   res  = <a class="code" href="../../d6/d68/vector_8h.html#ad02b9ae843760d190e24ff0b45b24ef0">ast_vector_string_split</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">requires</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a5adacfc3dd236e6edf3ce7b2fa88b5de">requires</a>, <span class="stringliteral">&quot;,&quot;</span>, 0, strcasecmp);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   res |= <a class="code" href="../../d6/d68/vector_8h.html#ad02b9ae843760d190e24ff0b45b24ef0">ast_vector_string_split</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">optional_modules</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a42ee97eedabbe66b094f630be5890a4b">optional_modules</a>, <span class="stringliteral">&quot;,&quot;</span>, 0, strcasecmp);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   res |= <a class="code" href="../../d6/d68/vector_8h.html#ad02b9ae843760d190e24ff0b45b24ef0">ast_vector_string_split</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">enhances</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ae567821479ec4edf306e906a5bec1988">enhances</a>, <span class="stringliteral">&quot;,&quot;</span>, 0, strcasecmp);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div><div class="ttc" id="structast__module__info_html_ae567821479ec4edf306e906a5bec1988"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#ae567821479ec4edf306e906a5bec1988">ast_module_info::enhances</a></div><div class="ttdeci">const char * enhances</div><div class="ttdoc">Modules that we provide enhanced functionality for. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00406">module.h:406</a></div></div>
<div class="ttc" id="structast__module__info_html_a5adacfc3dd236e6edf3ce7b2fa88b5de"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a5adacfc3dd236e6edf3ce7b2fa88b5de">ast_module_info::requires</a></div><div class="ttdeci">const char * requires</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00373">module.h:373</a></div></div>
<div class="ttc" id="structast__module_html_aff7b1c595dc1dd848cec8bd49e65ba5e"><div class="ttname"><a href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">ast_module::enhances</a></div><div class="ttdeci">struct ast_vector_string enhances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00309">loader.c:309</a></div></div>
<div class="ttc" id="structast__module__info_html_a42ee97eedabbe66b094f630be5890a4b"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a42ee97eedabbe66b094f630be5890a4b">ast_module_info::optional_modules</a></div><div class="ttdeci">const char * optional_modules</div><div class="ttdoc">Comma-separated list of optionally required modules. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00383">module.h:383</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="structast__module_html_a543acd2e8bdfacdbd5be239958e40614"><div class="ttname"><a href="../../d9/df5/structast__module.html#a543acd2e8bdfacdbd5be239958e40614">ast_module::optional_modules</a></div><div class="ttdeci">struct ast_vector_string optional_modules</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00307">loader.c:307</a></div></div>
<div class="ttc" id="structast__module_html_a48f30df52d1f0c51cc8f7c20b11eec44"><div class="ttname"><a href="../../d9/df5/structast__module.html#a48f30df52d1f0c51cc8f7c20b11eec44">ast_module::requires</a></div><div class="ttdeci">struct ast_vector_string requires</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00305">loader.c:305</a></div></div>
<div class="ttc" id="vector_8h_html_ad02b9ae843760d190e24ff0b45b24ef0"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad02b9ae843760d190e24ff0b45b24ef0">ast_vector_string_split</a></div><div class="ttdeci">int ast_vector_string_split(struct ast_vector_string *dest, const char *input, const char *delim, int flags, int(*excludes_cmp)(const char *s1, const char *s2))</div><div class="ttdoc">Append a string vector by splitting a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00393">strings.c:393</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b5dd9f9353188acb7aabf7a82b9ee7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b5dd9f9353188acb7aabf7a82b9ee7f">&#9670;&nbsp;</a></span>module_reffed_deps_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_reffed_deps_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>dep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_vector_const_string *&#160;</td>
          <td class="paramname"><em>missing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00416">416</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00443">ast_module_ref</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00564">AST_VECTOR_ELEM_DEFAULT_CMP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00733">AST_VECTOR_GET_CMP</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00317">ast_module::reffed_deps</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00485">module_deps_process_reqlist()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00448">module_reffed_deps_add_dep_enhancers()</a>.</p>
<div class="fragment"><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;{</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordflow">if</span> (!dep-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">return</span> !missing ? -1 : <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(missing, dep-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">reffed_deps</a>, dep, <a class="code" href="../../d6/d68/vector_8h.html#a815f68701a777bc620e8e24565ac0236">AST_VECTOR_ELEM_DEFAULT_CMP</a>)) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="comment">/* Skip duplicate. */</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">reffed_deps</a>, dep)) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a>(dep);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="vector_8h_html_a815f68701a777bc620e8e24565ac0236"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a815f68701a777bc620e8e24565ac0236">AST_VECTOR_ELEM_DEFAULT_CMP</a></div><div class="ttdeci">#define AST_VECTOR_ELEM_DEFAULT_CMP(elem, value)</div><div class="ttdoc">Default comparator for AST_VECTOR_REMOVE_ELEM_UNORDERED() </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00564">vector.h:564</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="structast__module__info_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">ast_module_info::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00350">module.h:350</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="vector_8h_html_a7851644ae05acad1ab8b970ccfb172ba"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a></div><div class="ttdeci">#define AST_VECTOR_GET_CMP(vec, value, cmp)</div><div class="ttdoc">Get an element from a vector that matches the given comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00733">vector.h:733</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_a62aae0135470cb1390b8429638b02332"><div class="ttname"><a href="../../d9/df5/structast__module.html#a62aae0135470cb1390b8429638b02332">ast_module::reffed_deps</a></div><div class="ttdeci">struct module_vector reffed_deps</div><div class="ttdoc">Vector holding pointers to modules we have a reference to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00317">loader.c:317</a></div></div>
<div class="ttc" id="module_8h_html_a8dea6491bedba471fc44574d76438577"><div class="ttname"><a href="../../d5/d16/module_8h.html#a8dea6491bedba471fc44574d76438577">ast_module_ref</a></div><div class="ttdeci">#define ast_module_ref(mod)</div><div class="ttdoc">Hold a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00443">module.h:443</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab20d4d88475312238b5739c27a18a741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab20d4d88475312238b5739c27a18a741">&#9670;&nbsp;</a></span>module_reffed_deps_add_dep_enhancers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_reffed_deps_add_dep_enhancers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>dep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_vector_const_string *&#160;</td>
          <td class="paramname"><em>missing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00448">448</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00733">AST_VECTOR_GET_CMP</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00309">ast_module::enhances</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00416">module_reffed_deps_add()</a>, and <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00485">module_deps_process_reqlist()</a>.</p>
<div class="fragment"><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;{</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *cur;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a>(&amp;cur-&gt;<a class="code" href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">enhances</a>, dep-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, !strcasecmp)) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;         <span class="comment">/* dep is not enhanced by cur. */</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="comment">/* dep is enhanced by cur, therefore mod requires cur. */</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a9b5dd9f9353188acb7aabf7a82b9ee7f">module_reffed_deps_add</a>(mod, cur, missing)) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="structast__module_html_aff7b1c595dc1dd848cec8bd49e65ba5e"><div class="ttname"><a href="../../d9/df5/structast__module.html#aff7b1c595dc1dd848cec8bd49e65ba5e">ast_module::enhances</a></div><div class="ttdeci">struct ast_vector_string enhances</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00309">loader.c:309</a></div></div>
<div class="ttc" id="structast__module__info_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">ast_module_info::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00350">module.h:350</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="vector_8h_html_a7851644ae05acad1ab8b970ccfb172ba"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a></div><div class="ttdeci">#define AST_VECTOR_GET_CMP(vec, value, cmp)</div><div class="ttdoc">Get an element from a vector that matches the given comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00733">vector.h:733</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="loader_8c_html_a9b5dd9f9353188acb7aabf7a82b9ee7f"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a9b5dd9f9353188acb7aabf7a82b9ee7f">module_reffed_deps_add</a></div><div class="ttdeci">static int module_reffed_deps_add(struct ast_module *mod, struct ast_module *dep, struct ast_vector_const_string *missing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00416">loader.c:416</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab483ff3d8ae5b845583c324291fab438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab483ff3d8ae5b845583c324291fab438">&#9670;&nbsp;</a></span>module_vector_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_vector_cmp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00371">371</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00332">AST_MODPRI_DEFAULT</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00370">ast_module_info::load_pri</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00330">ast_module::preload</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00566">module_deps_missing_recursive()</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <span class="keywordtype">int</span> preload_diff = (int)b-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#ab528d71464599c7569334b249a508f2a">preload</a> - (<span class="keywordtype">int</span>)a-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#ab528d71464599c7569334b249a508f2a">preload</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="comment">/* if load_pri is not set, default is 128.  Lower is better */</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordtype">int</span> a_pri = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(a-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>, <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a>)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      ? a-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a9f09e03643dc099a3e6e6e0020a84d70">load_pri</a> : <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordtype">int</span> b_pri = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(b-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>, <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a>)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      ? b-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a9f09e03643dc099a3e6e6e0020a84d70">load_pri</a> : <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordflow">if</span> (preload_diff) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="comment">/* -1 preload a but not b */</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="comment">/*  0 preload both or neither */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="comment">/*  1 preload b but not a */</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">return</span> preload_diff;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">    * Returns comparison values for a vector sorted by priority.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">    * &lt;0 a_pri &lt; b_pri</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">    * =0 a_pri == b_pri</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">    * &gt;0 a_pri &gt; b_pri</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">return</span> a_pri - b_pri;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__module_html_ab528d71464599c7569334b249a508f2a"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab528d71464599c7569334b249a508f2a">ast_module::preload</a></div><div class="ttdeci">unsigned int preload</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00330">loader.c:330</a></div></div>
<div class="ttc" id="structast__module__info_html_a9f09e03643dc099a3e6e6e0020a84d70"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a9f09e03643dc099a3e6e6e0020a84d70">ast_module_info::load_pri</a></div><div class="ttdeci">unsigned char load_pri</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00370">module.h:370</a></div></div>
<div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00317">module.h:317</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00332">module.h:332</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afdb041ec2a672fa036781d7c2cdc7ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb041ec2a672fa036781d7c2cdc7ff6">&#9670;&nbsp;</a></span>module_vector_strcasecmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int module_vector_strcasecmp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00366">366</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02550">alpha_module_list_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <span class="keywordflow">return</span> strcasecmp(a-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, b-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a090952bbd448a14d7cad9b960f520c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090952bbd448a14d7cad9b960f520c32">&#9670;&nbsp;</a></span>modules_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int modules_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provided by loader.c </p>
<dl class="section note"><dt>Note</dt><dd>Some resources, like timers, are started up dynamically, and thus may be still in use, even if all channels are dead. We must therefore check the usecount before asking modules to unload. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01182">1182</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00468">AST_DLLIST_EMPTY</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00752">AST_DLLIST_REMOVE_CURRENT</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00575">AST_DLLIST_TRAVERSE</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00887">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00920">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00469">ast_module_unref</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00324">ast_module::keepuntilshutdown</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00744">module_destroy()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00348">ast_module_info::unload</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00300">ast_module::usecount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l02004">really_quit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;{</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;   <span class="keywordtype">int</span> somethingchanged;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment">   /*!\note Some resources, like timers, are started up dynamically, and thus</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">    * may be still in use, even if all channels are dead.  We must therefore</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">    * check the usecount before asking modules to unload. */</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <span class="comment">/* Reset flag before traversing the list */</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      somethingchanged = 0;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a05e53f1c09d4e45309496ce2776d9fe4">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;         <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>) {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Passing on %s: its use count is %d\n&quot;</span>,</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;               mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">usecount</a>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;         }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;         <a class="code" href="../../d0/d43/dlinkedlists_8h.html#ab06b2888f6ac58baf6005ed8fd0245c6">AST_DLLIST_REMOVE_CURRENT</a>(<a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;         <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> &amp;&amp; !mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> &amp;&amp; mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ad0b80e76c21ce546ae00d081e8b84b48">unload</a>) {</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Unloading %s\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;            mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#ad0b80e76c21ce546ae00d081e8b84b48">unload</a>();</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;         }</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#a95d38865fb6c00613b03a3e130c907bb">module_destroy</a>(mod);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;         somethingchanged = 1;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      }</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <a class="code" href="../../d0/d43/dlinkedlists_8h.html#afb668b38499833530e0741be25becd39">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a>;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <span class="keywordflow">if</span> (!somethingchanged) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;         <a class="code" href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">keepuntilshutdown</a>) {</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;               <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(mod);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;               mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">keepuntilshutdown</a> = 0;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;               somethingchanged = 1;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            }</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;         }</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      }</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   } <span class="keywordflow">while</span> (somethingchanged);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;   res = <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a0a8c2aa62310165b41265294ce44db42">AST_DLLIST_EMPTY</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   <span class="keywordflow">return</span> !res;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div><div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="loader_8c_html_a95d38865fb6c00613b03a3e130c907bb"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a95d38865fb6c00613b03a3e130c907bb">module_destroy</a></div><div class="ttdeci">static void module_destroy(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00744">loader.c:744</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a05e53f1c09d4e45309496ce2776d9fe4"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a05e53f1c09d4e45309496ce2776d9fe4">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00887">dlinkedlists.h:887</a></div></div>
<div class="ttc" id="structast__module_html_ab0f2e84f976dc042139d37fd1c28d73b"><div class="ttname"><a href="../../d9/df5/structast__module.html#ab0f2e84f976dc042139d37fd1c28d73b">ast_module::usecount</a></div><div class="ttdeci">int usecount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00300">loader.c:300</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_ab06b2888f6ac58baf6005ed8fd0245c6"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#ab06b2888f6ac58baf6005ed8fd0245c6">AST_DLLIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_DLLIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00752">dlinkedlists.h:752</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="module_8h_html_a15896c26e51e8162df5eb9a0124c841f"><div class="ttname"><a href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a></div><div class="ttdeci">#define ast_module_unref(mod)</div><div class="ttdoc">Release a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00469">module.h:469</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_aaab7523863202cecf956b74c11d4ee4a"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#aaab7523863202cecf956b74c11d4ee4a">AST_DLLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00575">dlinkedlists.h:575</a></div></div>
<div class="ttc" id="structast__module__info_html_ad0b80e76c21ce546ae00d081e8b84b48"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#ad0b80e76c21ce546ae00d081e8b84b48">ast_module_info::unload</a></div><div class="ttdeci">int(* unload)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00348">module.h:348</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a0a8c2aa62310165b41265294ce44db42"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a0a8c2aa62310165b41265294ce44db42">AST_DLLIST_EMPTY</a></div><div class="ttdeci">#define AST_DLLIST_EMPTY(head)</div><div class="ttdoc">Checks whether the specified list contains any entries. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00468">dlinkedlists.h:468</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_afb668b38499833530e0741be25becd39"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#afb668b38499833530e0741be25becd39">AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</a></div><div class="ttdeci">#define AST_DLLIST_TRAVERSE_BACKWARDS_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00920">dlinkedlists.h:920</a></div></div>
<div class="ttc" id="structast__module_html_a84a2c52e4b546ee4761dfce7ddeea601"><div class="ttname"><a href="../../d9/df5/structast__module.html#a84a2c52e4b546ee4761dfce7ddeea601">ast_module::keepuntilshutdown</a></div><div class="ttdeci">unsigned int keepuntilshutdown</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00324">loader.c:324</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3d241d42a14083d24f97bd7ea0d9117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d241d42a14083d24f97bd7ea0d9117">&#9670;&nbsp;</a></span>printdigest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int printdigest </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00875">875</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, and <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00900">verify_key()</a>.</p>
<div class="fragment"><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;{</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <span class="keywordtype">int</span> x, pos;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256]; <span class="comment">/* large enough so we don&#39;t have to worry */</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <span class="keywordflow">for</span> (pos = 0, x = 0; x &lt; 16; x++)</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      pos += sprintf(buf + pos, <span class="stringliteral">&quot; %02hhx&quot;</span>, *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>++);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Unexpected signature:%s\n&quot;</span>, buf);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a156f09c32102fa036620ad75c3ee4fbf"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a></div><div class="ttdeci">static struct test_val d</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00049">test_linkedlists.c:49</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af5b69a9fafd733008e4107b5b9b5fa6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5b69a9fafd733008e4107b5b9b5fa6a">&#9670;&nbsp;</a></span>publish_load_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void publish_load_message </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a>&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01531">1531</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l01514">loadresult2str()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01475">publish_load_message_type()</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00146">status</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;{</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   status = <a class="code" href="../../d3/d96/loader_8c.html#afe2b0fb41793faa48b214a07c62c3875">loadresult2str</a>(<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a4e2dd38a08f60c3d38b1493b904c12a8">publish_load_message_type</a>(<span class="stringliteral">&quot;Load&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, status);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;}</div><div class="ttc" id="loader_8c_html_a4e2dd38a08f60c3d38b1493b904c12a8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a4e2dd38a08f60c3d38b1493b904c12a8">publish_load_message_type</a></div><div class="ttdeci">static void publish_load_message_type(const char *type, const char *name, const char *status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01475">loader.c:1475</a></div></div>
<div class="ttc" id="loader_8c_html_afe2b0fb41793faa48b214a07c62c3875"><div class="ttname"><a href="../../d3/d96/loader_8c.html#afe2b0fb41793faa48b214a07c62c3875">loadresult2str</a></div><div class="ttdeci">static const char * loadresult2str(enum ast_module_load_result result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01514">loader.c:1514</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e2dd38a08f60c3d38b1493b904c12a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e2dd38a08f60c3d38b1493b904c12a8">&#9670;&nbsp;</a></span>publish_load_message_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void publish_load_message_type </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01475">1475</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00735">ast_json_payload_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../db/d45/manager_8h.html#a8ae409b5ff584e42c30edcfe5837d85c">ast_manager_get_generic_type()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01720">ast_manager_get_topic()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00071">EVENT_FLAG_SYSTEM</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01531">publish_load_message()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01554">publish_reload_message()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01544">publish_unload_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;{</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/de9/structast__json__payload.html">ast_json_payload</a> *, payload, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, json_object, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, event_object, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>));</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>));</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d45/manager_8h.html#a8ae409b5ff584e42c30edcfe5837d85c">ast_manager_get_generic_type</a>()) {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;   event_object = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s:s, s:s}&quot;</span>,</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;         <span class="stringliteral">&quot;Module&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>,</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;         <span class="stringliteral">&quot;Status&quot;</span>, <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>);</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;   json_object = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s:s, s:i, s:o}&quot;</span>,</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;         <span class="stringliteral">&quot;type&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>,</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;         <span class="stringliteral">&quot;class_type&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>,</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;         <span class="stringliteral">&quot;event&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(event_object));</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   <span class="keywordflow">if</span> (!json_object) {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   }</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;   payload = <a class="code" href="../../d4/d05/json_8h.html#a8ac267a28e7eddf5b10bbb65139406f2">ast_json_payload_create</a>(json_object);</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <span class="keywordflow">if</span> (!payload) {</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   }</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;   <a class="code" href="../../d8/d9e/structmessage.html">message</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(<a class="code" href="../../db/d45/manager_8h.html#a8ae409b5ff584e42c30edcfe5837d85c">ast_manager_get_generic_type</a>(), payload);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d9e/structmessage.html">message</a>) {</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;   }</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a>(), <a class="code" href="../../d8/d9e/structmessage.html">message</a>);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a8ac267a28e7eddf5b10bbb65139406f2"><div class="ttname"><a href="../../d4/d05/json_8h.html#a8ac267a28e7eddf5b10bbb65139406f2">ast_json_payload_create</a></div><div class="ttdeci">struct ast_json_payload * ast_json_payload_create(struct ast_json *json)</div><div class="ttdoc">Create an ao2 object to pass json blobs as data payloads for stasis. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00735">json.c:735</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structast__json__payload_html"><div class="ttname"><a href="../../d9/de9/structast__json__payload.html">ast_json_payload</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l01024">json.h:1024</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="manager_8h_html_a420f0f755e1c3378b45ca7f6f0669ffa"><div class="ttname"><a href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a></div><div class="ttdeci">#define EVENT_FLAG_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00071">manager.h:71</a></div></div>
<div class="ttc" id="manager_8h_html_a8ae409b5ff584e42c30edcfe5837d85c"><div class="ttname"><a href="../../db/d45/manager_8h.html#a8ae409b5ff584e42c30edcfe5837d85c">ast_manager_get_generic_type</a></div><div class="ttdeci">struct stasis_message_type * ast_manager_get_generic_type(void)</div><div class="ttdoc">Get the stasis_message_type for generic messages. </div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga568aa1aff837fc0001279490a6d9b22f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a></div><div class="ttdeci">struct stasis_topic * ast_manager_get_topic(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01720">manager.c:1720</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acc7346b80a2ffb5aebaac61ef60e0763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc7346b80a2ffb5aebaac61ef60e0763">&#9670;&nbsp;</a></span>publish_reload_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void publish_reload_message </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/d16/module_8h.html#ac9013ad6d9add8a9255568c7db032cb7">ast_module_reload_result</a>&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01554">1554</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l01475">publish_load_message_type()</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">ast_module_reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;{</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   <span class="keywordtype">char</span> res_buffer[8];</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   snprintf(res_buffer, <span class="keyword">sizeof</span>(res_buffer), <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a4e2dd38a08f60c3d38b1493b904c12a8">publish_load_message_type</a>(<span class="stringliteral">&quot;Reload&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;All&quot;</span>), res_buffer);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;}</div><div class="ttc" id="loader_8c_html_a4e2dd38a08f60c3d38b1493b904c12a8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a4e2dd38a08f60c3d38b1493b904c12a8">publish_load_message_type</a></div><div class="ttdeci">static void publish_load_message_type(const char *type, const char *name, const char *status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01475">loader.c:1475</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a03f008201fb4f3527c964224c271cfbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03f008201fb4f3527c964224c271cfbc">&#9670;&nbsp;</a></span>publish_unload_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void publish_unload_message </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01544">1544</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l01475">publish_load_message_type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">ast_unload_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;{</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a4e2dd38a08f60c3d38b1493b904c12a8">publish_load_message_type</a>(<span class="stringliteral">&quot;Unload&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;}</div><div class="ttc" id="loader_8c_html_a4e2dd38a08f60c3d38b1493b904c12a8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a4e2dd38a08f60c3d38b1493b904c12a8">publish_load_message_type</a></div><div class="ttdeci">static void publish_load_message_type(const char *type, const char *name, const char *status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01475">loader.c:1475</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="app__jack_8c_html_ac191e5810fa65e63095409471eb5648f"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a></div><div class="ttdeci">jack_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00146">app_jack.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc4572014dbb249f18af82933dc40050"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4572014dbb249f18af82933dc40050">&#9670;&nbsp;</a></span>queue_reload_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void queue_reload_request </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01432">1432</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01463">item</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00635">reload_queue_item::module</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">ast_module_reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;{</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d39/structreload__queue__item.html">reload_queue_item</a> *<a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a>;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a7c997a1dd7a91d37adb9845a44e56535">do_full_reload</a>) {</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;   }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">module</a>)) {</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="comment">/* A full reload request (when module is NULL) wipes out any previous</span></div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="comment">         reload requests and causes the queue to ignore future ones */</span></div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="keywordflow">while</span> ((item = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>, <a class="code" href="../../d3/d96/structentry.html">entry</a>))) {</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(item);</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      }</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a7c997a1dd7a91d37adb9845a44e56535">do_full_reload</a> = 1;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="comment">/* No reason to add the same module twice */</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>, item, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(item-&gt;<a class="code" href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">module</a>, <a class="code" href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">module</a>)) {</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;         }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      }</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      item = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*item) + strlen(<a class="code" href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">module</a>) + 1);</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="keywordflow">if</span> (!item) {</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to allocate reload queue item.\n&quot;</span>);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      }</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      strcpy(item-&gt;<a class="code" href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">module</a>, <a class="code" href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">module</a>);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>, item, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   }</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d6c/structreload__queue.html">reload_queue</a>);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structreload__queue_html"><div class="ttname"><a href="../../d8/d6c/structreload__queue.html">reload_queue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00640">loader.c:640</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="test__config_8c_html_aecdc7cbd5dfa76493c0212caa55d706c"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a></div><div class="ttdeci">static struct aco_type item</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l01463">test_config.c:1463</a></div></div>
<div class="ttc" id="structreload__queue__item_html"><div class="ttname"><a href="../../d7/d39/structreload__queue__item.html">reload_queue_item</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00633">loader.c:633</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structreload__queue__item_html_af63def77ab06c90fe93bcdf2157b2a90"><div class="ttname"><a href="../../d7/d39/structreload__queue__item.html#af63def77ab06c90fe93bcdf2157b2a90">reload_queue_item::module</a></div><div class="ttdeci">char module[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00635">loader.c:635</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="loader_8c_html_a7c997a1dd7a91d37adb9845a44e56535"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a7c997a1dd7a91d37adb9845a44e56535">do_full_reload</a></div><div class="ttdeci">static int do_full_reload</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00638">loader.c:638</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb274610b05d8bf8bd1977066c403d9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb274610b05d8bf8bd1977066c403d9f">&#9670;&nbsp;</a></span>resource_list_recursive_decline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int resource_list_recursive_decline </td>
          <td>(</td>
          <td class="paramtype">struct module_vector *&#160;</td>
          <td class="paramname"><em>resources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>printmissing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01906">1906</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00615">ast_module_name()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00865">AST_VECTOR_CALLBACK_VOID</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00573">AST_VECTOR_ELEM_CLEANUP_NOOP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00564">AST_VECTOR_ELEM_DEFAULT_CMP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00733">AST_VECTOR_GET_CMP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00627">AST_VECTOR_RESET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00566">module_deps_missing_recursive()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00328">ast_module::required</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00144">STR_APPEND_TEXT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;{</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;   <span class="keyword">struct </span>module_vector missingdeps;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;   <span class="keyword">struct </span>ast_vector_const_string localdeps;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;   mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> = 1;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a>) {</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Required module %s declined to load.\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod));</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <span class="keywordflow">return</span> -2;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;   }</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;%s declined to load.\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod));</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;   <span class="keywordflow">if</span> (!*printmissing) {</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      *printmissing = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      <span class="keywordflow">if</span> (!*printmissing) {</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      }</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(*printmissing);</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;   }</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;missingdeps, 0);</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;localdeps, 0);</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;   <span class="comment">/* Decline everything that depends on &#39;mod&#39; from resources so we can</span></div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment">    * print a concise list. */</span></div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;   <span class="keywordflow">while</span> (res != -2 &amp;&amp; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(resources)) {</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *dep = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(resources, i);</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      i++;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a>(&amp;missingdeps, <a class="code" href="../../d6/d68/vector_8h.html#a1885c25b9d767a53d1df9b641f53951a">AST_VECTOR_ELEM_CLEANUP_NOOP</a>);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">if</span> (dep-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> || <a class="code" href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a>(dep, &amp;missingdeps)) {</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      }</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a>(&amp;missingdeps, mod, <a class="code" href="../../d6/d68/vector_8h.html#a815f68701a777bc620e8e24565ac0236">AST_VECTOR_ELEM_DEFAULT_CMP</a>)) {</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;         dep-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> = 1;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;         <span class="keywordflow">if</span> (dep-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a>) {</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Cannot load required module %s that depends on %s\n&quot;</span>,</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;               <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(dep), <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod));</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            res = -2;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;localdeps, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(dep));</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;         }</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      }</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;   }</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;missingdeps);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;   <span class="keywordflow">if</span> (res != -2 &amp;&amp; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;localdeps)) {</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a>(&amp;localdeps, <a class="code" href="../../d3/d96/loader_8c.html#ac8d17d77e95d948463f58f0e3bbd8ff3">STR_APPEND_TEXT</a>, printmissing);</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Declined modules which depend on %s: %s\n&quot;</span>,</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod), <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*printmissing));</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;   }</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;localdeps);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="structast__module_html_a5539966940da24166eb4c386d1e223a5"><div class="ttname"><a href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">ast_module::required</a></div><div class="ttdeci">unsigned int required</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00328">loader.c:328</a></div></div>
<div class="ttc" id="vector_8h_html_a815f68701a777bc620e8e24565ac0236"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a815f68701a777bc620e8e24565ac0236">AST_VECTOR_ELEM_DEFAULT_CMP</a></div><div class="ttdeci">#define AST_VECTOR_ELEM_DEFAULT_CMP(elem, value)</div><div class="ttdoc">Default comparator for AST_VECTOR_REMOVE_ELEM_UNORDERED() </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00564">vector.h:564</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="loader_8c_html_a68cbff8d916e2246e6769fcfceaad514"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a></div><div class="ttdeci">static int module_deps_missing_recursive(struct ast_module *mod, struct module_vector *missingdeps)</div><div class="ttdoc">Recursively find required dependencies that are not running. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00566">loader.c:566</a></div></div>
<div class="ttc" id="loader_8c_html_ac8d17d77e95d948463f58f0e3bbd8ff3"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ac8d17d77e95d948463f58f0e3bbd8ff3">STR_APPEND_TEXT</a></div><div class="ttdeci">#define STR_APPEND_TEXT(txt, str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00144">loader.c:144</a></div></div>
<div class="ttc" id="loader_8c_html_abeacb9a42f717e903d50c201dc035410"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a></div><div class="ttdeci">static void module_load_error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00269">loader.c:269</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="vector_8h_html_a1885c25b9d767a53d1df9b641f53951a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a1885c25b9d767a53d1df9b641f53951a">AST_VECTOR_ELEM_CLEANUP_NOOP</a></div><div class="ttdeci">#define AST_VECTOR_ELEM_CLEANUP_NOOP(elem)</div><div class="ttdoc">Vector element cleanup that does nothing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00573">vector.h:573</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="vector_8h_html_a0e59aa540254f87575cb1d28821bbd1f"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a></div><div class="ttdeci">#define AST_VECTOR_RESET(vec, cleanup)</div><div class="ttdoc">Reset vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00627">vector.h:627</a></div></div>
<div class="ttc" id="vector_8h_html_a7851644ae05acad1ab8b970ccfb172ba"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a7851644ae05acad1ab8b970ccfb172ba">AST_VECTOR_GET_CMP</a></div><div class="ttdeci">#define AST_VECTOR_GET_CMP(vec, value, cmp)</div><div class="ttdoc">Get an element from a vector that matches the given comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00733">vector.h:733</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_a10842e2d5bac25543eabaccde49f7aad"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a></div><div class="ttdeci">const char * ast_module_name(const struct ast_module *mod)</div><div class="ttdoc">Get the name of a module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00615">loader.c:615</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="vector_8h_html_aeb9853664dde8a7df8bc7ea180d73d54"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a></div><div class="ttdeci">#define AST_VECTOR_CALLBACK_VOID(vec, callback,...)</div><div class="ttdoc">Execute a callback on every element in a vector disregarding callback return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00865">vector.h:865</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad50dd3101474993b227de3e651457f15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad50dd3101474993b227de3e651457f15">&#9670;&nbsp;</a></span>resource_name_baselen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t resource_name_baselen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00917">917</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01842">add_to_load_order()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">ast_module_reload()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02214">loader_config_init()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00928">resource_name_match()</a>.</p>
<div class="fragment"><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <span class="keywordflow">if</span> (len &gt; 3 &amp;&amp; !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> + len - 3, <span class="stringliteral">&quot;.so&quot;</span>)) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <span class="keywordflow">return</span> len - 3;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div><div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f72e7e80873f05719c41b557a395143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f72e7e80873f05719c41b557a395143">&#9670;&nbsp;</a></span>resource_name_match()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int resource_name_match </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>baselen1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00928">928</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00917">resource_name_baselen()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01842">add_to_load_order()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">ast_module_reload()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00937">find_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02214">loader_config_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;{</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <span class="keywordflow">if</span> (baselen1 != <a class="code" href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a>(name2)) {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <span class="keywordflow">return</span> strncasecmp(name1, name2, baselen1);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;}</div><div class="ttc" id="loader_8c_html_ad50dd3101474993b227de3e651457f15"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ad50dd3101474993b227de3e651457f15">resource_name_baselen</a></div><div class="ttdeci">static size_t resource_name_baselen(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00917">loader.c:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9df2b9679f9e75ba5acee5b93f378b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9df2b9679f9e75ba5acee5b93f378b1">&#9670;&nbsp;</a></span>start_resource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> start_resource </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">1678</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l01088">AST_DLLIST_INSERT_TAIL</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00045">AST_DLLIST_LOCK</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l01198">AST_DLLIST_REMOVE</a>, <a class="el" href="../../d0/d43/dlinkedlists_8h_source.html#l00122">AST_DLLIST_UNLOCK</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00115">ast_fully_booted</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00102">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00090">AST_MODULE_LOAD_PRIORITY</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00084">AST_MODULE_LOAD_SKIP</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00464">ast_module_shutdown_ref</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02528">ast_update_use_count()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00326">ast_module::builtin</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00047">COLOR_BLACK</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00053">COLOR_BROWN</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00352">ast_module_info::description</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00344">ast_module_info::load</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00566">module_deps_missing_recursive()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00534">module_deps_reference()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00350">ast_module_info::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00328">ast_module::required</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00320">ast_module::running</a>, <a class="el" href="../../d5/de5/term_8c_source.html#l00184">term_color()</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01878">start_resource_attempt()</a>.</p>
<div class="fragment"><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;{</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[256];</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> res;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a>) {</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;   }</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   <span class="keywordflow">if</span> (!mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a27e50770621b63e2f460058757e72f77">load</a>) {</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> = 1;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="keywordflow">return</span> mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a> ? <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a> : <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   }</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a>(mod, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keyword">struct </span>module_vector missing;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;missing, 0);</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a>(mod, &amp;missing)) {</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;%s has one or more unknown dependencies.\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      }</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;missing); i++) {</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;%s loaded before dependency %s!\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;missing, i)-&gt;<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;missing);</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;   }</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d5b/options_8h.html#a6da2c0ee84c135b777b761b443861f19">ast_fully_booted</a>) {</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Loading %s.\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;   }</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;   res = mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a27e50770621b63e2f460058757e72f77">load</a>();</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   <span class="keywordflow">switch</span> (res) {</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>:</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d5b/options_8h.html#a6da2c0ee84c135b777b761b443861f19">ast_fully_booted</a>) {</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;%s =&gt; (%s)\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, <a class="code" href="../../db/d45/term_8h.html#a7b6c72116c334f40bf7c1e50e793c93b">term_color</a>(tmp, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>, <a class="code" href="../../db/d45/term_8h.html#a928e144dbbe4316dbb854245c7e38de7">COLOR_BROWN</a>, <a class="code" href="../../db/d45/term_8h.html#aba2a7fe77a7501e5844370eec0185207">COLOR_BLACK</a>, <span class="keyword">sizeof</span>(tmp)));</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Loaded %s =&gt; (%s)\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      }</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">running</a> = 1;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">builtin</a>) {</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;         <span class="comment">/* Built-in modules cannot be unloaded. */</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;         <a class="code" href="../../d5/d16/module_8h.html#a9967b09817639f2e15c3f074a60b6379">ast_module_shutdown_ref</a>(mod);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      }</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a>();</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>:</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> = 1;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a>) {</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;         res = <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      }</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>:</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a> = 1;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a>: <span class="comment">/* modules should never return this value */</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a>:</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;   }</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;   <span class="comment">/* Make sure the newly started module is at the end of the list */</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a5d82b4f8287736b764cddd46c2c7177e">AST_DLLIST_REMOVE</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#abaf7e78379c2699dc30ff2845ec9b28b">AST_DLLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>, mod, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;   <a class="code" href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a>(&amp;<a class="code" href="../../d8/d5f/structmodule__list.html">module_list</a>);</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;}</div><div class="ttc" id="structast__module__info_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_module_info::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00352">module.h:352</a></div></div>
<div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952df"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a></div><div class="ttdeci">ast_module_load_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00068">module.h:68</a></div></div>
<div class="ttc" id="structast__module_html_a08d1dda1d258042e77ca92d39a12e619"><div class="ttname"><a href="../../d9/df5/structast__module.html#a08d1dda1d258042e77ca92d39a12e619">ast_module::running</a></div><div class="ttdeci">unsigned int running</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00320">loader.c:320</a></div></div>
<div class="ttc" id="loader_8c_html_a28b9e8444e0f9b495cc1b10628b816e8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a28b9e8444e0f9b495cc1b10628b816e8">ast_update_use_count</a></div><div class="ttdeci">void ast_update_use_count(void)</div><div class="ttdoc">Notify when usecount has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l02528">loader.c:2528</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="structast__module_html_a5539966940da24166eb4c386d1e223a5"><div class="ttname"><a href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">ast_module::required</a></div><div class="ttdeci">unsigned int required</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00328">loader.c:328</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a6883f5ba28baf28635aad93b90c12ea9"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a6883f5ba28baf28635aad93b90c12ea9">AST_DLLIST_UNLOCK</a></div><div class="ttdeci">#define AST_DLLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00122">dlinkedlists.h:122</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="loader_8c_html_a68cbff8d916e2246e6769fcfceaad514"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a></div><div class="ttdeci">static int module_deps_missing_recursive(struct ast_module *mod, struct module_vector *missingdeps)</div><div class="ttdoc">Recursively find required dependencies that are not running. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00566">loader.c:566</a></div></div>
<div class="ttc" id="structmodule__list_html"><div class="ttname"><a href="../../d8/d5f/structmodule__list.html">module_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00336">loader.c:336</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="loader_8c_html_abeacb9a42f717e903d50c201dc035410"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a></div><div class="ttdeci">static void module_load_error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00269">loader.c:269</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_abaf7e78379c2699dc30ff2845ec9b28b"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#abaf7e78379c2699dc30ff2845ec9b28b">AST_DLLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_DLLIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l01088">dlinkedlists.h:1088</a></div></div>
<div class="ttc" id="structast__module__info_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a8f8f80d37794cde9472343e4487ba3eb">ast_module_info::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00350">module.h:350</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="options_8h_html_a6da2c0ee84c135b777b761b443861f19"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a6da2c0ee84c135b777b761b443861f19">ast_fully_booted</a></div><div class="ttdeci">#define ast_fully_booted</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00115">options.h:115</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="term_8h_html_a7b6c72116c334f40bf7c1e50e793c93b"><div class="ttname"><a href="../../db/d45/term_8h.html#a7b6c72116c334f40bf7c1e50e793c93b">term_color</a></div><div class="ttdeci">char * term_color(char *outbuf, const char *inbuf, int fgcolor, int bgcolor, int maxout)</div><div class="ttdoc">Colorize a specified string by adding terminal color codes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de5/term_8c_source.html#l00184">term.c:184</a></div></div>
<div class="ttc" id="term_8h_html_aba2a7fe77a7501e5844370eec0185207"><div class="ttname"><a href="../../db/d45/term_8h.html#aba2a7fe77a7501e5844370eec0185207">COLOR_BLACK</a></div><div class="ttdeci">#define COLOR_BLACK</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00047">term.h:47</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8704cde6456cff6d774e4013ea5a07a0">AST_MODULE_LOAD_PRIORITY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00090">module.h:90</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="module_8h_html_a9967b09817639f2e15c3f074a60b6379"><div class="ttname"><a href="../../d5/d16/module_8h.html#a9967b09817639f2e15c3f074a60b6379">ast_module_shutdown_ref</a></div><div class="ttdeci">#define ast_module_shutdown_ref(mod)</div><div class="ttdoc">Prevent unload of the module before shutdown. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00464">module.h:464</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00084">module.h:84</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structast__module_html_a835ea305371281793bcda066dec1d1fb"><div class="ttname"><a href="../../d9/df5/structast__module.html#a835ea305371281793bcda066dec1d1fb">ast_module::builtin</a></div><div class="ttdeci">unsigned int builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00326">loader.c:326</a></div></div>
<div class="ttc" id="loader_8c_html_a507ce938f37ed6a435d24c2facfbdc71"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a></div><div class="ttdeci">static int module_deps_reference(struct ast_module *mod, struct ast_vector_const_string *missing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00534">loader.c:534</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a5d82b4f8287736b764cddd46c2c7177e"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a5d82b4f8287736b764cddd46c2c7177e">AST_DLLIST_REMOVE</a></div><div class="ttdeci">#define AST_DLLIST_REMOVE(head, elm, field)</div><div class="ttdoc">Removes a specific entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l01198">dlinkedlists.h:1198</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module__info_html_a27e50770621b63e2f460058757e72f77"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a27e50770621b63e2f460058757e72f77">ast_module_info::load</a></div><div class="ttdeci">enum ast_module_load_result(* load)(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00344">module.h:344</a></div></div>
<div class="ttc" id="term_8h_html_a928e144dbbe4316dbb854245c7e38de7"><div class="ttname"><a href="../../db/d45/term_8h.html#a928e144dbbe4316dbb854245c7e38de7">COLOR_BROWN</a></div><div class="ttdeci">#define COLOR_BROWN</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00053">term.h:53</a></div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
<div class="ttc" id="dlinkedlists_8h_html_a4c4165c0c273d5c69ef68588c70aa3ba"><div class="ttname"><a href="../../d0/d43/dlinkedlists_8h.html#a4c4165c0c273d5c69ef68588c70aa3ba">AST_DLLIST_LOCK</a></div><div class="ttdeci">#define AST_DLLIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/dlinkedlists_8h_source.html#l00045">dlinkedlists.h:45</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd71c82e83875ac0d32ddea0f4caa3a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd71c82e83875ac0d32ddea0f4caa3a7">&#9670;&nbsp;</a></span>start_resource_attempt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> start_resource_attempt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01878">1878</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00332">AST_MODPRI_DEFAULT</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00102">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00084">AST_MODULE_LOAD_SKIP</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00294">ast_module::info</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00370">ast_module_info::load_pri</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00534">module_deps_reference()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00328">ast_module::required</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00333">ast_module::resource</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01678">start_resource()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">start_resource_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;{</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> lres;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;   <span class="comment">/* Try to grab required references. */</span></div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a>(mod, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <span class="comment">/* We&#39;re likely to retry so not an error. */</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Module %s is missing dependencies\n&quot;</span>, mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a>;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;   }</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;   lres = <a class="code" href="../../d3/d96/loader_8c.html#ac9df2b9679f9e75ba5acee5b93f378b1">start_resource</a>(mod);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;START: %-46s[%d] %d\n&quot;</span>,</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>,</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>, <a class="code" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a>) ? mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">info</a>-&gt;<a class="code" href="../../dd/d5f/structast__module__info.html#a9f09e03643dc099a3e6e6e0020a84d70">load_pri</a> : <a class="code" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>,</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      lres);</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;   <span class="keywordflow">if</span> (lres == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>) {</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      (*count)++;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lres == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>) {</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;*** Failed to load %smodule %s\n&quot;</span>,</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;         mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">required</a> ? <span class="stringliteral">&quot;required &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;         mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">resource</a>);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;   }</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;   <span class="keywordflow">return</span> lres;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;}</div><div class="ttc" id="loader_8c_html_ac9df2b9679f9e75ba5acee5b93f378b1"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ac9df2b9679f9e75ba5acee5b93f378b1">start_resource</a></div><div class="ttdeci">static enum ast_module_load_result start_resource(struct ast_module *mod)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01678">loader.c:1678</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952df"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a></div><div class="ttdeci">ast_module_load_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00068">module.h:68</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="structast__module_html_a5539966940da24166eb4c386d1e223a5"><div class="ttname"><a href="../../d9/df5/structast__module.html#a5539966940da24166eb4c386d1e223a5">ast_module::required</a></div><div class="ttdeci">unsigned int required</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00328">loader.c:328</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__module__info_html_a9f09e03643dc099a3e6e6e0020a84d70"><div class="ttname"><a href="../../dd/d5f/structast__module__info.html#a9f09e03643dc099a3e6e6e0020a84d70">ast_module_info::load_pri</a></div><div class="ttdeci">unsigned char load_pri</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00370">module.h:370</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="loader_8c_html_abeacb9a42f717e903d50c201dc035410"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a></div><div class="ttdeci">static void module_load_error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00269">loader.c:269</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="module_8h_html_a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223"><div class="ttname"><a href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00317">module.h:317</a></div></div>
<div class="ttc" id="structast__module_html_a8891c7a64166e00aa705d308b254390e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a8891c7a64166e00aa705d308b254390e">ast_module::info</a></div><div class="ttdeci">const struct ast_module_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00294">loader.c:294</a></div></div>
<div class="ttc" id="module_8h_html_aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee"><div class="ttname"><a href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00332">module.h:332</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac899889001b46a5531884315676b103b">AST_MODULE_LOAD_SKIP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00084">module.h:84</a></div></div>
<div class="ttc" id="loader_8c_html_a507ce938f37ed6a435d24c2facfbdc71"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a></div><div class="ttdeci">static int module_deps_reference(struct ast_module *mod, struct ast_vector_const_string *missing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00534">loader.c:534</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="structast__module_html_ac88a22a2e7bf6d75bcc8fcc8ff257e9f"><div class="ttname"><a href="../../d9/df5/structast__module.html#ac88a22a2e7bf6d75bcc8fcc8ff257e9f">ast_module::resource</a></div><div class="ttdeci">char resource[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00333">loader.c:333</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a177482b5f791fe9df1c25e322c140bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177482b5f791fe9df1c25e322c140bfd">&#9670;&nbsp;</a></span>start_resource_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int start_resource_list </td>
          <td>(</td>
          <td class="paramtype">struct module_vector *&#160;</td>
          <td class="paramname"><em>resources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>mod_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01969">1969</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00102">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00615">ast_module_name()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00865">AST_VECTOR_CALLBACK_VOID</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00573">AST_VECTOR_ELEM_CLEANUP_NOOP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00564">AST_VECTOR_ELEM_DEFAULT_CMP</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00412">AST_VECTOR_REMOVE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00540">AST_VECTOR_REMOVE_CMP_ORDERED</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00627">AST_VECTOR_RESET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00322">ast_module::declined</a>, <a class="el" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00566">module_deps_missing_recursive()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00534">module_deps_reference()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01906">resource_list_recursive_decline()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01878">start_resource_attempt()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00144">STR_APPEND_TEXT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02101">load_resource_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;{</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;   <span class="keyword">struct </span>module_vector missingdeps;</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *printmissing = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;missingdeps, 0);</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;   <span class="keywordflow">while</span> (res != -2 &amp;&amp; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(resources)) {</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *mod = <a class="code" href="../../d6/d68/vector_8h.html#abe6d979239bef1a97d069b1a10c7d35c">AST_VECTOR_REMOVE</a>(resources, 0, 1);</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      <span class="keyword">enum</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a> lres;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      <span class="keywordflow">if</span> (mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>) {</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;%s is already declined, skipping\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod));</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;      }</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;retry_load:</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      lres = <a class="code" href="../../d3/d96/loader_8c.html#abd71c82e83875ac0d32ddea0f4caa3a7">start_resource_attempt</a>(mod, mod_count);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <span class="keywordflow">if</span> (lres == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>) {</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;         <span class="comment">/* No missing dependencies, successful. */</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      }</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      <span class="keywordflow">if</span> (lres == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>) {</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;         res = -2;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      }</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      <span class="keywordflow">if</span> (lres == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>) {</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;         res = <a class="code" href="../../d3/d96/loader_8c.html#abb274610b05d8bf8bd1977066c403d9f">resource_list_recursive_decline</a>(resources, mod, &amp;printmissing);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      }</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a>(mod, &amp;missingdeps)) {</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a>(&amp;missingdeps, <a class="code" href="../../d6/d68/vector_8h.html#a1885c25b9d767a53d1df9b641f53951a">AST_VECTOR_ELEM_CLEANUP_NOOP</a>);</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Failed to resolve dependencies for %s\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod));</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;         res = <a class="code" href="../../d3/d96/loader_8c.html#abb274610b05d8bf8bd1977066c403d9f">resource_list_recursive_decline</a>(resources, mod, &amp;printmissing);</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      }</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;missingdeps)) {</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;%s load function returned an invalid result. &quot;</span></div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;            <span class="stringliteral">&quot;This is a bug in the module.\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod));</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;         <span class="comment">/* Dependencies were met but the module failed to start and the result</span></div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="comment">          * code was not AST_MODULE_LOAD_FAILURE or AST_MODULE_LOAD_DECLINE. */</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;         res = <a class="code" href="../../d3/d96/loader_8c.html#abb274610b05d8bf8bd1977066c403d9f">resource_list_recursive_decline</a>(resources, mod, &amp;printmissing);</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      }</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;%s has %d dependencies\n&quot;</span>,</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod), (<span class="keywordtype">int</span>)<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;missingdeps));</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;missingdeps)) {</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;         <span class="keywordtype">int</span> didwork = 0;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;         <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;         <span class="keywordflow">while</span> (i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;missingdeps)) {</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *dep = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;missingdeps, i);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;            <span class="keywordflow">if</span> (dep-&gt;<a class="code" href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">flags</a>.<a class="code" href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">declined</a>) {</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;%s tried to start %s but it&#39;s already declined\n&quot;</span>,</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                  <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod), <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(dep));</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;               i++;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;            }</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;%s trying to start %s\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod), <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(dep));</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;            lres = <a class="code" href="../../d3/d96/loader_8c.html#abd71c82e83875ac0d32ddea0f4caa3a7">start_resource_attempt</a>(dep, mod_count);</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;            <span class="keywordflow">if</span> (lres == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>) {</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;%s started %s\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod), <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(dep));</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;               <a class="code" href="../../d6/d68/vector_8h.html#abe6d979239bef1a97d069b1a10c7d35c">AST_VECTOR_REMOVE</a>(&amp;missingdeps, i, 1);</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;               <a class="code" href="../../d6/d68/vector_8h.html#a492e49277a4d2b403ec357440d933254">AST_VECTOR_REMOVE_CMP_ORDERED</a>(resources, dep,</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                  <a class="code" href="../../d6/d68/vector_8h.html#a815f68701a777bc620e8e24565ac0236">AST_VECTOR_ELEM_DEFAULT_CMP</a>, <a class="code" href="../../d6/d68/vector_8h.html#a1885c25b9d767a53d1df9b641f53951a">AST_VECTOR_ELEM_CLEANUP_NOOP</a>);</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;               didwork++;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            }</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            <span class="keywordflow">if</span> (lres == <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>) {</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;               <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Failed to load %s.\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(dep));</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;               res = -2;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;               <span class="keywordflow">goto</span> exitpoint;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            }</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;%s failed to start %s\n&quot;</span>, <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod), <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(dep));</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;            i++;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;         }</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;         <span class="keywordflow">if</span> (!didwork) {</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;         }</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      }</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;missingdeps)) {</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;         <span class="keywordflow">if</span> (!printmissing) {</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            printmissing = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(printmissing);</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;         }</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;         <span class="keywordflow">if</span> (printmissing) {</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <span class="keyword">struct </span>ast_vector_const_string localdeps;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;            <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;localdeps, 0);</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            <a class="code" href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a>(mod, &amp;localdeps);</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            <a class="code" href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a>(&amp;localdeps, <a class="code" href="../../d3/d96/loader_8c.html#ac8d17d77e95d948463f58f0e3bbd8ff3">STR_APPEND_TEXT</a>, &amp;printmissing);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;localdeps);</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;         }</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;         <a class="code" href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a>(<span class="stringliteral">&quot;Failed to load %s due to dependencies: %s.\n&quot;</span>,</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            <a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod),</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            printmissing ? <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(printmissing) : <span class="stringliteral">&quot;allocation failure creating list&quot;</span>);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;         res = <a class="code" href="../../d3/d96/loader_8c.html#abb274610b05d8bf8bd1977066c403d9f">resource_list_recursive_decline</a>(resources, mod, &amp;printmissing);</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a>(&amp;missingdeps, <a class="code" href="../../d6/d68/vector_8h.html#a1885c25b9d767a53d1df9b641f53951a">AST_VECTOR_ELEM_CLEANUP_NOOP</a>);</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      }</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="comment">/* If we&#39;re here it means that we started with missingdeps and they&#39;re all loaded</span></div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="comment">       * now.  It&#39;s impossible to reach this point a second time for the same module. */</span></div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      <span class="keywordflow">goto</span> retry_load;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;   }</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;exitpoint:</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(printmissing);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;missingdeps);</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952df"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952df">ast_module_load_result</a></div><div class="ttdeci">ast_module_load_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00068">module.h:68</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="vector_8h_html_a815f68701a777bc620e8e24565ac0236"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a815f68701a777bc620e8e24565ac0236">AST_VECTOR_ELEM_DEFAULT_CMP</a></div><div class="ttdeci">#define AST_VECTOR_ELEM_DEFAULT_CMP(elem, value)</div><div class="ttdoc">Default comparator for AST_VECTOR_REMOVE_ELEM_UNORDERED() </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00564">vector.h:564</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="loader_8c_html_a68cbff8d916e2246e6769fcfceaad514"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a68cbff8d916e2246e6769fcfceaad514">module_deps_missing_recursive</a></div><div class="ttdeci">static int module_deps_missing_recursive(struct ast_module *mod, struct module_vector *missingdeps)</div><div class="ttdoc">Recursively find required dependencies that are not running. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00566">loader.c:566</a></div></div>
<div class="ttc" id="loader_8c_html_ac8d17d77e95d948463f58f0e3bbd8ff3"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ac8d17d77e95d948463f58f0e3bbd8ff3">STR_APPEND_TEXT</a></div><div class="ttdeci">#define STR_APPEND_TEXT(txt, str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00144">loader.c:144</a></div></div>
<div class="ttc" id="loader_8c_html_abeacb9a42f717e903d50c201dc035410"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abeacb9a42f717e903d50c201dc035410">module_load_error</a></div><div class="ttdeci">static void module_load_error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00269">loader.c:269</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="vector_8h_html_a1885c25b9d767a53d1df9b641f53951a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a1885c25b9d767a53d1df9b641f53951a">AST_VECTOR_ELEM_CLEANUP_NOOP</a></div><div class="ttdeci">#define AST_VECTOR_ELEM_CLEANUP_NOOP(elem)</div><div class="ttdoc">Vector element cleanup that does nothing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00573">vector.h:573</a></div></div>
<div class="ttc" id="structast__module_html_a85ddc5d9a4ffbf82da66e98d8f85977e"><div class="ttname"><a href="../../d9/df5/structast__module.html#a85ddc5d9a4ffbf82da66e98d8f85977e">ast_module::declined</a></div><div class="ttdeci">unsigned int declined</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00322">loader.c:322</a></div></div>
<div class="ttc" id="loader_8c_html_abb274610b05d8bf8bd1977066c403d9f"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abb274610b05d8bf8bd1977066c403d9f">resource_list_recursive_decline</a></div><div class="ttdeci">static int resource_list_recursive_decline(struct module_vector *resources, struct ast_module *mod, struct ast_str **printmissing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01906">loader.c:1906</a></div></div>
<div class="ttc" id="loader_8c_html_abd71c82e83875ac0d32ddea0f4caa3a7"><div class="ttname"><a href="../../d3/d96/loader_8c.html#abd71c82e83875ac0d32ddea0f4caa3a7">start_resource_attempt</a></div><div class="ttdeci">static enum ast_module_load_result start_resource_attempt(struct ast_module *mod, int *count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01878">loader.c:1878</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="vector_8h_html_a0e59aa540254f87575cb1d28821bbd1f"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a0e59aa540254f87575cb1d28821bbd1f">AST_VECTOR_RESET</a></div><div class="ttdeci">#define AST_VECTOR_RESET(vec, cleanup)</div><div class="ttdoc">Reset vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00627">vector.h:627</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="vector_8h_html_a492e49277a4d2b403ec357440d933254"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a492e49277a4d2b403ec357440d933254">AST_VECTOR_REMOVE_CMP_ORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_CMP_ORDERED(vec, value, cmp, cleanup)</div><div class="ttdoc">Remove an element from a vector that matches the given comparison while maintaining order...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00540">vector.h:540</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="loader_8c_html_a10842e2d5bac25543eabaccde49f7aad"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a></div><div class="ttdeci">const char * ast_module_name(const struct ast_module *mod)</div><div class="ttdoc">Get the name of a module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00615">loader.c:615</a></div></div>
<div class="ttc" id="loader_8c_html_a507ce938f37ed6a435d24c2facfbdc71"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a507ce938f37ed6a435d24c2facfbdc71">module_deps_reference</a></div><div class="ttdeci">static int module_deps_reference(struct ast_module *mod, struct ast_vector_const_string *missing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00534">loader.c:534</a></div></div>
<div class="ttc" id="structast__module_html_a6059143df645c406cc4f789442b0fda7"><div class="ttname"><a href="../../d9/df5/structast__module.html#a6059143df645c406cc4f789442b0fda7">ast_module::flags</a></div><div class="ttdeci">struct ast_module::@398 flags</div></div>
<div class="ttc" id="vector_8h_html_abe6d979239bef1a97d069b1a10c7d35c"><div class="ttname"><a href="../../d6/d68/vector_8h.html#abe6d979239bef1a97d069b1a10c7d35c">AST_VECTOR_REMOVE</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE(vec, idx, preserve_ordered)</div><div class="ttdoc">Remove an element from a vector by index. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00412">vector.h:412</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="vector_8h_html_aeb9853664dde8a7df8bc7ea180d73d54"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a></div><div class="ttdeci">#define AST_VECTOR_CALLBACK_VOID(vec, callback,...)</div><div class="ttdoc">Execute a callback on every element in a vector disregarding callback return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00865">vector.h:865</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e400c9a7efe02d48abcbb6740c88ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e400c9a7efe02d48abcbb6740c88ce5">&#9670;&nbsp;</a></span>unload_dynamic_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unload_dynamic_module </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l01010">1010</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00615">ast_module_name()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00991">is_module_loaded()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00298">ast_module::lib</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00962">logged_dlclose()</a>, and <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">ast_unload_resource()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01070">load_dlopen()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l01763">load_resource()</a>.</p>
<div class="fragment"><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;{</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="preprocessor">#if defined(HAVE_RTLD_NOLOAD)</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod));</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   <span class="keywordtype">void</span> *lib = mod-&gt;<a class="code" href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">lib</a>;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <span class="comment">/* WARNING: the structure pointed to by mod is going to</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">      disappear when this operation succeeds, so we can&#39;t</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">      dereference it */</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a>(<a class="code" href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a>(mod), lib);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <span class="comment">/* There are several situations where the module might still be resident</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">    * in memory.</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">    * If somehow there was another dlopen() on the same module (unlikely,</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">    * since that all is supposed to happen in loader.c).</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">    * Avoid the temptation of repeating the dlclose(). The other code that</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">    * dlopened the module still has its module reference, and should close</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">    * it itself. In other situations, dlclose() will happily return success</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">    * for as many times as you wish to call it.</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="preprocessor">#if defined(HAVE_RTLD_NOLOAD)</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#af1726d42d9feef28e5cd133f15e89cc2">is_module_loaded</a>(name)) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Module &#39;%s&#39; could not be completely unloaded\n&quot;</span>, name);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;   }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="loader_8c_html_a2b2e521ef2d6a796923f8ed10ae68250"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a2b2e521ef2d6a796923f8ed10ae68250">logged_dlclose</a></div><div class="ttdeci">static void logged_dlclose(const char *name, void *lib)</div><div class="ttdoc">dlclose(), with failure logging. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00962">loader.c:962</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="loader_8c_html_a10842e2d5bac25543eabaccde49f7aad"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a10842e2d5bac25543eabaccde49f7aad">ast_module_name</a></div><div class="ttdeci">const char * ast_module_name(const struct ast_module *mod)</div><div class="ttdoc">Get the name of a module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00615">loader.c:615</a></div></div>
<div class="ttc" id="structast__module_html_a5940281c73a2d41b4afdfff28af5859a"><div class="ttname"><a href="../../d9/df5/structast__module.html#a5940281c73a2d41b4afdfff28af5859a">ast_module::lib</a></div><div class="ttdeci">void * lib</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00298">loader.c:298</a></div></div>
<div class="ttc" id="loader_8c_html_af1726d42d9feef28e5cd133f15e89cc2"><div class="ttname"><a href="../../d3/d96/loader_8c.html#af1726d42d9feef28e5cd133f15e89cc2">is_module_loaded</a></div><div class="ttdeci">static int is_module_loaded(const char *resource_name)</div><div class="ttdoc">Check to see if the given resource is loaded. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00991">loader.c:991</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adeb6765fa45de2f4c58acc4125e3de92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeb6765fa45de2f4c58acc4125e3de92">&#9670;&nbsp;</a></span>verify_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int verify_key </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00900">900</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00134">expected_key</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00888">key_matches()</a>, <a class="el" href="../../d7/d6c/md5_8c_source.html#l00120">MD5Final()</a>, <a class="el" href="../../d7/d6c/md5_8c_source.html#l00057">MD5Init()</a>, <a class="el" href="../../d7/d6c/md5_8c_source.html#l00072">MD5Update()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00875">printdigest()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01651">inspect_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;{</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d32/structMD5Context.html">MD5Context</a> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> digest[16];</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <a class="code" href="../../da/db0/md5_8h.html#a6bdca55813077d1c652a1f63608dac30">MD5Init</a>(&amp;<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   <a class="code" href="../../da/db0/md5_8h.html#a2a146d25ee54b589dd79d776522ef742">MD5Update</a>(&amp;<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, key, strlen((<span class="keywordtype">char</span> *)key));</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <a class="code" href="../../da/db0/md5_8h.html#a7132b90c03637ae151c1a8befd7989f2">MD5Final</a>(digest, &amp;<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d96/loader_8c.html#ab70ace2c657fad50a45ea594be9f1b21">key_matches</a>(<a class="code" href="../../d3/d96/loader_8c.html#a71388469e6cd681fd639be1f4bc40de8">expected_key</a>, digest))</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <a class="code" href="../../d3/d96/loader_8c.html#ac3d241d42a14083d24f97bd7ea0d9117">printdigest</a>(digest);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div><div class="ttc" id="loader_8c_html_ab70ace2c657fad50a45ea594be9f1b21"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ab70ace2c657fad50a45ea594be9f1b21">key_matches</a></div><div class="ttdeci">static int key_matches(const unsigned char *key1, const unsigned char *key2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00888">loader.c:888</a></div></div>
<div class="ttc" id="loader_8c_html_a71388469e6cd681fd639be1f4bc40de8"><div class="ttname"><a href="../../d3/d96/loader_8c.html#a71388469e6cd681fd639be1f4bc40de8">expected_key</a></div><div class="ttdeci">static const unsigned char expected_key[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00134">loader.c:134</a></div></div>
<div class="ttc" id="md5_8h_html_a7132b90c03637ae151c1a8befd7989f2"><div class="ttname"><a href="../../da/db0/md5_8h.html#a7132b90c03637ae151c1a8befd7989f2">MD5Final</a></div><div class="ttdeci">void MD5Final(unsigned char digest[16], struct MD5Context *context)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6c/md5_8c_source.html#l00120">md5.c:120</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="md5_8h_html_a6bdca55813077d1c652a1f63608dac30"><div class="ttname"><a href="../../da/db0/md5_8h.html#a6bdca55813077d1c652a1f63608dac30">MD5Init</a></div><div class="ttdeci">void MD5Init(struct MD5Context *context)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6c/md5_8c_source.html#l00057">md5.c:57</a></div></div>
<div class="ttc" id="md5_8h_html_a2a146d25ee54b589dd79d776522ef742"><div class="ttname"><a href="../../da/db0/md5_8h.html#a2a146d25ee54b589dd79d776522ef742">MD5Update</a></div><div class="ttdeci">void MD5Update(struct MD5Context *context, unsigned char const *buf, unsigned len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6c/md5_8c_source.html#l00072">md5.c:72</a></div></div>
<div class="ttc" id="structMD5Context_html"><div class="ttname"><a href="../../d1/d32/structMD5Context.html">MD5Context</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/db0/md5_8h_source.html#l00026">md5.h:26</a></div></div>
<div class="ttc" id="loader_8c_html_ac3d241d42a14083d24f97bd7ea0d9117"><div class="ttname"><a href="../../d3/d96/loader_8c.html#ac3d241d42a14083d24f97bd7ea0d9117">printdigest</a></div><div class="ttdeci">static int printdigest(const unsigned char *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00875">loader.c:875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6e9967e19b2e269bd26d6eaeae60ac8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9967e19b2e269bd26d6eaeae60ac8b">&#9670;&nbsp;</a></span>buildopt_sum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char buildopt_sum[33] = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00138">138</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01651">inspect_module()</a>.</p>

</div>
</div>
<a id="ab7fa704cd26e5ef5affa89a62e9fffd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7fa704cd26e5ef5affa89a62e9fffd1">&#9670;&nbsp;</a></span>builtin_module_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d5f/structmodule__list.html">module_list</a> builtin_module_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00364">364</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00659">ast_module_register()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02179">loader_builtin_init()</a>.</p>

</div>
</div>
<a id="a7c997a1dd7a91d37adb9845a44e56535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c997a1dd7a91d37adb9845a44e56535">&#9670;&nbsp;</a></span>do_full_reload</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int do_full_reload = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00638">638</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

</div>
</div>
<a id="a71388469e6cd681fd639be1f4bc40de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71388469e6cd681fd639be1f4bc40de8">&#9670;&nbsp;</a></span>expected_key</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char expected_key[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x87, 0x76, 0x79, 0x35, 0x23, 0xea, 0x3a, 0xd3,</div><div class="line">  0x25, 0x2a, 0xbb, 0x35, 0x87, 0xe4, 0x22, 0x24 }</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00134">134</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00900">verify_key()</a>.</p>

</div>
</div>
<a id="aa3f3f0923632d6d19635aefc198d5123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f3f0923632d6d19635aefc198d5123">&#9670;&nbsp;</a></span>load_results</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d0/dee/structload__results__map.html">load_results_map</a> load_results[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00344">344</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

</div>
</div>
<a id="a63792b1ca1cd1436e3667028f8f0285f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63792b1ca1cd1436e3667028f8f0285f">&#9670;&nbsp;</a></span>loader_ready</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int loader_ready</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00150">150</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00659">ast_module_register()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l02179">loader_builtin_init()</a>.</p>

</div>
</div>
<a id="a11fa5ed079c9d5be4267b330ee87948c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11fa5ed079c9d5be4267b330ee87948c">&#9670;&nbsp;</a></span>module_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d5f/structmodule__list.html">module_list</a>   <a class="el" href="../../d8/d5f/structmodule__list.html">module_list</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a34b61c392d5cfb81ebdf50ca4880b4aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34b61c392d5cfb81ebdf50ca4880b4aa">&#9670;&nbsp;</a></span>modules_loaded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int modules_loaded</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal flag to indicate all modules have been initially loaded. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00291">291</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

</div>
</div>
<a id="afe2c1b317c19b970ec8ef1b82606a62e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2c1b317c19b970ec8ef1b82606a62e">&#9670;&nbsp;</a></span>reload_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d6c/structreload__queue.html">reload_queue</a>   <a class="el" href="../../d8/d6c/structreload__queue.html">reload_queue</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a39a4ab22c3e08054d2efe759d8610f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39a4ab22c3e08054d2efe759d8610f12">&#9670;&nbsp;</a></span>reloadlock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> reloadlock = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00631">631</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">ast_module_reload()</a>.</p>

</div>
</div>
<a id="afed3ca5c75a63241f94a6601b11148bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed3ca5c75a63241f94a6601b11148bf">&#9670;&nbsp;</a></span>resource_being_loaded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* volatile resource_being_loaded</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00650">650</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l00659">ast_module_register()</a>.</p>

</div>
</div>
<a id="a868f4df6b093d8fb5403943de1b88c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a868f4df6b093d8fb5403943de1b88c34">&#9670;&nbsp;</a></span>startup_error_builder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a>* startup_error_builder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00154">154</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

</div>
</div>
<a id="a7009e38410774eddfee7838dc45137b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7009e38410774eddfee7838dc45137b3">&#9670;&nbsp;</a></span>startup_errors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct ast_vector_string startup_errors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String container for deferring output of startup errors. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l00153">153</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d96/loader_8c_source.html#l02338">load_modules()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>.</p>

</div>
</div>
<a id="a39bcd1b774605144f6954d7ca4811ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39bcd1b774605144f6954d7ca4811ec5">&#9670;&nbsp;</a></span>support_level_map</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* support_level_map[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d96/loader_8c_source.html#l02748">2748</a> of file <a class="el" href="../../d3/d96/loader_8c_source.html">loader.c</a>.</p>

</div>
</div>
<a id="a7d46879c97ed909d7de06572b6259d15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d46879c97ed909d7de06572b6259d15">&#9670;&nbsp;</a></span>updaters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/daf/structupdaters.html">updaters</a>   <a class="el" href="../../d9/daf/structupdaters.html">updaters</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:02 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
