<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: chan_ooh323.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_1233bc0a3e869c10318208e4553a4fcb.html">addons</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">chan_ooh323.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/param.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;net/if.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;netinet/in_systm.h&gt;</code><br />
<code>#include &lt;netinet/ip.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d5b/options_8h_source.html">asterisk/options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d00/sched_8h_source.html">asterisk/sched.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/dac/io_8h_source.html">asterisk/io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/da3/causes_8h_source.html">asterisk/causes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/dde/rtp__engine_8h_source.html">asterisk/rtp_engine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d59/acl_8h_source.html">asterisk/acl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/callerid_8h_source.html">asterisk/callerid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d07/musiconhold_8h_source.html">asterisk/musiconhold.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/manager_8h_source.html">asterisk/manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d08/dsp_8h_source.html">asterisk/dsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d0f/stringfields_8h_source.html">asterisk/stringfields.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d0a/format_8h_source.html">asterisk/format.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d3c/format__cap_8h_source.html">asterisk/format_cap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da1/udptl_8h_source.html">asterisk/udptl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;ootypes.h&quot;</code><br />
<code>#include &quot;ooUtils.h&quot;</code><br />
<code>#include &quot;ooCapability.h&quot;</code><br />
<code>#include &quot;oochannels.h&quot;</code><br />
<code>#include &quot;ooh323ep.h&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html">ooh323cDriver.h</a>&quot;</code><br />
<code>#include &quot;ooCalls.h&quot;</code><br />
<code>#include &quot;ooq931.h&quot;</code><br />
<code>#include &quot;ooStackCmds.h&quot;</code><br />
<code>#include &quot;ooGkClient.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d42/chan__ooh323_8h__dep__incl.png" border="0" usemap="#chan__ooh323_8hdep" alt=""/></div>
<map name="chan__ooh323_8hdep" id="chan__ooh323_8hdep">
<area shape="rect" id="node2" href="../../d7/d49/chan__ooh323_8c.html" title="chan_ooh323.c" alt="" coords="5,80,124,107"/>
<area shape="rect" id="node3" href="../../d3/d3d/ooh323cDriver_8h.html" title="ooh323cDriver.h" alt="" coords="148,80,275,107"/>
<area shape="rect" id="node4" href="../../d2/dae/ooh323cDriver_8c.html" title="ooh323cDriver.c" alt="" coords="149,155,274,181"/>
</map>
</div>
</div>
<p><a href="../../d3/d45/chan__ooh323_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2f6f623a4024fc1fb7462a81528c085d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a2f6f623a4024fc1fb7462a81528c085d">close_rtp_connection</a> (ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>)</td></tr>
<tr class="separator:a2f6f623a4024fc1fb7462a81528c085d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912ab4856b42f76debe652a73cad3e30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a912ab4856b42f76debe652a73cad3e30">close_udptl_connection</a> (ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>)</td></tr>
<tr class="separator:a912ab4856b42f76debe652a73cad3e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae16e21f810a80e8fd5bbf6936b2bb7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a5ae16e21f810a80e8fd5bbf6936b2bb7">configure_local_rtp</a> (struct <a class="el" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p, ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>)</td></tr>
<tr class="separator:a5ae16e21f810a80e8fd5bbf6936b2bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb39f7cec19c80e554127c62425a77b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#adb39f7cec19c80e554127c62425a77b3">delete_peers</a> (void)</td></tr>
<tr class="separator:adb39f7cec19c80e554127c62425a77b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a231127a643c8a92cbe5dd77af5f90c01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a231127a643c8a92cbe5dd77af5f90c01">delete_users</a> (void)</td></tr>
<tr class="separator:a231127a643c8a92cbe5dd77af5f90c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92805d2de6da6513a8c6ee684a063878"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a92805d2de6da6513a8c6ee684a063878">find_peer</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, int port)</td></tr>
<tr class="separator:a92805d2de6da6513a8c6ee684a063878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842593d8c598d8b3e4584ffd7fcd72c8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d14/structooh323__user.html">ooh323_user</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a842593d8c598d8b3e4584ffd7fcd72c8">find_user</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *ip)</td></tr>
<tr class="separator:a842593d8c598d8b3e4584ffd7fcd72c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12aadb5c7eb23605fd353ed32172ee67"><td class="memItemLeft" align="right" valign="top">EXTERN char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a12aadb5c7eb23605fd353ed32172ee67">handle_cli_ooh323_reload</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a12aadb5c7eb23605fd353ed32172ee67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4cd7eca7172ae4470ad56ba16e7eeb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#afc4cd7eca7172ae4470ad56ba16e7eeb">ooh323_convert_hangupcause_asteriskToH323</a> (int cause)</td></tr>
<tr class="separator:afc4cd7eca7172ae4470ad56ba16e7eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0e8feed93bdc1670fbbedfa6cb78ca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#ace0e8feed93bdc1670fbbedfa6cb78ca">ooh323_convert_hangupcause_h323ToAsterisk</a> (int cause)</td></tr>
<tr class="separator:ace0e8feed93bdc1670fbbedfa6cb78ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaeea23adf3da56aa219b4c8edb501dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#acaeea23adf3da56aa219b4c8edb501dd">ooh323_convertAsteriskCapToH323Cap</a> (struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *<a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>)</td></tr>
<tr class="separator:acaeea23adf3da56aa219b4c8edb501dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24af3127dd2216191d82ec73ae5436bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a24af3127dd2216191d82ec73ae5436bc">ooh323_delete_peer</a> (struct <a class="el" href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a> *peer)</td></tr>
<tr class="separator:a24af3127dd2216191d82ec73ae5436bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb320e4c086479ec4f175d19e9c1217"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a3fb320e4c086479ec4f175d19e9c1217">ooh323_destroy</a> (struct <a class="el" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p)</td></tr>
<tr class="separator:a3fb320e4c086479ec4f175d19e9c1217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e6d348b1fad8a80f266adf8a65280e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a10e6d348b1fad8a80f266adf8a65280e">ooh323_onReceivedDigit</a> (OOH323CallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, const char *<a class="el" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>)</td></tr>
<tr class="separator:a10e6d348b1fad8a80f266adf8a65280e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b783d24e73a7f926d828e1228fcdc3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#aa1b783d24e73a7f926d828e1228fcdc3">ooh323_onReceivedSetup</a> (ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, Q931Message *pmsg)</td></tr>
<tr class="separator:aa1b783d24e73a7f926d828e1228fcdc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef0d489627563bfb37192fc3e9b7bdb"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#aeef0d489627563bfb37192fc3e9b7bdb">ooh323_rtp_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *ast, struct <a class="el" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p)</td></tr>
<tr class="separator:aeef0d489627563bfb37192fc3e9b7bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67aae75b4a50c2cad75ea9dfd709c13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#aa67aae75b4a50c2cad75ea9dfd709c13">ooh323_set_read_format</a> (ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *fmt)</td></tr>
<tr class="separator:aa67aae75b4a50c2cad75ea9dfd709c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8783c43daa2830236811adf3f1a186a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#ae8783c43daa2830236811adf3f1a186a">ooh323_set_write_format</a> (ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *fmt, int txframes)</td></tr>
<tr class="separator:ae8783c43daa2830236811adf3f1a186a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99b9738abe00b477375f3bbeb5cc4e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#ad99b9738abe00b477375f3bbeb5cc4e2">reload_config</a> (int <a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>)</td></tr>
<tr class="separator:ad99b9738abe00b477375f3bbeb5cc4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663cbab45a521032da97724c43440ace"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a663cbab45a521032da97724c43440ace">restart_monitor</a> (void)</td></tr>
<tr class="memdesc:a663cbab45a521032da97724c43440ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the channel monitor thread.  <a href="#a663cbab45a521032da97724c43440ace">More...</a><br /></td></tr>
<tr class="separator:a663cbab45a521032da97724c43440ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21f56cfd830c9cf76ab19f422878747f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#a21f56cfd830c9cf76ab19f422878747f">setup_rtp_connection</a> (ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, const char *remoteIp, int remotePort)</td></tr>
<tr class="separator:a21f56cfd830c9cf76ab19f422878747f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70b50857ce89956330f453356b5397b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#ae70b50857ce89956330f453356b5397b">setup_udptl_connection</a> (ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, const char *remoteIp, int remotePort)</td></tr>
<tr class="separator:ae70b50857ce89956330f453356b5397b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f7dcde04faacabd694aee206f3529f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d45/chan__ooh323_8h.html#ab3f7dcde04faacabd694aee206f3529f">update_our_aliases</a> (ooCallData *<a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, struct <a class="el" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p)</td></tr>
<tr class="separator:ab3f7dcde04faacabd694aee206f3529f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2f6f623a4024fc1fb7462a81528c085d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f6f623a4024fc1fb7462a81528c085d">&#9670;&nbsp;</a></span>close_rtp_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_rtp_connection </td>
          <td>(</td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04810">4810</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02183">ast_rtp_instance_stop()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00187">ooh323_pvt::rtp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00635">ooh323c_stop_transmit_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;{</div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;</div><div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   close_rtp_connection\n&quot;</span>);</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;   p = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>);</div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;   <span class="keywordflow">if</span> (!p) {</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Couldn&#39;t find matching call to close rtp &quot;</span></div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;                         <span class="stringliteral">&quot;connection\n&quot;</span>);</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;   }</div><div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3978338bfe35df207f003782e428fb0c">ast_rtp_instance_stop</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>);</div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;   }</div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;</div><div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   close_rtp_connection\n&quot;</span>);</div><div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;</div><div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;}</div><div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a3978338bfe35df207f003782e428fb0c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a3978338bfe35df207f003782e428fb0c">ast_rtp_instance_stop</a></div><div class="ttdeci">void ast_rtp_instance_stop(struct ast_rtp_instance *instance)</div><div class="ttdoc">Stop an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02183">rtp_engine.c:2183</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a8adb8595b8127cbea2118fada1ef8782"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">ooh323_pvt::rtp</a></div><div class="ttdeci">struct ast_rtp_instance * rtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00187">chan_ooh323.c:187</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a51f5fabf3fe32dbd5bd867d8a3a8bb39"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a></div><div class="ttdeci">static struct ooh323_pvt * find_call(ooCallData *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00810">chan_ooh323.c:810</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a912ab4856b42f76debe652a73cad3e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912ab4856b42f76debe652a73cad3e30">&#9670;&nbsp;</a></span>close_udptl_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_udptl_connection </td>
          <td>(</td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04901">4901</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02947">ast_channel_trylock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">AST_CONTROL_T38_PARAMETERS</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01238">ast_queue_control_data()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00374">AST_T38_TERMINATED</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00374">DEADLOCK_AVOIDANCE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00203">ooh323_pvt::owner</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00398">ast_control_t38_parameters::request_response</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00102">T38_ENABLED</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00197">ooh323_pvt::t38_tx_enable</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00191">ooh323_pvt::t38support</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00658">ooh323c_stop_transmit_datachannel()</a>.</p>
<div class="fragment"><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;{</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   close_udptl_connection\n&quot;</span>);</div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;   p = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>);</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;   <span class="keywordflow">if</span> (!p) {</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Couldn&#39;t find matching call to close udptl &quot;</span></div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;                         <span class="stringliteral">&quot;connection\n&quot;</span>);</div><div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;   }</div><div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;      <span class="keywordflow">while</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)) {</div><div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Failed to grab lock, trying again\n&quot;</span>);</div><div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;      }</div><div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;      <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;      }</div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;   }</div><div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;</div><div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;   p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#af4a18eb222c36eee313b6a0988f1c86d">t38_tx_enable</a> = 0;</div><div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">t38support</a> == <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6d9b175ed35f8ef7b2d8cc2dc435fde8">T38_ENABLED</a>) {</div><div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/def/structast__control__t38__parameters.html">ast_control_t38_parameters</a> parameters = { .<a class="code" href="../../d5/def/structast__control__t38__parameters.html#adb36822366e10ce64ca8337c512732a6">request_response</a> = 0 };</div><div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;      parameters.<a class="code" href="../../d5/def/structast__control__t38__parameters.html#adb36822366e10ce64ca8337c512732a6">request_response</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a168d496bdac09ece3ce49cf473bbdb4ba9df578b4287c86673d7f40f9abcdc86f">AST_T38_TERMINATED</a>;</div><div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7e5e15c22564fd66351d332ad10658b5">ast_queue_control_data</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a>, &amp;parameters, <span class="keyword">sizeof</span>(parameters));</div><div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;   }</div><div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;</div><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;</div><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   close_udptl_connection\n&quot;</span>);</div><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;</div><div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a6d9b175ed35f8ef7b2d8cc2dc435fde8"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6d9b175ed35f8ef7b2d8cc2dc435fde8">T38_ENABLED</a></div><div class="ttdeci">#define T38_ENABLED</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00102">chan_ooh323.c:102</a></div></div>
<div class="ttc" id="structast__control__t38__parameters_html"><div class="ttname"><a href="../../d5/def/structast__control__t38__parameters.html">ast_control_t38_parameters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00397">include/asterisk/frame.h:397</a></div></div>
<div class="ttc" id="lock_8h_html_a851106e971b4611a38cb4be8b39d9fcf"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a></div><div class="ttdeci">#define DEADLOCK_AVOIDANCE(lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00374">lock.h:374</a></div></div>
<div class="ttc" id="structast__control__t38__parameters_html_adb36822366e10ce64ca8337c512732a6"><div class="ttname"><a href="../../d5/def/structast__control__t38__parameters.html#adb36822366e10ce64ca8337c512732a6">ast_control_t38_parameters::request_response</a></div><div class="ttdeci">enum ast_control_t38 request_response</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00398">include/asterisk/frame.h:398</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a298efdcdae5062ad10b1597b6df19955"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">ooh323_pvt::t38support</a></div><div class="ttdeci">int t38support</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00191">chan_ooh323.c:191</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">include/asterisk/frame.h:301</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="structooh323__pvt_html_af4a18eb222c36eee313b6a0988f1c86d"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#af4a18eb222c36eee313b6a0988f1c86d">ooh323_pvt::t38_tx_enable</a></div><div class="ttdeci">int t38_tx_enable</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00197">chan_ooh323.c:197</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9241175b397dfd032c4cadbc8c9c2d05"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">ooh323_pvt::owner</a></div><div class="ttdeci">struct ast_channel * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00203">chan_ooh323.c:203</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a168d496bdac09ece3ce49cf473bbdb4ba9df578b4287c86673d7f40f9abcdc86f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a168d496bdac09ece3ce49cf473bbdb4ba9df578b4287c86673d7f40f9abcdc86f">AST_T38_TERMINATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00374">include/asterisk/frame.h:374</a></div></div>
<div class="ttc" id="channel_8h_html_a7e5e15c22564fd66351d332ad10658b5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7e5e15c22564fd66351d332ad10658b5">ast_queue_control_data</a></div><div class="ttdeci">int ast_queue_control_data(struct ast_channel *chan, enum ast_control_frame_type control, const void *data, size_t datalen)</div><div class="ttdoc">Queue a control frame with payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01238">channel.c:1238</a></div></div>
<div class="ttc" id="channel_8h_html_a7dc0d696d897c864c6f41a3a1795c82e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a></div><div class="ttdeci">#define ast_channel_trylock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02947">channel.h:2947</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a51f5fabf3fe32dbd5bd867d8a3a8bb39"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a></div><div class="ttdeci">static struct ooh323_pvt * find_call(ooCallData *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00810">chan_ooh323.c:810</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ae16e21f810a80e8fd5bbf6936b2bb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae16e21f810a80e8fd5bbf6936b2bb7">&#9670;&nbsp;</a></span>configure_local_rtp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int configure_local_rtp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">4599</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02431">ast_channel_set_fd()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02947">ast_channel_trylock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00395">ast_format_cap_count()</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00400">ast_format_cap_get_format()</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00438">ast_format_cap_get_framing()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03657">ast_parse_arg()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01428">ast_rtp_codecs_payloads_set_rtpmap_type()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01558">ast_rtp_codecs_set_framing()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02192">ast_rtp_instance_fd()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00727">ast_rtp_instance_get_codecs()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00643">ast_rtp_instance_get_local_address()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00465">ast_rtp_instance_new()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00705">ast_rtp_instance_set_prop()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02169">ast_rtp_instance_set_qos()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02670">ast_rtp_instance_set_timeout()</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00117">AST_RTP_PROPERTY_DTMF</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00115">AST_RTP_PROPERTY_NAT</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00123">AST_RTP_PROPERTY_RTCP</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00171">ast_sockaddr_copy()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00521">ast_sockaddr_port</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00290">ast_sockaddr_stringify_addr()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00730">ast_udptl_fd()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01140">ast_udptl_get_us()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01028">ast_udptl_new_with_bindaddr()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00997">ast_udptl_set_far_max_datagram()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00353">bindaddr</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00229">ooh323_pvt::cap</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00374">DEADLOCK_AVOIDANCE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00231">ooh323_pvt::dtmfcodec</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00230">ooh323_pvt::dtmfmode</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00102">format</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00373">gTOS</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00031">H323_DTMF_CISCO</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00026">H323_DTMF_RFC2833</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00235">ooh323_pvt::nat</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04506">ooh323_convertAsteriskCapToH323Cap()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00203">ooh323_pvt::owner</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01104">PARSE_ADDR</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00245">ooh323_pvt::rtdrcount</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00245">ooh323_pvt::rtdrinterval</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00187">ooh323_pvt::rtp</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00194">ooh323_pvt::rtptimeout</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00195">ooh323_pvt::udptl</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02089">onNewCallCreated()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02016">onOutgoingCall()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01840">ooh323_onReceivedSetup()</a>.</p>
<div class="fragment"><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;{</div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;   <span class="keywordtype">char</span> lhost[INET6_ADDRSTRLEN];</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;   <span class="keywordtype">unsigned</span> lport = 0;</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;   ooMediaInfo mediaInfo;</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   configure_local_rtp\n&quot;</span>);</div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;</div><div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;   memset(&amp;mediaInfo, 0, <span class="keyword">sizeof</span>(mediaInfo));</div><div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;localIP, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18">PARSE_ADDR</a>, &amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>)) {</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;      <a class="code" href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>, &amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a80ca8badd36b5edc83592e8f017817a4">bindaddr</a>);</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;   }</div><div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;   <span class="keywordflow">if</span> (!(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a012b2ab9fad02a5fbf9e457a69020ade">ast_rtp_instance_new</a>(<span class="stringliteral">&quot;asterisk&quot;</span>, <a class="code" href="../../d0/da0/structsched.html">sched</a>, &amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create RTP session: %s\n&quot;</span>,</div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;         strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;   }</div><div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;</div><div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;   <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab71294e675bc01eb29e9fd13b3839759">ast_rtp_instance_set_qos</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a>, 0, <span class="stringliteral">&quot;ooh323-rtp&quot;</span>);</div><div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;</div><div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;   <span class="keywordflow">if</span> (!(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a> = <a class="code" href="../../d5/da1/udptl_8h.html#a8822c132360c30d1b5fcc9dd13c70dd6">ast_udptl_new_with_bindaddr</a>(<a class="code" href="../../d0/da0/structsched.html">sched</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#abda48311b6abe5a4dd8b6904ddde0a6d">io</a>, 0, &amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>))) {</div><div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create UDPTL session: %s\n&quot;</span>,</div><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;         strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;   }</div><div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;   <a class="code" href="../../d5/da1/udptl_8h.html#abb364758e66c04d5d791fc51d2b3ed6d">ast_udptl_set_far_max_datagram</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a>, 144);</div><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;</div><div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;      <span class="keywordflow">while</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)) {</div><div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1,<span class="stringliteral">&quot;Failed to grab lock, trying again\n&quot;</span>);</div><div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;      }</div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;      <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;      }</div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;   }</div><div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, 0, <a class="code" href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 0));</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, 1, <a class="code" href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 1));</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, 5, <a class="code" href="../../d5/da1/udptl_8h.html#a424e6e48fcfa491a9ee6da3c8a7162a3">ast_udptl_fd</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a>));</div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;</div><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>) {</div><div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a6f85ba232050ff932d804b62e6e848cd">ast_rtp_codecs_set_framing</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>),</div><div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#a3aaa13500c7e4dd3dad8e4c6afccbed3">ast_format_cap_get_framing</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>));</div><div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;      }</div><div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a>) {</div><div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca0f994311315c8d856b8298bc22f7e007">AST_RTP_PROPERTY_NAT</a>, 1);</div><div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;      }</div><div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">dtmfmode</a> &amp; <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a592a54239c05477ea4d86ab962625732">H323_DTMF_RFC2833</a> &amp;&amp; p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>) {</div><div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a>, 1);</div><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab5350656de626a43127eb607e58bdfa3">ast_rtp_codecs_payloads_set_rtpmap_type</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>),</div><div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;             p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>, <span class="stringliteral">&quot;audio&quot;</span>, <span class="stringliteral">&quot;telephone-event&quot;</span>, 0);</div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;      }</div><div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">dtmfmode</a> &amp; <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#acff40575e5c7517d4cbd5136ecf867ae">H323_DTMF_CISCO</a> &amp;&amp; p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>) {</div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a>, 1);</div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab5350656de626a43127eb607e58bdfa3">ast_rtp_codecs_payloads_set_rtpmap_type</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>),</div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;             p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>, <span class="stringliteral">&quot;audio&quot;</span>, <span class="stringliteral">&quot;cisco-telephone-event&quot;</span>, 0);</div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;      }</div><div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;      <span class="comment">/* figure out our local RTP port and tell the H.323 stack about it*/</span></div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a80baeff1bd121c3168ede2a955e9b3a2">ast_rtp_instance_get_local_address</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, &amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(lhost, <a class="code" href="../../db/df1/netsock2_8h.html#a6bf0e68e74c0a9ca9d25251b22e4d64a">ast_sockaddr_stringify_addr</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>), <span class="keyword">sizeof</span>(lhost));</div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;      lport = <a class="code" href="../../db/df1/netsock2_8h.html#a51e2841175bf3ad58a4e11ad9fb2453f">ast_sockaddr_port</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a96c64be67b0bcd897efa8db0eced9ab8">rtptimeout</a>) {</div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#afd73a14bf491aea2a0fdc2613ff21300">ast_rtp_instance_set_timeout</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a96c64be67b0bcd897efa8db0eced9ab8">rtptimeout</a>);</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;      }</div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca9f63c95936712cfd6ec65555f1a27053">AST_RTP_PROPERTY_RTCP</a>, 1);</div><div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;</div><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;   }</div><div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;</div><div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a2ad032ab1894a6b6f029903b60b0e7dd">rtdrcount</a>) {</div><div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;Setup RTDR info: %d, %d\n&quot;</span>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a813265b1f34e107aa4b5cda6adff23ee">rtdrinterval</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a2ad032ab1894a6b6f029903b60b0e7dd">rtdrcount</a>);</div><div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;      <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;rtdrInterval = p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a813265b1f34e107aa4b5cda6adff23ee">rtdrinterval</a>;</div><div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;      <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;rtdrCount = p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a2ad032ab1894a6b6f029903b60b0e7dd">rtdrcount</a>;</div><div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;   }</div><div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;</div><div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;</div><div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(mediaInfo.lMediaIP, lhost, <span class="keyword">sizeof</span>(mediaInfo.lMediaIP));</div><div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;   mediaInfo.lMediaPort = lport;</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;   mediaInfo.lMediaCntrlPort = mediaInfo.lMediaPort + 1;</div><div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../d0/d3c/format__cap_8h.html#aefb7d3623f4d8a582168e7aaf509459c">ast_format_cap_count</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>); x++) {</div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a> = <a class="code" href="../../d0/d3c/format__cap_8h.html#a5d2c52e9d892cd7c6488563cf00ba9bc">ast_format_cap_get_format</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, x);</div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;      strcpy(mediaInfo.dir, <span class="stringliteral">&quot;transmit&quot;</span>);</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;      mediaInfo.cap = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#acaeea23adf3da56aa219b4c8edb501dd">ooh323_convertAsteriskCapToH323Cap</a>(format);</div><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;      ooAddMediaInfo(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, mediaInfo);</div><div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;      strcpy(mediaInfo.dir, <span class="stringliteral">&quot;receive&quot;</span>);</div><div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;      ooAddMediaInfo(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, mediaInfo);</div><div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;      <span class="keywordflow">if</span> (mediaInfo.cap == OO_G729A) {</div><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;         strcpy(mediaInfo.dir, <span class="stringliteral">&quot;transmit&quot;</span>);</div><div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;         mediaInfo.cap = OO_G729;</div><div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;         ooAddMediaInfo(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, mediaInfo);</div><div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;         strcpy(mediaInfo.dir, <span class="stringliteral">&quot;receive&quot;</span>);</div><div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;         ooAddMediaInfo(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, mediaInfo);</div><div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;</div><div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;         strcpy(mediaInfo.dir, <span class="stringliteral">&quot;transmit&quot;</span>);</div><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;         mediaInfo.cap = OO_G729B;</div><div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;         ooAddMediaInfo(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, mediaInfo);</div><div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;         strcpy(mediaInfo.dir, <span class="stringliteral">&quot;receive&quot;</span>);</div><div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;         ooAddMediaInfo(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, mediaInfo);</div><div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;      }</div><div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;</div><div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(format, -1);</div><div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;   }</div><div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;</div><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a>) {</div><div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;      <a class="code" href="../../d5/da1/udptl_8h.html#a7dcb742a0ff23a358e2b59b290e36577">ast_udptl_get_us</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a>, &amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(lhost, <a class="code" href="../../db/df1/netsock2_8h.html#a6bf0e68e74c0a9ca9d25251b22e4d64a">ast_sockaddr_stringify_addr</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>), <span class="keyword">sizeof</span>(lhost));</div><div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;      lport = <a class="code" href="../../db/df1/netsock2_8h.html#a51e2841175bf3ad58a4e11ad9fb2453f">ast_sockaddr_port</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(mediaInfo.lMediaIP, lhost, <span class="keyword">sizeof</span>(mediaInfo.lMediaIP));</div><div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;      mediaInfo.lMediaPort = lport;</div><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;      mediaInfo.lMediaCntrlPort = mediaInfo.lMediaPort +1;</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;      mediaInfo.cap = OO_T38;</div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;      strcpy(mediaInfo.dir, <span class="stringliteral">&quot;transmit&quot;</span>);</div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;      ooAddMediaInfo(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, mediaInfo);</div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;      strcpy(mediaInfo.dir, <span class="stringliteral">&quot;receive&quot;</span>);</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;      ooAddMediaInfo(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, mediaInfo);</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;   }</div><div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;</div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   configure_local_rtp\n&quot;</span>);</div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_a6bf0e68e74c0a9ca9d25251b22e4d64a"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a6bf0e68e74c0a9ca9d25251b22e4d64a">ast_sockaddr_stringify_addr</a></div><div class="ttdeci">static char * ast_sockaddr_stringify_addr(const struct ast_sockaddr *addr)</div><div class="ttdoc">Wrapper around ast_sockaddr_stringify_fmt() to return an address only. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00290">netsock2.h:290</a></div></div>
<div class="ttc" id="format__cap_8h_html_a3aaa13500c7e4dd3dad8e4c6afccbed3"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a3aaa13500c7e4dd3dad8e4c6afccbed3">ast_format_cap_get_framing</a></div><div class="ttdeci">unsigned int ast_format_cap_get_framing(const struct ast_format_cap *cap)</div><div class="ttdoc">Get the global framing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00438">format_cap.c:438</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00117">rtp_engine.h:117</a></div></div>
<div class="ttc" id="netsock2_8h_html_a56a46003c93bfd65111ea8ffc97af8f9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a></div><div class="ttdeci">static void ast_sockaddr_copy(struct ast_sockaddr *dst, const struct ast_sockaddr *src)</div><div class="ttdoc">Copies the data from one ast_sockaddr to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00171">netsock2.h:171</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a96c64be67b0bcd897efa8db0eced9ab8"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a96c64be67b0bcd897efa8db0eced9ab8">ooh323_pvt::rtptimeout</a></div><div class="ttdeci">int rtptimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00194">chan_ooh323.c:194</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0376aa2503a185437fab8cb0b7d674fb"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a></div><div class="ttdeci">struct ast_rtp_codecs * ast_rtp_instance_get_codecs(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the codecs structure of an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00727">rtp_engine.c:727</a></div></div>
<div class="ttc" id="lock_8h_html_a851106e971b4611a38cb4be8b39d9fcf"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a></div><div class="ttdeci">#define DEADLOCK_AVOIDANCE(lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00374">lock.h:374</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a9ff41b61938f3d4dc4c82db103e7914ca9f63c95936712cfd6ec65555f1a27053"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca9f63c95936712cfd6ec65555f1a27053">AST_RTP_PROPERTY_RTCP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00123">rtp_engine.h:123</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_ab71294e675bc01eb29e9fd13b3839759"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#ab71294e675bc01eb29e9fd13b3839759">ast_rtp_instance_set_qos</a></div><div class="ttdeci">int ast_rtp_instance_set_qos(struct ast_rtp_instance *instance, int tos, int cos, const char *desc)</div><div class="ttdoc">Set QoS parameters on an RTP session. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02169">rtp_engine.c:2169</a></div></div>
<div class="ttc" id="structsched_html"><div class="ttname"><a href="../../d0/da0/structsched.html">sched</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00076">sched.c:76</a></div></div>
<div class="ttc" id="structast__format_html"><div class="ttname"><a href="../../d0/d98/structast__format.html">ast_format</a></div><div class="ttdoc">Definition of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00043">format.c:43</a></div></div>
<div class="ttc" id="format__cap_8h_html_aefb7d3623f4d8a582168e7aaf509459c"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aefb7d3623f4d8a582168e7aaf509459c">ast_format_cap_count</a></div><div class="ttdeci">size_t ast_format_cap_count(const struct ast_format_cap *cap)</div><div class="ttdoc">Get the number of formats present within the capabilities structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00395">format_cap.c:395</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_afd73a14bf491aea2a0fdc2613ff21300"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#afd73a14bf491aea2a0fdc2613ff21300">ast_rtp_instance_set_timeout</a></div><div class="ttdeci">void ast_rtp_instance_set_timeout(struct ast_rtp_instance *instance, int timeout)</div><div class="ttdoc">Set the RTP timeout value. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02670">rtp_engine.c:2670</a></div></div>
<div class="ttc" id="udptl_8h_html_abb364758e66c04d5d791fc51d2b3ed6d"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#abb364758e66c04d5d791fc51d2b3ed6d">ast_udptl_set_far_max_datagram</a></div><div class="ttdeci">void ast_udptl_set_far_max_datagram(struct ast_udptl *udptl, unsigned int max_datagram)</div><div class="ttdoc">sets far max datagram size. If max_datagram is = 0, the far max datagram size is set to a default val...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00997">udptl.c:997</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a6f85ba232050ff932d804b62e6e848cd"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a6f85ba232050ff932d804b62e6e848cd">ast_rtp_codecs_set_framing</a></div><div class="ttdeci">void ast_rtp_codecs_set_framing(struct ast_rtp_codecs *codecs, unsigned int framing)</div><div class="ttdoc">Set the framing used for a set of codecs. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l01558">rtp_engine.c:1558</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a0b9262736048e2faf9f97e43d88fef5c"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">ooh323_pvt::dtmfcodec</a></div><div class="ttdeci">int dtmfcodec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00231">chan_ooh323.c:231</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9751588dbb8cbd43c7c148b8ded04ff0"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">ooh323_pvt::udptl</a></div><div class="ttdeci">struct ast_udptl * udptl</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00195">chan_ooh323.c:195</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a37d458642452d4590abe968f82208451"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a></div><div class="ttdeci">static int gTOS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00373">chan_ooh323.c:373</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18">PARSE_ADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01104">include/asterisk/config.h:1104</a></div></div>
<div class="ttc" id="udptl_8h_html_a7dcb742a0ff23a358e2b59b290e36577"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#a7dcb742a0ff23a358e2b59b290e36577">ast_udptl_get_us</a></div><div class="ttdeci">void ast_udptl_get_us(const struct ast_udptl *udptl, struct ast_sockaddr *us)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01140">udptl.c:1140</a></div></div>
<div class="ttc" id="netsock2_8h_html_a51e2841175bf3ad58a4e11ad9fb2453f"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a51e2841175bf3ad58a4e11ad9fb2453f">ast_sockaddr_port</a></div><div class="ttdeci">#define ast_sockaddr_port(addr)</div><div class="ttdoc">Get the port number of a socket address. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00521">netsock2.h:521</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_acff40575e5c7517d4cbd5136ecf867ae"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#acff40575e5c7517d4cbd5136ecf867ae">H323_DTMF_CISCO</a></div><div class="ttdeci">#define H323_DTMF_CISCO</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00031">ooh323cDriver.h:31</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a9ff41b61938f3d4dc4c82db103e7914ca0f994311315c8d856b8298bc22f7e007"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914ca0f994311315c8d856b8298bc22f7e007">AST_RTP_PROPERTY_NAT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00115">rtp_engine.h:115</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_abda48311b6abe5a4dd8b6904ddde0a6d"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#abda48311b6abe5a4dd8b6904ddde0a6d">io</a></div><div class="ttdeci">static struct io_context * io</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00401">chan_ooh323.c:401</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a970f3be80cbd08a1591eb8588f3cd54b"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a970f3be80cbd08a1591eb8588f3cd54b">ooh323_pvt::cap</a></div><div class="ttdeci">struct ast_format_cap * cap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00229">chan_ooh323.c:229</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_ab5350656de626a43127eb607e58bdfa3"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#ab5350656de626a43127eb607e58bdfa3">ast_rtp_codecs_payloads_set_rtpmap_type</a></div><div class="ttdeci">int ast_rtp_codecs_payloads_set_rtpmap_type(struct ast_rtp_codecs *codecs, struct ast_rtp_instance *instance, int payload, char *mimetype, char *mimesubtype, enum ast_rtp_options options)</div><div class="ttdoc">Record tx payload type information that was seen in an a=rtpmap: SDP line. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l01428">rtp_engine.c:1428</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a0e5a76746e3addb17a93a158017c2273"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">ooh323_pvt::dtmfmode</a></div><div class="ttdeci">int dtmfmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00230">chan_ooh323.c:230</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a813265b1f34e107aa4b5cda6adff23ee"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a813265b1f34e107aa4b5cda6adff23ee">ooh323_pvt::rtdrinterval</a></div><div class="ttdeci">int rtdrinterval</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00245">chan_ooh323.c:245</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="structooh323__pvt_html_ada540a5f25f7302dc1a3d17ccfa59b10"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ada540a5f25f7302dc1a3d17ccfa59b10">ooh323_pvt::nat</a></div><div class="ttdeci">int nat</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00235">chan_ooh323.c:235</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="udptl_8h_html_a424e6e48fcfa491a9ee6da3c8a7162a3"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#a424e6e48fcfa491a9ee6da3c8a7162a3">ast_udptl_fd</a></div><div class="ttdeci">int ast_udptl_fd(const struct ast_udptl *udptl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00730">udptl.c:730</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a7e9aea581abeaae5d3799367d95284ac"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a></div><div class="ttdeci">int ast_parse_arg(const char *arg, enum ast_parse_flags flags, void *result,...)</div><div class="ttdoc">The argument parsing routine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03657">main/config.c:3657</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_aee3ef7f9e53a34e743c3a95c9ca95fb4"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#aee3ef7f9e53a34e743c3a95c9ca95fb4">ast_rtp_instance_fd</a></div><div class="ttdeci">int ast_rtp_instance_fd(struct ast_rtp_instance *instance, int rtcp)</div><div class="ttdoc">Get the file descriptor for an RTP session (or RTCP) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02192">rtp_engine.c:2192</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a80baeff1bd121c3168ede2a955e9b3a2"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a80baeff1bd121c3168ede2a955e9b3a2">ast_rtp_instance_get_local_address</a></div><div class="ttdeci">void ast_rtp_instance_get_local_address(struct ast_rtp_instance *instance, struct ast_sockaddr *address)</div><div class="ttdoc">Get the local address that we are expecting RTP on. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00643">rtp_engine.c:643</a></div></div>
<div class="ttc" id="channel_8h_html_aca37ca2f3d55a223d26617329ed48a3e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca37ca2f3d55a223d26617329ed48a3e">ast_channel_set_fd</a></div><div class="ttdeci">void ast_channel_set_fd(struct ast_channel *chan, int which, int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02431">channel.c:2431</a></div></div>
<div class="ttc" id="udptl_8h_html_a8822c132360c30d1b5fcc9dd13c70dd6"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#a8822c132360c30d1b5fcc9dd13c70dd6">ast_udptl_new_with_bindaddr</a></div><div class="ttdeci">struct ast_udptl * ast_udptl_new_with_bindaddr(struct ast_sched_context *sched, struct io_context *io, int callbackmode, struct ast_sockaddr *in)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01028">udptl.c:1028</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a2ad032ab1894a6b6f029903b60b0e7dd"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a2ad032ab1894a6b6f029903b60b0e7dd">ooh323_pvt::rtdrcount</a></div><div class="ttdeci">int rtdrcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00245">chan_ooh323.c:245</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9241175b397dfd032c4cadbc8c9c2d05"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">ooh323_pvt::owner</a></div><div class="ttdeci">struct ast_channel * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00203">chan_ooh323.c:203</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a8adb8595b8127cbea2118fada1ef8782"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">ooh323_pvt::rtp</a></div><div class="ttdeci">struct ast_rtp_instance * rtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00187">chan_ooh323.c:187</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a77f59605d15d7dfc53e0df12352b8235"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a></div><div class="ttdeci">void ast_rtp_instance_set_prop(struct ast_rtp_instance *instance, enum ast_rtp_property property, int value)</div><div class="ttdoc">Set the value of an RTP instance property. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00705">rtp_engine.c:705</a></div></div>
<div class="ttc" id="channel_8h_html_a7dc0d696d897c864c6f41a3a1795c82e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a></div><div class="ttdeci">#define ast_channel_trylock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02947">channel.h:2947</a></div></div>
<div class="ttc" id="format__cap_8h_html_a5d2c52e9d892cd7c6488563cf00ba9bc"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a5d2c52e9d892cd7c6488563cf00ba9bc">ast_format_cap_get_format</a></div><div class="ttdeci">struct ast_format * ast_format_cap_get_format(const struct ast_format_cap *cap, int position)</div><div class="ttdoc">Get the format at a specific index. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00400">format_cap.c:400</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a012b2ab9fad02a5fbf9e457a69020ade"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a012b2ab9fad02a5fbf9e457a69020ade">ast_rtp_instance_new</a></div><div class="ttdeci">struct ast_rtp_instance * ast_rtp_instance_new(const char *engine_name, struct ast_sched_context *sched, const struct ast_sockaddr *sa, void *data)</div><div class="ttdoc">Create a new RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00465">rtp_engine.c:465</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_a592a54239c05477ea4d86ab962625732"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#a592a54239c05477ea4d86ab962625732">H323_DTMF_RFC2833</a></div><div class="ttdeci">#define H323_DTMF_RFC2833</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00026">ooh323cDriver.h:26</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a80ca8badd36b5edc83592e8f017817a4"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a80ca8badd36b5edc83592e8f017817a4">bindaddr</a></div><div class="ttdeci">struct ast_sockaddr bindaddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00353">chan_ooh323.c:353</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_acaeea23adf3da56aa219b4c8edb501dd"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#acaeea23adf3da56aa219b4c8edb501dd">ooh323_convertAsteriskCapToH323Cap</a></div><div class="ttdeci">int ooh323_convertAsteriskCapToH323Cap(struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l04506">chan_ooh323.c:4506</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb39f7cec19c80e554127c62425a77b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb39f7cec19c80e554127c62425a77b3">&#9670;&nbsp;</a></span>delete_peers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delete_peers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04230">4230</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00186">ast_mutex_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00324">ast_peer_list::lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00312">ooh323_peer::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00323">ast_peer_list::peers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02813">reload_config()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04296">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;{</div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a> *cur = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *prev = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;   cur = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">peers</a>;</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;   <span class="keywordflow">while</span> (cur) {</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;      prev = cur;</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;      cur = cur-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">next</a>;</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;prev-&gt;lock);</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev-&gt;h323id);</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev-&gt;email);</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev-&gt;url);</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev-&gt;e164);</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;      <span class="keywordflow">if</span>(prev-&gt;rtpmask) {</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;prev-&gt;rtpmask-&gt;lock);</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;      prev-&gt;rtpmask-&gt;inuse--;</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;prev-&gt;rtpmask-&gt;lock);</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;      <span class="keywordflow">if</span> (prev-&gt;rtpmask-&gt;inuse == 0) {</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;         regfree(&amp;prev-&gt;rtpmask-&gt;regex);</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;prev-&gt;rtpmask-&gt;lock);</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev-&gt;rtpmask);</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;            }</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;      }</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev);</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;      <span class="keywordflow">if</span> (cur == <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">peers</a>) {</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;      }</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;   }</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">peers</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_aeee493c65a926062d6f7991cb790e882"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a></div><div class="ttdeci">static struct ast_peer_list peerl</div></div>
<div class="ttc" id="structooh323__peer_html_a6807c9a1b913e9bfb4a8877744178ad6"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">ooh323_peer::next</a></div><div class="ttdeci">struct ooh323_peer * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00312">chan_ooh323.c:312</a></div></div>
<div class="ttc" id="structast__peer__list_html_aa2e3ba36ed9e1e8461fb38ddb0f13749"><div class="ttname"><a href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">ast_peer_list::peers</a></div><div class="ttdeci">struct ooh323_peer * peers</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00323">chan_ooh323.c:323</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__peer__list_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_peer_list::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00324">chan_ooh323.c:324</a></div></div>
<div class="ttc" id="structooh323__peer_html"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00284">chan_ooh323.c:284</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="lock_8h_html_ab8977a71822daa556f19f30ba6eec765"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a></div><div class="ttdeci">#define ast_mutex_destroy(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00186">lock.h:186</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a231127a643c8a92cbe5dd77af5f90c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a231127a643c8a92cbe5dd77af5f90c01">&#9670;&nbsp;</a></span>delete_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delete_users </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04265">4265</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00186">ast_mutex_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00319">ast_user_list::lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00280">ooh323_user::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00318">ast_user_list::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02813">reload_config()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04296">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;{</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d14/structooh323__user.html">ooh323_user</a> *cur = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *prev = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;   cur = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">users</a>;</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;   <span class="keywordflow">while</span> (cur) {</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;      prev = cur;</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;      cur = cur-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a2786f8f1b338a3bc03cc4932b6687589">next</a>;</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;prev-&gt;lock);</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;            <span class="keywordflow">if</span>(prev-&gt;rtpmask) {</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;prev-&gt;rtpmask-&gt;lock);</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;         prev-&gt;rtpmask-&gt;inuse--;</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;prev-&gt;rtpmask-&gt;lock);</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;         <span class="keywordflow">if</span> (prev-&gt;rtpmask-&gt;inuse == 0) {</div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;            regfree(&amp;prev-&gt;rtpmask-&gt;regex);</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;            <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;prev-&gt;rtpmask-&gt;lock);</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev-&gt;rtpmask);</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;               }</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;            }</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(prev-&gt;cap);</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev);</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;      <span class="keywordflow">if</span> (cur == <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">users</a>) {</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;      }</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;   }</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">users</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;}</div><div class="ttc" id="structooh323__user_html"><div class="ttname"><a href="../../d7/d14/structooh323__user.html">ooh323_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00255">chan_ooh323.c:255</a></div></div>
<div class="ttc" id="structooh323__user_html_a2786f8f1b338a3bc03cc4932b6687589"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a2786f8f1b338a3bc03cc4932b6687589">ooh323_user::next</a></div><div class="ttdeci">struct ooh323_user * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00280">chan_ooh323.c:280</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a35aebfab0f89789d62eb22a1832953a6"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a></div><div class="ttdeci">static struct ast_user_list userl</div></div>
<div class="ttc" id="structast__user__list_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_user_list::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00319">chan_ooh323.c:319</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="lock_8h_html_ab8977a71822daa556f19f30ba6eec765"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a></div><div class="ttdeci">#define ast_mutex_destroy(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00186">lock.h:186</a></div></div>
<div class="ttc" id="structast__user__list_html_a2d99544967409a7b81f4539c07bbd160"><div class="ttname"><a href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">ast_user_list::users</a></div><div class="ttdeci">struct ooh323_user * users</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00318">chan_ooh323.c:318</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92805d2de6da6513a8c6ee684a063878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92805d2de6da6513a8c6ee684a063878">&#9670;&nbsp;</a></span>find_peer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a>* find_peer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00890">890</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00302">ooh323_peer::e164</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00299">ooh323_peer::h323id</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00297">ooh323_peer::ip</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00324">ast_peer_list::lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00286">ooh323_peer::name</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00312">ooh323_peer::next</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00206">ooh323_pvt::peer</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00323">ast_peer_list::peers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00624">ooh323_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;{</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a> *peer;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   find_peer \&quot;%s\&quot;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <span class="keywordflow">for</span> (peer = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">peers</a>; peer; peer = peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">next</a>) {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>) {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;     comparing with \&quot;%s\&quot;\n&quot;</span>, peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a2e7434ed5c8eba706b7711039457815a">ip</a>);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      }</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a8e03167ce04350be901b028cc4cf1ce1">name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>))</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keywordflow">if</span> (peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#adc39d11fb9482c457c6d8d7aba22a1c1">h323id</a> &amp;&amp; !strcasecmp(peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#adc39d11fb9482c457c6d8d7aba22a1c1">h323id</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>))</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="keywordflow">if</span> (peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#ac64e617791f44d18c653737c1c21ccc8">e164</a> &amp;&amp; !strcasecmp(peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#ac64e617791f44d18c653737c1c21ccc8">e164</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>))</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">      if (!strcmp(peer-&gt;ip, name)) {</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">         if (port &gt; 0 &amp;&amp; peer-&gt;port == port) { break; }</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">         else if (port &lt;= 0) { break; }</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">      }</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>) {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">if</span> (peer) {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;     found matching peer\n&quot;</span>);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   find_peer \&quot;%s\&quot;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   <span class="keywordflow">return</span> peer;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_aeee493c65a926062d6f7991cb790e882"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a></div><div class="ttdeci">static struct ast_peer_list peerl</div></div>
<div class="ttc" id="structooh323__peer_html_a6807c9a1b913e9bfb4a8877744178ad6"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">ooh323_peer::next</a></div><div class="ttdeci">struct ooh323_peer * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00312">chan_ooh323.c:312</a></div></div>
<div class="ttc" id="structast__peer__list_html_aa2e3ba36ed9e1e8461fb38ddb0f13749"><div class="ttname"><a href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">ast_peer_list::peers</a></div><div class="ttdeci">struct ooh323_peer * peers</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00323">chan_ooh323.c:323</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="structast__peer__list_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_peer_list::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00324">chan_ooh323.c:324</a></div></div>
<div class="ttc" id="structooh323__peer_html"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00284">chan_ooh323.c:284</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structooh323__peer_html_ac64e617791f44d18c653737c1c21ccc8"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#ac64e617791f44d18c653737c1c21ccc8">ooh323_peer::e164</a></div><div class="ttdeci">char * e164</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00302">chan_ooh323.c:302</a></div></div>
<div class="ttc" id="structooh323__peer_html_a8e03167ce04350be901b028cc4cf1ce1"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#a8e03167ce04350be901b028cc4cf1ce1">ooh323_peer::name</a></div><div class="ttdeci">char name[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00286">chan_ooh323.c:286</a></div></div>
<div class="ttc" id="structooh323__peer_html_adc39d11fb9482c457c6d8d7aba22a1c1"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#adc39d11fb9482c457c6d8d7aba22a1c1">ooh323_peer::h323id</a></div><div class="ttdeci">char * h323id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00299">chan_ooh323.c:299</a></div></div>
<div class="ttc" id="structooh323__peer_html_a2e7434ed5c8eba706b7711039457815a"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#a2e7434ed5c8eba706b7711039457815a">ooh323_peer::ip</a></div><div class="ttdeci">char ip[4 *8+7+2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00297">chan_ooh323.c:297</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a842593d8c598d8b3e4584ffd7fcd72c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a842593d8c598d8b3e4584ffd7fcd72c8">&#9670;&nbsp;</a></span>find_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d14/structooh323__user.html">ooh323_user</a>* find_user </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00832">832</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00319">ast_user_list::lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00270">ooh323_user::mIP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00269">ooh323_user::mUseIP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00257">ooh323_user::name</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00280">ooh323_user::next</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00205">ooh323_pvt::user</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00318">ast_user_list::users</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">ooh323_destroy()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01840">ooh323_onReceivedSetup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;{</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d14/structooh323__user.html">ooh323_user</a> *<a class="code" href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   find_user: %s, %s\n&quot;</span>,<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>,ip);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   <span class="keywordflow">for</span> (user = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">users</a>; user; user = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a2786f8f1b338a3bc03cc4932b6687589">next</a>) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keywordflow">if</span> (ip &amp;&amp; user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a365ea96f3369e571b4c598e5c2588960">mUseIP</a> &amp;&amp; !strcmp(user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#aa38689ed8404a5f707ae0e93d102b0c4">mIP</a>, ip)) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      }</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> &amp;&amp; !strcmp(user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a8e03167ce04350be901b028cc4cf1ce1">name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   find_user\n&quot;</span>);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a>;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;}</div><div class="ttc" id="res__config__ldap_8c_html_a930c15eddfe0826ff30e658c9d50b9b4"><div class="ttname"><a href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a></div><div class="ttdeci">static char user[512]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d12/res__config__ldap_8c_source.html#l00075">res_config_ldap.c:75</a></div></div>
<div class="ttc" id="structooh323__user_html_a8e03167ce04350be901b028cc4cf1ce1"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a8e03167ce04350be901b028cc4cf1ce1">ooh323_user::name</a></div><div class="ttdeci">char name[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00257">chan_ooh323.c:257</a></div></div>
<div class="ttc" id="structooh323__user_html"><div class="ttname"><a href="../../d7/d14/structooh323__user.html">ooh323_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00255">chan_ooh323.c:255</a></div></div>
<div class="ttc" id="structooh323__user_html_a2786f8f1b338a3bc03cc4932b6687589"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a2786f8f1b338a3bc03cc4932b6687589">ooh323_user::next</a></div><div class="ttdeci">struct ooh323_user * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00280">chan_ooh323.c:280</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a35aebfab0f89789d62eb22a1832953a6"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a></div><div class="ttdeci">static struct ast_user_list userl</div></div>
<div class="ttc" id="structast__user__list_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_user_list::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00319">chan_ooh323.c:319</a></div></div>
<div class="ttc" id="structooh323__user_html_a365ea96f3369e571b4c598e5c2588960"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a365ea96f3369e571b4c598e5c2588960">ooh323_user::mUseIP</a></div><div class="ttdeci">int mUseIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00269">chan_ooh323.c:269</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structooh323__user_html_aa38689ed8404a5f707ae0e93d102b0c4"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#aa38689ed8404a5f707ae0e93d102b0c4">ooh323_user::mIP</a></div><div class="ttdeci">char mIP[4 *8+7+2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00270">chan_ooh323.c:270</a></div></div>
<div class="ttc" id="structast__user__list_html_a2d99544967409a7b81f4539c07bbd160"><div class="ttname"><a href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">ast_user_list::users</a></div><div class="ttdeci">struct ooh323_user * users</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00318">chan_ooh323.c:318</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a12aadb5c7eb23605fd353ed32172ee67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12aadb5c7eb23605fd353ed32172ee67">&#9670;&nbsp;</a></span>handle_cli_ooh323_reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXTERN char* handle_cli_ooh323_reload </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02778">2778</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00329">h323_reload_lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00328">h323_reloading</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04082">restart_monitor()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;{</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;       <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;               e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;ooh323 reload&quot;</span>;</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;               e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;                       <span class="stringliteral">&quot;Usage: ooh323 reload\n&quot;</span></div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;                       <span class="stringliteral">&quot;                Reload OOH323 config.\n&quot;</span>;</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;               <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;               <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;       }</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;       <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 2)</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;               <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   ooh323_reload\n&quot;</span>);</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#abb215bf16b2ed557136f697d0785b103">h323_reload_lock</a>);</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#ad60ccb0475ed36e6be2e9914df685d56">h323_reloading</a>) {</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;Previous OOH323 reload not yet done\n&quot;</span>);</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;      <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ad60ccb0475ed36e6be2e9914df685d56">h323_reloading</a> = 1;</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;   }</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#abb215bf16b2ed557136f697d0785b103">h323_reload_lock</a>);</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a83af94bb19a421cb25ca02d16fa5ba9c">restart_monitor</a>();</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   ooh323_reload\n&quot;</span>);</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_ad60ccb0475ed36e6be2e9914df685d56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#ad60ccb0475ed36e6be2e9914df685d56">h323_reloading</a></div><div class="ttdeci">static int h323_reloading</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00328">chan_ooh323.c:328</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a83af94bb19a421cb25ca02d16fa5ba9c"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a83af94bb19a421cb25ca02d16fa5ba9c">restart_monitor</a></div><div class="ttdeci">int restart_monitor(void)</div><div class="ttdoc">Start the channel monitor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l04082">chan_ooh323.c:4082</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_abb215bf16b2ed557136f697d0785b103"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#abb215bf16b2ed557136f697d0785b103">h323_reload_lock</a></div><div class="ttdeci">static ast_mutex_t h323_reload_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00329">chan_ooh323.c:329</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afc4cd7eca7172ae4470ad56ba16e7eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc4cd7eca7172ae4470ad56ba16e7eeb">&#9670;&nbsp;</a></span>ooh323_convert_hangupcause_asteriskToH323()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ooh323_convert_hangupcause_asteriskToH323 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cause</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05179">5179</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/da3/causes_8h_source.html#l00129">AST_CAUSE_BEARERCAPABILITY_NOTAVAIL</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00148">AST_CAUSE_BUSY</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00110">AST_CAUSE_CALL_REJECTED</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00152">AST_CAUSE_CONGESTION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00149">AST_CAUSE_FAILURE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00108">AST_CAUSE_NO_ANSWER</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, and <a class="el" href="../../d4/da3/causes_8h_source.html#l00097">AST_CAUSE_UNALLOCATED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01087">ooh323_hangup()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01840">ooh323_onReceivedSetup()</a>.</p>
<div class="fragment"><div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;{</div><div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;   <span class="keywordflow">switch</span> (cause) {</div><div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#a9900b24b261c275bb54631f16d4d38cc">AST_CAUSE_CALL_REJECTED</a>:</div><div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;      <span class="keywordflow">return</span> OO_REASON_REMOTE_REJECTED;</div><div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#a131d8780af378d0c4ef5075949902785">AST_CAUSE_UNALLOCATED</a>:</div><div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;      <span class="keywordflow">return</span> OO_REASON_NOUSER;</div><div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a>:</div><div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;      <span class="keywordflow">return</span> OO_REASON_REMOTE_BUSY;</div><div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#a208e4fc34932b91fc9e90d9008329e87">AST_CAUSE_BEARERCAPABILITY_NOTAVAIL</a>:</div><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;      <span class="keywordflow">return</span> OO_REASON_NOCOMMON_CAPABILITIES;</div><div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a>:</div><div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;      <span class="keywordflow">return</span> OO_REASON_REMOTE_BUSY;</div><div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#af03fc9fe2f0ecc69330e014aff8d0f73">AST_CAUSE_NO_ANSWER</a>:</div><div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;      <span class="keywordflow">return</span> OO_REASON_REMOTE_NOANSWER;</div><div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>:</div><div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;      <span class="keywordflow">return</span> OO_REASON_REMOTE_CLEARED;</div><div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/da3/causes_8h.html#a45c0c189b93333bad969b8f371d8442d">AST_CAUSE_FAILURE</a>:</div><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;      <span class="keywordflow">return</span> OO_REASON_UNKNOWN;</div><div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;   }</div><div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;</div><div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;</div><div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;</div><div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;}</div><div class="ttc" id="causes_8h_html_a131d8780af378d0c4ef5075949902785"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a131d8780af378d0c4ef5075949902785">AST_CAUSE_UNALLOCATED</a></div><div class="ttdeci">#define AST_CAUSE_UNALLOCATED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00097">causes.h:97</a></div></div>
<div class="ttc" id="causes_8h_html_af03fc9fe2f0ecc69330e014aff8d0f73"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af03fc9fe2f0ecc69330e014aff8d0f73">AST_CAUSE_NO_ANSWER</a></div><div class="ttdeci">#define AST_CAUSE_NO_ANSWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00108">causes.h:108</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="causes_8h_html_a45c0c189b93333bad969b8f371d8442d"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a45c0c189b93333bad969b8f371d8442d">AST_CAUSE_FAILURE</a></div><div class="ttdeci">#define AST_CAUSE_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00149">causes.h:149</a></div></div>
<div class="ttc" id="causes_8h_html_ae009c193522491f7de7ea28b23f20868"><div class="ttname"><a href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a></div><div class="ttdeci">#define AST_CAUSE_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00148">causes.h:148</a></div></div>
<div class="ttc" id="causes_8h_html_a9900b24b261c275bb54631f16d4d38cc"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a9900b24b261c275bb54631f16d4d38cc">AST_CAUSE_CALL_REJECTED</a></div><div class="ttdeci">#define AST_CAUSE_CALL_REJECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00110">causes.h:110</a></div></div>
<div class="ttc" id="causes_8h_html_a208e4fc34932b91fc9e90d9008329e87"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a208e4fc34932b91fc9e90d9008329e87">AST_CAUSE_BEARERCAPABILITY_NOTAVAIL</a></div><div class="ttdeci">#define AST_CAUSE_BEARERCAPABILITY_NOTAVAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00129">causes.h:129</a></div></div>
<div class="ttc" id="causes_8h_html_a0a35518d7b448a53da368cf57f354fba"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a></div><div class="ttdeci">#define AST_CAUSE_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00152">causes.h:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace0e8feed93bdc1670fbbedfa6cb78ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace0e8feed93bdc1670fbbedfa6cb78ca">&#9670;&nbsp;</a></span>ooh323_convert_hangupcause_h323ToAsterisk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ooh323_convert_hangupcause_h323ToAsterisk </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cause</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05206">5206</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/da3/causes_8h_source.html#l00129">AST_CAUSE_BEARERCAPABILITY_NOTAVAIL</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00148">AST_CAUSE_BUSY</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00110">AST_CAUSE_CALL_REJECTED</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00152">AST_CAUSE_CONGESTION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00149">AST_CAUSE_FAILURE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00108">AST_CAUSE_NO_ANSWER</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00097">AST_CAUSE_UNALLOCATED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00327">AST_MODPRI_CHANNEL_DRIVER</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00122">AST_MODULE_SUPPORT_EXTENDED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03787">load_module()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03981">reload_module()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04296">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;{</div><div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;   <span class="keywordflow">switch</span> (cause) {</div><div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;   <span class="keywordflow">case</span> OO_REASON_REMOTE_REJECTED:</div><div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#a9900b24b261c275bb54631f16d4d38cc">AST_CAUSE_CALL_REJECTED</a>;</div><div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;   <span class="keywordflow">case</span> OO_REASON_NOUSER:</div><div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#a131d8780af378d0c4ef5075949902785">AST_CAUSE_UNALLOCATED</a>;</div><div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;   <span class="keywordflow">case</span> OO_REASON_REMOTE_BUSY:</div><div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;   <span class="keywordflow">case</span> OO_REASON_LOCAL_BUSY:</div><div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a>;</div><div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;   <span class="keywordflow">case</span> OO_REASON_NOCOMMON_CAPABILITIES:  <span class="comment">/* No codecs approved */</span></div><div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#a208e4fc34932b91fc9e90d9008329e87">AST_CAUSE_BEARERCAPABILITY_NOTAVAIL</a>;</div><div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;   <span class="keywordflow">case</span> OO_REASON_REMOTE_CONGESTED:</div><div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;   <span class="keywordflow">case</span> OO_REASON_LOCAL_CONGESTED:</div><div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a>;</div><div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;   <span class="keywordflow">case</span> OO_REASON_REMOTE_NOANSWER:</div><div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#af03fc9fe2f0ecc69330e014aff8d0f73">AST_CAUSE_NO_ANSWER</a>;</div><div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;   <span class="keywordflow">case</span> OO_REASON_UNKNOWN:</div><div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;   <span class="keywordflow">case</span> OO_REASON_INVALIDMESSAGE:</div><div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;   <span class="keywordflow">case</span> OO_REASON_TRANSPORTFAILURE:</div><div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#a45c0c189b93333bad969b8f371d8442d">AST_CAUSE_FAILURE</a>;</div><div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;   <span class="keywordflow">case</span> OO_REASON_REMOTE_CLEARED:</div><div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>;</div><div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>;</div><div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;   }</div><div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;   <span class="comment">/* Never reached */</span></div><div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;}</div><div class="ttc" id="causes_8h_html_a131d8780af378d0c4ef5075949902785"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a131d8780af378d0c4ef5075949902785">AST_CAUSE_UNALLOCATED</a></div><div class="ttdeci">#define AST_CAUSE_UNALLOCATED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00097">causes.h:97</a></div></div>
<div class="ttc" id="causes_8h_html_af03fc9fe2f0ecc69330e014aff8d0f73"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af03fc9fe2f0ecc69330e014aff8d0f73">AST_CAUSE_NO_ANSWER</a></div><div class="ttdeci">#define AST_CAUSE_NO_ANSWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00108">causes.h:108</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="causes_8h_html_a45c0c189b93333bad969b8f371d8442d"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a45c0c189b93333bad969b8f371d8442d">AST_CAUSE_FAILURE</a></div><div class="ttdeci">#define AST_CAUSE_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00149">causes.h:149</a></div></div>
<div class="ttc" id="causes_8h_html_ae009c193522491f7de7ea28b23f20868"><div class="ttname"><a href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a></div><div class="ttdeci">#define AST_CAUSE_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00148">causes.h:148</a></div></div>
<div class="ttc" id="causes_8h_html_a9900b24b261c275bb54631f16d4d38cc"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a9900b24b261c275bb54631f16d4d38cc">AST_CAUSE_CALL_REJECTED</a></div><div class="ttdeci">#define AST_CAUSE_CALL_REJECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00110">causes.h:110</a></div></div>
<div class="ttc" id="causes_8h_html_a208e4fc34932b91fc9e90d9008329e87"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a208e4fc34932b91fc9e90d9008329e87">AST_CAUSE_BEARERCAPABILITY_NOTAVAIL</a></div><div class="ttdeci">#define AST_CAUSE_BEARERCAPABILITY_NOTAVAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00129">causes.h:129</a></div></div>
<div class="ttc" id="causes_8h_html_a0a35518d7b448a53da368cf57f354fba"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a></div><div class="ttdeci">#define AST_CAUSE_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00152">causes.h:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acaeea23adf3da56aa219b4c8edb501dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaeea23adf3da56aa219b4c8edb501dd">&#9670;&nbsp;</a></span>ooh323_convertAsteriskCapToH323Cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ooh323_convertAsteriskCapToH323Cap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04506">4506</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00091">ast_format_alaw</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00201">ast_format_cmp()</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00036">AST_FORMAT_CMP_EQUAL</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00151">ast_format_g723</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00116">ast_format_g726</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00121">ast_format_g726_aal2</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00156">ast_format_g729</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00334">ast_format_get_name()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00101">ast_format_gsm</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00171">ast_format_h263</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00136">ast_format_speex</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00086">ast_format_ulaw</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">configure_local_rtp()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04532">ooh323_set_rtp_peer()</a>.</p>
<div class="fragment"><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;{</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;      <span class="keywordflow">return</span> OO_G711ULAW64K;</div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;      <span class="keywordflow">return</span> OO_G711ALAW64K;</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#a3c4c5f669f55befda69aa08699545ec7">ast_format_gsm</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;      <span class="keywordflow">return</span> OO_GSMFULLRATE;</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#a4cce4fa68c1815b942eb3882d14b9a81">ast_format_speex</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;      <span class="keywordflow">return</span> OO_SPEEX;</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#ae4848b177c158d817294f2b0b447f66e">ast_format_g729</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;      <span class="keywordflow">return</span> OO_G729A;</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#a563a4f351a86128f8a40757c9456ec4e">ast_format_g726</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;      <span class="keywordflow">return</span> OO_G726;</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#ad230bc99f5cd46e56e97d32941ba5b23">ast_format_g726_aal2</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;      <span class="keywordflow">return</span> OO_G726AAL2;</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#a771306b3301213eb2f0a409d3d0f42df">ast_format_g723</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;      <span class="keywordflow">return</span> OO_G7231;</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(format, <a class="code" href="../../db/d1c/format__cache_8h.html#a4e8a3ae8d3510c9b2024c1649ef33e5a">ast_format_h263</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;      <span class="keywordflow">return</span> OO_H263VIDEO;</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Don&#39;t know how to deal with mode %s\n&quot;</span>, <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(format));</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;   }</div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;}</div><div class="ttc" id="format__cache_8h_html_a563a4f351a86128f8a40757c9456ec4e"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a563a4f351a86128f8a40757c9456ec4e">ast_format_g726</a></div><div class="ttdeci">struct ast_format * ast_format_g726</div><div class="ttdoc">Built-in cached g726 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00116">format_cache.c:116</a></div></div>
<div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00036">format.h:36</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771306b3301213eb2f0a409d3d0f42df"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771306b3301213eb2f0a409d3d0f42df">ast_format_g723</a></div><div class="ttdeci">struct ast_format * ast_format_g723</div><div class="ttdoc">Built-in cached g723.1 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00151">format_cache.c:151</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="format__cache_8h_html_ad230bc99f5cd46e56e97d32941ba5b23"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#ad230bc99f5cd46e56e97d32941ba5b23">ast_format_g726_aal2</a></div><div class="ttdeci">struct ast_format * ast_format_g726_aal2</div><div class="ttdoc">Built-in cached g726 aal2 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00121">format_cache.c:121</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="format__cache_8h_html_a3c4c5f669f55befda69aa08699545ec7"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a3c4c5f669f55befda69aa08699545ec7">ast_format_gsm</a></div><div class="ttdeci">struct ast_format * ast_format_gsm</div><div class="ttdoc">Built-in cached gsm format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00101">format_cache.c:101</a></div></div>
<div class="ttc" id="format__cache_8h_html_a4cce4fa68c1815b942eb3882d14b9a81"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a4cce4fa68c1815b942eb3882d14b9a81">ast_format_speex</a></div><div class="ttdeci">struct ast_format * ast_format_speex</div><div class="ttdoc">Built-in cached speex format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00136">format_cache.c:136</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="format__cache_8h_html_a95c058fe6adef68780f026d6aec2481c"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a></div><div class="ttdeci">struct ast_format * ast_format_alaw</div><div class="ttdoc">Built-in cached alaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00091">format_cache.c:91</a></div></div>
<div class="ttc" id="format__cache_8h_html_ae4848b177c158d817294f2b0b447f66e"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#ae4848b177c158d817294f2b0b447f66e">ast_format_g729</a></div><div class="ttdeci">struct ast_format * ast_format_g729</div><div class="ttdoc">Built-in cached g729 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00156">format_cache.c:156</a></div></div>
<div class="ttc" id="format__cache_8h_html_a4e8a3ae8d3510c9b2024c1649ef33e5a"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a4e8a3ae8d3510c9b2024c1649ef33e5a">ast_format_h263</a></div><div class="ttdeci">struct ast_format * ast_format_h263</div><div class="ttdoc">Built-in cached h263 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00171">format_cache.c:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24af3127dd2216191d82ec73ae5436bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24af3127dd2216191d82ec73ae5436bc">&#9670;&nbsp;</a></span>ooh323_delete_peer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ooh323_delete_peer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a> *&#160;</td>
          <td class="paramname"><em>peer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02328">2328</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00289">ooh323_peer::cap</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00302">ooh323_peer::e164</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00300">ooh323_peer::email</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00299">ooh323_peer::h323id</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00324">ast_peer_list::lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00312">ooh323_peer::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00323">ast_peer_list::peers</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00301">ooh323_peer::url</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02515">build_peer()</a>.</p>
<div class="fragment"><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;{</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a> *prev = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *cur = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   ooh323_delete_peer\n&quot;</span>);</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;   <span class="keywordflow">if</span> (peer) {</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;      cur = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">peers</a>;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      <span class="keywordflow">while</span>(cur) {</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;         <span class="keywordflow">if</span>(cur==peer) <span class="keywordflow">break</span>;</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;         prev = cur;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;         cur = cur-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">next</a>;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;      }</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;      <span class="keywordflow">if</span> (cur) {</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;         <span class="keywordflow">if</span>(prev)</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            prev-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">next</a> = cur-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">next</a>;</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">peers</a> = cur-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">next</a>;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;         }</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#adc39d11fb9482c457c6d8d7aba22a1c1">h323id</a>);</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a463fc22ce8b197bd60dbcdcbba158f4b">email</a>);</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#ab135e5154c1828bef226a3df98ee3333">url</a>);</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#ac64e617791f44d18c653737c1c21ccc8">e164</a>);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>);</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(peer);</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;   }</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   ooh323_delete_peer\n&quot;</span>);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_aeee493c65a926062d6f7991cb790e882"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a></div><div class="ttdeci">static struct ast_peer_list peerl</div></div>
<div class="ttc" id="structooh323__peer_html_a6807c9a1b913e9bfb4a8877744178ad6"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">ooh323_peer::next</a></div><div class="ttdeci">struct ooh323_peer * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00312">chan_ooh323.c:312</a></div></div>
<div class="ttc" id="structooh323__peer_html_a463fc22ce8b197bd60dbcdcbba158f4b"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#a463fc22ce8b197bd60dbcdcbba158f4b">ooh323_peer::email</a></div><div class="ttdeci">char * email</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00300">chan_ooh323.c:300</a></div></div>
<div class="ttc" id="structast__peer__list_html_aa2e3ba36ed9e1e8461fb38ddb0f13749"><div class="ttname"><a href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">ast_peer_list::peers</a></div><div class="ttdeci">struct ooh323_peer * peers</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00323">chan_ooh323.c:323</a></div></div>
<div class="ttc" id="structooh323__peer_html_ab135e5154c1828bef226a3df98ee3333"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#ab135e5154c1828bef226a3df98ee3333">ooh323_peer::url</a></div><div class="ttdeci">char * url</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00301">chan_ooh323.c:301</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="structooh323__peer_html_a970f3be80cbd08a1591eb8588f3cd54b"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#a970f3be80cbd08a1591eb8588f3cd54b">ooh323_peer::cap</a></div><div class="ttdeci">struct ast_format_cap * cap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00289">chan_ooh323.c:289</a></div></div>
<div class="ttc" id="structast__peer__list_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_peer_list::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00324">chan_ooh323.c:324</a></div></div>
<div class="ttc" id="structooh323__peer_html"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00284">chan_ooh323.c:284</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structooh323__peer_html_ac64e617791f44d18c653737c1c21ccc8"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#ac64e617791f44d18c653737c1c21ccc8">ooh323_peer::e164</a></div><div class="ttdeci">char * e164</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00302">chan_ooh323.c:302</a></div></div>
<div class="ttc" id="structooh323__peer_html_adc39d11fb9482c457c6d8d7aba22a1c1"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#adc39d11fb9482c457c6d8d7aba22a1c1">ooh323_peer::h323id</a></div><div class="ttdeci">char * h323id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00299">chan_ooh323.c:299</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fb320e4c086479ec4f175d19e9c1217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb320e4c086479ec4f175d19e9c1217">&#9670;&nbsp;</a></span>ooh323_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ooh323_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">4117</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00569">ast_channel_tech_pvt_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02947">ast_channel_trylock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01770">ast_dsp_free()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00469">ast_module_unref</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00186">ast_mutex_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00458">ast_rtp_instance_destroy()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02183">ast_rtp_instance_stop()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01150">ast_udptl_destroy()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00215">ooh323_pvt::callerid_name</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00374">DEADLOCK_AVOIDANCE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00832">find_user()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00093">H323_OUTGOING</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#aa37a2ada1a0d9bccd82be768ef0b73cc">iflist</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00260">ooh323_user::inUse</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00256">ooh323_user::lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00248">ooh323_pvt::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00213">ooh323_pvt::username</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03998">do_monitor()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00624">ooh323_request()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04296">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;{</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;   <span class="comment">/* NOTE: Assumes iflock already acquired */</span></div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *prev = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *cur = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d14/structooh323__user.html">ooh323_user</a> *<a class="code" href="../../d8/dbc/structuser.html">user</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>) {</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   ooh323_destroy \n&quot;</span>);</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;      <span class="keywordflow">if</span> (p)</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot; Destroying %s\n&quot;</span>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9b20c006bd90a09e1465fb668700e81d">username</a>);</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;   }</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;   cur = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa37a2ada1a0d9bccd82be768ef0b73cc">iflist</a>;</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;   <span class="keywordflow">while</span> (cur) {</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;      <span class="keywordflow">if</span> (cur == p) { <span class="keywordflow">break</span>; }</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;      prev = cur;</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;      cur = cur-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a82085a69ad11064ba2022644e7e79ebf">next</a>;</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;   }</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;</div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;   <span class="keywordflow">if</span> (cur) {</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;cur-&gt;lock);</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;      <span class="keywordflow">if</span> (prev)</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;         prev-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a82085a69ad11064ba2022644e7e79ebf">next</a> = cur-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a82085a69ad11064ba2022644e7e79ebf">next</a>;</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa37a2ada1a0d9bccd82be768ef0b73cc">iflist</a> = cur-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a82085a69ad11064ba2022644e7e79ebf">next</a>;</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;callToken) {</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot; Destroying %s\n&quot;</span>, cur-&gt;callToken);</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur-&gt;callToken);</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;         cur-&gt;callToken = 0;</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;      }</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;username) {</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur-&gt;username);</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;         cur-&gt;username = 0;</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;      }</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;host) {</div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur-&gt;host);</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;         cur-&gt;host = 0;</div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;      }</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;callerid_name) {</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur-&gt;callerid_name);</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;         cur-&gt;callerid_name = 0;</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;      }</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;callerid_num) {</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur-&gt;callerid_num);</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;         cur-&gt;callerid_num = 0;</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;      }</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;rtp) {</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3978338bfe35df207f003782e428fb0c">ast_rtp_instance_stop</a>(cur-&gt;rtp);</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0bfe6336fe7deb78148a84aef2732c7a">ast_rtp_instance_destroy</a>(cur-&gt;rtp);</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;         cur-&gt;rtp = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;      }</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;udptl) {</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;         <a class="code" href="../../d5/da1/udptl_8h.html#a0c14cc450fe0891cbee26ffd74cf77cb">ast_udptl_destroy</a>(cur-&gt;udptl);</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;         cur-&gt;udptl = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;      }</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;      <span class="comment">/* Unlink us from the owner if we have one */</span></div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;owner) {</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;               <span class="keywordflow">while</span>(<a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(cur-&gt;owner)) {</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;                     <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Failed to grab lock, trying again\n&quot;</span>);</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;            <a class="code" href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a>(&amp;cur-&gt;lock);</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;               }</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Detaching from %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(cur-&gt;owner));</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a929b8b2cb36308e5cf4e51ed880bfcba">ast_channel_tech_pvt_set</a>(cur-&gt;owner, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(cur-&gt;owner);</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;         cur-&gt;owner = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;         <a class="code" href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a5ff2193618f6eabea390087767c4edd2">myself</a>);</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;      }</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;vad) {</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;         <a class="code" href="../../d3/d08/dsp_8h.html#a0a57a1e374549eb2705068688f4046db">ast_dsp_free</a>(cur-&gt;vad);</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;         cur-&gt;vad = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;      }</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;<span class="comment">/* decrement user/peer count */</span></div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(cur, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a3ce507982903d41dc52819c811d82185">H323_OUTGOING</a>)) {</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;    <span class="keywordflow">if</span> (cur-&gt;neighbor.user) {</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;     user = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a842593d8c598d8b3e4584ffd7fcd72c8">find_user</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a907cd46396fd6c209cc93379b02d5b10">callerid_name</a>, cur-&gt;neighbor.user);</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;     <span class="keywordflow">if</span>(user &amp;&amp; user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#ad80bfcf8c2e345c47543e91293f524e6">inUse</a> &gt; 0) {</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;      user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#ad80bfcf8c2e345c47543e91293f524e6">inUse</a>--;</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;     }</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;     <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur-&gt;neighbor.user);</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    }</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;<span class="comment">/* outgoing limit decrement here !!! */</span></div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;      }</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;cur-&gt;lock);</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;cur-&gt;lock);</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cur-&gt;writeformat);</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cur-&gt;readformat);</div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cur-&gt;cap);</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur);</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;   }</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   ooh323_destroy\n&quot;</span>);</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;</div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;}</div><div class="ttc" id="structooh323__pvt_html_a82085a69ad11064ba2022644e7e79ebf"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a82085a69ad11064ba2022644e7e79ebf">ooh323_pvt::next</a></div><div class="ttdeci">struct ooh323_pvt * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00248">chan_ooh323.c:248</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a3ce507982903d41dc52819c811d82185"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a3ce507982903d41dc52819c811d82185">H323_OUTGOING</a></div><div class="ttdeci">#define H323_OUTGOING</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00093">chan_ooh323.c:93</a></div></div>
<div class="ttc" id="structooh323__user_html_ad80bfcf8c2e345c47543e91293f524e6"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#ad80bfcf8c2e345c47543e91293f524e6">ooh323_user::inUse</a></div><div class="ttdeci">unsigned inUse</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00260">chan_ooh323.c:260</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="dsp_8h_html_a0a57a1e374549eb2705068688f4046db"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a0a57a1e374549eb2705068688f4046db">ast_dsp_free</a></div><div class="ttdeci">void ast_dsp_free(struct ast_dsp *dsp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01770">dsp.c:1770</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a5ff2193618f6eabea390087767c4edd2"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a5ff2193618f6eabea390087767c4edd2">myself</a></div><div class="ttdeci">struct ast_module * myself</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00113">chan_ooh323.c:113</a></div></div>
<div class="ttc" id="lock_8h_html_a851106e971b4611a38cb4be8b39d9fcf"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a></div><div class="ttdeci">#define DEADLOCK_AVOIDANCE(lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00374">lock.h:374</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9b20c006bd90a09e1465fb668700e81d"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9b20c006bd90a09e1465fb668700e81d">ooh323_pvt::username</a></div><div class="ttdeci">char * username</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00213">chan_ooh323.c:213</a></div></div>
<div class="ttc" id="structooh323__user_html"><div class="ttname"><a href="../../d7/d14/structooh323__user.html">ooh323_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00255">chan_ooh323.c:255</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a907cd46396fd6c209cc93379b02d5b10"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a907cd46396fd6c209cc93379b02d5b10">ooh323_pvt::callerid_name</a></div><div class="ttdeci">char * callerid_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00215">chan_ooh323.c:215</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="udptl_8h_html_a0c14cc450fe0891cbee26ffd74cf77cb"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#a0c14cc450fe0891cbee26ffd74cf77cb">ast_udptl_destroy</a></div><div class="ttdeci">void ast_udptl_destroy(struct ast_udptl *udptl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01150">udptl.c:1150</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="module_8h_html_a15896c26e51e8162df5eb9a0124c841f"><div class="ttname"><a href="../../d5/d16/module_8h.html#a15896c26e51e8162df5eb9a0124c841f">ast_module_unref</a></div><div class="ttdeci">#define ast_module_unref(mod)</div><div class="ttdoc">Release a reference to the module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00469">module.h:469</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a3978338bfe35df207f003782e428fb0c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a3978338bfe35df207f003782e428fb0c">ast_rtp_instance_stop</a></div><div class="ttdeci">void ast_rtp_instance_stop(struct ast_rtp_instance *instance)</div><div class="ttdoc">Stop an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02183">rtp_engine.c:2183</a></div></div>
<div class="ttc" id="structooh323__user_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_user::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00256">chan_ooh323.c:256</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a842593d8c598d8b3e4584ffd7fcd72c8"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a842593d8c598d8b3e4584ffd7fcd72c8">find_user</a></div><div class="ttdeci">struct ooh323_user * find_user(const char *name, const char *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00832">chan_ooh323.c:832</a></div></div>
<div class="ttc" id="structuser_html"><div class="ttname"><a href="../../d8/dbc/structuser.html">user</a></div><div class="ttdoc">structure to hold users read from users.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00312">res_phoneprov.c:312</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0bfe6336fe7deb78148a84aef2732c7a"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0bfe6336fe7deb78148a84aef2732c7a">ast_rtp_instance_destroy</a></div><div class="ttdeci">int ast_rtp_instance_destroy(struct ast_rtp_instance *instance)</div><div class="ttdoc">Destroy an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00458">rtp_engine.c:458</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="chan__ooh323_8c_html_aa37a2ada1a0d9bccd82be768ef0b73cc"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aa37a2ada1a0d9bccd82be768ef0b73cc">iflist</a></div><div class="ttdeci">static struct ooh323_pvt * iflist</div></div>
<div class="ttc" id="channel_8h_html_a7dc0d696d897c864c6f41a3a1795c82e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a></div><div class="ttdeci">#define ast_channel_trylock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02947">channel.h:2947</a></div></div>
<div class="ttc" id="lock_8h_html_ab8977a71822daa556f19f30ba6eec765"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a></div><div class="ttdeci">#define ast_mutex_destroy(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00186">lock.h:186</a></div></div>
<div class="ttc" id="channel_8h_html_a929b8b2cb36308e5cf4e51ed880bfcba"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a929b8b2cb36308e5cf4e51ed880bfcba">ast_channel_tech_pvt_set</a></div><div class="ttdeci">void ast_channel_tech_pvt_set(struct ast_channel *chan, void *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00569">channel_internal_api.c:569</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a10e6d348b1fad8a80f266adf8a65280e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e6d348b1fad8a80f266adf8a65280e">&#9670;&nbsp;</a></span>ooh323_onReceivedDigit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ooh323_onReceivedDigit </td>
          <td>(</td>
          <td class="paramtype">OOH323CallData *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>digit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback for sending digits from H.323 up to asterisk </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01798">1798</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02947">ast_channel_trylock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">AST_FRAME_DTMF</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01139">ast_queue_frame()</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00374">DEADLOCK_AVOIDANCE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00175">ast_frame::mallocd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00179">ast_frame::offset</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00203">ooh323_pvt::owner</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">ast_frame::samples</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">ast_frame::src</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03787">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;{</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> f;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Received Digit: %c\n&quot;</span>, <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>[0]);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;   p = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>);</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;   <span class="keywordflow">if</span> (!p) {</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to find a matching call.\n&quot;</span>);</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;   }</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;   <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   }</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;   memset(&amp;f, 0, <span class="keyword">sizeof</span>(f));</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;   f.frametype = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;   f.subclass.integer = <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a>[0];</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;   f.datalen = 0;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;   f.samples = 800;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;   f.offset = 0;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;   f.data.ptr = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;   f.mallocd = 0;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;   f.src = <span class="stringliteral">&quot;SEND_DIGIT&quot;</span>;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;   <span class="keywordflow">while</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)) {</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Failed to grab lock, trying again\n&quot;</span>);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;   }</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;   <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;   }</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;   res = <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, &amp;f);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_ac2c887b7f7b359bfdda8a128980f5081"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a></div><div class="ttdeci">char digit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00131">app_alarmreceiver.c:131</a></div></div>
<div class="ttc" id="lock_8h_html_a851106e971b4611a38cb4be8b39d9fcf"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a></div><div class="ttdeci">#define DEADLOCK_AVOIDANCE(lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00374">lock.h:374</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a248afd6c02044259a386f6b7aee922a2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a></div><div class="ttdeci">#define AST_FRAME_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">include/asterisk/frame.h:139</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a6cbcba5661d55216968cde8fdf913c89"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a></div><div class="ttdeci">int ast_queue_frame(struct ast_channel *chan, struct ast_frame *f)</div><div class="ttdoc">Queue one or more frames to a channel&amp;#39;s frame queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01139">channel.c:1139</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9241175b397dfd032c4cadbc8c9c2d05"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">ooh323_pvt::owner</a></div><div class="ttdeci">struct ast_channel * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00203">chan_ooh323.c:203</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="channel_8h_html_a7dc0d696d897c864c6f41a3a1795c82e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a></div><div class="ttdeci">#define ast_channel_trylock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02947">channel.h:2947</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a51f5fabf3fe32dbd5bd867d8a3a8bb39"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a></div><div class="ttdeci">static struct ooh323_pvt * find_call(ooCallData *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00810">chan_ooh323.c:810</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1b783d24e73a7f926d828e1228fcdc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b783d24e73a7f926d828e1228fcdc3">&#9670;&nbsp;</a></span>ooh323_onReceivedSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ooh323_onReceivedSetup </td>
          <td>(</td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Q931Message *&#160;</td>
          <td class="paramname"><em>pmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01840">1840</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00234">ooh323_pvt::accountcode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00261">ooh323_user::accountcode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00236">ooh323_pvt::amaflags</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00262">ooh323_user::amaflags</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00247">ooh323_pvt::aniasdni</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00279">ooh323_user::aniasdni</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00110">AST_CAUSE_CALL_REJECTED</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00119">AST_CAUSE_NORMAL_CIRCUIT_CONGESTION</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00269">ast_format_cap_append_from_cap()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00031">AST_MEDIA_TYPE_UNKNOWN</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00040">AST_STATE_RING</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00222">ooh323_pvt::callee_dialedDigits</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00223">ooh323_pvt::callee_email</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00221">ooh323_pvt::callee_h323id</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00218">ooh323_pvt::caller_dialedDigits</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00219">ooh323_pvt::caller_email</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00217">ooh323_pvt::caller_h323id</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00220">ooh323_pvt::caller_url</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00215">ooh323_pvt::callerid_name</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00216">ooh323_pvt::callerid_num</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00229">ooh323_pvt::cap</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00263">ooh323_user::cap</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">configure_local_rtp()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00233">ooh323_pvt::context</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00258">ooh323_user::context</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00239">ooh323_pvt::directrtp</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00276">ooh323_user::directrtp</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00231">ooh323_pvt::dtmfcodec</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00265">ooh323_user::dtmfcodec</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00230">ooh323_pvt::dtmfmode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00264">ooh323_user::dtmfmode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00240">ooh323_pvt::earlydirect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00277">ooh323_user::earlydirect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00232">ooh323_pvt::exten</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00246">ooh323_pvt::faststart</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00275">ooh323_user::faststart</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00192">ooh323_pvt::faxdetect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00266">ooh323_user::faxdetect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00832">find_user()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00210">ooh323_pvt::flags</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00241">ooh323_pvt::g729onlyA</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00278">ooh323_user::g729onlyA</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00371">gDirectRTP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00372">gEarlyDirect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00246">ooh323_pvt::h245tunneling</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00275">ooh323_user::h245tunneling</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00096">H323_DISABLEGK</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00095">H323_NEEDDESTROY</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00093">H323_OUTGOING</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00259">ooh323_user::incominglimit</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00260">ooh323_user::inUse</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00256">ooh323_user::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00270">ooh323_user::mIP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00269">ooh323_user::mUseIP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00257">ooh323_user::name</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00235">ooh323_pvt::nat</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00274">ooh323_user::nat</a>, <a class="el" href="../../d5/daf/structooh323__pvt.html#ad67f1b1aeab6d1d92ed709c9ca2d9655">ooh323_pvt::neighbor</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00556">ooh323_alloc()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05179">ooh323_convert_hangupcause_asteriskToH323()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00384">ooh323c_set_capability_for_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00245">ooh323_pvt::rtdrcount</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00273">ooh323_user::rtdrcount</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00245">ooh323_pvt::rtdrinterval</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00273">ooh323_user::rtdrinterval</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00243">ooh323_pvt::rtpmask</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00271">ooh323_user::rtpmask</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00244">ooh323_pvt::rtpmaskstr</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00272">ooh323_user::rtpmaskstr</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00194">ooh323_pvt::rtptimeout</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00268">ooh323_user::rtptimeout</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00191">ooh323_pvt::t38support</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00267">ooh323_user::t38support</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04949">update_our_aliases()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00205">ooh323_pvt::user</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00213">ooh323_pvt::username</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03787">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;{</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d14/structooh323__user.html">ooh323_user</a> *<a class="code" href="../../d8/dbc/structuser.html">user</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;   ooAliases *alias = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   <span class="keywordtype">char</span> *at = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d6/d49/structnumber.html">number</a> [OO_MAX_NUMBER_LENGTH];</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   ooh323_onReceivedSetup %s\n&quot;</span>, <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callToken);</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;   <span class="keywordflow">if</span> (!(p = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a270a74b6aadb274fe5a2a80190db1bf1">ooh323_alloc</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callReference, <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callToken))) {</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create a new call.\n&quot;</span>);</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;   }</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(p, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a3ce507982903d41dc52819c811d82185">H323_OUTGOING</a>);</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;remoteDisplayName) {</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a907cd46396fd6c209cc93379b02d5b10">callerid_name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;remoteDisplayName);</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;   }</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;   <span class="keywordflow">if</span> (ooCallGetCallingPartyNumber(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, number, OO_MAX_NUMBER_LENGTH) == OO_OK) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ace23b76d1cb210b2f8ce7b1f878047c4">callerid_num</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(number);</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   }</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;remoteAliases) {</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="keywordflow">for</span> (alias = <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;remoteAliases; alias; alias = alias-&gt;next) {</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;         <span class="keywordflow">if</span> (alias-&gt;type == T_H225AliasAddress_h323_ID) {</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a907cd46396fd6c209cc93379b02d5b10">callerid_name</a>) {</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;               p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a907cd46396fd6c209cc93379b02d5b10">callerid_name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(alias-&gt;value);</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            }</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a3f851d82fd0b4987b10786cb459dcccc">caller_h323id</a>, alias-&gt;value, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a3f851d82fd0b4987b10786cb459dcccc">caller_h323id</a>));</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            }</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(alias-&gt;type == T_H225AliasAddress_dialedDigits)</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;         {</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            <span class="keywordflow">if</span>(!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ace23b76d1cb210b2f8ce7b1f878047c4">callerid_num</a>)</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;               p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ace23b76d1cb210b2f8ce7b1f878047c4">callerid_num</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(alias-&gt;value);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aea397022f9e9f5d8aa8da26de03e1dd8">caller_dialedDigits</a>, alias-&gt;value,</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                                             <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aea397022f9e9f5d8aa8da26de03e1dd8">caller_dialedDigits</a>));</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;         }</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(alias-&gt;type == T_H225AliasAddress_email_ID)</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;         {</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aa408ceeecc08507bd887bef6d0770728">caller_email</a>, alias-&gt;value, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aa408ceeecc08507bd887bef6d0770728">caller_email</a>));</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;         }</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(alias-&gt;type == T_H225AliasAddress_url_ID)</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;         {</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ae06dc80a9753331f55d52d586c82271e">caller_url</a>, alias-&gt;value, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ae06dc80a9753331f55d52d586c82271e">caller_url</a>));</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;         }</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      }</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;   }</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;   number[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <span class="keywordflow">if</span>(ooCallGetCalledPartyNumber(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, number, OO_MAX_NUMBER_LENGTH)== OO_OK) {</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>, number, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>));</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ab3f7dcde04faacabd694aee206f3529f">update_our_aliases</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, p);</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ad4cbc7d7804203aa38152b23ff137b3b">callee_dialedDigits</a>)) {</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ad4cbc7d7804203aa38152b23ff137b3b">callee_dialedDigits</a>, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>));</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a198e6bda72862661a62068beb30cc588">callee_h323id</a>)) {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a198e6bda72862661a62068beb30cc588">callee_h323id</a>, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>));</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aeee9ecf178ae402b32fda3715b5fb2fe">callee_email</a>)) {</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aeee9ecf178ae402b32fda3715b5fb2fe">callee_email</a>, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>));</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;         <span class="keywordflow">if</span> ((at = strchr(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="charliteral">&#39;@&#39;</span>))) {</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            *at = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;         }</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      }</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;   }</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;   <span class="comment">/* if no extension found, set to default &#39;s&#39; */</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>)) {</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>[0]=<span class="charliteral">&#39;s&#39;</span>;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>[1]=<span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;   }</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;         user = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a842593d8c598d8b3e4584ffd7fcd72c8">find_user</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a907cd46396fd6c209cc93379b02d5b10">callerid_name</a>, <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;remoteIP);</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;         <span class="keywordflow">if</span>(user &amp;&amp; (user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a8183511fa2779a1e1830af4d60563473">incominglimit</a> == 0 || user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#ad80bfcf8c2e345c47543e91293f524e6">inUse</a> &lt; user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a8183511fa2779a1e1830af4d60563473">incominglimit</a>)) {</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9b20c006bd90a09e1465fb668700e81d">username</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a8e03167ce04350be901b028cc4cf1ce1">name</a>);</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ad67f1b1aeab6d1d92ed709c9ca2d9655">neighbor</a>.<a class="code" href="../../d5/daf/structooh323__pvt.html#a14871705f45ccdc5bb9f4549efd8e119">user</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a365ea96f3369e571b4c598e5c2588960">mUseIP</a> ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#aa38689ed8404a5f707ae0e93d102b0c4">mIP</a>) :</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                    <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(user-&gt;<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a579ca8125bbf48d9ce8691d522f99933">context</a>));</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#acfaabb39ce3cdd7f938adf92d5083380">accountcode</a>, user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a35efc02a3f2fa3761aff8d3fd6f9f6a2">accountcode</a>, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#acfaabb39ce3cdd7f938adf92d5083380">accountcode</a>));</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ad2cfb0f821c065261382a9298bb5a16b">amaflags</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#ad2cfb0f821c065261382a9298bb5a16b">amaflags</a>;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      <a class="code" href="../../d0/d3c/format__cap_8h.html#a70a1555431677c29824be37afa5112e2">ast_format_cap_append_from_cap</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a>);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a31bad4aa11b1f0af8ec2e3d152a46b00">g729onlyA</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a31bad4aa11b1f0af8ec2e3d152a46b00">g729onlyA</a>;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">dtmfmode</a> |= user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a0e5a76746e3addb17a93a158017c2273">dtmfmode</a>;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a55ee15076b418946e327a5ada52f808e">faxdetect</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a55ee15076b418946e327a5ada52f808e">faxdetect</a>;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">t38support</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a298efdcdae5062ad10b1597b6df19955">t38support</a>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a96c64be67b0bcd897efa8db0eced9ab8">rtptimeout</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a96c64be67b0bcd897efa8db0eced9ab8">rtptimeout</a>;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a>;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a4fb11426d0e7f84388013cf1116a8848">h245tunneling</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a4fb11426d0e7f84388013cf1116a8848">h245tunneling</a>;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ae5a41057ef1829dac6de08b214487758">faststart</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#ae5a41057ef1829dac6de08b214487758">faststart</a>;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ad8622345e02ef05849cfee0456a2aced">directrtp</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#ad8622345e02ef05849cfee0456a2aced">directrtp</a>;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a2d05ee7e5348269bbc8db9fdf9d9d75d">earlydirect</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a2d05ee7e5348269bbc8db9fdf9d9d75d">earlydirect</a>;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ae5a41057ef1829dac6de08b214487758">faststart</a>)</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;               OO_SETFLAG(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;flags, OO_M_FASTSTART);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;         OO_CLRFLAG(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;flags, OO_M_FASTSTART);</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      <span class="comment">/* if we disable h245tun for this user then we clear flag */</span></div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      <span class="comment">/* in any other case we don&#39;t must touch this */</span></div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <span class="comment">/* ie if we receive setup without h245tun but enabled</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;<span class="comment">                     we can&#39;t enable it per call */</span></div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a4fb11426d0e7f84388013cf1116a8848">h245tunneling</a>)</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;         OO_CLRFLAG(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;flags, OO_M_TUNNELING);</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      <span class="keywordflow">if</span> (user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a3ca08cff50cbaced12d8c3b9ba501afc">rtpmask</a> &amp;&amp; user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a5c9d9244e482efdb5b7eea8b1a66d0b4">rtpmaskstr</a>[0]) {</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;         p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a3ca08cff50cbaced12d8c3b9ba501afc">rtpmask</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a3ca08cff50cbaced12d8c3b9ba501afc">rtpmask</a>;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a5c9d9244e482efdb5b7eea8b1a66d0b4">rtpmaskstr</a>, user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a5c9d9244e482efdb5b7eea8b1a66d0b4">rtpmaskstr</a>,</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                      <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a5c9d9244e482efdb5b7eea8b1a66d0b4">rtpmaskstr</a>));</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      }</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      <span class="keywordflow">if</span> (user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a2ad032ab1894a6b6f029903b60b0e7dd">rtdrcount</a> &gt; 0 &amp;&amp; user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a813265b1f34e107aa4b5cda6adff23ee">rtdrinterval</a> &gt; 0) {</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;         p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a2ad032ab1894a6b6f029903b60b0e7dd">rtdrcount</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a2ad032ab1894a6b6f029903b60b0e7dd">rtdrcount</a>;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;         p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a813265b1f34e107aa4b5cda6adff23ee">rtdrinterval</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a813265b1f34e107aa4b5cda6adff23ee">rtdrinterval</a>;</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      }</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a2dfdc17e3ae802c224bf72e6e0fb2bc0">aniasdni</a> = user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a2dfdc17e3ae802c224bf72e6e0fb2bc0">aniasdni</a>;</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <span class="keywordflow">if</span> (user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a8183511fa2779a1e1830af4d60563473">incominglimit</a>) user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#ad80bfcf8c2e345c47543e91293f524e6">inUse</a>++;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keywordflow">if</span> (!OO_TESTFLAG(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>,<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a3afbb9e9327e7a8d7dd46d45044e320f">H323_DISABLEGK</a>)) {</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9b20c006bd90a09e1465fb668700e81d">username</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;remoteIP);</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ad8622345e02ef05849cfee0456a2aced">directrtp</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#acf0c87faa18760c4e4f49079110bb449">gDirectRTP</a>;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a2d05ee7e5348269bbc8db9fdf9d9d75d">earlydirect</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a12e6fe186ebf66440f0f43fb4096a285">gEarlyDirect</a>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;     <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;     <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unacceptable ip %s\n&quot;</span>, <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;remoteIP);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;     <span class="keywordflow">if</span> (!user) {</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      ooHangCall(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callToken, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#afc4cd7eca7172ae4470ad56ba16e7eeb">ooh323_convert_hangupcause_asteriskToH323</a>(<a class="code" href="../../d4/da3/causes_8h.html#a9900b24b261c275bb54631f16d4d38cc">AST_CAUSE_CALL_REJECTED</a>), <a class="code" href="../../d4/da3/causes_8h.html#a9900b24b261c275bb54631f16d4d38cc">AST_CAUSE_CALL_REJECTED</a>);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callEndReason = OO_REASON_REMOTE_REJECTED;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;     }</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;     <span class="keywordflow">else</span> {</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      ooHangCall(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callToken, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#afc4cd7eca7172ae4470ad56ba16e7eeb">ooh323_convert_hangupcause_asteriskToH323</a>(<a class="code" href="../../d4/da3/causes_8h.html#a84f3380611feeec35bb25319b26f92fd">AST_CAUSE_NORMAL_CIRCUIT_CONGESTION</a>), <a class="code" href="../../d4/da3/causes_8h.html#a84f3380611feeec35bb25319b26f92fd">AST_CAUSE_NORMAL_CIRCUIT_CONGESTION</a>);</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callEndReason = OO_REASON_REMOTE_REJECTED;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;     }</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;     <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(p, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#af1a908d4b815bc6612179fc409ffd25a">H323_NEEDDESTROY</a>);</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;     <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    }</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;   }</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   <a class="code" href="../../d2/dae/ooh323cDriver_8c.html#ada3bfb7fe53a56e942cc5d9f019a47a2">ooh323c_set_capability_for_call</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a970f3be80cbd08a1591eb8588f3cd54b">cap</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">dtmfmode</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>,</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">t38support</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a31bad4aa11b1f0af8ec2e3d152a46b00">g729onlyA</a>);</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">/* Incoming call */</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;   c = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a075fe6c253c475ab65af84e77a428058">ooh323_new</a>(p, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a10482c2bc6340e09ed02b00bc0e3f433">AST_STATE_RING</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9b20c006bd90a09e1465fb668700e81d">username</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;   <span class="keywordflow">if</span>(!c) {</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not create ast_channel\n&quot;</span>);</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;   }</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a2dfdc17e3ae802c224bf72e6e0fb2bc0">aniasdni</a>) {</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      ooCallSetCallerId(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;   }</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a5ae16e21f810a80e8fd5bbf6936b2bb7">configure_local_rtp</a>(p, <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>)) {</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Couldn&#39;t create rtp structure\n&quot;</span>);</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;   }</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   ooh323_onReceivedSetup - Determined context %s, &quot;</span></div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                  <span class="stringliteral">&quot;extension %s\n&quot;</span>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;   <span class="keywordflow">return</span> OO_OK;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;}</div><div class="ttc" id="structooh323__pvt_html_a5c9d9244e482efdb5b7eea8b1a66d0b4"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a5c9d9244e482efdb5b7eea8b1a66d0b4">ooh323_pvt::rtpmaskstr</a></div><div class="ttdeci">char rtpmaskstr[120]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00244">chan_ooh323.c:244</a></div></div>
<div class="ttc" id="structooh323__user_html_a55ee15076b418946e327a5ada52f808e"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a55ee15076b418946e327a5ada52f808e">ooh323_user::faxdetect</a></div><div class="ttdeci">int faxdetect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00266">chan_ooh323.c:266</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a3ce507982903d41dc52819c811d82185"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a3ce507982903d41dc52819c811d82185">H323_OUTGOING</a></div><div class="ttdeci">#define H323_OUTGOING</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00093">chan_ooh323.c:93</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structooh323__user_html_ad80bfcf8c2e345c47543e91293f524e6"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#ad80bfcf8c2e345c47543e91293f524e6">ooh323_user::inUse</a></div><div class="ttdeci">unsigned inUse</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00260">chan_ooh323.c:260</a></div></div>
<div class="ttc" id="structooh323__user_html_ada540a5f25f7302dc1a3d17ccfa59b10"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#ada540a5f25f7302dc1a3d17ccfa59b10">ooh323_user::nat</a></div><div class="ttdeci">int nat</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00274">chan_ooh323.c:274</a></div></div>
<div class="ttc" id="structooh323__user_html_a2d05ee7e5348269bbc8db9fdf9d9d75d"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a2d05ee7e5348269bbc8db9fdf9d9d75d">ooh323_user::earlydirect</a></div><div class="ttdeci">int earlydirect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00277">chan_ooh323.c:277</a></div></div>
<div class="ttc" id="structooh323__user_html_a2ad032ab1894a6b6f029903b60b0e7dd"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a2ad032ab1894a6b6f029903b60b0e7dd">ooh323_user::rtdrcount</a></div><div class="ttdeci">int rtdrcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00273">chan_ooh323.c:273</a></div></div>
<div class="ttc" id="structooh323__user_html_ad8622345e02ef05849cfee0456a2aced"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#ad8622345e02ef05849cfee0456a2aced">ooh323_user::directrtp</a></div><div class="ttdeci">int directrtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00276">chan_ooh323.c:276</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ad8622345e02ef05849cfee0456a2aced"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ad8622345e02ef05849cfee0456a2aced">ooh323_pvt::directrtp</a></div><div class="ttdeci">int directrtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00239">chan_ooh323.c:239</a></div></div>
<div class="ttc" id="structooh323__user_html_a579ca8125bbf48d9ce8691d522f99933"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a579ca8125bbf48d9ce8691d522f99933">ooh323_user::context</a></div><div class="ttdeci">char context[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00258">chan_ooh323.c:258</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a10482c2bc6340e09ed02b00bc0e3f433"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a10482c2bc6340e09ed02b00bc0e3f433">AST_STATE_RING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00040">channelstate.h:40</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a96c64be67b0bcd897efa8db0eced9ab8"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a96c64be67b0bcd897efa8db0eced9ab8">ooh323_pvt::rtptimeout</a></div><div class="ttdeci">int rtptimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00194">chan_ooh323.c:194</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ad4cbc7d7804203aa38152b23ff137b3b"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ad4cbc7d7804203aa38152b23ff137b3b">ooh323_pvt::callee_dialedDigits</a></div><div class="ttdeci">char callee_dialedDigits[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00222">chan_ooh323.c:222</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a3f851d82fd0b4987b10786cb459dcccc"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a3f851d82fd0b4987b10786cb459dcccc">ooh323_pvt::caller_h323id</a></div><div class="ttdeci">char caller_h323id[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00217">chan_ooh323.c:217</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9b20c006bd90a09e1465fb668700e81d"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9b20c006bd90a09e1465fb668700e81d">ooh323_pvt::username</a></div><div class="ttdeci">char * username</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00213">chan_ooh323.c:213</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_acf0c87faa18760c4e4f49079110bb449"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#acf0c87faa18760c4e4f49079110bb449">gDirectRTP</a></div><div class="ttdeci">static int gDirectRTP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00371">chan_ooh323.c:371</a></div></div>
<div class="ttc" id="structooh323__user_html_a8e03167ce04350be901b028cc4cf1ce1"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a8e03167ce04350be901b028cc4cf1ce1">ooh323_user::name</a></div><div class="ttdeci">char name[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00257">chan_ooh323.c:257</a></div></div>
<div class="ttc" id="structooh323__user_html"><div class="ttname"><a href="../../d7/d14/structooh323__user.html">ooh323_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00255">chan_ooh323.c:255</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a198e6bda72862661a62068beb30cc588"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a198e6bda72862661a62068beb30cc588">ooh323_pvt::callee_h323id</a></div><div class="ttdeci">char callee_h323id[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00221">chan_ooh323.c:221</a></div></div>
<div class="ttc" id="structooh323__user_html_a31bad4aa11b1f0af8ec2e3d152a46b00"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a31bad4aa11b1f0af8ec2e3d152a46b00">ooh323_user::g729onlyA</a></div><div class="ttdeci">int g729onlyA</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00278">chan_ooh323.c:278</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a298efdcdae5062ad10b1597b6df19955"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">ooh323_pvt::t38support</a></div><div class="ttdeci">int t38support</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00191">chan_ooh323.c:191</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a2d05ee7e5348269bbc8db9fdf9d9d75d"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a2d05ee7e5348269bbc8db9fdf9d9d75d">ooh323_pvt::earlydirect</a></div><div class="ttdeci">int earlydirect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00240">chan_ooh323.c:240</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a907cd46396fd6c209cc93379b02d5b10"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a907cd46396fd6c209cc93379b02d5b10">ooh323_pvt::callerid_name</a></div><div class="ttdeci">char * callerid_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00215">chan_ooh323.c:215</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a0b9262736048e2faf9f97e43d88fef5c"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">ooh323_pvt::dtmfcodec</a></div><div class="ttdeci">int dtmfcodec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00231">chan_ooh323.c:231</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a270a74b6aadb274fe5a2a80190db1bf1"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a270a74b6aadb274fe5a2a80190db1bf1">ooh323_alloc</a></div><div class="ttdeci">static struct ooh323_pvt * ooh323_alloc(int callref, char *callToken)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00556">chan_ooh323.c:556</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structooh323__pvt_html_acfaabb39ce3cdd7f938adf92d5083380"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#acfaabb39ce3cdd7f938adf92d5083380">ooh323_pvt::accountcode</a></div><div class="ttdeci">char accountcode[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00234">chan_ooh323.c:234</a></div></div>
<div class="ttc" id="causes_8h_html_a84f3380611feeec35bb25319b26f92fd"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a84f3380611feeec35bb25319b26f92fd">AST_CAUSE_NORMAL_CIRCUIT_CONGESTION</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL_CIRCUIT_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00119">causes.h:119</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a579ca8125bbf48d9ce8691d522f99933"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a579ca8125bbf48d9ce8691d522f99933">ooh323_pvt::context</a></div><div class="ttdeci">char context[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00233">chan_ooh323.c:233</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structooh323__pvt_html_aeee9ecf178ae402b32fda3715b5fb2fe"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#aeee9ecf178ae402b32fda3715b5fb2fe">ooh323_pvt::callee_email</a></div><div class="ttdeci">char callee_email[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00223">chan_ooh323.c:223</a></div></div>
<div class="ttc" id="structooh323__user_html_a298efdcdae5062ad10b1597b6df19955"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a298efdcdae5062ad10b1597b6df19955">ooh323_user::t38support</a></div><div class="ttdeci">int t38support</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00267">chan_ooh323.c:267</a></div></div>
<div class="ttc" id="structooh323__user_html_a5c9d9244e482efdb5b7eea8b1a66d0b4"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a5c9d9244e482efdb5b7eea8b1a66d0b4">ooh323_user::rtpmaskstr</a></div><div class="ttdeci">char rtpmaskstr[120]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00272">chan_ooh323.c:272</a></div></div>
<div class="ttc" id="structooh323__user_html_ae5a41057ef1829dac6de08b214487758"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#ae5a41057ef1829dac6de08b214487758">ooh323_user::faststart</a></div><div class="ttdeci">int faststart</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00275">chan_ooh323.c:275</a></div></div>
<div class="ttc" id="structooh323__user_html_a4fb11426d0e7f84388013cf1116a8848"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a4fb11426d0e7f84388013cf1116a8848">ooh323_user::h245tunneling</a></div><div class="ttdeci">int h245tunneling</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00275">chan_ooh323.c:275</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00031">codec.h:31</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a31bad4aa11b1f0af8ec2e3d152a46b00"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a31bad4aa11b1f0af8ec2e3d152a46b00">ooh323_pvt::g729onlyA</a></div><div class="ttdeci">int g729onlyA</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00241">chan_ooh323.c:241</a></div></div>
<div class="ttc" id="structooh323__user_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_user::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00256">chan_ooh323.c:256</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_afc4cd7eca7172ae4470ad56ba16e7eeb"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#afc4cd7eca7172ae4470ad56ba16e7eeb">ooh323_convert_hangupcause_asteriskToH323</a></div><div class="ttdeci">int ooh323_convert_hangupcause_asteriskToH323(int cause)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l05179">chan_ooh323.c:5179</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a55ee15076b418946e327a5ada52f808e"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a55ee15076b418946e327a5ada52f808e">ooh323_pvt::faxdetect</a></div><div class="ttdeci">int faxdetect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00192">chan_ooh323.c:192</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a970f3be80cbd08a1591eb8588f3cd54b"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a970f3be80cbd08a1591eb8588f3cd54b">ooh323_pvt::cap</a></div><div class="ttdeci">struct ast_format_cap * cap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00229">chan_ooh323.c:229</a></div></div>
<div class="ttc" id="structooh323__user_html_a0e5a76746e3addb17a93a158017c2273"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a0e5a76746e3addb17a93a158017c2273">ooh323_user::dtmfmode</a></div><div class="ttdeci">int dtmfmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00264">chan_ooh323.c:264</a></div></div>
<div class="ttc" id="structooh323__user_html_a3ca08cff50cbaced12d8c3b9ba501afc"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a3ca08cff50cbaced12d8c3b9ba501afc">ooh323_user::rtpmask</a></div><div class="ttdeci">struct OOH323Regex * rtpmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00271">chan_ooh323.c:271</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a78d4847658b695383d849efd12399b38">ooh323_pvt::exten</a></div><div class="ttdeci">char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00232">chan_ooh323.c:232</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a075fe6c253c475ab65af84e77a428058"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a075fe6c253c475ab65af84e77a428058">ooh323_new</a></div><div class="ttdeci">static struct ast_channel * ooh323_new(struct ooh323_pvt *i, int state, const char *host, struct ast_format_cap *cap, const struct ast_assigned_ids *assignedids, const struct ast_channel *requestor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00413">chan_ooh323.c:413</a></div></div>
<div class="ttc" id="structooh323__pvt_html_aa408ceeecc08507bd887bef6d0770728"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#aa408ceeecc08507bd887bef6d0770728">ooh323_pvt::caller_email</a></div><div class="ttdeci">char caller_email[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00219">chan_ooh323.c:219</a></div></div>
<div class="ttc" id="structooh323__user_html_a365ea96f3369e571b4c598e5c2588960"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a365ea96f3369e571b4c598e5c2588960">ooh323_user::mUseIP</a></div><div class="ttdeci">int mUseIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00269">chan_ooh323.c:269</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_ab3f7dcde04faacabd694aee206f3529f"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#ab3f7dcde04faacabd694aee206f3529f">update_our_aliases</a></div><div class="ttdeci">int update_our_aliases(ooCallData *call, struct ooh323_pvt *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l04949">chan_ooh323.c:4949</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a0e5a76746e3addb17a93a158017c2273"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">ooh323_pvt::dtmfmode</a></div><div class="ttdeci">int dtmfmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00230">chan_ooh323.c:230</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ace23b76d1cb210b2f8ce7b1f878047c4"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ace23b76d1cb210b2f8ce7b1f878047c4">ooh323_pvt::callerid_num</a></div><div class="ttdeci">char * callerid_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00216">chan_ooh323.c:216</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_af1a908d4b815bc6612179fc409ffd25a"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#af1a908d4b815bc6612179fc409ffd25a">H323_NEEDDESTROY</a></div><div class="ttdeci">#define H323_NEEDDESTROY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00095">chan_ooh323.c:95</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a2dfdc17e3ae802c224bf72e6e0fb2bc0"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a2dfdc17e3ae802c224bf72e6e0fb2bc0">ooh323_pvt::aniasdni</a></div><div class="ttdeci">int aniasdni</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00247">chan_ooh323.c:247</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a813265b1f34e107aa4b5cda6adff23ee"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a813265b1f34e107aa4b5cda6adff23ee">ooh323_pvt::rtdrinterval</a></div><div class="ttdeci">int rtdrinterval</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00245">chan_ooh323.c:245</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ada540a5f25f7302dc1a3d17ccfa59b10"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ada540a5f25f7302dc1a3d17ccfa59b10">ooh323_pvt::nat</a></div><div class="ttdeci">int nat</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00235">chan_ooh323.c:235</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a5ae16e21f810a80e8fd5bbf6936b2bb7"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a5ae16e21f810a80e8fd5bbf6936b2bb7">configure_local_rtp</a></div><div class="ttdeci">int configure_local_rtp(struct ooh323_pvt *p, ooCallData *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l04599">chan_ooh323.c:4599</a></div></div>
<div class="ttc" id="structooh323__user_html_a8183511fa2779a1e1830af4d60563473"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a8183511fa2779a1e1830af4d60563473">ooh323_user::incominglimit</a></div><div class="ttdeci">int incominglimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00259">chan_ooh323.c:259</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a14871705f45ccdc5bb9f4549efd8e119"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a14871705f45ccdc5bb9f4549efd8e119">ooh323_pvt::user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00205">chan_ooh323.c:205</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ad2cfb0f821c065261382a9298bb5a16b"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ad2cfb0f821c065261382a9298bb5a16b">ooh323_pvt::amaflags</a></div><div class="ttdeci">int amaflags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00236">chan_ooh323.c:236</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ae5a41057ef1829dac6de08b214487758"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ae5a41057ef1829dac6de08b214487758">ooh323_pvt::faststart</a></div><div class="ttdeci">int faststart</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00246">chan_ooh323.c:246</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a842593d8c598d8b3e4584ffd7fcd72c8"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a842593d8c598d8b3e4584ffd7fcd72c8">find_user</a></div><div class="ttdeci">struct ooh323_user * find_user(const char *name, const char *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00832">chan_ooh323.c:832</a></div></div>
<div class="ttc" id="structooh323__user_html_a2dfdc17e3ae802c224bf72e6e0fb2bc0"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a2dfdc17e3ae802c224bf72e6e0fb2bc0">ooh323_user::aniasdni</a></div><div class="ttdeci">int aniasdni</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00279">chan_ooh323.c:279</a></div></div>
<div class="ttc" id="structooh323__user_html_a970f3be80cbd08a1591eb8588f3cd54b"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a970f3be80cbd08a1591eb8588f3cd54b">ooh323_user::cap</a></div><div class="ttdeci">struct ast_format_cap * cap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00263">chan_ooh323.c:263</a></div></div>
<div class="ttc" id="structuser_html"><div class="ttname"><a href="../../d8/dbc/structuser.html">user</a></div><div class="ttdoc">structure to hold users read from users.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00312">res_phoneprov.c:312</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="structooh323__user_html_a35efc02a3f2fa3761aff8d3fd6f9f6a2"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a35efc02a3f2fa3761aff8d3fd6f9f6a2">ooh323_user::accountcode</a></div><div class="ttdeci">char accountcode[20]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00261">chan_ooh323.c:261</a></div></div>
<div class="ttc" id="structooh323__user_html_aa38689ed8404a5f707ae0e93d102b0c4"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#aa38689ed8404a5f707ae0e93d102b0c4">ooh323_user::mIP</a></div><div class="ttdeci">char mIP[4 *8+7+2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00270">chan_ooh323.c:270</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a2ad032ab1894a6b6f029903b60b0e7dd"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a2ad032ab1894a6b6f029903b60b0e7dd">ooh323_pvt::rtdrcount</a></div><div class="ttdeci">int rtdrcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00245">chan_ooh323.c:245</a></div></div>
<div class="ttc" id="structooh323__pvt_html_aea397022f9e9f5d8aa8da26de03e1dd8"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#aea397022f9e9f5d8aa8da26de03e1dd8">ooh323_pvt::caller_dialedDigits</a></div><div class="ttdeci">char caller_dialedDigits[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00218">chan_ooh323.c:218</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="structooh323__user_html_a96c64be67b0bcd897efa8db0eced9ab8"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a96c64be67b0bcd897efa8db0eced9ab8">ooh323_user::rtptimeout</a></div><div class="ttdeci">int rtptimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00268">chan_ooh323.c:268</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a12e6fe186ebf66440f0f43fb4096a285"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a12e6fe186ebf66440f0f43fb4096a285">gEarlyDirect</a></div><div class="ttdeci">static int gEarlyDirect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00372">chan_ooh323.c:372</a></div></div>
<div class="ttc" id="structooh323__user_html_ad2cfb0f821c065261382a9298bb5a16b"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#ad2cfb0f821c065261382a9298bb5a16b">ooh323_user::amaflags</a></div><div class="ttdeci">int amaflags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00262">chan_ooh323.c:262</a></div></div>
<div class="ttc" id="format__cap_8h_html_a70a1555431677c29824be37afa5112e2"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a70a1555431677c29824be37afa5112e2">ast_format_cap_append_from_cap</a></div><div class="ttdeci">int ast_format_cap_append_from_cap(struct ast_format_cap *dst, const struct ast_format_cap *src, enum ast_media_type type)</div><div class="ttdoc">Append the formats of provided type in src to dst. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00269">format_cap.c:269</a></div></div>
<div class="ttc" id="structooh323__user_html_a0b9262736048e2faf9f97e43d88fef5c"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a0b9262736048e2faf9f97e43d88fef5c">ooh323_user::dtmfcodec</a></div><div class="ttdeci">int dtmfcodec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00265">chan_ooh323.c:265</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ae06dc80a9753331f55d52d586c82271e"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ae06dc80a9753331f55d52d586c82271e">ooh323_pvt::caller_url</a></div><div class="ttdeci">char caller_url[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00220">chan_ooh323.c:220</a></div></div>
<div class="ttc" id="causes_8h_html_a9900b24b261c275bb54631f16d4d38cc"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a9900b24b261c275bb54631f16d4d38cc">AST_CAUSE_CALL_REJECTED</a></div><div class="ttdeci">#define AST_CAUSE_CALL_REJECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00110">causes.h:110</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a3ca08cff50cbaced12d8c3b9ba501afc"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a3ca08cff50cbaced12d8c3b9ba501afc">ooh323_pvt::rtpmask</a></div><div class="ttdeci">struct OOH323Regex * rtpmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00243">chan_ooh323.c:243</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ac92588540e8c1d014a08cd8a45462b19">ooh323_pvt::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00210">chan_ooh323.c:210</a></div></div>
<div class="ttc" id="structooh323__user_html_a813265b1f34e107aa4b5cda6adff23ee"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a813265b1f34e107aa4b5cda6adff23ee">ooh323_user::rtdrinterval</a></div><div class="ttdeci">int rtdrinterval</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00273">chan_ooh323.c:273</a></div></div>
<div class="ttc" id="ooh323cDriver_8c_html_ada3bfb7fe53a56e942cc5d9f019a47a2"><div class="ttname"><a href="../../d2/dae/ooh323cDriver_8c.html#ada3bfb7fe53a56e942cc5d9f019a47a2">ooh323c_set_capability_for_call</a></div><div class="ttdeci">int ooh323c_set_capability_for_call(ooCallData *call, struct ast_format_cap *cap, int dtmf, int dtmfcodec, int t38support, int g729onlyA)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dae/ooh323cDriver_8c_source.html#l00384">ooh323cDriver.c:384</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ad67f1b1aeab6d1d92ed709c9ca2d9655"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ad67f1b1aeab6d1d92ed709c9ca2d9655">ooh323_pvt::neighbor</a></div><div class="ttdeci">union ooh323_pvt::@7 neighbor</div></div>
<div class="ttc" id="structooh323__pvt_html_a4fb11426d0e7f84388013cf1116a8848"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a4fb11426d0e7f84388013cf1116a8848">ooh323_pvt::h245tunneling</a></div><div class="ttdeci">int h245tunneling</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00246">chan_ooh323.c:246</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a3afbb9e9327e7a8d7dd46d45044e320f"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a3afbb9e9327e7a8d7dd46d45044e320f">H323_DISABLEGK</a></div><div class="ttdeci">#define H323_DISABLEGK</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00096">chan_ooh323.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeef0d489627563bfb37192fc3e9b7bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeef0d489627563bfb37192fc3e9b7bdb">&#9670;&nbsp;</a></span>ooh323_rtp_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a>* ooh323_rtp_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>ast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04978">4978</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07011">ast_async_goto()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00419">ast_channel_fdno()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00362">ast_channel_macrocontext()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00637">ast_channel_nativeformats()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00677">ast_channel_nativeformats_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00856">ast_channel_readformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00860">ast_channel_writeformat()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04179">ast_exists_extension()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00091">ast_format_alaw</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00583">ast_format_cap_iscompatible_format()</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00201">ast_format_cmp()</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00036">AST_FORMAT_CMP_EQUAL</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00038">AST_FORMAT_CMP_NOT_EQUAL</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00334">ast_format_get_name()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00086">ast_format_ulaw</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">AST_FRAME_DTMF</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00107">AST_FRAME_NULL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00585">ast_frdup</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d55/main_2frame_8c_source.html#l00079">ast_null_frame</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00578">ast_rtp_instance_read()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05890">ast_set_write_format()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00762">ast_udptl_read()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00212">ooh323_pvt::callToken</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00201">ooh323_pvt::chmodepend</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00230">ooh323_pvt::dtmfmode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00192">ooh323_pvt::faxdetect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00105">FAXDETECT_CNG</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00193">ooh323_pvt::faxdetected</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00196">ooh323_pvt::faxmode</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">ast_frame_subclass::format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00030">H323_DTMF_INBAND</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00421">ast_party_caller::id</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00209">ooh323_pvt::lastrtprx</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00343">ast_party_id::number</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00203">ooh323_pvt::owner</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00187">ooh323_pvt::rtp</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00085">S_COR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00292">ast_party_number::str</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00101">T38_DISABLED</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00191">ooh323_pvt::t38support</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00195">ooh323_pvt::udptl</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00242">ooh323_pvt::vad</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00298">ast_party_number::valid</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00189">ooh323_pvt::vrtp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01194">ooh323_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;{</div><div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;   <span class="comment">/* Retrieve audio/etc from channel.  Assumes p-&gt;lock is already held. */</span></div><div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f;</div><div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *dfr = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;   <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> null_frame = { <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056">AST_FRAME_NULL</a>, };</div><div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a3e3e7e66e65ad9cdba2299e36b13e173">ast_channel_fdno</a>(ast)) {</div><div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;   <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;      f = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 0);  <span class="comment">/* RTP Audio */</span></div><div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9e6e3a23069f00d79ec9cd58491c84a0">lastrtprx</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;   <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;      f = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 1);  <span class="comment">/* RTCP Control Channel */</span></div><div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;   <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;      f = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, 0); <span class="comment">/* RTP Video */</span></div><div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9e6e3a23069f00d79ec9cd58491c84a0">lastrtprx</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;   <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;      f = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a6c3bc21b5c24c99cd06f88105366407f">vrtp</a>, 1); <span class="comment">/* RTCP Control Channel for video */</span></div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;   <span class="keywordflow">case</span> 5:</div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;      f = <a class="code" href="../../d5/da1/udptl_8h.html#ae0808bce80557e3107c9030bd8a832fe">ast_udptl_read</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a>);    <span class="comment">/* UDPTL t.38 data */</span></div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>) {</div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;          <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Got UDPTL %u/%d len %d for %s\n&quot;</span>,</div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;            f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(ast));</div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;      }</div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;      p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9e6e3a23069f00d79ec9cd58491c84a0">lastrtprx</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;</div><div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;      f = &amp;null_frame;</div><div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;   }</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;   <span class="keywordflow">if</span> (f &amp;&amp; p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> &amp;&amp; !p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a16e504da5771f1589a97d3164a3b08b8">faxmode</a> &amp;&amp; (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>)) {</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;      <span class="comment">/* We already hold the channel lock */</span></div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d3c/format__cap_8h.html#a4fadd3c35438f866e29eddc68283bce6">ast_format_cap_iscompatible_format</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>), f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a>) {</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *caps;</div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;</div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Oooh, voice format changed to %s\n&quot;</span>, <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>));</div><div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;</div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;         caps = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;         <span class="keywordflow">if</span> (caps) {</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;            <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(caps, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>, 0);</div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, caps);</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;         }</div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;      }</div><div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;      <span class="keywordflow">if</span> (((p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">dtmfmode</a> &amp; <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a5b764634c8919c3284552cfcac130b89">H323_DTMF_INBAND</a>) || (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a55ee15076b418946e327a5ada52f808e">faxdetect</a> &amp; <a class="code" href="../../d7/d49/chan__ooh323_8c.html#af3ae01d4af333813d69c5aaa3a6347cd">FAXDETECT_CNG</a>)) &amp;&amp; p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aa62a1382425913a43d6111e71b9fa019">vad</a> &amp;&amp;</div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;         ((<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) ||</div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;         (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) ||</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;         (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>, <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>))) {</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;         dfr = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a417ee8a61074ec7570971202908e2c4f">ast_frdup</a>(f);</div><div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;         dfr = <a class="code" href="../../d3/d08/dsp_8h.html#ab6387ee12a3544d3d2068db61d9576ad">ast_dsp_process</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aa62a1382425913a43d6111e71b9fa019">vad</a>, dfr);</div><div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;      }</div><div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;      <span class="keywordflow">return</span> f;</div><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;   }</div><div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;</div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;   <span class="comment">/* process INBAND DTMF*/</span></div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;   <span class="keywordflow">if</span> (dfr &amp;&amp; (dfr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>) &amp;&amp; ((dfr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <span class="charliteral">&#39;f&#39;</span>) || (dfr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <span class="charliteral">&#39;e&#39;</span>))) {</div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;* Detected FAX Tone %s\n&quot;</span>, (dfr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <span class="charliteral">&#39;e&#39;</span>) ? <span class="stringliteral">&quot;CED&quot;</span> : <span class="stringliteral">&quot;CNG&quot;</span>);</div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;      <span class="comment">/* Switch to T.38 ON CED*/</span></div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;      <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a16e504da5771f1589a97d3164a3b08b8">faxmode</a> &amp;&amp; !p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aa117ea2cdce60032b9c277caef844a57">chmodepend</a> &amp;&amp; (dfr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <span class="charliteral">&#39;e&#39;</span>) &amp;&amp; (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">t38support</a> != <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ab7bcab4f5ba8a3094212cd96bb9bf035">T38_DISABLED</a>)) {</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;request to change %s to t.38 because fax ced\n&quot;</span>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a22bf6873396bfcf89cca6e08d97173f1">callToken</a>);</div><div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;         p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aa117ea2cdce60032b9c277caef844a57">chmodepend</a> = 1;</div><div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;         p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a6e3ac5452311c813f9a6e165a51c59ce">faxdetected</a> = 1;</div><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;         ooRequestChangeMode(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a22bf6873396bfcf89cca6e08d97173f1">callToken</a>, 1);</div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((dfr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <span class="charliteral">&#39;f&#39;</span>) &amp;&amp; !p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a6e3ac5452311c813f9a6e165a51c59ce">faxdetected</a>) {</div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> *target_context = <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;         <span class="keywordflow">if</span> ((strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>), <span class="stringliteral">&quot;fax&quot;</span>)) &amp;&amp;</div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;             (<a class="code" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, target_context, <span class="stringliteral">&quot;fax&quot;</span>, 1,</div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;                  <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)-&gt;<a class="code" href="../../d4/d77/structast__party__caller.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">valid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)-&gt;<a class="code" href="../../d4/d77/structast__party__caller.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">number</a>.<a class="code" href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)))) {</div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Redirecting &#39;%s&#39; to fax extension due to CNG detection\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <span class="stringliteral">&quot;FAXEXTEN&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, target_context, <span class="stringliteral">&quot;fax&quot;</span>, 1)) {</div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Failed to async goto &#39;%s&#39; into fax of &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>),target_context);</div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;            }</div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;            p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a6e3ac5452311c813f9a6e165a51c59ce">faxdetected</a> = 1;</div><div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(dfr);</div><div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;            <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;         }</div><div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;      }</div><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dfr &amp;&amp; dfr-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>) {</div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;* Detected inband DTMF &#39;%c&#39;\n&quot;</span>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>);</div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;      <span class="keywordflow">return</span> dfr;</div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;   }</div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;</div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;   <span class="keywordflow">if</span> (dfr) {</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(dfr);</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;   }</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;   <span class="keywordflow">return</span> f;</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00036">format.h:36</a></div></div>
<div class="ttc" id="dsp_8h_html_ab6387ee12a3544d3d2068db61d9576ad"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#ab6387ee12a3544d3d2068db61d9576ad">ast_dsp_process</a></div><div class="ttdeci">struct ast_frame * ast_dsp_process(struct ast_channel *chan, struct ast_dsp *dsp, struct ast_frame *inf)</div><div class="ttdoc">Return AST_FRAME_NULL frames when there is silence, AST_FRAME_BUSY on busies, and call progress...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01494">dsp.c:1494</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a417ee8a61074ec7570971202908e2c4f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a417ee8a61074ec7570971202908e2c4f">ast_frdup</a></div><div class="ttdeci">#define ast_frdup(fr)</div><div class="ttdoc">Copies a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00585">include/asterisk/frame.h:585</a></div></div>
<div class="ttc" id="structast__party__number_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="../../d6/dbb/structast__party__number.html#ab50d783982593ef993ea0b68f7ad8b80">ast_party_number::str</a></div><div class="ttdeci">char * str</div><div class="ttdoc">Subscriber phone number (Malloced) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00292">channel.h:292</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9e6e3a23069f00d79ec9cd58491c84a0"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9e6e3a23069f00d79ec9cd58491c84a0">ooh323_pvt::lastrtprx</a></div><div class="ttdeci">time_t lastrtprx</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00209">chan_ooh323.c:209</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a298efdcdae5062ad10b1597b6df19955"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">ooh323_pvt::t38support</a></div><div class="ttdeci">int t38support</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00191">chan_ooh323.c:191</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9751588dbb8cbd43c7c148b8ded04ff0"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">ooh323_pvt::udptl</a></div><div class="ttdeci">struct ast_udptl * udptl</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00195">chan_ooh323.c:195</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a248afd6c02044259a386f6b7aee922a2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a></div><div class="ttdeci">#define AST_FRAME_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">include/asterisk/frame.h:139</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="format__cap_8h_html_a4fadd3c35438f866e29eddc68283bce6"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a4fadd3c35438f866e29eddc68283bce6">ast_format_cap_iscompatible_format</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cap_iscompatible_format(const struct ast_format_cap *cap, const struct ast_format *format)</div><div class="ttdoc">Find if ast_format is within the capabilities of the ast_format_cap object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00583">format_cap.c:583</a></div></div>
<div class="ttc" id="structast__party__caller_html_a8791d240f8a9c2dc271a1c8542cfe8cc"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html#a8791d240f8a9c2dc271a1c8542cfe8cc">ast_party_caller::id</a></div><div class="ttdeci">struct ast_party_id id</div><div class="ttdoc">Caller party ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00421">channel.h:421</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ad88eb6e1d9b89b5e60412393b887391c">AST_FORMAT_CMP_NOT_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00038">format.h:38</a></div></div>
<div class="ttc" id="structooh323__pvt_html_aa62a1382425913a43d6111e71b9fa019"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#aa62a1382425913a43d6111e71b9fa019">ooh323_pvt::vad</a></div><div class="ttdeci">struct ast_dsp * vad</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00242">chan_ooh323.c:242</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="channel_8h_html_a3c9c29fb2bc2b715fee335c1ffa50449"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a></div><div class="ttdeci">void ast_channel_nativeformats_set(struct ast_channel *chan, struct ast_format_cap *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00677">channel_internal_api.c:677</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="strings_8h_html_a38a896048b2ca84076864505f0aa8f01"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a></div><div class="ttdeci">#define S_COR(a, b, c)</div><div class="ttdoc">returns the equivalent of logic or for strings, with an additional boolean check: second one if not e...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00085">strings.h:85</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="channel_8h_html_abbdfb98077180544657b2d16c5d25f74"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a></div><div class="ttdeci">int ast_set_write_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets write format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05890">channel.c:5890</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a55ee15076b418946e327a5ada52f808e"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a55ee15076b418946e327a5ada52f808e">ooh323_pvt::faxdetect</a></div><div class="ttdeci">int faxdetect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00192">chan_ooh323.c:192</a></div></div>
<div class="ttc" id="pbx_8h_html_a64a5b8fdc919806135ad427aca9e71b7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a></div><div class="ttdeci">int ast_exists_extension(struct ast_channel *c, const char *context, const char *exten, int priority, const char *callerid)</div><div class="ttdoc">Determine whether an extension exists. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04179">pbx.c:4179</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056">AST_FRAME_NULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00107">include/asterisk/frame.h:107</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="channel_8h_html_a3e3e7e66e65ad9cdba2299e36b13e173"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3e3e7e66e65ad9cdba2299e36b13e173">ast_channel_fdno</a></div><div class="ttdeci">int ast_channel_fdno(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00419">channel_internal_api.c:419</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a0e5a76746e3addb17a93a158017c2273"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">ooh323_pvt::dtmfmode</a></div><div class="ttdeci">int dtmfmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00230">chan_ooh323.c:230</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a6e3ac5452311c813f9a6e165a51c59ce"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a6e3ac5452311c813f9a6e165a51c59ce">ooh323_pvt::faxdetected</a></div><div class="ttdeci">int faxdetected</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00193">chan_ooh323.c:193</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_ab7bcab4f5ba8a3094212cd96bb9bf035"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#ab7bcab4f5ba8a3094212cd96bb9bf035">T38_DISABLED</a></div><div class="ttdeci">#define T38_DISABLED</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00101">chan_ooh323.c:101</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="channel_8h_html_a4a5bc2ea394aace55ea3809e53365ea9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a></div><div class="ttdeci">struct ast_format_cap * ast_channel_nativeformats(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00637">channel_internal_api.c:637</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="udptl_8h_html_ae0808bce80557e3107c9030bd8a832fe"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#ae0808bce80557e3107c9030bd8a832fe">ast_udptl_read</a></div><div class="ttdeci">struct ast_frame * ast_udptl_read(struct ast_udptl *udptl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00762">udptl.c:762</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_af203379aca2fd704fe8d86a9445596b6"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a></div><div class="ttdeci">struct ast_frame ast_null_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00079">main/frame.c:79</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="format__cache_8h_html_a95c058fe6adef68780f026d6aec2481c"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a></div><div class="ttdeci">struct ast_format * ast_format_alaw</div><div class="ttdoc">Built-in cached alaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00091">format_cache.c:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structooh323__pvt_html_a22bf6873396bfcf89cca6e08d97173f1"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a22bf6873396bfcf89cca6e08d97173f1">ooh323_pvt::callToken</a></div><div class="ttdeci">char * callToken</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00212">chan_ooh323.c:212</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9241175b397dfd032c4cadbc8c9c2d05"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">ooh323_pvt::owner</a></div><div class="ttdeci">struct ast_channel * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00203">chan_ooh323.c:203</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="pbx_8h_html_ae0ba2eb966a9e3376de61d30513f7302"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a></div><div class="ttdeci">int ast_async_goto(struct ast_channel *chan, const char *context, const char *exten, int priority)</div><div class="ttdoc">Set the channel to next execute the specified dialplan location. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07011">pbx.c:7011</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_af3ae01d4af333813d69c5aaa3a6347cd"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#af3ae01d4af333813d69c5aaa3a6347cd">FAXDETECT_CNG</a></div><div class="ttdeci">#define FAXDETECT_CNG</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00105">chan_ooh323.c:105</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a8adb8595b8127cbea2118fada1ef8782"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">ooh323_pvt::rtp</a></div><div class="ttdeci">struct ast_rtp_instance * rtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00187">chan_ooh323.c:187</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structooh323__pvt_html_aa117ea2cdce60032b9c277caef844a57"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#aa117ea2cdce60032b9c277caef844a57">ooh323_pvt::chmodepend</a></div><div class="ttdeci">int chmodepend</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00201">chan_ooh323.c:201</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_a5b764634c8919c3284552cfcac130b89"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#a5b764634c8919c3284552cfcac130b89">H323_DTMF_INBAND</a></div><div class="ttdeci">#define H323_DTMF_INBAND</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00030">ooh323cDriver.h:30</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">ast_frame_subclass::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">include/asterisk/frame.h:155</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a16e504da5771f1589a97d3164a3b08b8"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a16e504da5771f1589a97d3164a3b08b8">ooh323_pvt::faxmode</a></div><div class="ttdeci">int faxmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00196">chan_ooh323.c:196</a></div></div>
<div class="ttc" id="channel_8h_html_adf593d68a333075c1fcae8a73b68c069"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a></div><div class="ttdeci">const char * ast_channel_macrocontext(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00362">channel_internal_api.c:362</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
<div class="ttc" id="channel_8h_html_a1dc625bd14a7875b04bfe0c388858929"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a></div><div class="ttdeci">struct ast_format * ast_channel_writeformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00860">channel_internal_api.c:860</a></div></div>
<div class="ttc" id="structast__party__number_html_aaa04218f9e3a9065afa8be2491da8904"><div class="ttname"><a href="../../d6/dbb/structast__party__number.html#aaa04218f9e3a9065afa8be2491da8904">ast_party_number::valid</a></div><div class="ttdeci">unsigned char valid</div><div class="ttdoc">TRUE if the number information is valid/present. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00298">channel.h:298</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a6c3bc21b5c24c99cd06f88105366407f"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a6c3bc21b5c24c99cd06f88105366407f">ooh323_pvt::vrtp</a></div><div class="ttdeci">struct ast_rtp_instance * vrtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00189">chan_ooh323.c:189</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a8e272a4ee35206ff8c4c0384b9e3f592"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a8e272a4ee35206ff8c4c0384b9e3f592">ast_rtp_instance_read</a></div><div class="ttdeci">struct ast_frame * ast_rtp_instance_read(struct ast_rtp_instance *instance, int rtcp)</div><div class="ttdoc">Receive a frame over RTP. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00578">rtp_engine.c:578</a></div></div>
<div class="ttc" id="structast__party__id_html_aca2d7de6c89f201dc8bd0a2642d2a352"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#aca2d7de6c89f201dc8bd0a2642d2a352">ast_party_id::number</a></div><div class="ttdeci">struct ast_party_number number</div><div class="ttdoc">Subscriber phone number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00343">channel.h:343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa67aae75b4a50c2cad75ea9dfd709c13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67aae75b4a50c2cad75ea9dfd709c13">&#9670;&nbsp;</a></span>ooh323_set_read_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ooh323_set_read_format </td>
          <td>(</td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01625">1625</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00517">ao2_replace</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00677">ast_channel_nativeformats_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00856">ast_channel_readformat()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02947">ast_channel_trylock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00334">ast_format_get_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00374">DEADLOCK_AVOIDANCE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00203">ooh323_pvt::owner</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00227">ooh323_pvt::readformat</a>.</p>
<div class="fragment"><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;{</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   ooh323_update_readformat %s\n&quot;</span>,</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(fmt));</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;   p = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;   <span class="keywordflow">if</span> (!p) {</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;No matching call found for %s\n&quot;</span>, <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callToken);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   }</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ada9e7d69bc9e3220cdb3f84fdc54fde9">readformat</a>, fmt);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *caps;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      caps = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <span class="keywordflow">if</span> (!caps) {</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate capabilities structure\n&quot;</span>);</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      }</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <span class="keywordflow">while</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)) {</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1,<span class="stringliteral">&quot;Failed to grab lock, trying again\n&quot;</span>);</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      }</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      }</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>) {</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;Readformat before update %s\n&quot;</span>,</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;           <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)));</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      }</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(caps, fmt, 0);</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, caps);</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;No owner found\n&quot;</span>);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   ooh323_update_readformat\n&quot;</span>);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;}</div><div class="ttc" id="lock_8h_html_a851106e971b4611a38cb4be8b39d9fcf"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a></div><div class="ttdeci">#define DEADLOCK_AVOIDANCE(lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00374">lock.h:374</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="channel_8h_html_a3c9c29fb2bc2b715fee335c1ffa50449"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a></div><div class="ttdeci">void ast_channel_nativeformats_set(struct ast_channel *chan, struct ast_format_cap *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00677">channel_internal_api.c:677</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ada9e7d69bc9e3220cdb3f84fdc54fde9"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ada9e7d69bc9e3220cdb3f84fdc54fde9">ooh323_pvt::readformat</a></div><div class="ttdeci">struct ast_format * readformat</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00227">chan_ooh323.c:227</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa81c8462bd0574f4f9e09e71f2772f44"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a></div><div class="ttdeci">#define ao2_replace(dst, src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00517">astobj2.h:517</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9241175b397dfd032c4cadbc8c9c2d05"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">ooh323_pvt::owner</a></div><div class="ttdeci">struct ast_channel * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00203">chan_ooh323.c:203</a></div></div>
<div class="ttc" id="channel_8h_html_a7dc0d696d897c864c6f41a3a1795c82e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a></div><div class="ttdeci">#define ast_channel_trylock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02947">channel.h:2947</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a51f5fabf3fe32dbd5bd867d8a3a8bb39"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a></div><div class="ttdeci">static struct ooh323_pvt * find_call(ooCallData *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00810">chan_ooh323.c:810</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8783c43daa2830236811adf3f1a186a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8783c43daa2830236811adf3f1a186a">&#9670;&nbsp;</a></span>ooh323_set_write_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ooh323_set_write_format </td>
          <td>(</td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txframes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01553">1553</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00517">ao2_replace</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00637">ast_channel_nativeformats()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00677">ast_channel_nativeformats_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00856">ast_channel_readformat()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02947">ast_channel_trylock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00860">ast_channel_writeformat()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00736">ast_format_cap_get_names()</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00326">AST_FORMAT_CAP_NAMES_LEN</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00136">ast_format_cap_set_framing()</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00334">ast_format_get_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01428">ast_rtp_codecs_payloads_set_rtpmap_type()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00727">ast_rtp_instance_get_codecs()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05890">ast_set_write_format()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00800">ast_str_alloca</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00374">DEADLOCK_AVOIDANCE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00231">ooh323_pvt::dtmfcodec</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00230">ooh323_pvt::dtmfmode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00031">H323_DTMF_CISCO</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00026">H323_DTMF_RFC2833</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00203">ooh323_pvt::owner</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00187">ooh323_pvt::rtp</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00228">ooh323_pvt::writeformat</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00607">ooh323c_start_transmit_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;{</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   ooh323_update_writeformat %s/%d\n&quot;</span>,</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(fmt), txframes);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;   p = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>);</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;   <span class="keywordflow">if</span> (!p) {</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;No matching call found for %s\n&quot;</span>, <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;callToken);</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   }</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ab1490f05fc06376ee421360ad879cb23">writeformat</a>, fmt);</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *caps;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      caps = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="keywordflow">if</span> (!caps) {</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate capabilities structure\n&quot;</span>);</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      }</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <span class="keywordflow">while</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)) {</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1,<span class="stringliteral">&quot;Failed to grab lock, trying again\n&quot;</span>);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      }</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      }</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>) {</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;Writeformat before update %s/%s\n&quot;</span>,</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;           <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)),</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;           <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>), &amp;codec_buf));</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      }</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">dtmfmode</a> &amp; <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a592a54239c05477ea4d86ab962625732">H323_DTMF_RFC2833</a> &amp;&amp; p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>) {</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab5350656de626a43127eb607e58bdfa3">ast_rtp_codecs_payloads_set_rtpmap_type</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>),</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;             p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>, <span class="stringliteral">&quot;audio&quot;</span>, <span class="stringliteral">&quot;telephone-event&quot;</span>, 0);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      }</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">dtmfmode</a> &amp; <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#acff40575e5c7517d4cbd5136ecf867ae">H323_DTMF_CISCO</a> &amp;&amp; p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab5350656de626a43127eb607e58bdfa3">ast_rtp_codecs_payloads_set_rtpmap_type</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>),</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;             p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">dtmfcodec</a>, <span class="stringliteral">&quot;audio&quot;</span>, <span class="stringliteral">&quot;cisco-telephone-event&quot;</span>, 0);</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      }</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      <span class="keywordflow">if</span> (txframes) {</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#ad938aaf8c3c616b854d44f8bfa3bab1d">ast_format_cap_set_framing</a>(caps, txframes);</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      }</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(caps, fmt, 0);</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, caps);</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;No owner found\n&quot;</span>);</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   ooh323_update_writeformat\n&quot;</span>);</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;}</div><div class="ttc" id="rtp__engine_8h_html_a0376aa2503a185437fab8cb0b7d674fb"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a></div><div class="ttdeci">struct ast_rtp_codecs * ast_rtp_instance_get_codecs(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the codecs structure of an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00727">rtp_engine.c:727</a></div></div>
<div class="ttc" id="lock_8h_html_a851106e971b4611a38cb4be8b39d9fcf"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a></div><div class="ttdeci">#define DEADLOCK_AVOIDANCE(lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00374">lock.h:374</a></div></div>
<div class="ttc" id="format__cap_8h_html_a035f4aa78f172a18311bfa15dd232c6f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a></div><div class="ttdeci">#define AST_FORMAT_CAP_NAMES_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00326">format_cap.h:326</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="strings_8h_html_a7fc844c12b769ccded05e7514036e241"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a></div><div class="ttdeci">#define ast_str_alloca(init_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00800">strings.h:800</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a0b9262736048e2faf9f97e43d88fef5c"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a0b9262736048e2faf9f97e43d88fef5c">ooh323_pvt::dtmfcodec</a></div><div class="ttdeci">int dtmfcodec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00231">chan_ooh323.c:231</a></div></div>
<div class="ttc" id="format__cap_8h_html_ad938aaf8c3c616b854d44f8bfa3bab1d"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ad938aaf8c3c616b854d44f8bfa3bab1d">ast_format_cap_set_framing</a></div><div class="ttdeci">void ast_format_cap_set_framing(struct ast_format_cap *cap, unsigned int framing)</div><div class="ttdoc">Set the global framing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00136">format_cap.c:136</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_acff40575e5c7517d4cbd5136ecf867ae"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#acff40575e5c7517d4cbd5136ecf867ae">H323_DTMF_CISCO</a></div><div class="ttdeci">#define H323_DTMF_CISCO</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00031">ooh323cDriver.h:31</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="channel_8h_html_a3c9c29fb2bc2b715fee335c1ffa50449"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a></div><div class="ttdeci">void ast_channel_nativeformats_set(struct ast_channel *chan, struct ast_format_cap *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00677">channel_internal_api.c:677</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ab1490f05fc06376ee421360ad879cb23"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ab1490f05fc06376ee421360ad879cb23">ooh323_pvt::writeformat</a></div><div class="ttdeci">struct ast_format * writeformat</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00228">chan_ooh323.c:228</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="channel_8h_html_abbdfb98077180544657b2d16c5d25f74"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a></div><div class="ttdeci">int ast_set_write_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets write format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05890">channel.c:5890</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_ab5350656de626a43127eb607e58bdfa3"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#ab5350656de626a43127eb607e58bdfa3">ast_rtp_codecs_payloads_set_rtpmap_type</a></div><div class="ttdeci">int ast_rtp_codecs_payloads_set_rtpmap_type(struct ast_rtp_codecs *codecs, struct ast_rtp_instance *instance, int payload, char *mimetype, char *mimesubtype, enum ast_rtp_options options)</div><div class="ttdoc">Record tx payload type information that was seen in an a=rtpmap: SDP line. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l01428">rtp_engine.c:1428</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a0e5a76746e3addb17a93a158017c2273"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a0e5a76746e3addb17a93a158017c2273">ooh323_pvt::dtmfmode</a></div><div class="ttdeci">int dtmfmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00230">chan_ooh323.c:230</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="format__cap_8h_html_a4dff925fc9e3bb805b926d18447eb3eb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a></div><div class="ttdeci">const char * ast_format_cap_get_names(const struct ast_format_cap *cap, struct ast_str **buf)</div><div class="ttdoc">Get the names of codecs of a set of formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00736">format_cap.c:736</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a4a5bc2ea394aace55ea3809e53365ea9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a></div><div class="ttdeci">struct ast_format_cap * ast_channel_nativeformats(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00637">channel_internal_api.c:637</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa81c8462bd0574f4f9e09e71f2772f44"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a></div><div class="ttdeci">#define ao2_replace(dst, src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00517">astobj2.h:517</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9241175b397dfd032c4cadbc8c9c2d05"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">ooh323_pvt::owner</a></div><div class="ttdeci">struct ast_channel * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00203">chan_ooh323.c:203</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a8adb8595b8127cbea2118fada1ef8782"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">ooh323_pvt::rtp</a></div><div class="ttdeci">struct ast_rtp_instance * rtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00187">chan_ooh323.c:187</a></div></div>
<div class="ttc" id="channel_8h_html_a7dc0d696d897c864c6f41a3a1795c82e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a></div><div class="ttdeci">#define ast_channel_trylock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02947">channel.h:2947</a></div></div>
<div class="ttc" id="channel_8h_html_a1dc625bd14a7875b04bfe0c388858929"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a></div><div class="ttdeci">struct ast_format * ast_channel_writeformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00860">channel_internal_api.c:860</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a51f5fabf3fe32dbd5bd867d8a3a8bb39"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a></div><div class="ttdeci">static struct ooh323_pvt * find_call(ooCallData *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00810">chan_ooh323.c:810</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_a592a54239c05477ea4d86ab962625732"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#a592a54239c05477ea4d86ab962625732">H323_DTMF_RFC2833</a></div><div class="ttdeci">#define H323_DTMF_RFC2833</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00026">ooh323cDriver.h:26</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad99b9738abe00b477375f3bbeb5cc4e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad99b9738abe00b477375f3bbeb5cc4e2">&#9670;&nbsp;</a></span>reload_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int reload_config </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02813">2813</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03328">ast_category_browse()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04405">ast_channel_string2amaflag()</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00159">ast_config_AST_LOG_DIR</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01968">ast_false()</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00525">ast_format_cap_remove_by_type()</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00320">ast_format_cap_update_by_allow_disallow()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00086">ast_format_ulaw</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d1d/abstract__jb_8c_source.html#l00545">ast_jb_read_conf()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00031">AST_MEDIA_TYPE_UNKNOWN</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03657">ast_parse_arg()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00524">ast_sockaddr_is_ipv6()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00353">bindaddr</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02515">build_peer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02368">build_user()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00111">config</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">CONFIG_STATUS_FILEUNCHANGED</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00083">DEFAULT_CONTEXT</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00086">DEFAULT_H323ACCNT</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00084">DEFAULT_H323ID</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00085">DEFAULT_LOGFILE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04230">delete_peers()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04265">delete_users()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l00521">FALSE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00105">FAXDETECT_CNG</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00106">FAXDETECT_T38</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00102">format</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00241">ooh323_pvt::g729onlyA</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00376">gAccountcode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00356">gAliasList</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00377">gAMAFLAGS</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00385">gANIasDNI</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00369">gBeMaster</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00355">gCallerID</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00378">gContext</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00371">gDirectRTP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00359">gDTMFCodec</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00358">gDTMFMode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00372">gEarlyDirect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00367">gFastStart</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00360">gFAXdetect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00362">gGatekeeper</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00379">gIncomingLimit</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00352">gIP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00366">gIsGateway</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00122">global_jbconf</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00349">gLogFile</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00370">gMediaWaitForConnect</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00384">gNat</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00380">gOutgoingLimit</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00351">gPort</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00364">gRasGkMode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00363">gRASIP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00383">gRTDRCount</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00383">gRTDRInterval</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00374">gRTPTimeout</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00361">gT38Support</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00373">gTOS</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00382">gTRCLVL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00368">gTunneling</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00031">H323_DTMF_CISCO</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00028">H323_DTMF_H245ALPHANUMERIC</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00029">H323_DTMF_H245SIGNAL</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00030">H323_DTMF_INBAND</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00032">H323_DTMF_INBANDRELAX</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00027">H323_DTMF_Q931</a>, <a class="el" href="../../d3/d3d/ooh323cDriver_8h_source.html#l00026">H323_DTMF_RFC2833</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00077">IPTOS_MINCOST</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">ast_variable::lineno</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00319">ast_user_list::lock</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00324">ast_peer_list::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00389">manufacturer</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00396">ooh323_config::mTCPPortEnd</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00395">ooh323_config::mTCPPortStart</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00248">ooh323_pvt::next</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00280">ooh323_user::next</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00312">ooh323_peer::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a55e8a83ec450d2f3e7782b8f001b16be">ooconfig</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01104">PARSE_ADDR</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00206">ooh323_pvt::peer</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00323">ast_peer_list::peers</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00040">RESULT_SUCCESS</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00387">t35countrycode</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00388">t35extensions</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00101">T38_DISABLED</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00102">T38_ENABLED</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00103">T38_FAXGW</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00205">ooh323_pvt::user</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00318">ast_user_list::users</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00354">v6mode</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00390">vendor</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00391">version</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03787">load_module()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02705">ooh323_do_reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;{</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>;</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;   <span class="keyword">struct </span>ooAliases  *pNewAlias = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *cur, *prev;</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { <a class="code" href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> ? <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a> : 0 };</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d14/structooh323__user.html">ooh323_user</a> *<a class="code" href="../../d8/dbc/structuser.html">user</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a> *peer = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;   <span class="keywordtype">char</span> *cat;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *utype;</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   reload_config\n&quot;</span>);</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>((<span class="keywordtype">char</span>*)<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>, config_flags);</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;   <span class="comment">/* We *must* have a config file otherwise stop immediately */</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Unable to load config %s, OOH323 disabled\n&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>);</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a>)</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a7cc1753a05a0821f6c70dd2bccfbab5c">RESULT_SUCCESS</a>;</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>) {</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;      <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aec8880801e23e82ef7d10f81e0d085be">delete_users</a>();</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;      <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6cb51d2b177e2a0fe86f23f26897d5c7">delete_peers</a>();</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>) {</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;  reload_config - Freeing up alias list\n&quot;</span>);</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;      }</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;      cur = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a>;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;      <span class="keywordflow">while</span> (cur) {</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;         prev = cur;</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;         cur = cur-&gt;next;</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev-&gt;value);</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(prev);</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;      }</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;      <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;      ooH323EpClearAllAliases();</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;   }</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;   <span class="comment">/* Inintialize everything to default */</span></div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;   snprintf(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6e24a5c42b594445f468f96db5aa9184">gLogFile</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6e24a5c42b594445f468f96db5aa9184">gLogFile</a>), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d68235dfa433dea9c42f14784f80f6a">DEFAULT_LOGFILE</a>);</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa7b62eebdc7ab5f227d79cdf3695a80f">gPort</a> = 1720;</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a452eddd83817d9259dd3dad900c43ccb">gIP</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;   strcpy(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a31a72f59c56c2118dafb36e405e75f6a">gCallerID</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d12ae4d640f11c1d9a2ae4c99f9e17a">DEFAULT_H323ID</a>);</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dc6fa9191c19396cfaa57113f5b4af2">ast_format_cap_remove_by_type</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4887d3a9413bea7e60bfabf2c9549bf2">gCap</a>, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a>);</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4887d3a9413bea7e60bfabf2c9549bf2">gCap</a>, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>, 0);</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> = <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a592a54239c05477ea4d86ab962625732">H323_DTMF_RFC2833</a>;</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ae28bf7afc18f5178e24bb851fd9b4b68">gDTMFCodec</a> = 101;</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a89e97ef4e2bcd30874bd107e206f05a0">gFAXdetect</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#af3ae01d4af333813d69c5aaa3a6347cd">FAXDETECT_CNG</a>;</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6b60a8c185141d1175355acd7b950044">gT38Support</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a2dfbe7c8eb09dce028931a42568c9f4b">T38_FAXGW</a>;</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a79891e11b5cd0c5b8595cb754bf8b0c8">gTRCLVL</a> = OOTRCLVLERR;</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aff579b5b4d482131ca56452c9467fd42">gRasGkMode</a> = RasNoGatekeeper;</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6c7f8bf3180c91b248d40b3d5e9b9948">gGatekeeper</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aecbeb6faf23de14b9128c780734a2f4c">gRASIP</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa8f7e98738a542d94338b011c163e19e">gRTPTimeout</a> = 60;</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a9e9bebd963aa4a865280ccae5a7b9de8">gNat</a> = <a class="code" href="../../de/dfe/app__minivm_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aae7a4d2ea58b7301895fff9a4f6c811f">gRTDRInterval</a> = 0;</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a24165edfeb4d8e6d1a3313d781450c08">gRTDRCount</a> = 0;</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;   strcpy(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a88a3265c4b00fe16622e478d43522762">gAccountcode</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a15c5945bc602156c4b82db30b5e88389">DEFAULT_H323ACCNT</a>);</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a0a2ad5a903c38e79d4e6f14bf3d4589e">gFastStart</a> = 1;</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a940985e7418ec6a19bbe127379fc67e2">gTunneling</a> = 1;</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a> = 0;</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;   strcpy(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#ac1956d6cedb3bf8c950359ec3b970e11">gContext</a>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a65482022daa21b4f2424677e9f3c2f65">DEFAULT_CONTEXT</a>);</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a9f57c750f058b754bbc4c01ee7bcea83">gMediaWaitForConnect</a> = 0;</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a55e8a83ec450d2f3e7782b8f001b16be">ooconfig</a>.<a class="code" href="../../d7/db3/structooh323__config.html#a310190e42dd1dc7e86a35dac64e00fec">mTCPPortStart</a> = 12030;</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;   <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a55e8a83ec450d2f3e7782b8f001b16be">ooconfig</a>.<a class="code" href="../../d7/db3/structooh323__config.html#ae3bf551cf743dc5acba8a1cd49a419a5">mTCPPortEnd</a> = 12230;</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;   memcpy(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>, &amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a2d8d5920e90ccbad7832926becdadb29">default_jbconf</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a>));</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;   v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>);</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;   <span class="keywordflow">while</span> (v) {</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d14/abstract__jb_8h.html#ae50ad081bd2ae6b58bcfc4687916c586">ast_jb_read_conf</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;         v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>;</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;      }</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;port&quot;</span>)) {</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa7b62eebdc7ab5f227d79cdf3695a80f">gPort</a> = (int)strtol(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;bindaddr&quot;</span>)) {</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a452eddd83817d9259dd3dad900c43ccb">gIP</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a452eddd83817d9259dd3dad900c43ccb">gIP</a>));</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18">PARSE_ADDR</a>, &amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a80ca8badd36b5edc83592e8f017817a4">bindaddr</a>)) {</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid address: %s\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;            <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;            <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;         }</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#a579748bd6ceddd06b1cc6eb3578e8acc">ast_sockaddr_is_ipv6</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a80ca8badd36b5edc83592e8f017817a4">bindaddr</a>)) {</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a790e7132ead456585cc3c1aba1eca2b3">v6mode</a> = 1;</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;         }</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;h225portrange&quot;</span>)) {</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;         <span class="keywordtype">char</span>* endlimit = 0;</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;               <span class="keywordtype">char</span> temp[512];</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(temp, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(temp));</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;         endlimit = strchr(temp, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;         <span class="keywordflow">if</span> (endlimit) {</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;            *endlimit = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;            endlimit++;</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a55e8a83ec450d2f3e7782b8f001b16be">ooconfig</a>.<a class="code" href="../../d7/db3/structooh323__config.html#a310190e42dd1dc7e86a35dac64e00fec">mTCPPortStart</a> = atoi(temp);</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a55e8a83ec450d2f3e7782b8f001b16be">ooconfig</a>.<a class="code" href="../../d7/db3/structooh323__config.html#ae3bf551cf743dc5acba8a1cd49a419a5">mTCPPortEnd</a> = atoi(endlimit);</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;h225portrange: Invalid format, separate port range with \&quot;,\&quot;\n&quot;</span>);</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;         }</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;gateway&quot;</span>)) {</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a620dd8e2b8870486676704cdaaf5f3fe">gIsGateway</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;faststart&quot;</span>)) {</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a0a2ad5a903c38e79d4e6f14bf3d4589e">gFastStart</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a0a2ad5a903c38e79d4e6f14bf3d4589e">gFastStart</a>)</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;            ooH323EpEnableFastStart();</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;            ooH323EpDisableFastStart();</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;mediawaitforconnect&quot;</span>)) {</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a9f57c750f058b754bbc4c01ee7bcea83">gMediaWaitForConnect</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a9f57c750f058b754bbc4c01ee7bcea83">gMediaWaitForConnect</a>)</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;            ooH323EpEnableMediaWaitForConnect();</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;            ooH323EpDisableMediaWaitForConnect();</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;h245tunneling&quot;</span>)) {</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a940985e7418ec6a19bbe127379fc67e2">gTunneling</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a940985e7418ec6a19bbe127379fc67e2">gTunneling</a>)</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;            ooH323EpEnableH245Tunneling();</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;            ooH323EpDisableH245Tunneling();</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;directrtp&quot;</span>) || !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;directmedia&quot;</span>)) {</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#acf0c87faa18760c4e4f49079110bb449">gDirectRTP</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a12e6fe186ebf66440f0f43fb4096a285">gEarlyDirect</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;earlydirect&quot;</span>) || !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;directrtpsetup&quot;</span>)) {</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a12e6fe186ebf66440f0f43fb4096a285">gEarlyDirect</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;g729onlyA&quot;</span>)) {</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a31bad4aa11b1f0af8ec2e3d152a46b00">g729onlyA</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;roundtrip&quot;</span>)) {</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;         sscanf(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%d,%d&quot;</span>, &amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a24165edfeb4d8e6d1a3313d781450c08">gRTDRCount</a>, &amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aae7a4d2ea58b7301895fff9a4f6c811f">gRTDRInterval</a>);</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;trybemaster&quot;</span>)) {</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aaea6a91fa45c8aed436bb08488b6416a">gBeMaster</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aaea6a91fa45c8aed436bb08488b6416a">gBeMaster</a>)</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;            ooH323EpTryBeMaster(1);</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;            ooH323EpTryBeMaster(0);</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;h323id&quot;</span>)) {</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;               pNewAlias = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> ooAliases));</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;         <span class="keywordflow">if</span> (!pNewAlias) {</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to allocate memory for h323id alias\n&quot;</span>);</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;            <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;            <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;         }</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) { <span class="comment">/* first h323id - set as callerid if callerid is not set */</span></div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a31a72f59c56c2118dafb36e405e75f6a">gCallerID</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a31a72f59c56c2118dafb36e405e75f6a">gCallerID</a>));</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;         }</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;         pNewAlias-&gt;type =  T_H225AliasAddress_h323_ID;</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;         pNewAlias-&gt;value = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;         pNewAlias-&gt;next = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a>;</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a> = pNewAlias;</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;         pNewAlias = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;e164&quot;</span>)) {</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;         <span class="keywordtype">int</span> valid = 1;</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;         <span class="keywordflow">for</span>(tmp = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>; *tmp; tmp++) {</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;            <span class="keywordflow">if</span> (!isdigit(*tmp)) {</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;               valid = 0;</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;            }</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;         }</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;         <span class="keywordflow">if</span> (valid) {</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                  pNewAlias = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> ooAliases));</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;            <span class="keywordflow">if</span> (!pNewAlias) {</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to allocate memory for e164 alias\n&quot;</span>);</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;               <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;               <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;            }</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;            pNewAlias-&gt;type =  T_H225AliasAddress_dialedDigits;</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;            pNewAlias-&gt;value = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;            pNewAlias-&gt;next = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a>;</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a> = pNewAlias;</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;            pNewAlias = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid e164: %s\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;         }</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;email&quot;</span>)) {</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;               pNewAlias = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> ooAliases));</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;         <span class="keywordflow">if</span> (!pNewAlias) {</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to allocate memory for email alias\n&quot;</span>);</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;            <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;            <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;         }</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;         pNewAlias-&gt;type =  T_H225AliasAddress_email_ID;</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;         pNewAlias-&gt;value = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;         pNewAlias-&gt;next = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a>;</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a> = pNewAlias;</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;         pNewAlias = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t35country&quot;</span>)) {</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a46e5f4693153d657c2466ba95cefb48d">t35countrycode</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t35extensions&quot;</span>)) {</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ae2fdfdaa1107524da84fa81f1bbe8a19">t35extensions</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;manufacturer&quot;</span>)) {</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ac07447b7417ab2e580d441f7b2602622">manufacturer</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;vendorid&quot;</span>)) {</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a165a757002d38d28903c7f97f05757ff">vendor</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a165a757002d38d28903c7f97f05757ff">vendor</a>));</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;versionid&quot;</span>)) {</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a>));</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;callerid&quot;</span>)) {</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a31a72f59c56c2118dafb36e405e75f6a">gCallerID</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a31a72f59c56c2118dafb36e405e75f6a">gCallerID</a>));</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;incominglimit&quot;</span>)) {</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a0631d251979abaa8d25ea2cb20670b96">gIncomingLimit</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;outgoinglimit&quot;</span>)) {</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6284526fd3df5e631aef934f2cfaa132">gOutgoingLimit</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;gatekeeper&quot;</span>)) {</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;DISABLE&quot;</span>)) {</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aff579b5b4d482131ca56452c9467fd42">gRasGkMode</a> = RasNoGatekeeper;</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;DISCOVER&quot;</span>)) {</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aff579b5b4d482131ca56452c9467fd42">gRasGkMode</a> = RasDiscoverGatekeeper;</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aff579b5b4d482131ca56452c9467fd42">gRasGkMode</a> = RasUseSpecificGatekeeper;</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;                     <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6c7f8bf3180c91b248d40b3d5e9b9948">gGatekeeper</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6c7f8bf3180c91b248d40b3d5e9b9948">gGatekeeper</a>));</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;         }</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;localras&quot;</span>)) {</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;              <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aecbeb6faf23de14b9128c780734a2f4c">gRASIP</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aecbeb6faf23de14b9128c780734a2f4c">gRASIP</a>));</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;  == Setting RAS IP to %s\n&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aecbeb6faf23de14b9128c780734a2f4c">gRASIP</a>);</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;logfile&quot;</span>)) {</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;         <span class="keywordflow">if</span> (v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>[0] == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6e24a5c42b594445f468f96db5aa9184">gLogFile</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6e24a5c42b594445f468f96db5aa9184">gLogFile</a>));</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;            snprintf(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6e24a5c42b594445f468f96db5aa9184">gLogFile</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6e24a5c42b594445f468f96db5aa9184">gLogFile</a>), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;         }</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;context&quot;</span>)) {</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#ac1956d6cedb3bf8c950359ec3b970e11">gContext</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#ac1956d6cedb3bf8c950359ec3b970e11">gContext</a>));</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;  == Setting default context to %s\n&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ac1956d6cedb3bf8c950359ec3b970e11">gContext</a>);</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;nat&quot;</span>)) {</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a9e9bebd963aa4a865280ccae5a7b9de8">gNat</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;rtptimeout&quot;</span>)) {</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa8f7e98738a542d94338b011c163e19e">gRTPTimeout</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa8f7e98738a542d94338b011c163e19e">gRTPTimeout</a> &lt; 0)</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa8f7e98738a542d94338b011c163e19e">gRTPTimeout</a> = 60;</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;tos&quot;</span>)) {</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;         <span class="keywordflow">if</span> (sscanf(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%30i&quot;</span>, &amp;format) == 1)</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a> = format &amp; 0xff;</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;lowdelay&quot;</span>))</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a> = IPTOS_LOWDELAY;</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;throughput&quot;</span>))</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a> = IPTOS_THROUGHPUT;</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;reliability&quot;</span>))</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a> = IPTOS_RELIABILITY;</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;mincost&quot;</span>))</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6dc4cfef3512b905e64164e25a611e54">IPTOS_MINCOST</a>;</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;none&quot;</span>))</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a> = 0;</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid tos value at line %d, should be &quot;</span></div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;                                 <span class="stringliteral">&quot;&#39;lowdelay&#39;, &#39;throughput&#39;, &#39;reliability&#39;, &quot;</span></div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;                                 <span class="stringliteral">&quot;&#39;mincost&#39;, or &#39;none&#39;\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;amaflags&quot;</span>)) {</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#acc2ae7ded68b7658044814dfbf04e5a3">gAMAFLAGS</a> = <a class="code" href="../../d5/d7b/channel_8h.html#acd7d6e4cf3615bf47af84d2e3e47c302">ast_channel_string2amaflag</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;accountcode&quot;</span>)) {</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a88a3265c4b00fe16622e478d43522762">gAccountcode</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a88a3265c4b00fe16622e478d43522762">gAccountcode</a>));</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;disallow&quot;</span>)) {</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4887d3a9413bea7e60bfabf2c9549bf2">gCap</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, 0);</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;allow&quot;</span>)) {</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span>* tcodecs = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;all&quot;</span>)) {</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;            tcodecs = <span class="stringliteral">&quot;ulaw,alaw,g729,g723,gsm&quot;</span>;</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;         }</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4887d3a9413bea7e60bfabf2c9549bf2">gCap</a>, tcodecs, 1);</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;dtmfmode&quot;</span>)) {</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;inband&quot;</span>))</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> = <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a5b764634c8919c3284552cfcac130b89">H323_DTMF_INBAND</a>;</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;rfc2833&quot;</span>))</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> = <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a592a54239c05477ea4d86ab962625732">H323_DTMF_RFC2833</a>;</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;cisco&quot;</span>))</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> = <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#acff40575e5c7517d4cbd5136ecf867ae">H323_DTMF_CISCO</a>;</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;q931keypad&quot;</span>))</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> = <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#ab6bb2cef29a0e3eba9d3fb8a6fa06057">H323_DTMF_Q931</a>;</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;h245alphanumeric&quot;</span>))</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> = <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a434b65e011dd0d7b1bf7433305184988">H323_DTMF_H245ALPHANUMERIC</a>;</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;h245signal&quot;</span>))</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> = <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#abca6fe3a9215abd77fec5a36139b0309">H323_DTMF_H245SIGNAL</a>;</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;         <span class="keywordflow">else</span> {</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown dtmf mode &#39;%s&#39;, using rfc2833\n&quot;</span>,</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;                                                                    v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> = <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a592a54239c05477ea4d86ab962625732">H323_DTMF_RFC2833</a>;</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;         }</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;relaxdtmf&quot;</span>)) {</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a> |= <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>) ? <a class="code" href="../../d3/d3d/ooh323cDriver_8h.html#a75fa6e15e83336f8b1bbf47eb38cbbfd">H323_DTMF_INBANDRELAX</a> : 0;</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;dtmfcodec&quot;</span>) &amp;&amp; atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ae28bf7afc18f5178e24bb851fd9b4b68">gDTMFCodec</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;faxdetect&quot;</span>)) {</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a89e97ef4e2bcd30874bd107e206f05a0">gFAXdetect</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#af3ae01d4af333813d69c5aaa3a6347cd">FAXDETECT_CNG</a> | <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa600a2a800553cb485674e9571525d54">FAXDETECT_T38</a>;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)) {</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a89e97ef4e2bcd30874bd107e206f05a0">gFAXdetect</a> = 0;</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;            <span class="keywordtype">char</span> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            <span class="keywordtype">char</span> *<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, *<a class="code" href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">next</a> = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a89e97ef4e2bcd30874bd107e206f05a0">gFAXdetect</a> = 0;</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;            <span class="keywordflow">while</span> ((word = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;next, <span class="stringliteral">&quot;,&quot;</span>))) {</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;               <span class="keywordflow">if</span> (!strcasecmp(word, <span class="stringliteral">&quot;cng&quot;</span>)) {</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;                  <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a89e97ef4e2bcd30874bd107e206f05a0">gFAXdetect</a> |= <a class="code" href="../../d7/d49/chan__ooh323_8c.html#af3ae01d4af333813d69c5aaa3a6347cd">FAXDETECT_CNG</a>;</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;               } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(word, <span class="stringliteral">&quot;t38&quot;</span>)) {</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;                  <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a89e97ef4e2bcd30874bd107e206f05a0">gFAXdetect</a> |= <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aa600a2a800553cb485674e9571525d54">FAXDETECT_T38</a>;</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown faxdetect mode &#39;%s&#39; on line %d.\n&quot;</span>, word, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>);</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;               }</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;            }</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;         }</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t38support&quot;</span>)) {</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;disabled&quot;</span>))</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6b60a8c185141d1175355acd7b950044">gT38Support</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ab7bcab4f5ba8a3094212cd96bb9bf035">T38_DISABLED</a>;</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;no&quot;</span>))</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6b60a8c185141d1175355acd7b950044">gT38Support</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#ab7bcab4f5ba8a3094212cd96bb9bf035">T38_DISABLED</a>;</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;faxgw&quot;</span>))</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6b60a8c185141d1175355acd7b950044">gT38Support</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a2dfbe7c8eb09dce028931a42568c9f4b">T38_FAXGW</a>;</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;yes&quot;</span>))</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;            <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6b60a8c185141d1175355acd7b950044">gT38Support</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6d9b175ed35f8ef7b2d8cc2dc435fde8">T38_ENABLED</a>;</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;tracelevel&quot;</span>)) {</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a79891e11b5cd0c5b8595cb754bf8b0c8">gTRCLVL</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;         ooH323EpSetTraceLevel(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a79891e11b5cd0c5b8595cb754bf8b0c8">gTRCLVL</a>);</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;aniasdni&quot;</span>)) {</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;         <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a18819e45fec68fb67fc72118b01a89ce">gANIasDNI</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;      }</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;      v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>;</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;   }</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;   <span class="keywordflow">for</span> (cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); cat; cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, cat)) {</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(cat, <span class="stringliteral">&quot;general&quot;</span>)) {</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;         <span class="keywordtype">int</span> friend_type = 0;</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;         utype = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, cat, <span class="stringliteral">&quot;type&quot;</span>);</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;         <span class="keywordflow">if</span> (utype) {</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;            friend_type = strcasecmp(utype, <span class="stringliteral">&quot;friend&quot;</span>);</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            <span class="keywordflow">if</span> (!strcmp(utype, <span class="stringliteral">&quot;user&quot;</span>) || 0 == friend_type) {</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;               user = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a74441dd7d78d9bae2c303fbc572669cd">build_user</a>(cat, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, cat));</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;               <span class="keywordflow">if</span> (user) {</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                  user-&gt;<a class="code" href="../../d7/d14/structooh323__user.html#a2786f8f1b338a3bc03cc4932b6687589">next</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">users</a>;</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                  <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">users</a> = <a class="code" href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a>;</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a>.<a class="code" href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to build user %s\n&quot;</span>, cat);</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;               }</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;            }</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            <span class="keywordflow">if</span> (!strcasecmp(utype, <span class="stringliteral">&quot;peer&quot;</span>) || 0 == friend_type) {</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;               peer = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a7100c6a30835a12852b9f110931634de">build_peer</a>(cat, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, cat), friend_type);</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;               <span class="keywordflow">if</span> (peer) {</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                  peer-&gt;<a class="code" href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">next</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">peers</a>;</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                  <a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">peers</a> = peer;</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a>.<a class="code" href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to build peer %s\n&quot;</span>, cat);</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;               }</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            }</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;         }</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;      }</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;   }</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;   <span class="comment">/* Determine ip address if neccessary */</span></div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a452eddd83817d9259dd3dad900c43ccb">gIP</a>)) {</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      ooGetLocalIPAddress(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a452eddd83817d9259dd3dad900c43ccb">gIP</a>);</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a452eddd83817d9259dd3dad900c43ccb">gIP</a>, <span class="stringliteral">&quot;127.0.0.1&quot;</span>) || !strcmp(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a452eddd83817d9259dd3dad900c43ccb">gIP</a>, <span class="stringliteral">&quot;::1&quot;</span>)) {</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Failed to determine local ip address. Please &quot;</span></div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                            <span class="stringliteral">&quot;specify it in ooh323.conf. OOH323 Disabled\n&quot;</span>);</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      }</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;   }</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   reload_config\n&quot;</span>);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;}</div><div class="ttc" id="res__config__ldap_8c_html_a930c15eddfe0826ff30e658c9d50b9b4"><div class="ttname"><a href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a></div><div class="ttdeci">static char user[512]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d12/res__config__ldap_8c_source.html#l00075">res_config_ldap.c:75</a></div></div>
<div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a6d9b175ed35f8ef7b2d8cc2dc435fde8"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6d9b175ed35f8ef7b2d8cc2dc435fde8">T38_ENABLED</a></div><div class="ttdeci">#define T38_ENABLED</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00102">chan_ooh323.c:102</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_ac1956d6cedb3bf8c950359ec3b970e11"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#ac1956d6cedb3bf8c950359ec3b970e11">gContext</a></div><div class="ttdeci">static char gContext[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00378">chan_ooh323.c:378</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a97e636cca63430aaaa083cf9fd50aabf"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a97e636cca63430aaaa083cf9fd50aabf">gAliasList</a></div><div class="ttdeci">static struct ooAliases * gAliasList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00356">chan_ooh323.c:356</a></div></div>
<div class="ttc" id="structooh323__config_html_a310190e42dd1dc7e86a35dac64e00fec"><div class="ttname"><a href="../../d7/db3/structooh323__config.html#a310190e42dd1dc7e86a35dac64e00fec">ooh323_config::mTCPPortStart</a></div><div class="ttdeci">int mTCPPortStart</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00395">chan_ooh323.c:395</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a0a2ad5a903c38e79d4e6f14bf3d4589e"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a0a2ad5a903c38e79d4e6f14bf3d4589e">gFastStart</a></div><div class="ttdeci">static int gFastStart</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00367">chan_ooh323.c:367</a></div></div>
<div class="ttc" id="app__minivm_8c_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../de/dfe/app__minivm_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/app__minivm_8c_source.html#l00521">app_minivm.c:521</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_ae28bf7afc18f5178e24bb851fd9b4b68"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#ae28bf7afc18f5178e24bb851fd9b4b68">gDTMFCodec</a></div><div class="ttdeci">static int gDTMFCodec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00359">chan_ooh323.c:359</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_ac07447b7417ab2e580d441f7b2602622"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#ac07447b7417ab2e580d441f7b2602622">manufacturer</a></div><div class="ttdeci">static int manufacturer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00389">chan_ooh323.c:389</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a940985e7418ec6a19bbe127379fc67e2"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a940985e7418ec6a19bbe127379fc67e2">gTunneling</a></div><div class="ttdeci">static int gTunneling</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00368">chan_ooh323.c:368</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aa7b62eebdc7ab5f227d79cdf3695a80f"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aa7b62eebdc7ab5f227d79cdf3695a80f">gPort</a></div><div class="ttdeci">static int gPort</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00351">chan_ooh323.c:351</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aeee493c65a926062d6f7991cb790e882"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aeee493c65a926062d6f7991cb790e882">peerl</a></div><div class="ttdeci">static struct ast_peer_list peerl</div></div>
<div class="ttc" id="chan__ooh323_8c_html_a9ee8d742a1fbcff45f97842b92952610"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a></div><div class="ttdeci">static const char config[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00111">chan_ooh323.c:111</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a452eddd83817d9259dd3dad900c43ccb"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a452eddd83817d9259dd3dad900c43ccb">gIP</a></div><div class="ttdeci">static char gIP[2+8 *4+7]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00352">chan_ooh323.c:352</a></div></div>
<div class="ttc" id="structooh323__peer_html_a6807c9a1b913e9bfb4a8877744178ad6"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html#a6807c9a1b913e9bfb4a8877744178ad6">ooh323_peer::next</a></div><div class="ttdeci">struct ooh323_peer * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00312">chan_ooh323.c:312</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aae7a4d2ea58b7301895fff9a4f6c811f"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aae7a4d2ea58b7301895fff9a4f6c811f">gRTDRInterval</a></div><div class="ttdeci">static int gRTDRInterval</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00383">chan_ooh323.c:383</a></div></div>
<div class="ttc" id="abstract__jb_8h_html_ae50ad081bd2ae6b58bcfc4687916c586"><div class="ttname"><a href="../../dc/d14/abstract__jb_8h.html#ae50ad081bd2ae6b58bcfc4687916c586">ast_jb_read_conf</a></div><div class="ttdeci">int ast_jb_read_conf(struct ast_jb_conf *conf, const char *varname, const char *value)</div><div class="ttdoc">Sets jitterbuffer configuration property. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/abstract__jb_8c_source.html#l00545">abstract_jb.c:545</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a18819e45fec68fb67fc72118b01a89ce"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a18819e45fec68fb67fc72118b01a89ce">gANIasDNI</a></div><div class="ttdeci">static int gANIasDNI</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00385">chan_ooh323.c:385</a></div></div>
<div class="ttc" id="structast__variable_html_a501b314f49b3a9ff6e7be599d94686ee"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">ast_variable::lineno</a></div><div class="ttdeci">int lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">include/asterisk/config.h:95</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_acf0c87faa18760c4e4f49079110bb449"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#acf0c87faa18760c4e4f49079110bb449">gDirectRTP</a></div><div class="ttdeci">static int gDirectRTP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00371">chan_ooh323.c:371</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structooh323__user_html"><div class="ttname"><a href="../../d7/d14/structooh323__user.html">ooh323_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00255">chan_ooh323.c:255</a></div></div>
<div class="ttc" id="structooh323__user_html_a2786f8f1b338a3bc03cc4932b6687589"><div class="ttname"><a href="../../d7/d14/structooh323__user.html#a2786f8f1b338a3bc03cc4932b6687589">ooh323_user::next</a></div><div class="ttdeci">struct ooh323_user * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00280">chan_ooh323.c:280</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="structast__peer__list_html_aa2e3ba36ed9e1e8461fb38ddb0f13749"><div class="ttname"><a href="../../d5/d1e/structast__peer__list.html#aa2e3ba36ed9e1e8461fb38ddb0f13749">ast_peer_list::peers</a></div><div class="ttdeci">struct ooh323_peer * peers</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00323">chan_ooh323.c:323</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a6dc4cfef3512b905e64164e25a611e54"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6dc4cfef3512b905e64164e25a611e54">IPTOS_MINCOST</a></div><div class="ttdeci">#define IPTOS_MINCOST</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00077">chan_ooh323.c:77</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d68235dfa433dea9c42f14784f80f6a"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d68235dfa433dea9c42f14784f80f6a">DEFAULT_LOGFILE</a></div><div class="ttdeci">#define DEFAULT_LOGFILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00085">chan_ooh323.c:85</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a24165edfeb4d8e6d1a3313d781450c08"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a24165edfeb4d8e6d1a3313d781450c08">gRTDRCount</a></div><div class="ttdeci">static int gRTDRCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00383">chan_ooh323.c:383</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1e5e3d08eff5e2357e75c01e127e7922"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a></div><div class="ttdeci">char * ast_category_browse(struct ast_config *config, const char *prev_name)</div><div class="ttdoc">Browse categories. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03328">extconf.c:3328</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aec8880801e23e82ef7d10f81e0d085be"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aec8880801e23e82ef7d10f81e0d085be">delete_users</a></div><div class="ttdeci">int delete_users()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l04265">chan_ooh323.c:4265</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aa600a2a800553cb485674e9571525d54"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aa600a2a800553cb485674e9571525d54">FAXDETECT_T38</a></div><div class="ttdeci">#define FAXDETECT_T38</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00106">chan_ooh323.c:106</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a790e7132ead456585cc3c1aba1eca2b3"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a790e7132ead456585cc3c1aba1eca2b3">v6mode</a></div><div class="ttdeci">int v6mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00354">chan_ooh323.c:354</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a2dfbe7c8eb09dce028931a42568c9f4b"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a2dfbe7c8eb09dce028931a42568c9f4b">T38_FAXGW</a></div><div class="ttdeci">#define T38_FAXGW</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00103">chan_ooh323.c:103</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a37d458642452d4590abe968f82208451"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a37d458642452d4590abe968f82208451">gTOS</a></div><div class="ttdeci">static int gTOS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00373">chan_ooh323.c:373</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="format__cap_8h_html_a26c6676e9f2dd9535ea0d5bbd45f98b6"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a26c6676e9f2dd9535ea0d5bbd45f98b6">ast_format_cap_update_by_allow_disallow</a></div><div class="ttdeci">int ast_format_cap_update_by_allow_disallow(struct ast_format_cap *cap, const char *list, int allowing)</div><div class="ttdoc">Parse an &quot;allow&quot; or &quot;deny&quot; list and modify a format capabilities structure accordingly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00320">format_cap.c:320</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18">PARSE_ADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01104">include/asterisk/config.h:1104</a></div></div>
<div class="ttc" id="channel_8h_html_acd7d6e4cf3615bf47af84d2e3e47c302"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acd7d6e4cf3615bf47af84d2e3e47c302">ast_channel_string2amaflag</a></div><div class="ttdeci">enum ama_flags ast_channel_string2amaflag(const char *flag)</div><div class="ttdoc">Convert a string to a detail record AMA flag. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04405">channel.c:4405</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_acff40575e5c7517d4cbd5136ecf867ae"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#acff40575e5c7517d4cbd5136ecf867ae">H323_DTMF_CISCO</a></div><div class="ttdeci">#define H323_DTMF_CISCO</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00031">ooh323cDriver.h:31</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a89e97ef4e2bcd30874bd107e206f05a0"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a89e97ef4e2bcd30874bd107e206f05a0">gFAXdetect</a></div><div class="ttdeci">static int gFAXdetect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00360">chan_ooh323.c:360</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a31a72f59c56c2118dafb36e405e75f6a"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a31a72f59c56c2118dafb36e405e75f6a">gCallerID</a></div><div class="ttdeci">static char gCallerID[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00355">chan_ooh323.c:355</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a9e9bebd963aa4a865280ccae5a7b9de8"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a9e9bebd963aa4a865280ccae5a7b9de8">gNat</a></div><div class="ttdeci">static int gNat</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00384">chan_ooh323.c:384</a></div></div>
<div class="ttc" id="structast__peer__list_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/d1e/structast__peer__list.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_peer_list::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00324">chan_ooh323.c:324</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_ab6bb2cef29a0e3eba9d3fb8a6fa06057"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#ab6bb2cef29a0e3eba9d3fb8a6fa06057">H323_DTMF_Q931</a></div><div class="ttdeci">#define H323_DTMF_Q931</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00027">ooh323cDriver.h:27</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a65482022daa21b4f2424677e9f3c2f65"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a65482022daa21b4f2424677e9f3c2f65">DEFAULT_CONTEXT</a></div><div class="ttdeci">#define DEFAULT_CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00083">chan_ooh323.c:83</a></div></div>
<div class="ttc" id="structooh323__peer_html"><div class="ttname"><a href="../../dd/d4a/structooh323__peer.html">ooh323_peer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00284">chan_ooh323.c:284</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a15c5945bc602156c4b82db30b5e88389"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a15c5945bc602156c4b82db30b5e88389">DEFAULT_H323ACCNT</a></div><div class="ttdeci">#define DEFAULT_H323ACCNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00086">chan_ooh323.c:86</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a1b651e46c0b2d93ed26b96c214b997a8">AST_MEDIA_TYPE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00031">codec.h:31</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a0631d251979abaa8d25ea2cb20670b96"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a0631d251979abaa8d25ea2cb20670b96">gIncomingLimit</a></div><div class="ttdeci">static int gIncomingLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00379">chan_ooh323.c:379</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aa8f7e98738a542d94338b011c163e19e"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aa8f7e98738a542d94338b011c163e19e">gRTPTimeout</a></div><div class="ttdeci">static int gRTPTimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00374">chan_ooh323.c:374</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a2d8d5920e90ccbad7832926becdadb29"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a2d8d5920e90ccbad7832926becdadb29">default_jbconf</a></div><div class="ttdeci">static struct ast_jb_conf default_jbconf</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00115">chan_ooh323.c:115</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a35aebfab0f89789d62eb22a1832953a6"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a35aebfab0f89789d62eb22a1832953a6">userl</a></div><div class="ttdeci">static struct ast_user_list userl</div></div>
<div class="ttc" id="structast__user__list_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d8/d0c/structast__user__list.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_user_list::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00319">chan_ooh323.c:319</a></div></div>
<div class="ttc" id="format__cap_8h_html_a4dc6fa9191c19396cfaa57113f5b4af2"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a4dc6fa9191c19396cfaa57113f5b4af2">ast_format_cap_remove_by_type</a></div><div class="ttdeci">void ast_format_cap_remove_by_type(struct ast_format_cap *cap, enum ast_media_type type)</div><div class="ttdoc">Remove all formats matching a specific format type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00525">format_cap.c:525</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a846844eb2c4eb44554445936b3770711"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEUNCHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">include/asterisk/config.h:59</a></div></div>
<div class="ttc" id="structooh323__config_html_ae3bf551cf743dc5acba8a1cd49a419a5"><div class="ttname"><a href="../../d7/db3/structooh323__config.html#ae3bf551cf743dc5acba8a1cd49a419a5">ooh323_config::mTCPPortEnd</a></div><div class="ttdeci">int mTCPPortEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00396">chan_ooh323.c:396</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_a434b65e011dd0d7b1bf7433305184988"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#a434b65e011dd0d7b1bf7433305184988">H323_DTMF_H245ALPHANUMERIC</a></div><div class="ttdeci">#define H323_DTMF_H245ALPHANUMERIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00028">ooh323cDriver.h:28</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a9f57c750f058b754bbc4c01ee7bcea83"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a9f57c750f058b754bbc4c01ee7bcea83">gMediaWaitForConnect</a></div><div class="ttdeci">static int gMediaWaitForConnect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00370">chan_ooh323.c:370</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aecbeb6faf23de14b9128c780734a2f4c"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aecbeb6faf23de14b9128c780734a2f4c">gRASIP</a></div><div class="ttdeci">static char gRASIP[2+8 *4+7]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00363">chan_ooh323.c:363</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_ab7bcab4f5ba8a3094212cd96bb9bf035"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#ab7bcab4f5ba8a3094212cd96bb9bf035">T38_DISABLED</a></div><div class="ttdeci">#define T38_DISABLED</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00101">chan_ooh323.c:101</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a79891e11b5cd0c5b8595cb754bf8b0c8"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a79891e11b5cd0c5b8595cb754bf8b0c8">gTRCLVL</a></div><div class="ttdeci">static int gTRCLVL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00382">chan_ooh323.c:382</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="paths_8h_html_aea5e16ca2517e2093fdfa0e7fd112f0f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_LOG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00159">options.c:159</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a81b4b1c3c855fb371e7723b473f1ee78"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a></div><div class="ttdeci">static char version[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00391">chan_ooh323.c:391</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00741">cdr_mysql.c:741</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a7e9aea581abeaae5d3799367d95284ac"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a></div><div class="ttdeci">int ast_parse_arg(const char *arg, enum ast_parse_flags flags, void *result,...)</div><div class="ttdoc">The argument parsing routine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03657">main/config.c:3657</a></div></div>
<div class="ttc" id="structuser_html"><div class="ttname"><a href="../../d8/dbc/structuser.html">user</a></div><div class="ttdoc">structure to hold users read from users.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00312">res_phoneprov.c:312</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a165a757002d38d28903c7f97f05757ff"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a165a757002d38d28903c7f97f05757ff">vendor</a></div><div class="ttdeci">static char vendor[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00390">chan_ooh323.c:390</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aaea6a91fa45c8aed436bb08488b6416a"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aaea6a91fa45c8aed436bb08488b6416a">gBeMaster</a></div><div class="ttdeci">static int gBeMaster</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00369">chan_ooh323.c:369</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a6284526fd3df5e631aef934f2cfaa132"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6284526fd3df5e631aef934f2cfaa132">gOutgoingLimit</a></div><div class="ttdeci">static int gOutgoingLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00380">chan_ooh323.c:380</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_abca6fe3a9215abd77fec5a36139b0309"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#abca6fe3a9215abd77fec5a36139b0309">H323_DTMF_H245SIGNAL</a></div><div class="ttdeci">#define H323_DTMF_H245SIGNAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00029">ooh323cDriver.h:29</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4887d3a9413bea7e60bfabf2c9549bf2"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4887d3a9413bea7e60bfabf2c9549bf2">gCap</a></div><div class="ttdeci">static struct ast_format_cap * gCap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00357">chan_ooh323.c:357</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a7100c6a30835a12852b9f110931634de"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a7100c6a30835a12852b9f110931634de">build_peer</a></div><div class="ttdeci">static struct ooh323_peer * build_peer(const char *name, struct ast_variable *v, int friend_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l02515">chan_ooh323.c:2515</a></div></div>
<div class="ttc" id="strings_8h_html_a6c3dc0bad204e9dd9890325c1c861e38"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a6c3dc0bad204e9dd9890325c1c861e38">ast_false</a></div><div class="ttdeci">int attribute_pure ast_false(const char *val)</div><div class="ttdoc">Make sure something is false. Determine if a string containing a boolean value is &quot;false&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01968">main/utils.c:1968</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a74441dd7d78d9bae2c303fbc572669cd"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a74441dd7d78d9bae2c303fbc572669cd">build_user</a></div><div class="ttdeci">static struct ooh323_user * build_user(const char *name, struct ast_variable *v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l02368">chan_ooh323.c:2368</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_acc2ae7ded68b7658044814dfbf04e5a3"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#acc2ae7ded68b7658044814dfbf04e5a3">gAMAFLAGS</a></div><div class="ttdeci">static int gAMAFLAGS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00377">chan_ooh323.c:377</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a6c7f8bf3180c91b248d40b3d5e9b9948"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6c7f8bf3180c91b248d40b3d5e9b9948">gGatekeeper</a></div><div class="ttdeci">static char gGatekeeper[100]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00362">chan_ooh323.c:362</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a46e5f4693153d657c2466ba95cefb48d"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a46e5f4693153d657c2466ba95cefb48d">t35countrycode</a></div><div class="ttdeci">static int t35countrycode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00387">chan_ooh323.c:387</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a12e6fe186ebf66440f0f43fb4096a285"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a12e6fe186ebf66440f0f43fb4096a285">gEarlyDirect</a></div><div class="ttdeci">static int gEarlyDirect</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00372">chan_ooh323.c:372</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_abaabcb7f4349cc632dde3af5c6a5e1bd"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#abaabcb7f4349cc632dde3af5c6a5e1bd">global_jbconf</a></div><div class="ttdeci">static struct ast_jb_conf global_jbconf</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00122">chan_ooh323.c:122</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_ae2fdfdaa1107524da84fa81f1bbe8a19"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#ae2fdfdaa1107524da84fa81f1bbe8a19">t35extensions</a></div><div class="ttdeci">static int t35extensions</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00388">chan_ooh323.c:388</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_af3ae01d4af333813d69c5aaa3a6347cd"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#af3ae01d4af333813d69c5aaa3a6347cd">FAXDETECT_CNG</a></div><div class="ttdeci">#define FAXDETECT_CNG</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00105">chan_ooh323.c:105</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a620dd8e2b8870486676704cdaaf5f3fe"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a620dd8e2b8870486676704cdaaf5f3fe">gIsGateway</a></div><div class="ttdeci">static int gIsGateway</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00366">chan_ooh323.c:366</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aff579b5b4d482131ca56452c9467fd42"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aff579b5b4d482131ca56452c9467fd42">gRasGkMode</a></div><div class="ttdeci">static enum RasGatekeeperMode gRasGkMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00364">chan_ooh323.c:364</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d12ae4d640f11c1d9a2ae4c99f9e17a"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d12ae4d640f11c1d9a2ae4c99f9e17a">DEFAULT_H323ID</a></div><div class="ttdeci">#define DEFAULT_H323ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00084">chan_ooh323.c:84</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_a5b764634c8919c3284552cfcac130b89"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#a5b764634c8919c3284552cfcac130b89">H323_DTMF_INBAND</a></div><div class="ttdeci">#define H323_DTMF_INBAND</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00030">ooh323cDriver.h:30</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_a75fa6e15e83336f8b1bbf47eb38cbbfd"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#a75fa6e15e83336f8b1bbf47eb38cbbfd">H323_DTMF_INBANDRELAX</a></div><div class="ttdeci">#define H323_DTMF_INBANDRELAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00032">ooh323cDriver.h:32</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a8ca4ee89531c4a385333d06121ff1281"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a8ca4ee89531c4a385333d06121ff1281">gDTMFMode</a></div><div class="ttdeci">static int gDTMFMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00358">chan_ooh323.c:358</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a31bad4aa11b1f0af8ec2e3d152a46b00"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a31bad4aa11b1f0af8ec2e3d152a46b00">g729onlyA</a></div><div class="ttdeci">static int g729onlyA</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00375">chan_ooh323.c:375</a></div></div>
<div class="ttc" id="cli_8h_html_a7cc1753a05a0821f6c70dd2bccfbab5c"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a7cc1753a05a0821f6c70dd2bccfbab5c">RESULT_SUCCESS</a></div><div class="ttdeci">#define RESULT_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00040">cli.h:40</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a6b60a8c185141d1175355acd7b950044"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6b60a8c185141d1175355acd7b950044">gT38Support</a></div><div class="ttdeci">static int gT38Support</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00361">chan_ooh323.c:361</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="structast__user__list_html_a2d99544967409a7b81f4539c07bbd160"><div class="ttname"><a href="../../d8/d0c/structast__user__list.html#a2d99544967409a7b81f4539c07bbd160">ast_user_list::users</a></div><div class="ttdeci">struct ooh323_user * users</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00318">chan_ooh323.c:318</a></div></div>
<div class="ttc" id="structast__jb__conf_html"><div class="ttname"><a href="../../d7/dba/structast__jb__conf.html">ast_jb_conf</a></div><div class="ttdoc">General jitterbuffer configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/abstract__jb_8h_source.html#l00069">abstract_jb.h:69</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a55e8a83ec450d2f3e7782b8f001b16be"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a55e8a83ec450d2f3e7782b8f001b16be">ooconfig</a></div><div class="ttdeci">static struct ooh323_config ooconfig</div></div>
<div class="ttc" id="netsock2_8h_html_a579748bd6ceddd06b1cc6eb3578e8acc"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a579748bd6ceddd06b1cc6eb3578e8acc">ast_sockaddr_is_ipv6</a></div><div class="ttdeci">int ast_sockaddr_is_ipv6(const struct ast_sockaddr *addr)</div><div class="ttdoc">Determine if this is an IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00524">netsock2.c:524</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a6cb51d2b177e2a0fe86f23f26897d5c7"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6cb51d2b177e2a0fe86f23f26897d5c7">delete_peers</a></div><div class="ttdeci">int delete_peers()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l04230">chan_ooh323.c:4230</a></div></div>
<div class="ttc" id="ooh323cDriver_8h_html_a592a54239c05477ea4d86ab962625732"><div class="ttname"><a href="../../d3/d3d/ooh323cDriver_8h.html#a592a54239c05477ea4d86ab962625732">H323_DTMF_RFC2833</a></div><div class="ttdeci">#define H323_DTMF_RFC2833</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/ooh323cDriver_8h_source.html#l00026">ooh323cDriver.h:26</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a80ca8badd36b5edc83592e8f017817a4"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a80ca8badd36b5edc83592e8f017817a4">bindaddr</a></div><div class="ttdeci">struct ast_sockaddr bindaddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00353">chan_ooh323.c:353</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a6e24a5c42b594445f468f96db5aa9184"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6e24a5c42b594445f468f96db5aa9184">gLogFile</a></div><div class="ttdeci">static char gLogFile[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00349">chan_ooh323.c:349</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">include/asterisk/config.h:43</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a88a3265c4b00fe16622e478d43522762"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a88a3265c4b00fe16622e478d43522762">gAccountcode</a></div><div class="ttdeci">static char gAccountcode[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00376">chan_ooh323.c:376</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a663cbab45a521032da97724c43440ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a663cbab45a521032da97724c43440ace">&#9670;&nbsp;</a></span>restart_monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int restart_monitor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the channel monitor thread. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04082">4082</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00559">ast_pthread_create</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00067">AST_PTHREADT_STOP</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03998">do_monitor()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00410">monitor_thread</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00405">monlock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02778">handle_cli_ooh323_reload()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03787">load_module()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00624">ooh323_request()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03981">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;{</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;   pthread_attr_t attr;</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;   <span class="comment">/* If we&#39;re supposed to be stopped -- stay stopped */</span></div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#afbd6fc6e0ab3c1a04a518f19c21d4503">monitor_thread</a> == <a class="code" href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a>)</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aae4816e76bb1382481a5941ac7057bef">monlock</a>)) {</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to lock monitor\n&quot;</span>);</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;   }</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#afbd6fc6e0ab3c1a04a518f19c21d4503">monitor_thread</a> == pthread_self()) {</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aae4816e76bb1382481a5941ac7057bef">monlock</a>);</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot kill myself\n&quot;</span>);</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;   }</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#afbd6fc6e0ab3c1a04a518f19c21d4503">monitor_thread</a> != <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) {</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;      <span class="comment">/* Wake up the thread */</span></div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;      pthread_kill(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#afbd6fc6e0ab3c1a04a518f19c21d4503">monitor_thread</a>, SIGURG);</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      pthread_attr_init(&amp;attr);</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;      pthread_attr_setdetachstate(&amp;attr, PTHREAD_CREATE_DETACHED);</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;      <span class="comment">/* Start a new monitor */</span></div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#afbd6fc6e0ab3c1a04a518f19c21d4503">monitor_thread</a>, &amp;attr, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a02d8db6086b4a18353b82ebcad631ff6">do_monitor</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &lt; 0) {</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aae4816e76bb1382481a5941ac7057bef">monlock</a>);</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to start monitor thread.\n&quot;</span>);</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;      }</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;   }</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#aae4816e76bb1382481a5941ac7057bef">monlock</a>);</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_afbd6fc6e0ab3c1a04a518f19c21d4503"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#afbd6fc6e0ab3c1a04a518f19c21d4503">monitor_thread</a></div><div class="ttdeci">static pthread_t monitor_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00410">chan_ooh323.c:410</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_aae4816e76bb1382481a5941ac7057bef"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#aae4816e76bb1382481a5941ac7057bef">monlock</a></div><div class="ttdeci">static ast_mutex_t monlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00405">chan_ooh323.c:405</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a02d8db6086b4a18353b82ebcad631ff6"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a02d8db6086b4a18353b82ebcad631ff6">do_monitor</a></div><div class="ttdeci">static void * do_monitor(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l03998">chan_ooh323.c:3998</a></div></div>
<div class="ttc" id="utils_8h_html_a4781fd54a4ca8c7f0f8a32a6cce503c0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a></div><div class="ttdeci">#define ast_pthread_create(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00559">utils.h:559</a></div></div>
<div class="ttc" id="lock_8h_html_a873a83eb8196323194aac2bea23d794e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a></div><div class="ttdeci">#define AST_PTHREADT_STOP</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00067">lock.h:67</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21f56cfd830c9cf76ab19f422878747f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21f56cfd830c9cf76ab19f422878747f">&#9670;&nbsp;</a></span>setup_rtp_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_rtp_connection </td>
          <td>(</td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>remoteIp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remotePort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04775">4775</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/da6/format_8c_source.html#l00201">ast_format_cmp()</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00036">AST_FORMAT_CMP_EQUAL</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00121">ast_format_g726_aal2</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03657">ast_parse_arg()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01428">ast_rtp_codecs_payloads_set_rtpmap_type()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00727">ast_rtp_instance_get_codecs()</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l01080">ast_rtp_instance_set_remote_address</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00144">AST_RTP_OPT_G726_NONSTANDARD</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00537">ast_sockaddr_set_port</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01104">PARSE_ADDR</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00187">ooh323_pvt::rtp</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00228">ooh323_pvt::writeformat</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00607">ooh323c_start_transmit_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;{</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;</div><div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   setup_rtp_connection %s:%d\n&quot;</span>, remoteIp, remotePort);</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;   <span class="comment">/* Find the call or allocate a private structure if call not found */</span></div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;   p = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>);</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;   <span class="keywordflow">if</span> (!p || !p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Something is wrong: rtp\n&quot;</span>);</div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;   }</div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;</div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a>(remoteIp, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18">PARSE_ADDR</a>, &amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#ac83e6bdec376b74d02da8d2f8e1af888">ast_sockaddr_set_port</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>, remotePort);</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;   <a class="code" href="../../d5/dde/rtp__engine_8h.html#a90c48c7f24206e8822bf520dae0a2478">ast_rtp_instance_set_remote_address</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, &amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;</div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ab1490f05fc06376ee421360ad879cb23">writeformat</a>, <a class="code" href="../../db/d1c/format__cache_8h.html#ad230bc99f5cd46e56e97d32941ba5b23">ast_format_g726_aal2</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;                <a class="code" href="../../d5/dde/rtp__engine_8h.html#ab5350656de626a43127eb607e58bdfa3">ast_rtp_codecs_payloads_set_rtpmap_type</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>), p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, 2,</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;                     <span class="stringliteral">&quot;audio&quot;</span>, <span class="stringliteral">&quot;G726-32&quot;</span>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a95ccef8388e3b0e9c9639e393d4081b6ad570d49420fe15c4660793d1fc2f0fc8">AST_RTP_OPT_G726_NONSTANDARD</a>);</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;   }</div><div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;</div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   setup_rtp_connection\n&quot;</span>);</div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;</div><div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;}</div><div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00036">format.h:36</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0376aa2503a185437fab8cb0b7d674fb"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a></div><div class="ttdeci">struct ast_rtp_codecs * ast_rtp_instance_get_codecs(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the codecs structure of an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00727">rtp_engine.c:727</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="format__cache_8h_html_ad230bc99f5cd46e56e97d32941ba5b23"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#ad230bc99f5cd46e56e97d32941ba5b23">ast_format_g726_aal2</a></div><div class="ttdeci">struct ast_format * ast_format_g726_aal2</div><div class="ttdoc">Built-in cached g726 aal2 format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00121">format_cache.c:121</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18">PARSE_ADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01104">include/asterisk/config.h:1104</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="structooh323__pvt_html_ab1490f05fc06376ee421360ad879cb23"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ab1490f05fc06376ee421360ad879cb23">ooh323_pvt::writeformat</a></div><div class="ttdeci">struct ast_format * writeformat</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00228">chan_ooh323.c:228</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_ab5350656de626a43127eb607e58bdfa3"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#ab5350656de626a43127eb607e58bdfa3">ast_rtp_codecs_payloads_set_rtpmap_type</a></div><div class="ttdeci">int ast_rtp_codecs_payloads_set_rtpmap_type(struct ast_rtp_codecs *codecs, struct ast_rtp_instance *instance, int payload, char *mimetype, char *mimesubtype, enum ast_rtp_options options)</div><div class="ttdoc">Record tx payload type information that was seen in an a=rtpmap: SDP line. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l01428">rtp_engine.c:1428</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="netsock2_8h_html_ac83e6bdec376b74d02da8d2f8e1af888"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#ac83e6bdec376b74d02da8d2f8e1af888">ast_sockaddr_set_port</a></div><div class="ttdeci">#define ast_sockaddr_set_port(addr, port)</div><div class="ttdoc">Sets the port number of a socket address. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00537">netsock2.h:537</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a90c48c7f24206e8822bf520dae0a2478"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a90c48c7f24206e8822bf520dae0a2478">ast_rtp_instance_set_remote_address</a></div><div class="ttdeci">#define ast_rtp_instance_set_remote_address(instance, address)</div><div class="ttdoc">Set the address of the remote endpoint that we are sending RTP to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l01080">rtp_engine.h:1080</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a7e9aea581abeaae5d3799367d95284ac"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a></div><div class="ttdeci">int ast_parse_arg(const char *arg, enum ast_parse_flags flags, void *result,...)</div><div class="ttdoc">The argument parsing routine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03657">main/config.c:3657</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a95ccef8388e3b0e9c9639e393d4081b6ad570d49420fe15c4660793d1fc2f0fc8"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a95ccef8388e3b0e9c9639e393d4081b6ad570d49420fe15c4660793d1fc2f0fc8">AST_RTP_OPT_G726_NONSTANDARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00144">rtp_engine.h:144</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a8adb8595b8127cbea2118fada1ef8782"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a8adb8595b8127cbea2118fada1ef8782">ooh323_pvt::rtp</a></div><div class="ttdeci">struct ast_rtp_instance * rtp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00187">chan_ooh323.c:187</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a51f5fabf3fe32dbd5bd867d8a3a8bb39"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a></div><div class="ttdeci">static struct ooh323_pvt * find_call(ooCallData *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00810">chan_ooh323.c:810</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae70b50857ce89956330f453356b5397b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae70b50857ce89956330f453356b5397b">&#9670;&nbsp;</a></span>setup_udptl_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_udptl_connection </td>
          <td>(</td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>remoteIp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remotePort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04839">4839</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02947">ast_channel_trylock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">AST_CONTROL_T38_PARAMETERS</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03657">ast_parse_arg()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01238">ast_queue_control_data()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00521">ast_sockaddr_port</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00537">ast_sockaddr_set_port</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00331">ast_sockaddr_stringify_host()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00373">AST_T38_NEGOTIATED</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00389">AST_T38_RATE_14400</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01016">ast_udptl_get_far_max_ifp()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01130">ast_udptl_set_peer()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01112">ast_udptl_set_tag()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00374">DEADLOCK_AVOIDANCE</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00381">gH323Debug</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00200">ooh323_pvt::lastTxT38</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00185">ooh323_pvt::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00400">ast_control_t38_parameters::max_ifp</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00203">ooh323_pvt::owner</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01104">PARSE_ADDR</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00401">ast_control_t38_parameters::rate</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00398">ast_control_t38_parameters::request_response</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00102">T38_ENABLED</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00197">ooh323_pvt::t38_tx_enable</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00191">ooh323_pvt::t38support</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00195">ooh323_pvt::udptl</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00647">ooh323c_start_transmit_datachannel()</a>.</p>
<div class="fragment"><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;{</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> them;</div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;</div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;---   setup_udptl_connection\n&quot;</span>);</div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;</div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;   <span class="comment">/* Find the call or allocate a private structure if call not found */</span></div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;   p = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>);</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;   <span class="keywordflow">if</span> (!p) {</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Something is wrong: rtp\n&quot;</span>);</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;   }</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;</div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;      <span class="keywordflow">while</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a> &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>)) {</div><div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Failed to grab lock, trying again\n&quot;</span>);</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;      }</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;      <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>) {</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;      }</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel has no owner\n&quot;</span>);</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;   }</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a>(remoteIp, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18">PARSE_ADDR</a>, &amp;them);</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#ac83e6bdec376b74d02da8d2f8e1af888">ast_sockaddr_set_port</a>(&amp;them, remotePort);</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;   <a class="code" href="../../d5/da1/udptl_8h.html#a63800515ae367681cbeb61813b6b40c0">ast_udptl_set_peer</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a>, &amp;them);</div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;   <a class="code" href="../../d5/da1/udptl_8h.html#a697d541fd523e36f898d699cbfda988f">ast_udptl_set_tag</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>));</div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;   p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#af4a18eb222c36eee313b6a0988f1c86d">t38_tx_enable</a> = 1;</div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;   p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf48adc6a5de129557bbd1bf56c0ef0b">lastTxT38</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">t38support</a> == <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a6d9b175ed35f8ef7b2d8cc2dc435fde8">T38_ENABLED</a>) {</div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/def/structast__control__t38__parameters.html">ast_control_t38_parameters</a> parameters = { .<a class="code" href="../../d5/def/structast__control__t38__parameters.html#adb36822366e10ce64ca8337c512732a6">request_response</a> = 0 };</div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;      parameters.<a class="code" href="../../d5/def/structast__control__t38__parameters.html#adb36822366e10ce64ca8337c512732a6">request_response</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a168d496bdac09ece3ce49cf473bbdb4bad501e0d5fe272eaba466507a686a2df5">AST_T38_NEGOTIATED</a>;</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;      parameters.<a class="code" href="../../d5/def/structast__control__t38__parameters.html#a7924cc45cde640e779a902c4aadaf180">max_ifp</a> = <a class="code" href="../../d5/da1/udptl_8h.html#a72d15492e0a4594c95848800a93017f3">ast_udptl_get_far_max_ifp</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">udptl</a>);</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;      parameters.<a class="code" href="../../d5/def/structast__control__t38__parameters.html#a124b43d7f331e00aad39c964ea523329">rate</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a8d9ee156e6e29222a8fc1383f2832b07a2956ffa9b3fdde7ffc800fbd6e6a5482">AST_T38_RATE_14400</a>;</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7e5e15c22564fd66351d332ad10658b5">ast_queue_control_data</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a>, &amp;parameters, <span class="keyword">sizeof</span>(parameters));</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;   }</div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>) {</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Receiving UDPTL  %s:%d\n&quot;</span>, <a class="code" href="../../db/df1/netsock2_8h.html#a7803a01afa4404e275a2fac3c91bf7e8">ast_sockaddr_stringify_host</a>(&amp;them),</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;                     <a class="code" href="../../db/df1/netsock2_8h.html#a51e2841175bf3ad58a4e11ad9fb2453f">ast_sockaddr_port</a>(&amp;them));</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;   }</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;</div><div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">owner</a>);</div><div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;</div><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a>)</div><div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(0, <span class="stringliteral">&quot;+++   setup_udptl_connection\n&quot;</span>);</div><div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;</div><div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a6d9b175ed35f8ef7b2d8cc2dc435fde8"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a6d9b175ed35f8ef7b2d8cc2dc435fde8">T38_ENABLED</a></div><div class="ttdeci">#define T38_ENABLED</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00102">chan_ooh323.c:102</a></div></div>
<div class="ttc" id="structast__control__t38__parameters_html"><div class="ttname"><a href="../../d5/def/structast__control__t38__parameters.html">ast_control_t38_parameters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00397">include/asterisk/frame.h:397</a></div></div>
<div class="ttc" id="lock_8h_html_a851106e971b4611a38cb4be8b39d9fcf"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a></div><div class="ttdeci">#define DEADLOCK_AVOIDANCE(lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00374">lock.h:374</a></div></div>
<div class="ttc" id="structast__control__t38__parameters_html_adb36822366e10ce64ca8337c512732a6"><div class="ttname"><a href="../../d5/def/structast__control__t38__parameters.html#adb36822366e10ce64ca8337c512732a6">ast_control_t38_parameters::request_response</a></div><div class="ttdeci">enum ast_control_t38 request_response</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00398">include/asterisk/frame.h:398</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a298efdcdae5062ad10b1597b6df19955"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a298efdcdae5062ad10b1597b6df19955">ooh323_pvt::t38support</a></div><div class="ttdeci">int t38support</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00191">chan_ooh323.c:191</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a9751588dbb8cbd43c7c148b8ded04ff0"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9751588dbb8cbd43c7c148b8ded04ff0">ooh323_pvt::udptl</a></div><div class="ttdeci">struct ast_udptl * udptl</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00195">chan_ooh323.c:195</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf48adc6a5de129557bbd1bf56c0ef0b"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf48adc6a5de129557bbd1bf56c0ef0b">ooh323_pvt::lastTxT38</a></div><div class="ttdeci">time_t lastTxT38</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00200">chan_ooh323.c:200</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">include/asterisk/frame.h:301</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4e46c37d1b39283e84e91363b7182616"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4e46c37d1b39283e84e91363b7182616">gH323Debug</a></div><div class="ttdeci">OOBOOL gH323Debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00381">chan_ooh323.c:381</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa4b42c80c591c4da820aecc2bb80bde18">PARSE_ADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01104">include/asterisk/config.h:1104</a></div></div>
<div class="ttc" id="netsock2_8h_html_a51e2841175bf3ad58a4e11ad9fb2453f"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a51e2841175bf3ad58a4e11ad9fb2453f">ast_sockaddr_port</a></div><div class="ttdeci">#define ast_sockaddr_port(addr)</div><div class="ttdoc">Get the port number of a socket address. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00521">netsock2.h:521</a></div></div>
<div class="ttc" id="structooh323__pvt_html_af4a18eb222c36eee313b6a0988f1c86d"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#af4a18eb222c36eee313b6a0988f1c86d">ooh323_pvt::t38_tx_enable</a></div><div class="ttdeci">int t38_tx_enable</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00197">chan_ooh323.c:197</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__control__t38__parameters_html_a124b43d7f331e00aad39c964ea523329"><div class="ttname"><a href="../../d5/def/structast__control__t38__parameters.html#a124b43d7f331e00aad39c964ea523329">ast_control_t38_parameters::rate</a></div><div class="ttdeci">enum ast_control_t38_rate rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00401">include/asterisk/frame.h:401</a></div></div>
<div class="ttc" id="structooh323__pvt_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#adf04f66344e3fb0a6f6a69bf39d19902">ooh323_pvt::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00185">chan_ooh323.c:185</a></div></div>
<div class="ttc" id="structast__control__t38__parameters_html_a7924cc45cde640e779a902c4aadaf180"><div class="ttname"><a href="../../d5/def/structast__control__t38__parameters.html#a7924cc45cde640e779a902c4aadaf180">ast_control_t38_parameters::max_ifp</a></div><div class="ttdeci">unsigned int max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00400">include/asterisk/frame.h:400</a></div></div>
<div class="ttc" id="udptl_8h_html_a72d15492e0a4594c95848800a93017f3"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#a72d15492e0a4594c95848800a93017f3">ast_udptl_get_far_max_ifp</a></div><div class="ttdeci">unsigned int ast_udptl_get_far_max_ifp(struct ast_udptl *udptl)</div><div class="ttdoc">retrieves far max ifp </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01016">udptl.c:1016</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="udptl_8h_html_a63800515ae367681cbeb61813b6b40c0"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#a63800515ae367681cbeb61813b6b40c0">ast_udptl_set_peer</a></div><div class="ttdeci">void ast_udptl_set_peer(struct ast_udptl *udptl, const struct ast_sockaddr *them)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01130">udptl.c:1130</a></div></div>
<div class="ttc" id="netsock2_8h_html_ac83e6bdec376b74d02da8d2f8e1af888"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#ac83e6bdec376b74d02da8d2f8e1af888">ast_sockaddr_set_port</a></div><div class="ttdeci">#define ast_sockaddr_set_port(addr, port)</div><div class="ttdoc">Sets the port number of a socket address. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00537">netsock2.h:537</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a7e9aea581abeaae5d3799367d95284ac"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a7e9aea581abeaae5d3799367d95284ac">ast_parse_arg</a></div><div class="ttdeci">int ast_parse_arg(const char *arg, enum ast_parse_flags flags, void *result,...)</div><div class="ttdoc">The argument parsing routine. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03657">main/config.c:3657</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a8d9ee156e6e29222a8fc1383f2832b07a2956ffa9b3fdde7ffc800fbd6e6a5482"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a8d9ee156e6e29222a8fc1383f2832b07a2956ffa9b3fdde7ffc800fbd6e6a5482">AST_T38_RATE_14400</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00389">include/asterisk/frame.h:389</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a168d496bdac09ece3ce49cf473bbdb4bad501e0d5fe272eaba466507a686a2df5"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a168d496bdac09ece3ce49cf473bbdb4bad501e0d5fe272eaba466507a686a2df5">AST_T38_NEGOTIATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00373">include/asterisk/frame.h:373</a></div></div>
<div class="ttc" id="structooh323__pvt_html"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00184">chan_ooh323.c:184</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structooh323__pvt_html_a9241175b397dfd032c4cadbc8c9c2d05"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a9241175b397dfd032c4cadbc8c9c2d05">ooh323_pvt::owner</a></div><div class="ttdeci">struct ast_channel * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00203">chan_ooh323.c:203</a></div></div>
<div class="ttc" id="channel_8h_html_a7e5e15c22564fd66351d332ad10658b5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7e5e15c22564fd66351d332ad10658b5">ast_queue_control_data</a></div><div class="ttdeci">int ast_queue_control_data(struct ast_channel *chan, enum ast_control_frame_type control, const void *data, size_t datalen)</div><div class="ttdoc">Queue a control frame with payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01238">channel.c:1238</a></div></div>
<div class="ttc" id="udptl_8h_html_a697d541fd523e36f898d699cbfda988f"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#a697d541fd523e36f898d699cbfda988f">ast_udptl_set_tag</a></div><div class="ttdeci">void ast_udptl_set_tag(struct ast_udptl *udptl, const char *format,...)</div><div class="ttdoc">Associates a character string &amp;#39;tag&amp;#39; with a UDPTL session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01112">udptl.c:1112</a></div></div>
<div class="ttc" id="channel_8h_html_a7dc0d696d897c864c6f41a3a1795c82e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7dc0d696d897c864c6f41a3a1795c82e">ast_channel_trylock</a></div><div class="ttdeci">#define ast_channel_trylock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02947">channel.h:2947</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a51f5fabf3fe32dbd5bd867d8a3a8bb39"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a51f5fabf3fe32dbd5bd867d8a3a8bb39">find_call</a></div><div class="ttdeci">static struct ooh323_pvt * find_call(ooCallData *call)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00810">chan_ooh323.c:810</a></div></div>
<div class="ttc" id="netsock2_8h_html_a7803a01afa4404e275a2fac3c91bf7e8"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a7803a01afa4404e275a2fac3c91bf7e8">ast_sockaddr_stringify_host</a></div><div class="ttdeci">static char * ast_sockaddr_stringify_host(const struct ast_sockaddr *addr)</div><div class="ttdoc">Wrapper around ast_sockaddr_stringify_fmt() to return an address only, suitable for a URL (with brack...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00331">netsock2.h:331</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3f7dcde04faacabd694aee206f3529f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f7dcde04faacabd694aee206f3529f">&#9670;&nbsp;</a></span>update_our_aliases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_our_aliases </td>
          <td>(</td>
          <td class="paramtype">ooCallData *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/daf/structooh323__pvt.html">ooh323_pvt</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04949">4949</a> of file <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html">chan_ooh323.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00222">ooh323_pvt::callee_dialedDigits</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00223">ooh323_pvt::callee_email</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00221">ooh323_pvt::callee_h323id</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00224">ooh323_pvt::callee_url</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01840">ooh323_onReceivedSetup()</a>.</p>
<div class="fragment"><div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;{</div><div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;   <span class="keywordtype">int</span> updated = -1;</div><div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;   ooAliases *psAlias = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;</div><div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;ourAliases)</div><div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;      <span class="keywordflow">return</span> updated;</div><div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;   <span class="keywordflow">for</span> (psAlias = <a class="code" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a>-&gt;ourAliases; psAlias; psAlias = psAlias-&gt;next) {</div><div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;      <span class="keywordflow">if</span> (psAlias-&gt;type == T_H225AliasAddress_h323_ID) {</div><div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a198e6bda72862661a62068beb30cc588">callee_h323id</a>, psAlias-&gt;value, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#a198e6bda72862661a62068beb30cc588">callee_h323id</a>));</div><div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;         updated = 1;</div><div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;      }</div><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;      <span class="keywordflow">if</span> (psAlias-&gt;type == T_H225AliasAddress_dialedDigits) {</div><div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ad4cbc7d7804203aa38152b23ff137b3b">callee_dialedDigits</a>, psAlias-&gt;value,</div><div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;                                        <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#ad4cbc7d7804203aa38152b23ff137b3b">callee_dialedDigits</a>));</div><div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;         updated = 1;</div><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;      }</div><div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;      <span class="keywordflow">if</span> (psAlias-&gt;type == T_H225AliasAddress_url_ID) {</div><div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aadbfd8de900323c4ba3262c11678be8b">callee_url</a>, psAlias-&gt;value, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aadbfd8de900323c4ba3262c11678be8b">callee_url</a>));</div><div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;         updated = 1;</div><div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;      }</div><div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;      <span class="keywordflow">if</span> (psAlias-&gt;type == T_H225AliasAddress_email_ID) {</div><div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aeee9ecf178ae402b32fda3715b5fb2fe">callee_email</a>, psAlias-&gt;value, <span class="keyword">sizeof</span>(p-&gt;<a class="code" href="../../d5/daf/structooh323__pvt.html#aeee9ecf178ae402b32fda3715b5fb2fe">callee_email</a>));</div><div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;         updated = 1;</div><div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;      }</div><div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;   }</div><div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;   <span class="keywordflow">return</span> updated;</div><div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;}</div><div class="ttc" id="structooh323__pvt_html_ad4cbc7d7804203aa38152b23ff137b3b"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#ad4cbc7d7804203aa38152b23ff137b3b">ooh323_pvt::callee_dialedDigits</a></div><div class="ttdeci">char callee_dialedDigits[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00222">chan_ooh323.c:222</a></div></div>
<div class="ttc" id="structooh323__pvt_html_a198e6bda72862661a62068beb30cc588"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#a198e6bda72862661a62068beb30cc588">ooh323_pvt::callee_h323id</a></div><div class="ttdeci">char callee_h323id[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00221">chan_ooh323.c:221</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_acc941e909d1ca6a0997028d9562d78da"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a></div><div class="ttdeci">static int call(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02358">chan_pjsip.c:2358</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structooh323__pvt_html_aeee9ecf178ae402b32fda3715b5fb2fe"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#aeee9ecf178ae402b32fda3715b5fb2fe">ooh323_pvt::callee_email</a></div><div class="ttdeci">char callee_email[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00223">chan_ooh323.c:223</a></div></div>
<div class="ttc" id="structooh323__pvt_html_aadbfd8de900323c4ba3262c11678be8b"><div class="ttname"><a href="../../d5/daf/structooh323__pvt.html#aadbfd8de900323c4ba3262c11678be8b">ooh323_pvt::callee_url</a></div><div class="ttdeci">char callee_url[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00224">chan_ooh323.c:224</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:45:11 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
