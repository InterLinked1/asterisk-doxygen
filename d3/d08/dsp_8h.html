<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: dsp.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dsp.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Convenient Signal Processing routines.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dfe/dsp_8h__dep__incl.png" border="0" usemap="#dsp_8hdep" alt=""/></div>
<map name="dsp_8hdep" id="dsp_8hdep">
<area shape="rect" id="node2" href="../../d3/d51/chan__mobile_8c.html" title="Bluetooth Mobile Device channel driver. " alt="" coords="13,80,127,107"/>
<area shape="rect" id="node3" href="../../d3/d45/chan__ooh323_8h.html" title="chan_ooh323.h" alt="" coords="151,80,271,107"/>
<area shape="rect" id="node6" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="1253,80,1327,107"/>
<area shape="rect" id="node13" href="../../d9/d12/app__dial_8c.html" title="dial() &amp; retrydial() &#45; Trivial application to dial a channel and send an URL on answer ..." alt="" coords="1841,229,1928,256"/>
<area shape="rect" id="node14" href="../../dd/d55/app__followme_8c.html" title="Find&#45;Me Follow&#45;Me application. " alt="" coords="1965,229,2085,256"/>
<area shape="rect" id="node15" href="../../d1/d97/chan__dahdi_8c.html" title="DAHDI for Pseudo TDM. " alt="" coords="2115,229,2222,256"/>
<area shape="rect" id="node16" href="../../d0/dd6/chan__mgcp_8c.html" title="Implementation of Media Gateway Control Protocol. " alt="" coords="895,229,1002,256"/>
<area shape="rect" id="node17" href="../../d7/d9b/chan__misdn_8c.html" title="the chan_misdn channel driver for Asterisk " alt="" coords="1681,229,1792,256"/>
<area shape="rect" id="node24" href="../../d5/dfe/chan__sip_8c.html" title="Implementation of Session Initiation Protocol. " alt="" coords="1763,155,1852,181"/>
<area shape="rect" id="node25" href="../../d0/d80/chan__skinny_8c.html" title="Implementation of the Skinny protocol. " alt="" coords="1877,155,1986,181"/>
<area shape="rect" id="node26" href="../../dc/d5c/app__alarmreceiver_8c.html" title="Central Station Alarm receiver for Ademco Contact ID. " alt="" coords="2213,80,2364,107"/>
<area shape="rect" id="node27" href="../../d2/d48/app__amd_8c.html" title="Answering machine detection. " alt="" coords="2389,80,2482,107"/>
<area shape="rect" id="node28" href="../../df/dde/app__fax_8c.html" title="app_fax.c" alt="" coords="2506,80,2589,107"/>
<area shape="rect" id="node29" href="../../df/d44/app__meetme_8c.html" title="Meet me conference bridge and Shared Line Appearances. " alt="" coords="2613,80,2732,107"/>
<area shape="rect" id="node30" href="../../d7/d1d/app__mf_8c.html" title="MF sender and receiver applications. " alt="" coords="2755,80,2835,107"/>
<area shape="rect" id="node31" href="../../de/dfe/app__minivm_8c.html" title="MiniVoiceMail &#45; A Minimal Voicemail System for Asterisk. " alt="" coords="2860,80,2971,107"/>
<area shape="rect" id="node32" href="../../dd/dd5/app__record_8c.html" title="Trivial application to record a sound file. " alt="" coords="2995,80,3100,107"/>
<area shape="rect" id="node33" href="../../d3/dba/app__talkdetect_8c.html" title="Playback a file with audio detect. " alt="" coords="3125,80,3253,107"/>
<area shape="rect" id="node34" href="../../d9/d4a/app__tonedetect_8c.html" title="Tone detection module. " alt="" coords="3277,80,3412,107"/>
<area shape="rect" id="node35" href="../../dc/df4/app__voicemail_8c.html" title="Comedian Mail &#45; Voicemail System. " alt="" coords="3436,80,3560,107"/>
<area shape="rect" id="node36" href="../../d5/d4c/app__waitforsilence_8c.html" title="Wait for Silence. " alt="" coords="3584,80,3735,107"/>
<area shape="rect" id="node37" href="../../d5/db3/chan__dahdi_8h.html" title="DAHDI internal API definitions. " alt="" coords="2966,155,3073,181"/>
<area shape="rect" id="node38" href="../../d0/d29/chan__pjsip_8c.html" title="PSJIP SIP Channel Driver. " alt="" coords="3811,80,3911,107"/>
<area shape="rect" id="node39" href="../../de/dfc/pjsip_2dialplan__functions_8c.html" title="PJSIP channel dialplan functions. " alt="" coords="3935,80,4082,107"/>
<area shape="rect" id="node40" href="../../d4/df5/func__talkdetect_8c.html" title="Function that raises events when talking is detected on a channel. " alt="" coords="4106,80,4237,107"/>
<area shape="rect" id="node41" href="../../d3/d83/main_2app_8c.html" title="Convenient Application Routines. " alt="" coords="4261,80,4319,107"/>
<area shape="rect" id="node42" href="../../da/d21/main_2db_8c.html" title="ASTdb Management. " alt="" coords="4343,80,4392,107"/>
<area shape="rect" id="node43" href="../../d5/d3b/dsp_8c.html" title="Convenience Signal Processing routines. " alt="" coords="4417,80,4473,107"/>
<area shape="rect" id="node44" href="../../df/d55/main_2frame_8c.html" title="Frame and codec manipulation routines. " alt="" coords="4497,80,4568,107"/>
<area shape="rect" id="node45" href="../../da/de0/privacy_8c.html" title="Privacy Routines. " alt="" coords="4592,80,4668,107"/>
<area shape="rect" id="node46" href="../../dd/de9/res__agi_8c.html" title="AGI &#45; the Asterisk Gateway Interface. " alt="" coords="4692,80,4771,107"/>
<area shape="rect" id="node47" href="../../d0/d60/res__fax_8c.html" title="Generic FAX Resource for FAX technology resource modules. " alt="" coords="4795,80,4873,107"/>
<area shape="rect" id="node48" href="../../d5/d82/res__pjsip__sdp__rtp_8c.html" title="SIP SDP media stream handling. " alt="" coords="4898,80,5042,107"/>
<area shape="rect" id="node49" href="../../d4/d92/res__pjsip__session_8c.html" title="res_pjsip_session.c" alt="" coords="5066,80,5210,107"/>
<area shape="rect" id="node50" href="../../d8/d4c/res__stasis__recording_8c.html" title="res_stasis recording support. " alt="" coords="5235,80,5399,107"/>
<area shape="rect" id="node4" href="../../d7/d49/chan__ooh323_8c.html" title="chan_ooh323.c" alt="" coords="5,155,124,181"/>
<area shape="rect" id="node5" href="../../d3/d3d/ooh323cDriver_8h.html" title="ooh323cDriver.h" alt="" coords="148,155,275,181"/>
<area shape="rect" id="node7" href="../../de/d11/app__agent__pool_8c.html" title="Call center agent pool. " alt="" coords="608,155,743,181"/>
<area shape="rect" id="node8" href="../../d0/df4/app__attended__transfer_8c.html" title="Attended transfer by caller channel. " alt="" coords="767,155,946,181"/>
<area shape="rect" id="node9" href="../../d7/d7c/app__blind__transfer_8c.html" title="Blind transfer by caller channel. " alt="" coords="1272,155,1423,181"/>
<area shape="rect" id="node10" href="../../d8/d6e/app__bridgeaddchan_8c.html" title="Application to place the channel into an existing Bridge. " alt="" coords="1499,229,1657,256"/>
<area shape="rect" id="node11" href="../../de/d47/features_8h.html" title="Call Parking and Pickup API Includes code and algorithms from the Zapata library. ..." alt="" coords="1549,155,1636,181"/>
<area shape="rect" id="node12" href="../../dc/d22/app__bridgewait_8c.html" title="Application to place the channel into a holding Bridge. " alt="" coords="1263,229,1392,256"/>
<area shape="rect" id="node18" href="../../d0/dcf/app__confbridge_8c.html" title="Conference Bridge application. " alt="" coords="1099,304,1230,331"/>
<area shape="rect" id="node19" href="../../d4/de3/confbridge_8h.html" title="confbridge.h" alt="" coords="1026,229,1127,256"/>
<area shape="rect" id="node20" href="../../d8/d4f/conf__chan__announce_8c.html" title="ConfBridge announcer channel driver. " alt="" coords="321,304,489,331"/>
<area shape="rect" id="node21" href="../../dc/d4e/stasis__bridges_8h.html" title="stasis_bridges.h" alt="" coords="1071,155,1197,181"/>
<area shape="rect" id="node22" href="../../d2/ddd/app__dumpchan_8c.html" title="Application to dump channel variables. " alt="" coords="452,155,584,181"/>
<area shape="rect" id="node23" href="../../de/dea/core__unreal_8h.html" title="Unreal channel derivative framework. " alt="" coords="350,229,459,256"/>
</map>
</div>
</div>
<p><a href="../../d3/d08/dsp_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5b/structast__dsp__busy__pattern.html">ast_dsp_busy_pattern</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af0e16e88030540319d8a545dd7c2576c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#af0e16e88030540319d8a545dd7c2576c">DSP_DIGITMODE_DTMF</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:af0e16e88030540319d8a545dd7c2576c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7b41ef167d85ab193697e010dce94b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a5c7b41ef167d85ab193697e010dce94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34f768f0cae2ee8f2db1e8f57f02b21"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aa34f768f0cae2ee8f2db1e8f57f02b21">DSP_DIGITMODE_MUTECONF</a>&#160;&#160;&#160;(1 &lt;&lt; 9)</td></tr>
<tr class="separator:aa34f768f0cae2ee8f2db1e8f57f02b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d78a2f3c0532d36beca1b8b5e97eb30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a6d78a2f3c0532d36beca1b8b5e97eb30">DSP_DIGITMODE_MUTEMAX</a>&#160;&#160;&#160;(1 &lt;&lt; 10)</td></tr>
<tr class="separator:a6d78a2f3c0532d36beca1b8b5e97eb30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5f9f8f26812f78103589047d426ea4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a3e5f9f8f26812f78103589047d426ea4">DSP_DIGITMODE_NOQUELCH</a>&#160;&#160;&#160;(1 &lt;&lt; 8)</td></tr>
<tr class="separator:a3e5f9f8f26812f78103589047d426ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af955a2d9ad32683d8d783619480cd348"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#af955a2d9ad32683d8d783619480cd348">DSP_DIGITMODE_RELAXDTMF</a>&#160;&#160;&#160;(1 &lt;&lt; 11)</td></tr>
<tr class="separator:af955a2d9ad32683d8d783619480cd348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d3f1a42dc44a2d306ab6734cd9c753"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ab7d3f1a42dc44a2d306ab6734cd9c753">DSP_FAXMODE_DETECT_ALL</a>&#160;&#160;&#160;(<a class="el" href="../../d3/d08/dsp_8h.html#aa97125e8415ed15db98bb7e79b17ab73">DSP_FAXMODE_DETECT_CNG</a> | <a class="el" href="../../d3/d08/dsp_8h.html#a9cf0612744d70d091c16780d55d0a122">DSP_FAXMODE_DETECT_CED</a>)</td></tr>
<tr class="separator:ab7d3f1a42dc44a2d306ab6734cd9c753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf0612744d70d091c16780d55d0a122"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a9cf0612744d70d091c16780d55d0a122">DSP_FAXMODE_DETECT_CED</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:a9cf0612744d70d091c16780d55d0a122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97125e8415ed15db98bb7e79b17ab73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aa97125e8415ed15db98bb7e79b17ab73">DSP_FAXMODE_DETECT_CNG</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:aa97125e8415ed15db98bb7e79b17ab73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9baae529c58a54aaa53a0ccef8caa05e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a9baae529c58a54aaa53a0ccef8caa05e">DSP_FAXMODE_DETECT_SQUELCH</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr class="separator:a9baae529c58a54aaa53a0ccef8caa05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ab003573ab7f608bc42723b3a5168a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a25ab003573ab7f608bc42723b3a5168a">DSP_FEATURE_BUSY_DETECT</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:a25ab003573ab7f608bc42723b3a5168a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa21ad1de4ef65e04563f6283a2213e25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aa21ad1de4ef65e04563f6283a2213e25">DSP_FEATURE_CALL_PROGRESS</a>&#160;&#160;&#160;(<a class="el" href="../../d3/d08/dsp_8h.html#a3096d3630e21aecb4f12942a1f6361f6">DSP_PROGRESS_TALK</a> | <a class="el" href="../../d3/d08/dsp_8h.html#a16d17271711ea378f25fbb6b46f5aa05">DSP_PROGRESS_RINGING</a> | <a class="el" href="../../d3/d08/dsp_8h.html#a8d6f6052e448286a7c431a18fc257027">DSP_PROGRESS_BUSY</a> | <a class="el" href="../../d3/d08/dsp_8h.html#aa0e79afce1894ffd75851c1e192d00ae">DSP_PROGRESS_CONGESTION</a>)</td></tr>
<tr class="separator:aa21ad1de4ef65e04563f6283a2213e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84818b360426bdd5f588cdca463e15be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a>&#160;&#160;&#160;(1 &lt;&lt; 3)</td></tr>
<tr class="separator:a84818b360426bdd5f588cdca463e15be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92045e8a8ad56b9b31d24db325fa95ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a92045e8a8ad56b9b31d24db325fa95ab">DSP_FEATURE_FAX_DETECT</a>&#160;&#160;&#160;(1 &lt;&lt; 4)</td></tr>
<tr class="separator:a92045e8a8ad56b9b31d24db325fa95ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba34e93f4bf51e43868d1655efec7020"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aba34e93f4bf51e43868d1655efec7020">DSP_FEATURE_FREQ_DETECT</a>&#160;&#160;&#160;(1 &lt;&lt; 21)</td></tr>
<tr class="separator:aba34e93f4bf51e43868d1655efec7020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab63492d48665481cbd29d913a6341b8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ab63492d48665481cbd29d913a6341b8e">DSP_FEATURE_SILENCE_SUPPRESS</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:ab63492d48665481cbd29d913a6341b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5cf337f5788319b8ba8bf6d161dce5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a1d5cf337f5788319b8ba8bf6d161dce5">DSP_FEATURE_WAITDIALTONE</a>&#160;&#160;&#160;(1 &lt;&lt; 20)</td></tr>
<tr class="separator:a1d5cf337f5788319b8ba8bf6d161dce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6f6052e448286a7c431a18fc257027"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a8d6f6052e448286a7c431a18fc257027">DSP_PROGRESS_BUSY</a>&#160;&#160;&#160;(1 &lt;&lt; 18)</td></tr>
<tr class="separator:a8d6f6052e448286a7c431a18fc257027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e79afce1894ffd75851c1e192d00ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aa0e79afce1894ffd75851c1e192d00ae">DSP_PROGRESS_CONGESTION</a>&#160;&#160;&#160;(1 &lt;&lt; 19)</td></tr>
<tr class="separator:aa0e79afce1894ffd75851c1e192d00ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d17271711ea378f25fbb6b46f5aa05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a16d17271711ea378f25fbb6b46f5aa05">DSP_PROGRESS_RINGING</a>&#160;&#160;&#160;(1 &lt;&lt; 17)</td></tr>
<tr class="separator:a16d17271711ea378f25fbb6b46f5aa05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3096d3630e21aecb4f12942a1f6361f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a3096d3630e21aecb4f12942a1f6361f6">DSP_PROGRESS_TALK</a>&#160;&#160;&#160;(1 &lt;&lt; 16)</td></tr>
<tr class="separator:a3096d3630e21aecb4f12942a1f6361f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2d15a82b53bebc4a233831fd8b2469"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a6a2d15a82b53bebc4a233831fd8b2469">DSP_TONE_STATE_BUSY</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a6a2d15a82b53bebc4a233831fd8b2469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa4a8185d14eb917c5c1fd498b234d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a2aa4a8185d14eb917c5c1fd498b234d6">DSP_TONE_STATE_DIALTONE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a2aa4a8185d14eb917c5c1fd498b234d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7fa94945ad3c54830a2c54ce377df5c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ab7fa94945ad3c54830a2c54ce377df5c">DSP_TONE_STATE_HUNGUP</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ab7fa94945ad3c54830a2c54ce377df5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b35b81126d95bb62e32d66ec15d907"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ad2b35b81126d95bb62e32d66ec15d907">DSP_TONE_STATE_RINGING</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ad2b35b81126d95bb62e32d66ec15d907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3e74ee4ce09143367f282416532a8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a3d3e74ee4ce09143367f282416532a8a">DSP_TONE_STATE_SILENCE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a3d3e74ee4ce09143367f282416532a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9801c31d7afb7271e894b47d8d78355c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a9801c31d7afb7271e894b47d8d78355c">DSP_TONE_STATE_SPECIAL1</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a9801c31d7afb7271e894b47d8d78355c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f8dce7565474d6a0e5e126c9c2354f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a20f8dce7565474d6a0e5e126c9c2354f">DSP_TONE_STATE_SPECIAL2</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a20f8dce7565474d6a0e5e126c9c2354f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198fb3e9530aa0497a16a98cf9d20016"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a198fb3e9530aa0497a16a98cf9d20016">DSP_TONE_STATE_SPECIAL3</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a198fb3e9530aa0497a16a98cf9d20016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac38adabe9708c6b5d64d074fbd7679a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ac38adabe9708c6b5d64d074fbd7679a1">DSP_TONE_STATE_TALKING</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ac38adabe9708c6b5d64d074fbd7679a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a11a8ce2b7eba2230cab37aad708d9abf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a> { <a class="el" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abfa40278495f8621707b864e57e1110d20f">THRESHOLD_SILENCE</a> = 0, 
<a class="el" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abfab7803c38447503d92bdcaaebddc19231">THRESHOLD_MAX</a> = 1
 }</td></tr>
<tr class="separator:a11a8ce2b7eba2230cab37aad708d9abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad3349aaac5958df1f8a0147ebccf05dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ad3349aaac5958df1f8a0147ebccf05dc">ast_dsp_busydetect</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="memdesc:ad3349aaac5958df1f8a0147ebccf05dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return non-zero if historically this should be a busy, request that ast_dsp_silence has already been called.  <a href="#ad3349aaac5958df1f8a0147ebccf05dc">More...</a><br /></td></tr>
<tr class="separator:ad3349aaac5958df1f8a0147ebccf05dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66eb1c63ea0e0002ff7507fd9da0eccf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a66eb1c63ea0e0002ff7507fd9da0eccf">ast_dsp_call_progress</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *inf)</td></tr>
<tr class="memdesc:a66eb1c63ea0e0002ff7507fd9da0eccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scans for progress indication in audio.  <a href="#a66eb1c63ea0e0002ff7507fd9da0eccf">More...</a><br /></td></tr>
<tr class="separator:a66eb1c63ea0e0002ff7507fd9da0eccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6599c15021bada086be1a7dafdce30"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a5d6599c15021bada086be1a7dafdce30">ast_dsp_digitdetect</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *f)</td></tr>
<tr class="memdesc:a5d6599c15021bada086be1a7dafdce30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return non-zero if DTMF hit was found.  <a href="#a5d6599c15021bada086be1a7dafdce30">More...</a><br /></td></tr>
<tr class="separator:a5d6599c15021bada086be1a7dafdce30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45fbc637da9251814352c97382f24d40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a45fbc637da9251814352c97382f24d40">ast_dsp_digitreset</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="memdesc:a45fbc637da9251814352c97382f24d40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset DTMF detector.  <a href="#a45fbc637da9251814352c97382f24d40">More...</a><br /></td></tr>
<tr class="separator:a45fbc637da9251814352c97382f24d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a57a1e374549eb2705068688f4046db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a0a57a1e374549eb2705068688f4046db">ast_dsp_free</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="separator:a0a57a1e374549eb2705068688f4046db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92238c472ae51a2926b51599108ab071"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a92238c472ae51a2926b51599108ab071">ast_dsp_get_features</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="memdesc:a92238c472ae51a2926b51599108ab071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get features.  <a href="#a92238c472ae51a2926b51599108ab071">More...</a><br /></td></tr>
<tr class="separator:a92238c472ae51a2926b51599108ab071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b2daa9b1bfbcbde7ce3f02417f694b"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a78b2daa9b1bfbcbde7ce3f02417f694b">ast_dsp_get_sample_rate</a> (const struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="memdesc:a78b2daa9b1bfbcbde7ce3f02417f694b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the sample rate this DSP structure was created with.  <a href="#a78b2daa9b1bfbcbde7ce3f02417f694b">More...</a><br /></td></tr>
<tr class="separator:a78b2daa9b1bfbcbde7ce3f02417f694b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b5cfada9ab61cee75ac7d006e86d09d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a0b5cfada9ab61cee75ac7d006e86d09d">ast_dsp_get_tcount</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="memdesc:a0b5cfada9ab61cee75ac7d006e86d09d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get tcount (Threshold counter)  <a href="#a0b5cfada9ab61cee75ac7d006e86d09d">More...</a><br /></td></tr>
<tr class="separator:a0b5cfada9ab61cee75ac7d006e86d09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab28c68838eaed4e0c89460a4e554cca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aab28c68838eaed4e0c89460a4e554cca">ast_dsp_get_threshold_from_settings</a> (enum <a class="el" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a> which)</td></tr>
<tr class="memdesc:aab28c68838eaed4e0c89460a4e554cca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get silence threshold from dsp.conf.  <a href="#aab28c68838eaed4e0c89460a4e554cca">More...</a><br /></td></tr>
<tr class="separator:aab28c68838eaed4e0c89460a4e554cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accae19c5763ae43f0d5cf058f07d8d18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#accae19c5763ae43f0d5cf058f07d8d18">ast_dsp_get_tstate</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="memdesc:accae19c5763ae43f0d5cf058f07d8d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get tstate (Tone State)  <a href="#accae19c5763ae43f0d5cf058f07d8d18">More...</a><br /></td></tr>
<tr class="separator:accae19c5763ae43f0d5cf058f07d8d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247cafe071f6cd096ce7b976a92f9928"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a247cafe071f6cd096ce7b976a92f9928">ast_dsp_getdigits</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>)</td></tr>
<tr class="memdesc:a247cafe071f6cd096ce7b976a92f9928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pending DTMF/MF digits.  <a href="#a247cafe071f6cd096ce7b976a92f9928">More...</a><br /></td></tr>
<tr class="separator:a247cafe071f6cd096ce7b976a92f9928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a60e93006c8e1ca8fda922ae0e0da2c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a0a60e93006c8e1ca8fda922ae0e0da2c">ast_dsp_new</a> (void)</td></tr>
<tr class="memdesc:a0a60e93006c8e1ca8fda922ae0e0da2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new dsp, assumes 8khz for internal sample rate.  <a href="#a0a60e93006c8e1ca8fda922ae0e0da2c">More...</a><br /></td></tr>
<tr class="separator:a0a60e93006c8e1ca8fda922ae0e0da2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc59fd6560e440699e6bb55aa101de93"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#adc59fd6560e440699e6bb55aa101de93">ast_dsp_new_with_rate</a> (unsigned int sample_rate)</td></tr>
<tr class="memdesc:adc59fd6560e440699e6bb55aa101de93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new dsp with a specific internal sample rate used during processing.  <a href="#adc59fd6560e440699e6bb55aa101de93">More...</a><br /></td></tr>
<tr class="separator:adc59fd6560e440699e6bb55aa101de93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5efca89c36180bbe497d83837167546"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ac5efca89c36180bbe497d83837167546">ast_dsp_noise</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *f, int *totalnoise)</td></tr>
<tr class="memdesc:ac5efca89c36180bbe497d83837167546"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the audio frame for noise.  <a href="#ac5efca89c36180bbe497d83837167546">More...</a><br /></td></tr>
<tr class="separator:ac5efca89c36180bbe497d83837167546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6387ee12a3544d3d2068db61d9576ad"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ab6387ee12a3544d3d2068db61d9576ad">ast_dsp_process</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *inf)</td></tr>
<tr class="memdesc:ab6387ee12a3544d3d2068db61d9576ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return AST_FRAME_NULL frames when there is silence, AST_FRAME_BUSY on busies, and call progress, all dependent upon which features are enabled.  <a href="#ab6387ee12a3544d3d2068db61d9576ad">More...</a><br /></td></tr>
<tr class="separator:ab6387ee12a3544d3d2068db61d9576ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673744da45e35463b6500a17c360bebe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a673744da45e35463b6500a17c360bebe">ast_dsp_reset</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="memdesc:a673744da45e35463b6500a17c360bebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset total silence count.  <a href="#a673744da45e35463b6500a17c360bebe">More...</a><br /></td></tr>
<tr class="separator:a673744da45e35463b6500a17c360bebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5088d241f0f7c6e3c82bacfb4a5099b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ae5088d241f0f7c6e3c82bacfb4a5099b">ast_dsp_set_busy_count</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, int <a class="el" href="../../d1/d97/chan__dahdi_8c.html#ad07d646abd9d3f187412ff33dc665aee">cadences</a>)</td></tr>
<tr class="memdesc:ae5088d241f0f7c6e3c82bacfb4a5099b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set number of required cadences for busy.  <a href="#ae5088d241f0f7c6e3c82bacfb4a5099b">More...</a><br /></td></tr>
<tr class="separator:ae5088d241f0f7c6e3c82bacfb4a5099b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa7b2c7a6105d4d7d3a73930a087dd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a6fa7b2c7a6105d4d7d3a73930a087dd4">ast_dsp_set_busy_pattern</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, const struct <a class="el" href="../../d0/d5b/structast__dsp__busy__pattern.html">ast_dsp_busy_pattern</a> *cadence)</td></tr>
<tr class="memdesc:a6fa7b2c7a6105d4d7d3a73930a087dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set expected lengths of the busy tone.  <a href="#a6fa7b2c7a6105d4d7d3a73930a087dd4">More...</a><br /></td></tr>
<tr class="separator:a6fa7b2c7a6105d4d7d3a73930a087dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9912e8fcfc4d76058656934932af0b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#af9912e8fcfc4d76058656934932af0b1">ast_dsp_set_call_progress_zone</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, char *zone)</td></tr>
<tr class="memdesc:af9912e8fcfc4d76058656934932af0b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set zone for doing progress detection.  <a href="#af9912e8fcfc4d76058656934932af0b1">More...</a><br /></td></tr>
<tr class="separator:af9912e8fcfc4d76058656934932af0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28ffa065bd46d09b5b06de2f77183b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aa28ffa065bd46d09b5b06de2f77183b0">ast_dsp_set_digitmode</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, int digitmode)</td></tr>
<tr class="memdesc:aa28ffa065bd46d09b5b06de2f77183b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set digit mode.  <a href="#aa28ffa065bd46d09b5b06de2f77183b0">More...</a><br /></td></tr>
<tr class="separator:aa28ffa065bd46d09b5b06de2f77183b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cfa673380a4763168ce800db8b2f0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ad3cfa673380a4763168ce800db8b2f0b">ast_dsp_set_faxmode</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, int faxmode)</td></tr>
<tr class="memdesc:ad3cfa673380a4763168ce800db8b2f0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set fax mode.  <a href="#ad3cfa673380a4763168ce800db8b2f0b">More...</a><br /></td></tr>
<tr class="separator:ad3cfa673380a4763168ce800db8b2f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc7fa20fba91e3c018f6989e95c714b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aedc7fa20fba91e3c018f6989e95c714b">ast_dsp_set_features</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, int features)</td></tr>
<tr class="memdesc:aedc7fa20fba91e3c018f6989e95c714b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select feature set.  <a href="#aedc7fa20fba91e3c018f6989e95c714b">More...</a><br /></td></tr>
<tr class="separator:aedc7fa20fba91e3c018f6989e95c714b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6092cf8670af7b3f871a8064fb67d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#aac6092cf8670af7b3f871a8064fb67d3">ast_dsp_set_freqmode</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, int freq1, int dur, int <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a082868565d651c0da1d2f0c194cb3248">db</a>, int squelch)</td></tr>
<tr class="memdesc:aac6092cf8670af7b3f871a8064fb67d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set arbitrary frequency detection mode.  <a href="#aac6092cf8670af7b3f871a8064fb67d3">More...</a><br /></td></tr>
<tr class="separator:aac6092cf8670af7b3f871a8064fb67d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a0b883127ba1f853e9e0fa5f29d81b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a06a0b883127ba1f853e9e0fa5f29d81b">ast_dsp_set_threshold</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, int <a class="el" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a>)</td></tr>
<tr class="memdesc:a06a0b883127ba1f853e9e0fa5f29d81b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the minimum average magnitude threshold to determine talking by the DSP.  <a href="#a06a0b883127ba1f853e9e0fa5f29d81b">More...</a><br /></td></tr>
<tr class="separator:a06a0b883127ba1f853e9e0fa5f29d81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f3b67988bffb3addfbc8a4688fa466d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a3f3b67988bffb3addfbc8a4688fa466d">ast_dsp_silence</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *f, int *totalsilence)</td></tr>
<tr class="memdesc:a3f3b67988bffb3addfbc8a4688fa466d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the audio frame for silence.  <a href="#a3f3b67988bffb3addfbc8a4688fa466d">More...</a><br /></td></tr>
<tr class="separator:a3f3b67988bffb3addfbc8a4688fa466d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584d2b608db31342bff90e53b52eda46"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#a584d2b608db31342bff90e53b52eda46">ast_dsp_silence_with_energy</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *f, int *totalsilence, int *frames_energy)</td></tr>
<tr class="memdesc:a584d2b608db31342bff90e53b52eda46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the audio frame for silence.  <a href="#a584d2b608db31342bff90e53b52eda46">More...</a><br /></td></tr>
<tr class="separator:a584d2b608db31342bff90e53b52eda46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6f146702ec253a6189176566527d30"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d08/dsp_8h.html#ace6f146702ec253a6189176566527d30">ast_dsp_was_muted</a> (struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *dsp)</td></tr>
<tr class="memdesc:ace6f146702ec253a6189176566527d30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if DSP code was muting any fragment of the last processed frame. Muting (squelching) happens when DSP code removes DTMF/MF/generic tones from the audio.  <a href="#ace6f146702ec253a6189176566527d30">More...</a><br /></td></tr>
<tr class="separator:ace6f146702ec253a6189176566527d30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Convenient Signal Processing routines. </p>

<p class="definition">Definition in file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af0e16e88030540319d8a545dd7c2576c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0e16e88030540319d8a545dd7c2576c">&#9670;&nbsp;</a></span>DSP_DIGITMODE_DTMF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_DIGITMODE_DTMF&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Detect DTMF digits </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00031">31</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01722">__ast_dsp_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01844">ast_dsp_set_digitmode()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05992">dahdi_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06545">dahdi_setoption()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04896">enable_dsp_detect()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l12095">mkintf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01591">my_dsp_set_digitmode()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>.</p>

</div>
</div>
<a id="a5c7b41ef167d85ab193697e010dce94b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7b41ef167d85ab193697e010dce94b">&#9670;&nbsp;</a></span>DSP_DIGITMODE_MF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_DIGITMODE_MF&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Detect MF digits </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00032">32</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01722">__ast_dsp_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01797">ast_dsp_digitreset()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01844">ast_dsp_set_digitmode()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01591">my_dsp_set_digitmode()</a>, and <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>.</p>

</div>
</div>
<a id="aa34f768f0cae2ee8f2db1e8f57f02b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa34f768f0cae2ee8f2db1e8f57f02b21">&#9670;&nbsp;</a></span>DSP_DIGITMODE_MUTECONF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_DIGITMODE_MUTECONF&#160;&#160;&#160;(1 &lt;&lt; 9)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mute conference </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00035">35</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01844">ast_dsp_set_digitmode()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06545">dahdi_setoption()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00551">read_mf_exec()</a>, and <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00472">read_sf_exec()</a>.</p>

</div>
</div>
<a id="a6d78a2f3c0532d36beca1b8b5e97eb30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d78a2f3c0532d36beca1b8b5e97eb30">&#9670;&nbsp;</a></span>DSP_DIGITMODE_MUTEMAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_DIGITMODE_MUTEMAX&#160;&#160;&#160;(1 &lt;&lt; 10)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delay audio by a frame to try to extra quelch </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00036">36</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01844">ast_dsp_set_digitmode()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06545">dahdi_setoption()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00551">read_mf_exec()</a>, and <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00472">read_sf_exec()</a>.</p>

</div>
</div>
<a id="a3e5f9f8f26812f78103589047d426ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e5f9f8f26812f78103589047d426ea4">&#9670;&nbsp;</a></span>DSP_DIGITMODE_NOQUELCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_DIGITMODE_NOQUELCH&#160;&#160;&#160;(1 &lt;&lt; 8)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do not quelch DTMF from in-band </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00034">34</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00551">read_mf_exec()</a>, and <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00472">read_sf_exec()</a>.</p>

</div>
</div>
<a id="af955a2d9ad32683d8d783619480cd348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af955a2d9ad32683d8d783619480cd348">&#9670;&nbsp;</a></span>DSP_DIGITMODE_RELAXDTMF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_DIGITMODE_RELAXDTMF&#160;&#160;&#160;(1 &lt;&lt; 11)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Radio" mode (relaxed DTMF) </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00037">37</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06545">dahdi_setoption()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04896">enable_dsp_detect()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17900">process_dahdi()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00551">read_mf_exec()</a>, and <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00472">read_sf_exec()</a>.</p>

</div>
</div>
<a id="ab7d3f1a42dc44a2d306ab6734cd9c753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7d3f1a42dc44a2d306ab6734cd9c753">&#9670;&nbsp;</a></span>DSP_FAXMODE_DETECT_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FAXMODE_DETECT_ALL&#160;&#160;&#160;(<a class="el" href="../../d3/d08/dsp_8h.html#aa97125e8415ed15db98bb7e79b17ab73">DSP_FAXMODE_DETECT_CNG</a> | <a class="el" href="../../d3/d08/dsp_8h.html#a9cf0612744d70d091c16780d55d0a122">DSP_FAXMODE_DETECT_CED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00050">50</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

</div>
</div>
<a id="a9cf0612744d70d091c16780d55d0a122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf0612744d70d091c16780d55d0a122">&#9670;&nbsp;</a></span>DSP_FAXMODE_DETECT_CED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FAXMODE_DETECT_CED&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00048">48</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>.</p>

</div>
</div>
<a id="aa97125e8415ed15db98bb7e79b17ab73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa97125e8415ed15db98bb7e79b17ab73">&#9670;&nbsp;</a></span>DSP_FAXMODE_DETECT_CNG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FAXMODE_DETECT_CNG&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00047">47</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01722">__ast_dsp_new()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03694">fax_detect_new()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>.</p>

</div>
</div>
<a id="a9baae529c58a54aaa53a0ccef8caa05e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9baae529c58a54aaa53a0ccef8caa05e">&#9670;&nbsp;</a></span>DSP_FAXMODE_DETECT_SQUELCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FAXMODE_DETECT_SQUELCH&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00049">49</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00511">ast_fax_detect_init()</a>, and <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03694">fax_detect_new()</a>.</p>

</div>
</div>
<a id="a25ab003573ab7f608bc42723b3a5168a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25ab003573ab7f608bc42723b3a5168a">&#9670;&nbsp;</a></span>DSP_FEATURE_BUSY_DETECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FEATURE_BUSY_DETECT&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00027">27</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>.</p>

</div>
</div>
<a id="aa21ad1de4ef65e04563f6283a2213e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa21ad1de4ef65e04563f6283a2213e25">&#9670;&nbsp;</a></span>DSP_FEATURE_CALL_PROGRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FEATURE_CALL_PROGRESS&#160;&#160;&#160;(<a class="el" href="../../d3/d08/dsp_8h.html#a3096d3630e21aecb4f12942a1f6361f6">DSP_PROGRESS_TALK</a> | <a class="el" href="../../d3/d08/dsp_8h.html#a16d17271711ea378f25fbb6b46f5aa05">DSP_PROGRESS_RINGING</a> | <a class="el" href="../../d3/d08/dsp_8h.html#a8d6f6052e448286a7c431a18fc257027">DSP_PROGRESS_BUSY</a> | <a class="el" href="../../d3/d08/dsp_8h.html#aa0e79afce1894ffd75851c1e192d00ae">DSP_PROGRESS_CONGESTION</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00043">43</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>.</p>

</div>
</div>
<a id="a84818b360426bdd5f588cdca463e15be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84818b360426bdd5f588cdca463e15be">&#9670;&nbsp;</a></span>DSP_FEATURE_DIGIT_DETECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FEATURE_DIGIT_DETECT&#160;&#160;&#160;(1 &lt;&lt; 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00028">28</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01755">ast_dsp_set_features()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02990">ast_sip_session_alloc()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06473">dahdi_dtmf_detect_disable()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06487">dahdi_dtmf_detect_enable()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04896">enable_dsp_detect()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12365">misdn_set_opt_exec()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01530">pjsip_acf_dtmf_mode_write()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l05922">read_config()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00485">set_caps()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08631">sip_rtp_read()</a>.</p>

</div>
</div>
<a id="a92045e8a8ad56b9b31d24db325fa95ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92045e8a8ad56b9b31d24db325fa95ab">&#9670;&nbsp;</a></span>DSP_FEATURE_FAX_DETECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FEATURE_FAX_DETECT&#160;&#160;&#160;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00029">29</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02990">ast_sip_session_alloc()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00765">chan_pjsip_cng_tone_detected()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00838">chan_pjsip_read_stream()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07231">dahdi_handle_dtmf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06504">dahdi_queryoption()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06545">dahdi_setoption()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04896">enable_dsp_detect()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03694">fax_detect_new()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12365">misdn_set_opt_exec()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01648">my_handle_dtmf()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, and <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l05922">read_config()</a>.</p>

</div>
</div>
<a id="aba34e93f4bf51e43868d1655efec7020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba34e93f4bf51e43868d1655efec7020">&#9670;&nbsp;</a></span>DSP_FEATURE_FREQ_DETECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FEATURE_FREQ_DETECT&#160;&#160;&#160;(1 &lt;&lt; 21)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable arbitrary tone detection </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00045">45</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00399">detect_write()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00358">read_sf_digits()</a>, and <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00524">wait_exec()</a>.</p>

</div>
</div>
<a id="ab63492d48665481cbd29d913a6341b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab63492d48665481cbd29d913a6341b8e">&#9670;&nbsp;</a></span>DSP_FEATURE_SILENCE_SUPPRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FEATURE_SILENCE_SUPPRESS&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00026">26</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01722">__ast_dsp_new()</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>.</p>

</div>
</div>
<a id="a1d5cf337f5788319b8ba8bf6d161dce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d5cf337f5788319b8ba8bf6d161dce5">&#9670;&nbsp;</a></span>DSP_FEATURE_WAITDIALTONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_FEATURE_WAITDIALTONE&#160;&#160;&#160;(1 &lt;&lt; 20)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable dial tone detection </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00044">44</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>.</p>

</div>
</div>
<a id="a8d6f6052e448286a7c431a18fc257027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d6f6052e448286a7c431a18fc257027">&#9670;&nbsp;</a></span>DSP_PROGRESS_BUSY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_PROGRESS_BUSY&#160;&#160;&#160;(1 &lt;&lt; 18)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable busy tone detection </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00041">41</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="aa0e79afce1894ffd75851c1e192d00ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0e79afce1894ffd75851c1e192d00ae">&#9670;&nbsp;</a></span>DSP_PROGRESS_CONGESTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_PROGRESS_CONGESTION&#160;&#160;&#160;(1 &lt;&lt; 19)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable congestion tone detection </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00042">42</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="a16d17271711ea378f25fbb6b46f5aa05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d17271711ea378f25fbb6b46f5aa05">&#9670;&nbsp;</a></span>DSP_PROGRESS_RINGING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_PROGRESS_RINGING&#160;&#160;&#160;(1 &lt;&lt; 17)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable calling tone detection </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00040">40</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="a3096d3630e21aecb4f12942a1f6361f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3096d3630e21aecb4f12942a1f6361f6">&#9670;&nbsp;</a></span>DSP_PROGRESS_TALK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_PROGRESS_TALK&#160;&#160;&#160;(1 &lt;&lt; 16)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable talk detection </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00039">39</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>.</p>

</div>
</div>
<a id="a6a2d15a82b53bebc4a233831fd8b2469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2d15a82b53bebc4a233831fd8b2469">&#9670;&nbsp;</a></span>DSP_TONE_STATE_BUSY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_BUSY&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00056">56</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="a2aa4a8185d14eb917c5c1fd498b234d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa4a8185d14eb917c5c1fd498b234d6">&#9670;&nbsp;</a></span>DSP_TONE_STATE_DIALTONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_DIALTONE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00054">54</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>.</p>

</div>
</div>
<a id="ab7fa94945ad3c54830a2c54ce377df5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7fa94945ad3c54830a2c54ce377df5c">&#9670;&nbsp;</a></span>DSP_TONE_STATE_HUNGUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_HUNGUP&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00060">60</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="ad2b35b81126d95bb62e32d66ec15d907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b35b81126d95bb62e32d66ec15d907">&#9670;&nbsp;</a></span>DSP_TONE_STATE_RINGING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_RINGING&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00053">53</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>.</p>

</div>
</div>
<a id="a3d3e74ee4ce09143367f282416532a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3e74ee4ce09143367f282416532a8a">&#9670;&nbsp;</a></span>DSP_TONE_STATE_SILENCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_SILENCE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00052">52</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="a9801c31d7afb7271e894b47d8d78355c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9801c31d7afb7271e894b47d8d78355c">&#9670;&nbsp;</a></span>DSP_TONE_STATE_SPECIAL1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_SPECIAL1&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00057">57</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="a20f8dce7565474d6a0e5e126c9c2354f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f8dce7565474d6a0e5e126c9c2354f">&#9670;&nbsp;</a></span>DSP_TONE_STATE_SPECIAL2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_SPECIAL2&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00058">58</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="a198fb3e9530aa0497a16a98cf9d20016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a198fb3e9530aa0497a16a98cf9d20016">&#9670;&nbsp;</a></span>DSP_TONE_STATE_SPECIAL3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_SPECIAL3&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00059">59</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<a id="ac38adabe9708c6b5d64d074fbd7679a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac38adabe9708c6b5d64d074fbd7679a1">&#9670;&nbsp;</a></span>DSP_TONE_STATE_TALKING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSP_TONE_STATE_TALKING&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00055">55</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a11a8ce2b7eba2230cab37aad708d9abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a8ce2b7eba2230cab37aad708d9abf">&#9670;&nbsp;</a></span>threshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a11a8ce2b7eba2230cab37aad708d9abfa40278495f8621707b864e57e1110d20f"></a>THRESHOLD_SILENCE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a11a8ce2b7eba2230cab37aad708d9abfab7803c38447503d92bdcaaebddc19231"></a>THRESHOLD_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d08/dsp_8h_source.html#l00071">71</a> of file <a class="el" href="../../d3/d08/dsp_8h_source.html">dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;               {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   <span class="comment">/* Array offsets */</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <a class="code" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abfa40278495f8621707b864e57e1110d20f">THRESHOLD_SILENCE</a> = 0,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   <span class="comment">/* Always the last */</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   <a class="code" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abfab7803c38447503d92bdcaaebddc19231">THRESHOLD_MAX</a> = 1,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;};</div><div class="ttc" id="dsp_8h_html_a11a8ce2b7eba2230cab37aad708d9abfa40278495f8621707b864e57e1110d20f"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abfa40278495f8621707b864e57e1110d20f">THRESHOLD_SILENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00073">dsp.h:73</a></div></div>
<div class="ttc" id="dsp_8h_html_a11a8ce2b7eba2230cab37aad708d9abfab7803c38447503d92bdcaaebddc19231"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abfab7803c38447503d92bdcaaebddc19231">THRESHOLD_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00075">dsp.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad3349aaac5958df1f8a0147ebccf05dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3349aaac5958df1f8a0147ebccf05dc">&#9670;&nbsp;</a></span>ast_dsp_busydetect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_busydetect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return non-zero if historically this should be a busy, request that ast_dsp_silence has already been called. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01295">1295</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/dc2/f2c_8h_source.html#l00195">abs</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00416">ast_dsp::busy_cadence</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00147">BUSY_MAX</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00146">BUSY_MIN</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00144">BUSY_PAT_PERCENT</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00143">BUSY_PERCENT</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00415">ast_dsp::busycount</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00414">ast_dsp::busymaybe</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00151">DSP_HISTORY</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00417">ast_dsp::historicnoise</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00418">ast_dsp::historicsilence</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00066">ast_dsp_busy_pattern::length</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00228">MAX</a>, and <a class="el" href="../../d3/d08/dsp_8h_source.html#l00068">ast_dsp_busy_pattern::pattern</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">ast_dsp_process()</a>.</p>
<div class="fragment"><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;{</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;   <span class="keywordtype">int</span> res = 0, x;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="preprocessor">#ifndef BUSYDETECT_TONEONLY</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;   <span class="keywordtype">int</span> avgsilence = 0, hitsilence = 0;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keywordtype">int</span> avgtone = 0, hittone = 0;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;   <span class="comment">/* if we have a 4 length pattern, the way busymaybe is set doesn&#39;t help us. */</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;   <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a9f59b34b1f25fe00023291b678246bcc">length</a> != 4) {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="keywordflow">if</span> (!dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a2233cf21d796054791292606009acbf8">busymaybe</a>) {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;         <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   }</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;   <span class="keywordflow">for</span> (x = <a class="code" href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a> - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a>; x &lt; <a class="code" href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a>; x++) {</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="preprocessor">#ifndef BUSYDETECT_TONEONLY</span></div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      avgsilence += dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>[x];</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      avgtone += dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>[x];</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;   }</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="preprocessor">#ifndef BUSYDETECT_TONEONLY</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;   avgsilence /= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a>;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;   avgtone /= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a>;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   <span class="keywordflow">for</span> (x = <a class="code" href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a> - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a>; x &lt; <a class="code" href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a>; x++) {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="preprocessor">#ifndef BUSYDETECT_TONEONLY</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="keywordflow">if</span> (avgsilence &gt; dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>[x]) {</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;         <span class="keywordflow">if</span> (avgsilence - (avgsilence * <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a> / 100) &lt;= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>[x]) {</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            hitsilence++;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;         }</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;         <span class="keywordflow">if</span> (avgsilence + (avgsilence * <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a> / 100) &gt;= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>[x]) {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            hitsilence++;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;         }</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      }</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keywordflow">if</span> (avgtone &gt; dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>[x]) {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;         <span class="keywordflow">if</span> (avgtone - (avgtone * <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a> / 100) &lt;= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>[x]) {</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            hittone++;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;         }</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;         <span class="keywordflow">if</span> (avgtone + (avgtone * <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a> / 100) &gt;= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>[x]) {</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            hittone++;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;         }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      }</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   }</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="preprocessor">#ifndef BUSYDETECT_TONEONLY</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   <span class="keywordflow">if</span> ((hittone &gt;= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a> - 1) &amp;&amp; (hitsilence &gt;= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a> - 1) &amp;&amp;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;       (avgtone &gt;= <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa8fda9d1e84f60c5e84a392a404f6ff40">BUSY_MIN</a> &amp;&amp; avgtone &lt;= <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa5a4f81a75666e40a10a22d23c00e42d5">BUSY_MAX</a>) &amp;&amp;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;       (avgsilence &gt;= <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa8fda9d1e84f60c5e84a392a404f6ff40">BUSY_MIN</a> &amp;&amp; avgsilence &lt;= <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa5a4f81a75666e40a10a22d23c00e42d5">BUSY_MAX</a>))</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;   <span class="keywordflow">if</span> ((hittone &gt;= dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a> - 1) &amp;&amp; (avgtone &gt;= <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa8fda9d1e84f60c5e84a392a404f6ff40">BUSY_MIN</a> &amp;&amp; avgtone &lt;= <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa5a4f81a75666e40a10a22d23c00e42d5">BUSY_MAX</a>))</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;   {</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="preprocessor">#ifdef BUSYDETECT_COMPARE_TONE_AND_SILENCE</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="keywordflow">if</span> (avgtone &gt; avgsilence) {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;         <span class="keywordflow">if</span> (avgtone - avgtone*<a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a>/100 &lt;= avgsilence) {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            res = 1;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;         }</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;         <span class="keywordflow">if</span> (avgtone + avgtone*<a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a>/100 &gt;= avgsilence) {</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            res = 1;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;         }</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      res = 1;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;   }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;   <span class="comment">/* If we have a 4-length pattern, we can go ahead and just check it in a different way. */</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;   <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a9f59b34b1f25fe00023291b678246bcc">length</a> == 4) {</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      <span class="keywordtype">int</span> x;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordtype">int</span> errors = 0;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordtype">int</span> errors_max = ((4 * dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a>) / 100.0) * <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa69f24fafffd787f70bbf4467e103015f">BUSY_PAT_PERCENT</a>;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <span class="keywordflow">for</span> (x = <a class="code" href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a> - (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a>); x &lt; <a class="code" href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a>; x += 2) {</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;         <span class="keywordtype">int</span> temp_error;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;         temp_error = <a class="code" href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>[x] - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[0]);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;         <span class="keywordflow">if</span> ((temp_error * 100) / dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[0] &gt; <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a>) {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            errors++;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;         }</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;         temp_error = <a class="code" href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>[x + 1] - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[2]);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;         <span class="keywordflow">if</span> ((temp_error * 100) / dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[2] &gt; <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a>) {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            errors++;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;         }</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;         temp_error = <a class="code" href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>[x] - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[1]);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;         <span class="keywordflow">if</span> ((temp_error * 100) / dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[1] &gt; <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a>) {</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            errors++;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;         }</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;         temp_error = <a class="code" href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>[x + 1] - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[3]);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;         <span class="keywordflow">if</span> ((temp_error * 100) / dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[3] &gt; <a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a>) {</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            errors++;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;         }</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;errors = %d  max = %d\n&quot;</span>, errors, errors_max);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="keywordflow">if</span> (errors &lt;= errors_max) {</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      }</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   }</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   <span class="comment">/* If we know the expected busy tone length, check we are in the range */</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <span class="keywordflow">if</span> (res &amp;&amp; (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[0] &gt; 0)) {</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(avgtone - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[0]) &gt; <a class="code" href="../../d5/d60/utils_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[0]*<a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa69f24fafffd787f70bbf4467e103015f">BUSY_PAT_PERCENT</a>/100, 20)) {</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="preprocessor">#ifdef BUSYDETECT_DEBUG</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;busy detector: avgtone of %d not close enough to desired %d\n&quot;</span>,</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            avgtone, dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[0]);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;         res = 0;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      }</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;   }</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="preprocessor">#ifndef BUSYDETECT_TONEONLY</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;   <span class="comment">/* If we know the expected busy tone silent-period length, check we are in the range */</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <span class="keywordflow">if</span> (res &amp;&amp; (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[1] &gt; 0)) {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(avgsilence - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[1]) &gt; <a class="code" href="../../d5/d60/utils_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[1]*<a class="code" href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa69f24fafffd787f70bbf4467e103015f">BUSY_PAT_PERCENT</a>/100, 20)) {</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="preprocessor">#ifdef BUSYDETECT_DEBUG</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;busy detector: avgsilence of %d not close enough to desired %d\n&quot;</span>,</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;         avgsilence, dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a>.<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[1]);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;         res = 0;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      }</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   }</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="preprocessor">#if !defined(BUSYDETECT_TONEONLY) &amp;&amp; defined(BUSYDETECT_DEBUG)</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;ast_dsp_busydetect detected busy, avgtone: %d, avgsilence %d\n&quot;</span>, avgtone, avgsilence);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;busy detector: FAILED with avgtone: %d, avgsilence %d\n&quot;</span>, avgtone, avgsilence);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;   }</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a2233cf21d796054791292606009acbf8"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a2233cf21d796054791292606009acbf8">ast_dsp::busymaybe</a></div><div class="ttdeci">int busymaybe</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00414">dsp.c:414</a></div></div>
<div class="ttc" id="dsp_8c_html_a9fb2e530706d025a0d33063363a8ac8aa5a4f81a75666e40a10a22d23c00e42d5"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa5a4f81a75666e40a10a22d23c00e42d5">BUSY_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00147">dsp.c:147</a></div></div>
<div class="ttc" id="dsp_8c_html_a9fb2e530706d025a0d33063363a8ac8aa8fda9d1e84f60c5e84a392a404f6ff40"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa8fda9d1e84f60c5e84a392a404f6ff40">BUSY_MIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00146">dsp.c:146</a></div></div>
<div class="ttc" id="dsp_8c_html_a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aad895eaff8ec976c7efe788d100c83bb5">BUSY_PERCENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00143">dsp.c:143</a></div></div>
<div class="ttc" id="structast__dsp__busy__pattern_html_a8bf4ddcdbc0a03e32898ba1c5a20c953"><div class="ttname"><a href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">ast_dsp_busy_pattern::pattern</a></div><div class="ttdeci">int pattern[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00068">dsp.h:68</a></div></div>
<div class="ttc" id="structast__dsp_html_a8d44232b19e9d5b8976167ce4600408a"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">ast_dsp::historicsilence</a></div><div class="ttdeci">int historicsilence[DSP_HISTORY]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00418">dsp.c:418</a></div></div>
<div class="ttc" id="structast__dsp_html_a094105f8d645c85f853b07b09afd5f66"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">ast_dsp::historicnoise</a></div><div class="ttdeci">int historicnoise[DSP_HISTORY]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00417">dsp.c:417</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="utils_8h_html_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00228">utils.h:228</a></div></div>
<div class="ttc" id="structast__dsp_html_a29a1e575aa8b94876e2d3b8da3f6da2b"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">ast_dsp::busycount</a></div><div class="ttdeci">int busycount</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00415">dsp.c:415</a></div></div>
<div class="ttc" id="structast__dsp__busy__pattern_html_a9f59b34b1f25fe00023291b678246bcc"><div class="ttname"><a href="../../d0/d5b/structast__dsp__busy__pattern.html#a9f59b34b1f25fe00023291b678246bcc">ast_dsp_busy_pattern::length</a></div><div class="ttdeci">int length</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00066">dsp.h:66</a></div></div>
<div class="ttc" id="dsp_8c_html_a9fb2e530706d025a0d33063363a8ac8aa69f24fafffd787f70bbf4467e103015f"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a9fb2e530706d025a0d33063363a8ac8aa69f24fafffd787f70bbf4467e103015f">BUSY_PAT_PERCENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00144">dsp.c:144</a></div></div>
<div class="ttc" id="structast__dsp_html_ae40d7af4dfc270d67db982403bcebba0"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">ast_dsp::busy_cadence</a></div><div class="ttdeci">struct ast_dsp_busy_pattern busy_cadence</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00416">dsp.c:416</a></div></div>
<div class="ttc" id="f2c_8h_html_a3aa069ac3980707dae1e0530f50d59e4"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a></div><div class="ttdeci">#define abs(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00195">f2c.h:195</a></div></div>
<div class="ttc" id="dsp_8c_html_ab32788a6894e4f84d7c49ce6a2b4bd10"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a></div><div class="ttdeci">#define DSP_HISTORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00151">dsp.c:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66eb1c63ea0e0002ff7507fd9da0eccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66eb1c63ea0e0002ff7507fd9da0eccf">&#9670;&nbsp;</a></span>ast_dsp_call_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_call_progress </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>inf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scans for progress indication in audio. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01216">1216</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00542">ast_format_cache_is_slinear()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">ast_frame_subclass::format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>
<div class="fragment"><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;{</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   <span class="keywordflow">if</span> (inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Can&#39;t check call progress of non-voice frames\n&quot;</span>);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   }</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d1c/format__cache_8h.html#a309515067d94f11b99659093c5beefee">ast_format_cache_is_slinear</a>(inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>)) {</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Can only check call progress in signed-linear frames\n&quot;</span>);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;   }</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d3b/dsp_8c.html#a309197e46487283dfa6c7614a3e3d1f9">__ast_dsp_call_progress</a>(dsp, inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>, inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> / 2);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div><div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="dsp_8c_html_a309197e46487283dfa6c7614a3e3d1f9"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a309197e46487283dfa6c7614a3e3d1f9">__ast_dsp_call_progress</a></div><div class="ttdeci">static int __ast_dsp_call_progress(struct ast_dsp *dsp, short *s, int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01074">dsp.c:1074</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="format__cache_8h_html_a309515067d94f11b99659093c5beefee"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a309515067d94f11b99659093c5beefee">ast_format_cache_is_slinear</a></div><div class="ttdeci">int ast_format_cache_is_slinear(struct ast_format *format)</div><div class="ttdoc">Determines if a format is one of the cached slin formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00542">format_cache.c:542</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">ast_frame_subclass::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">include/asterisk/frame.h:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d6599c15021bada086be1a7dafdce30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d6599c15021bada086be1a7dafdce30">&#9670;&nbsp;</a></span>ast_dsp_digitdetect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_digitdetect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return non-zero if DTMF hit was found. </p>

</div>
</div>
<a id="a45fbc637da9251814352c97382f24d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45fbc637da9251814352c97382f24d40">&#9670;&nbsp;</a></span>ast_dsp_digitreset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dsp_digitreset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset DTMF detector. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01797">1797</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00284">dtmf_detect_state_t::col_out</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00307">digit_detect_state_t::current_digits</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00288">dtmf_detect_state_t::current_hit</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00297">mf_detect_state_t::current_hit</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00290">dtmf_detect_state_t::current_sample</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00299">mf_detect_state_t::current_sample</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00435">ast_dsp::digit_state</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00426">ast_dsp::digitmode</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00305">digit_detect_state_t::digits</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00032">DSP_DIGITMODE_MF</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00312">digit_detect_state_t::dtmf</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00429">ast_dsp::dtmf_began</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00289">dtmf_detect_state_t::energy</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00382">goertzel_reset()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00285">dtmf_detect_state_t::hits</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00298">mf_detect_state_t::hits</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00287">dtmf_detect_state_t::lasthit</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00313">digit_detect_state_t::mf</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00286">dtmf_detect_state_t::misses</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00283">dtmf_detect_state_t::row_out</a>, <a class="el" href="../../d7/dd0/structdigit__detect__state__t.html#a07c84020c6c083f2732be8ff6a6c65ca">digit_detect_state_t::td</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00296">mf_detect_state_t::tone_out</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00847">mbl_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01582">my_dsp_reset_and_flush_digits()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l02096">test_dtmf_amplitude_sweep()</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l02176">test_dtmf_twist_sweep()</a>.</p>
<div class="fragment"><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;{</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aba87c96f3d55cec3433197cb774bdb81">dtmf_began</a> = 0;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;   <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">digitmode</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a>) {</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      <a class="code" href="../../d5/d5b/structmf__detect__state__t.html">mf_detect_state_t</a> *s = &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#a07c84020c6c083f2732be8ff6a6c65ca">td</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#a6bcc9350bec0d851925e46ca38a90349">mf</a>;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      <span class="comment">/* Reinitialise the detector for the next block */</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; 6; i++) {</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;         <a class="code" href="../../d5/d3b/dsp_8c.html#aa823bf1feac16cc6fe3d06aad8b1262c">goertzel_reset</a>(&amp;s-&gt;<a class="code" href="../../d5/d5b/structmf__detect__state__t.html#aefd6f30bb7df6a58d77f2e7032300889">tone_out</a>[i]);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      }</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      s-&gt;<a class="code" href="../../d5/d5b/structmf__detect__state__t.html#ab504ac2052e441f05b416f0582f169ea">hits</a>[4] = s-&gt;<a class="code" href="../../d5/d5b/structmf__detect__state__t.html#ab504ac2052e441f05b416f0582f169ea">hits</a>[3] = s-&gt;<a class="code" href="../../d5/d5b/structmf__detect__state__t.html#ab504ac2052e441f05b416f0582f169ea">hits</a>[2] = s-&gt;<a class="code" href="../../d5/d5b/structmf__detect__state__t.html#ab504ac2052e441f05b416f0582f169ea">hits</a>[1] = s-&gt;<a class="code" href="../../d5/d5b/structmf__detect__state__t.html#ab504ac2052e441f05b416f0582f169ea">hits</a>[0] = 0;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      s-&gt;<a class="code" href="../../d5/d5b/structmf__detect__state__t.html#af2509132e185dd749b33dc32e1ca5949">current_hit</a> = 0;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      s-&gt;<a class="code" href="../../d5/d5b/structmf__detect__state__t.html#af507d2d28aa3774531b92b9e88a154b5">current_sample</a> = 0;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      <a class="code" href="../../df/d42/structdtmf__detect__state__t.html">dtmf_detect_state_t</a> *s = &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#a07c84020c6c083f2732be8ff6a6c65ca">td</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#a8c1c9dbb611393e228a8a861ef042068">dtmf</a>;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      <span class="comment">/* Reinitialise the detector for the next block */</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; 4; i++) {</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;         <a class="code" href="../../d5/d3b/dsp_8c.html#aa823bf1feac16cc6fe3d06aad8b1262c">goertzel_reset</a>(&amp;s-&gt;<a class="code" href="../../df/d42/structdtmf__detect__state__t.html#a08afba015760120cc445d7d7cf11c24f">row_out</a>[i]);</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;         <a class="code" href="../../d5/d3b/dsp_8c.html#aa823bf1feac16cc6fe3d06aad8b1262c">goertzel_reset</a>(&amp;s-&gt;<a class="code" href="../../df/d42/structdtmf__detect__state__t.html#ae2a8d527cd8efbc81c4d39c2bf216c2a">col_out</a>[i]);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      }</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      s-&gt;<a class="code" href="../../df/d42/structdtmf__detect__state__t.html#af1fb0b506fe9bf5d68b9e2d84393945e">lasthit</a> = 0;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      s-&gt;<a class="code" href="../../df/d42/structdtmf__detect__state__t.html#af2509132e185dd749b33dc32e1ca5949">current_hit</a> = 0;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      s-&gt;<a class="code" href="../../df/d42/structdtmf__detect__state__t.html#a2d107b3b2dcebab8a10c9d39894f6b2a">energy</a> = 0.0;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      s-&gt;<a class="code" href="../../df/d42/structdtmf__detect__state__t.html#af507d2d28aa3774531b92b9e88a154b5">current_sample</a> = 0;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      s-&gt;<a class="code" href="../../df/d42/structdtmf__detect__state__t.html#a6eb4f6f645392a720b883b687918880f">hits</a> = 0;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      s-&gt;<a class="code" href="../../df/d42/structdtmf__detect__state__t.html#acb6b7e41e677928ff3ee0f9930319eee">misses</a> = 0;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;   }</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#abc255092d94df3f9fc5937c9177bcf3c">digits</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#ac74ec91ceeab32c9468de13feb7c4d33">current_digits</a> = 0;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;}</div><div class="ttc" id="structdigit__detect__state__t_html_a07c84020c6c083f2732be8ff6a6c65ca"><div class="ttname"><a href="../../d7/dd0/structdigit__detect__state__t.html#a07c84020c6c083f2732be8ff6a6c65ca">digit_detect_state_t::td</a></div><div class="ttdeci">union digit_detect_state_t::@383 td</div></div>
<div class="ttc" id="structdtmf__detect__state__t_html_acb6b7e41e677928ff3ee0f9930319eee"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html#acb6b7e41e677928ff3ee0f9930319eee">dtmf_detect_state_t::misses</a></div><div class="ttdeci">int misses</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00286">dsp.c:286</a></div></div>
<div class="ttc" id="dsp_8h_html_a5c7b41ef167d85ab193697e010dce94b"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a></div><div class="ttdeci">#define DSP_DIGITMODE_MF</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00032">dsp.h:32</a></div></div>
<div class="ttc" id="structmf__detect__state__t_html"><div class="ttname"><a href="../../d5/d5b/structmf__detect__state__t.html">mf_detect_state_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00294">dsp.c:294</a></div></div>
<div class="ttc" id="structdtmf__detect__state__t_html_a6eb4f6f645392a720b883b687918880f"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html#a6eb4f6f645392a720b883b687918880f">dtmf_detect_state_t::hits</a></div><div class="ttdeci">int hits</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00285">dsp.c:285</a></div></div>
<div class="ttc" id="structdigit__detect__state__t_html_ac74ec91ceeab32c9468de13feb7c4d33"><div class="ttname"><a href="../../d7/dd0/structdigit__detect__state__t.html#ac74ec91ceeab32c9468de13feb7c4d33">digit_detect_state_t::current_digits</a></div><div class="ttdeci">int current_digits</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00307">dsp.c:307</a></div></div>
<div class="ttc" id="structmf__detect__state__t_html_aefd6f30bb7df6a58d77f2e7032300889"><div class="ttname"><a href="../../d5/d5b/structmf__detect__state__t.html#aefd6f30bb7df6a58d77f2e7032300889">mf_detect_state_t::tone_out</a></div><div class="ttdeci">goertzel_state_t tone_out[6]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00296">dsp.c:296</a></div></div>
<div class="ttc" id="structdtmf__detect__state__t_html_af2509132e185dd749b33dc32e1ca5949"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html#af2509132e185dd749b33dc32e1ca5949">dtmf_detect_state_t::current_hit</a></div><div class="ttdeci">int current_hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00288">dsp.c:288</a></div></div>
<div class="ttc" id="dsp_8c_html_aa823bf1feac16cc6fe3d06aad8b1262c"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#aa823bf1feac16cc6fe3d06aad8b1262c">goertzel_reset</a></div><div class="ttdeci">static void goertzel_reset(goertzel_state_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00382">dsp.c:382</a></div></div>
<div class="ttc" id="structast__dsp_html_a79258a44d42aea84f2ff2b5bafff1ed6"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">ast_dsp::digit_state</a></div><div class="ttdeci">digit_detect_state_t digit_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00435">dsp.c:435</a></div></div>
<div class="ttc" id="structdtmf__detect__state__t_html"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html">dtmf_detect_state_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00281">dsp.c:281</a></div></div>
<div class="ttc" id="structdigit__detect__state__t_html_abc255092d94df3f9fc5937c9177bcf3c"><div class="ttname"><a href="../../d7/dd0/structdigit__detect__state__t.html#abc255092d94df3f9fc5937c9177bcf3c">digit_detect_state_t::digits</a></div><div class="ttdeci">char digits[MAX_DTMF_DIGITS+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00305">dsp.c:305</a></div></div>
<div class="ttc" id="structdtmf__detect__state__t_html_af1fb0b506fe9bf5d68b9e2d84393945e"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html#af1fb0b506fe9bf5d68b9e2d84393945e">dtmf_detect_state_t::lasthit</a></div><div class="ttdeci">int lasthit</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00287">dsp.c:287</a></div></div>
<div class="ttc" id="structdigit__detect__state__t_html_a8c1c9dbb611393e228a8a861ef042068"><div class="ttname"><a href="../../d7/dd0/structdigit__detect__state__t.html#a8c1c9dbb611393e228a8a861ef042068">digit_detect_state_t::dtmf</a></div><div class="ttdeci">dtmf_detect_state_t dtmf</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00312">dsp.c:312</a></div></div>
<div class="ttc" id="structdtmf__detect__state__t_html_af507d2d28aa3774531b92b9e88a154b5"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html#af507d2d28aa3774531b92b9e88a154b5">dtmf_detect_state_t::current_sample</a></div><div class="ttdeci">int current_sample</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00290">dsp.c:290</a></div></div>
<div class="ttc" id="structdtmf__detect__state__t_html_ae2a8d527cd8efbc81c4d39c2bf216c2a"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html#ae2a8d527cd8efbc81c4d39c2bf216c2a">dtmf_detect_state_t::col_out</a></div><div class="ttdeci">goertzel_state_t col_out[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00284">dsp.c:284</a></div></div>
<div class="ttc" id="structmf__detect__state__t_html_ab504ac2052e441f05b416f0582f169ea"><div class="ttname"><a href="../../d5/d5b/structmf__detect__state__t.html#ab504ac2052e441f05b416f0582f169ea">mf_detect_state_t::hits</a></div><div class="ttdeci">int hits[5]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00298">dsp.c:298</a></div></div>
<div class="ttc" id="structast__dsp_html_aba87c96f3d55cec3433197cb774bdb81"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#aba87c96f3d55cec3433197cb774bdb81">ast_dsp::dtmf_began</a></div><div class="ttdeci">int dtmf_began</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00429">dsp.c:429</a></div></div>
<div class="ttc" id="structast__dsp_html_aa1e47d1242ef7ba65183a2c3e88e339d"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">ast_dsp::digitmode</a></div><div class="ttdeci">int digitmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00426">dsp.c:426</a></div></div>
<div class="ttc" id="structmf__detect__state__t_html_af507d2d28aa3774531b92b9e88a154b5"><div class="ttname"><a href="../../d5/d5b/structmf__detect__state__t.html#af507d2d28aa3774531b92b9e88a154b5">mf_detect_state_t::current_sample</a></div><div class="ttdeci">int current_sample</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00299">dsp.c:299</a></div></div>
<div class="ttc" id="structdtmf__detect__state__t_html_a2d107b3b2dcebab8a10c9d39894f6b2a"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html#a2d107b3b2dcebab8a10c9d39894f6b2a">dtmf_detect_state_t::energy</a></div><div class="ttdeci">float energy</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00289">dsp.c:289</a></div></div>
<div class="ttc" id="structmf__detect__state__t_html_af2509132e185dd749b33dc32e1ca5949"><div class="ttname"><a href="../../d5/d5b/structmf__detect__state__t.html#af2509132e185dd749b33dc32e1ca5949">mf_detect_state_t::current_hit</a></div><div class="ttdeci">int current_hit</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00297">dsp.c:297</a></div></div>
<div class="ttc" id="structdigit__detect__state__t_html_a6bcc9350bec0d851925e46ca38a90349"><div class="ttname"><a href="../../d7/dd0/structdigit__detect__state__t.html#a6bcc9350bec0d851925e46ca38a90349">digit_detect_state_t::mf</a></div><div class="ttdeci">mf_detect_state_t mf</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00313">dsp.c:313</a></div></div>
<div class="ttc" id="structdtmf__detect__state__t_html_a08afba015760120cc445d7d7cf11c24f"><div class="ttname"><a href="../../df/d42/structdtmf__detect__state__t.html#a08afba015760120cc445d7d7cf11c24f">dtmf_detect_state_t::row_out</a></div><div class="ttdeci">goertzel_state_t row_out[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00283">dsp.c:283</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a57a1e374549eb2705068688f4046db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a57a1e374549eb2705068688f4046db">&#9670;&nbsp;</a></span>ast_dsp_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dsp_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a299">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01770">1770</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d83/main_2app_8c_source.html#l01580">__ast_play_and_record()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l02336">AST_TEST_DEFINE()</a>, <a class="el" href="../../d3/dba/app__talkdetect_8c_source.html#l00080">background_detect_exec()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07792">chan_list_destructor()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00765">chan_pjsip_cng_tone_detected()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00838">chan_pjsip_read_stream()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05992">dahdi_hangup()</a>, <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00134">datastore_destroy_cb()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00201">destroy_callback()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04539">destroy_endpoint()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03676">destroy_faxdetect()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01096">destroy_session()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04930">disable_dsp_detect()</a>, <a class="el" href="../../d5/d4c/app__waitforsilence_8c_source.html#l00154">do_waiting()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02899">handle_recordfile()</a>, <a class="el" href="../../d2/d48/app__amd_8c_source.html#l00162">isAnsweringMachine()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00902">mgcp_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02066">my_all_subchannels_hungup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01591">my_dsp_set_digitmode()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">ooh323_destroy()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01530">pjsip_acf_dtmf_mode_write()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00358">read_sf_digits()</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02900">session_destructor()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00485">set_caps()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00303">set_softmix_bridge_data()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08631">sip_rtp_read()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00817">softmix_bridge_leave()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04702">unload_module()</a>, and <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00524">wait_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;{</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(dsp);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;}</div><div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92238c472ae51a2926b51599108ab071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92238c472ae51a2926b51599108ab071">&#9670;&nbsp;</a></span>ast_dsp_get_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_get_features </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get features. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01764">1764</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00412">ast_dsp::features</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00765">chan_pjsip_cng_tone_detected()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00838">chan_pjsip_read_stream()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01530">pjsip_acf_dtmf_mode_write()</a>, and <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00485">set_caps()</a>.</p>
<div class="fragment"><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;{</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="keywordflow">return</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a>);</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a95d087aa0676d2cbc3e25cdd045311f7"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">ast_dsp::features</a></div><div class="ttdeci">int features</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00412">dsp.c:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78b2daa9b1bfbcbde7ce3f02417f694b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b2daa9b1bfbcbde7ce3f02417f694b">&#9670;&nbsp;</a></span>ast_dsp_get_sample_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_dsp_get_sample_rate </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the sample rate this DSP structure was created with. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01717">1717</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00433">ast_dsp::sample_rate</a>.</p>
<div class="fragment"><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;{</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;   <span class="keywordflow">return</span> dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a1c086f81c095b0efd7a87ee29fc5ba7e">sample_rate</a>;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a1c086f81c095b0efd7a87ee29fc5ba7e"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a1c086f81c095b0efd7a87ee29fc5ba7e">ast_dsp::sample_rate</a></div><div class="ttdeci">unsigned int sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00433">dsp.c:433</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b5cfada9ab61cee75ac7d006e86d09d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b5cfada9ab61cee75ac7d006e86d09d">&#9670;&nbsp;</a></span>ast_dsp_get_tcount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_get_tcount </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get tcount (Threshold counter) </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01903">1903</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00425">ast_dsp::tcount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;{</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;   <span class="keywordflow">return</span> dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a09467367454312afdf090ec7d63cb8b3">tcount</a>;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a09467367454312afdf090ec7d63cb8b3"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a09467367454312afdf090ec7d63cb8b3">ast_dsp::tcount</a></div><div class="ttdeci">int tcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00425">dsp.c:425</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab28c68838eaed4e0c89460a4e554cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab28c68838eaed4e0c89460a4e554cca">&#9670;&nbsp;</a></span>ast_dsp_get_threshold_from_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_get_threshold_from_settings </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a>&#160;</td>
          <td class="paramname"><em>which</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get silence threshold from dsp.conf. </p>
<dl class="section since"><dt>Since</dt><dd>1.6.1 </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a377">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01996">1996</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00328">thresholds</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13680">actual_load_config()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01339">app_exec()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02489">ast_record_review()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02399">conf_rec_name()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d5/d4c/app__waitforsilence_8c_source.html#l00154">do_waiting()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02899">handle_recordfile()</a>, <a class="el" href="../../d2/d48/app__amd_8c_source.html#l00476">load_config()</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02075">setup_privacy_args()</a>, and <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00310">talk_detect_fn_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;{</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d3b/dsp_8c.html#a0366c9d4146e4af0845b51e14744392e">thresholds</a>[which];</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;}</div><div class="ttc" id="dsp_8c_html_a0366c9d4146e4af0845b51e14744392e"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a0366c9d4146e4af0845b51e14744392e">thresholds</a></div><div class="ttdeci">static int thresholds[THRESHOLD_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00328">dsp.c:328</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="accae19c5763ae43f0d5cf058f07d8d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accae19c5763ae43f0d5cf058f07d8d18">&#9670;&nbsp;</a></span>ast_dsp_get_tstate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_get_tstate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get tstate (Tone State) </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01898">1898</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00424">ast_dsp::tstate</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;{</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;   <span class="keywordflow">return</span> dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a4754ae2a5d290d6e210d8066e7e58fce">tstate</a>;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a4754ae2a5d290d6e210d8066e7e58fce"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a4754ae2a5d290d6e210d8066e7e58fce">ast_dsp::tstate</a></div><div class="ttdeci">int tstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00424">dsp.c:424</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a247cafe071f6cd096ce7b976a92f9928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247cafe071f6cd096ce7b976a92f9928">&#9670;&nbsp;</a></span>ast_dsp_getdigits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_getdigits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get pending DTMF/MF digits. </p>

</div>
</div>
<a id="a0a60e93006c8e1ca8fda922ae0e0da2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a60e93006c8e1ca8fda922ae0e0da2c">&#9670;&nbsp;</a></span>ast_dsp_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a>* ast_dsp_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a new dsp, assumes 8khz for internal sample rate. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a297">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01745">1745</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01722">__ast_dsp_new()</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00221">DEFAULT_SAMPLE_RATE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d83/main_2app_8c_source.html#l01580">__ast_play_and_record()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02990">ast_sip_session_alloc()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l02336">AST_TEST_DEFINE()</a>, <a class="el" href="../../d3/dba/app__talkdetect_8c_source.html#l00080">background_detect_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00399">detect_write()</a>, <a class="el" href="../../d5/d4c/app__waitforsilence_8c_source.html#l00154">do_waiting()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04896">enable_dsp_detect()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03694">fax_detect_new()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01215">fax_session_new()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02899">handle_recordfile()</a>, <a class="el" href="../../d2/d48/app__amd_8c_source.html#l00162">isAnsweringMachine()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12365">misdn_set_opt_exec()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01591">my_dsp_set_digitmode()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01530">pjsip_acf_dtmf_mode_write()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l05922">read_config()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00358">read_sf_digits()</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>, and <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00524">wait_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;{</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d3b/dsp_8c.html#aad82251eb86a7c1836a0d403585183da">__ast_dsp_new</a>(<a class="code" href="../../d5/d3b/dsp_8c.html#abe9b1c28165a7071e354bd9d7823ca1a">DEFAULT_SAMPLE_RATE</a>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;}</div><div class="ttc" id="dsp_8c_html_abe9b1c28165a7071e354bd9d7823ca1a"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#abe9b1c28165a7071e354bd9d7823ca1a">DEFAULT_SAMPLE_RATE</a></div><div class="ttdeci">#define DEFAULT_SAMPLE_RATE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00221">dsp.c:221</a></div></div>
<div class="ttc" id="dsp_8c_html_aad82251eb86a7c1836a0d403585183da"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#aad82251eb86a7c1836a0d403585183da">__ast_dsp_new</a></div><div class="ttdeci">static struct ast_dsp * __ast_dsp_new(unsigned int sample_rate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01722">dsp.c:1722</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc59fd6560e440699e6bb55aa101de93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc59fd6560e440699e6bb55aa101de93">&#9670;&nbsp;</a></span>ast_dsp_new_with_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a>* ast_dsp_new_with_rate </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sample_rate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a new dsp with a specific internal sample rate used during processing. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01750">1750</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01722">__ast_dsp_new()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00303">set_softmix_bridge_data()</a>, and <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00260">set_talk_detect()</a>.</p>
<div class="fragment"><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;{</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d3b/dsp_8c.html#aad82251eb86a7c1836a0d403585183da">__ast_dsp_new</a>(sample_rate);</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;}</div><div class="ttc" id="dsp_8c_html_aad82251eb86a7c1836a0d403585183da"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#aad82251eb86a7c1836a0d403585183da">__ast_dsp_new</a></div><div class="ttdeci">static struct ast_dsp * __ast_dsp_new(unsigned int sample_rate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01722">dsp.c:1722</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5efca89c36180bbe497d83837167546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5efca89c36180bbe497d83837167546">&#9670;&nbsp;</a></span>ast_dsp_noise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_noise </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>totalnoise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the audio frame for noise. </p>
<dl class="section since"><dt>Since</dt><dd>1.6.1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dsp</td><td>DSP processing audio media. </td></tr>
    <tr><td class="paramname">f</td><td>Audio frame to process. </td></tr>
    <tr><td class="paramname">totalnoise</td><td>Variable to set to the total accumulated noise in ms seen by the DSP since the last silence.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero if the frame is silence. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01488">1488</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01433">ast_dsp_silence_noise_with_energy()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;{</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d3b/dsp_8c.html#aa93f65e11fefc33db1f1c89824693c68">ast_dsp_silence_noise_with_energy</a>(dsp, f, totalnoise, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;}</div><div class="ttc" id="dsp_8c_html_aa93f65e11fefc33db1f1c89824693c68"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#aa93f65e11fefc33db1f1c89824693c68">ast_dsp_silence_noise_with_energy</a></div><div class="ttdeci">static int ast_dsp_silence_noise_with_energy(struct ast_dsp *dsp, struct ast_frame *f, int *total, int *frames_energy, int noise)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01433">dsp.c:1433</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6387ee12a3544d3d2068db61d9576ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6387ee12a3544d3d2068db61d9576ad">&#9670;&nbsp;</a></span>ast_dsp_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a>* ast_dsp_process </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>inf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return AST_FRAME_NULL frames when there is silence, AST_FRAME_BUSY on busies, and call progress, all dependent upon which features are enabled. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01494">1494</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01074">__ast_dsp_call_progress()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01229">__ast_dsp_silence_noise()</a>, <a class="el" href="../../d6/db5/alaw_8h_source.html#l00084">AST_ALAW</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00290">ast_alloca</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01005">ast_channel_softhangup_internal_flag_add()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00281">AST_CONTROL_ANSWER</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00282">AST_CONTROL_BUSY</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00285">AST_CONTROL_CONGESTION</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">AST_CONTROL_HANGUP</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">AST_CONTROL_RINGING</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01295">ast_dsp_busydetect()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00091">ast_format_alaw</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00542">ast_format_cache_is_slinear()</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00201">ast_format_cmp()</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00036">AST_FORMAT_CMP_EQUAL</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00334">ast_format_get_name()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00086">ast_format_ulaw</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">AST_FRAME_DTMF</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00125">AST_FRAME_DTMF_BEGIN</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00099">AST_FRAME_DTMF_END</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00107">AST_FRAME_NULL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00577">ast_frisolate</a>, <a class="el" href="../../d6/db5/alaw_8h_source.html#l00050">AST_LIN2A</a>, <a class="el" href="../../d4/dc2/ulaw_8h_source.html#l00049">AST_LIN2MU</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/dc2/ulaw_8h_source.html#l00085">AST_MULAW</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01139">ast_queue_frame()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01122">AST_SOFTHANGUP_DEV</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00437">ast_dsp::ced_tone_state</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00436">ast_dsp::cng_tone_state</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00307">digit_detect_state_t::current_digits</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00131">digit</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00435">ast_dsp::digit_state</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00306">digit_detect_state_t::digitlen</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00426">ast_dsp::digitmode</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00305">digit_detect_state_t::digits</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00430">ast_dsp::display_inband_dtmf_warning</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00048">done</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00032">DSP_DIGITMODE_MF</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00034">DSP_DIGITMODE_NOQUELCH</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00037">DSP_DIGITMODE_RELAXDTMF</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00048">DSP_FAXMODE_DETECT_CED</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00047">DSP_FAXMODE_DETECT_CNG</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00027">DSP_FEATURE_BUSY_DETECT</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00043">DSP_FEATURE_CALL_PROGRESS</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00028">DSP_FEATURE_DIGIT_DETECT</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00029">DSP_FEATURE_FAX_DETECT</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00045">DSP_FEATURE_FREQ_DETECT</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00026">DSP_FEATURE_SILENCE_SUPPRESS</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00044">DSP_FEATURE_WAITDIALTONE</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00429">ast_dsp::dtmf_began</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00693">dtmf_detect()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00389">fragment_t::end</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00406">ast_dsp::f</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00427">ast_dsp::faxmode</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00412">ast_dsp::features</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">ast_frame_subclass::format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00428">ast_dsp::freqmode</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00417">ast_dsp::historicnoise</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00418">ast_dsp::historicsilence</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">ast_frame::len</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00900">mf_detect()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00434">ast_dsp::mute_data</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00432">ast_dsp::mute_fragments</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00433">ast_dsp::sample_rate</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">ast_frame::src</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00388">fragment_t::start</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00573">tone_detect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00838">chan_pjsip_read_stream()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00224">detect_callback()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03745">fax_detect_framehook()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01109">mbl_read()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01181">mgcp_rtp_read()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04978">ooh323_rtp_read()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07318">process_ast_dsp()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00358">read_sf_digits()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08631">sip_rtp_read()</a>, and <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00524">wait_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;{</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;   <span class="keywordtype">int</span> silence;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a> = 0, fax_digit = 0, custom_freq_digit = 0;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   <span class="keywordtype">short</span> *shortdata;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *odata;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *outf = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;   <span class="keywordflow">if</span> (!af) {</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;   }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   <span class="keywordflow">if</span> (af-&gt;frametype != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      <span class="keywordflow">return</span> af;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;   }</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   odata = af-&gt;data.ptr;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   len = af-&gt;datalen;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   <span class="comment">/* Make sure we have short data */</span></div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/d1c/format__cache_8h.html#a309515067d94f11b99659093c5beefee">ast_format_cache_is_slinear</a>(af-&gt;subclass.format)) {</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      shortdata = af-&gt;data.ptr;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      len = af-&gt;datalen / 2;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(af-&gt;subclass.format, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      shortdata = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(af-&gt;datalen * 2);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>; x++) {</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;         shortdata[x] = <a class="code" href="../../d4/dc2/ulaw_8h.html#a00ac194f4317c7c388bfe531f51c803a">AST_MULAW</a>(odata[x]);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      }</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(af-&gt;subclass.format, <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      shortdata = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(af-&gt;datalen * 2);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>; x++) {</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;         shortdata[x] = <a class="code" href="../../d6/db5/alaw_8h.html#a85173bf923da21593f2db8132a70d4b0">AST_ALAW</a>(odata[x]);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      }</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <span class="comment">/*Display warning only once. Otherwise you would get hundreds of warnings every second */</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ab6401bd4f3bb3fcdd01650e97952b79e">display_inband_dtmf_warning</a>) {</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Inband DTMF is not supported on codec %s. Use RFC2833\n&quot;</span>, <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(af-&gt;subclass.format));</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      }</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ab6401bd4f3bb3fcdd01650e97952b79e">display_inband_dtmf_warning</a> = 0;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <span class="keywordflow">return</span> af;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   }</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;   <span class="comment">/* Initially we do not want to mute anything */</span></div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a227e7147c3d372e856173f9374fd9a10">mute_fragments</a> = 0;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   <span class="comment">/* Need to run the silence detection stuff for silence suppression and busy detection */</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;   <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#ab63492d48665481cbd29d913a6341b8e">DSP_FEATURE_SILENCE_SUPPRESS</a>) || (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a25ab003573ab7f608bc42723b3a5168a">DSP_FEATURE_BUSY_DETECT</a>)) {</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      res = <a class="code" href="../../d5/d3b/dsp_8c.html#af719a82882e371e7b6e6fb2b8c009c74">__ast_dsp_silence_noise</a>(dsp, shortdata, len, &amp;silence, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;   }</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#ab63492d48665481cbd29d913a6341b8e">DSP_FEATURE_SILENCE_SUPPRESS</a>) &amp;&amp; silence) {</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      memset(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>));</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056">AST_FRAME_NULL</a>;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(af);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a314496ce1d74ed7fdb9c5319c5e2e953">ast_frisolate</a>(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   }</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;   <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a25ab003573ab7f608bc42723b3a5168a">DSP_FEATURE_BUSY_DETECT</a>) &amp;&amp; <a class="code" href="../../d5/d3b/dsp_8c.html#ad3349aaac5958df1f8a0147ebccf05dc">ast_dsp_busydetect</a>(dsp)) {</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab683c21c4a34450c4bfb8b672a7b4045">ast_channel_softhangup_internal_flag_add</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7">AST_SOFTHANGUP_DEV</a>);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      memset(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>));</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875">AST_CONTROL_BUSY</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(af);</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Requesting Hangup because the busy tone was detected on channel %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a314496ce1d74ed7fdb9c5319c5e2e953">ast_frisolate</a>(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;   }</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;   <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a92045e8a8ad56b9b31d24db325fa95ab">DSP_FEATURE_FAX_DETECT</a>)) {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a16e504da5771f1589a97d3164a3b08b8">faxmode</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#aa97125e8415ed15db98bb7e79b17ab73">DSP_FAXMODE_DETECT_CNG</a>) &amp;&amp; <a class="code" href="../../d5/d3b/dsp_8c.html#a399ce184a63aad01299671419040ded7">tone_detect</a>(dsp, &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#af2dd36b2153d471a6cc303c4ce77ab95">cng_tone_state</a>, shortdata, len)) {</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;         fax_digit = <span class="charliteral">&#39;f&#39;</span>;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      }</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a16e504da5771f1589a97d3164a3b08b8">faxmode</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a9cf0612744d70d091c16780d55d0a122">DSP_FAXMODE_DETECT_CED</a>) &amp;&amp; <a class="code" href="../../d5/d3b/dsp_8c.html#a399ce184a63aad01299671419040ded7">tone_detect</a>(dsp, &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8730f4e587506f00367fe9324658c2fd">ced_tone_state</a>, shortdata, len)) {</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;         fax_digit = <span class="charliteral">&#39;e&#39;</span>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      }</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#aba34e93f4bf51e43868d1655efec7020">DSP_FEATURE_FREQ_DETECT</a>)) {</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ac923c92546ce2e7061c6e6d241f7f678">freqmode</a>) &amp;&amp; <a class="code" href="../../d5/d3b/dsp_8c.html#a399ce184a63aad01299671419040ded7">tone_detect</a>(dsp, &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#af2dd36b2153d471a6cc303c4ce77ab95">cng_tone_state</a>, shortdata, len)) {</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;         custom_freq_digit = <span class="charliteral">&#39;q&#39;</span>;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;   }</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;   <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; (<a class="code" href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a> | <a class="code" href="../../d3/d08/dsp_8h.html#a25ab003573ab7f608bc42723b3a5168a">DSP_FEATURE_BUSY_DETECT</a>)) {</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">digitmode</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a>) {</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;         digit = <a class="code" href="../../d5/d3b/dsp_8c.html#a490046385646c599ef1b1983bd0f8c90">mf_detect</a>(dsp, &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>, shortdata, len, (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">digitmode</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a3e5f9f8f26812f78103589047d426ea4">DSP_DIGITMODE_NOQUELCH</a>) == 0, (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">digitmode</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#af955a2d9ad32683d8d783619480cd348">DSP_DIGITMODE_RELAXDTMF</a>));</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;         digit = <a class="code" href="../../d5/d3b/dsp_8c.html#aa25d091473980e52735b884cabe319ce">dtmf_detect</a>(dsp, &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>, shortdata, len, (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">digitmode</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a3e5f9f8f26812f78103589047d426ea4">DSP_DIGITMODE_NOQUELCH</a>) == 0, (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">digitmode</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#af955a2d9ad32683d8d783619480cd348">DSP_DIGITMODE_RELAXDTMF</a>));</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      }</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#ac74ec91ceeab32c9468de13feb7c4d33">current_digits</a>) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;         <span class="keywordtype">int</span> <span class="keyword">event</span> = 0, event_len = 0;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;         <span class="keywordtype">char</span> event_digit = 0;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;         <span class="keywordflow">if</span> (!dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aba87c96f3d55cec3433197cb774bdb81">dtmf_began</a>) {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <span class="comment">/* We have not reported DTMF_BEGIN for anything yet */</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a>) {</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;               <span class="keyword">event</span> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a9b350360a64b55c7590f1ec03db480be">AST_FRAME_DTMF_BEGIN</a>;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;               event_digit = dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#abc255092d94df3f9fc5937c9177bcf3c">digits</a>[0];</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            }</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aba87c96f3d55cec3433197cb774bdb81">dtmf_began</a> = 1;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#ac74ec91ceeab32c9468de13feb7c4d33">current_digits</a> &gt; 1 || digit != dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#abc255092d94df3f9fc5937c9177bcf3c">digits</a>[0]) {</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            <span class="comment">/* Digit changed. This means digit we have reported with DTMF_BEGIN ended */</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a>) {</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;               <span class="keyword">event</span> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a98e65764bc963016c394bcc1bad6540b">AST_FRAME_DTMF_END</a>;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;               event_digit = dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#abc255092d94df3f9fc5937c9177bcf3c">digits</a>[0];</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;               event_len = dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#aa75910b0b36bbf7b4ed69cad18c34d3a">digitlen</a>[0] * 1000 / dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a1c086f81c095b0efd7a87ee29fc5ba7e">sample_rate</a>;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            }</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            memmove(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#abc255092d94df3f9fc5937c9177bcf3c">digits</a>[0], &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#abc255092d94df3f9fc5937c9177bcf3c">digits</a>[1], dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#ac74ec91ceeab32c9468de13feb7c4d33">current_digits</a>);</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            memmove(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#aa75910b0b36bbf7b4ed69cad18c34d3a">digitlen</a>[0], &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#aa75910b0b36bbf7b4ed69cad18c34d3a">digitlen</a>[1], dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#ac74ec91ceeab32c9468de13feb7c4d33">current_digits</a> * <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#aa75910b0b36bbf7b4ed69cad18c34d3a">digitlen</a>[0]));</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>.<a class="code" href="../../d7/dd0/structdigit__detect__state__t.html#ac74ec91ceeab32c9468de13feb7c4d33">current_digits</a>--;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aba87c96f3d55cec3433197cb774bdb81">dtmf_began</a> = 0;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a25ab003573ab7f608bc42723b3a5168a">DSP_FEATURE_BUSY_DETECT</a>) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;               <span class="comment">/* Reset Busy Detector as we have some confirmed activity */</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;               memset(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>));</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;               memset(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>));</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;DTMF Detected - Reset busydetector\n&quot;</span>);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            }</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;         }</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../df/d7d/structevent.html">event</a>) {</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            memset(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>));</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = event_digit;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">len</a> = event_len;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            outf = &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;         }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      }</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;   }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;   <span class="keywordflow">if</span> (fax_digit) {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <span class="comment">/* Fax was detected - digit is either &#39;q&#39; or &#39;r&#39; */</span></div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      memset(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>));</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = fax_digit;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      outf = &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   }</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   <span class="keywordflow">if</span> (custom_freq_digit) {</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      <span class="comment">/* Custom frequency was detected - digit is &#39;q&#39; */</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      memset(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>));</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = custom_freq_digit;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      outf = &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;   }</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#aa21ad1de4ef65e04563f6283a2213e25">DSP_FEATURE_CALL_PROGRESS</a>)) {</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      res = <a class="code" href="../../d5/d3b/dsp_8c.html#a309197e46487283dfa6c7614a3e3d1f9">__ast_dsp_call_progress</a>(dsp, shortdata, len);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;         <span class="keywordflow">switch</span> (res) {</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe">AST_CONTROL_ANSWER</a>:</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875">AST_CONTROL_BUSY</a>:</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>:</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a850bb06a1702741c93a3fd67cc9637ab">AST_CONTROL_CONGESTION</a>:</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a>:</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            memset(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>));</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = res;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>.<a class="code" href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">src</a> = <span class="stringliteral">&quot;dsp_progress&quot;</span>;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            <span class="keywordflow">if</span> (chan) {</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(chan, &amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">f</a>);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            }</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;         <span class="keywordflow">default</span>:</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Don&#39;t know how to represent call progress message %d\n&quot;</span>, res);</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;         }</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      }</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a1d5cf337f5788319b8ba8bf6d161dce5">DSP_FEATURE_WAITDIALTONE</a>)) {</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      res = <a class="code" href="../../d5/d3b/dsp_8c.html#a309197e46487283dfa6c7614a3e3d1f9">__ast_dsp_call_progress</a>(dsp, shortdata, len);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   }</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <span class="comment">/* Mute fragment of the frame */</span></div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a227e7147c3d372e856173f9374fd9a10">mute_fragments</a>; x++) {</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      memset(shortdata + dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a092a89a548303c7c2359aa3feb70348c">mute_data</a>[x].<a class="code" href="../../d3/d6f/structfragment__t.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../da/d4e/db_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a>) * (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a092a89a548303c7c2359aa3feb70348c">mute_data</a>[x].<a class="code" href="../../d3/d6f/structfragment__t.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> - dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a092a89a548303c7c2359aa3feb70348c">mute_data</a>[x].<a class="code" href="../../d3/d6f/structfragment__t.html#a37722a150250e2a5a98e5e0d11e53449">start</a>));</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   }</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(af-&gt;subclass.format, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>; x++) {</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;         odata[x] = <a class="code" href="../../d4/dc2/ulaw_8h.html#a8e5e288eb1167065a9a235f79dcfee89">AST_LIN2MU</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) shortdata[x]);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      }</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(af-&gt;subclass.format, <a class="code" href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a>) == <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>; x++) {</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;         odata[x] = <a class="code" href="../../d6/db5/alaw_8h.html#a45b65da856bb05f79d22425d41457e0f">AST_LIN2A</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) shortdata[x]);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   }</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;   <span class="keywordflow">if</span> (outf) {</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="keywordflow">if</span> (chan) {</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a>(chan, af);</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      }</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(af);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a314496ce1d74ed7fdb9c5319c5e2e953">ast_frisolate</a>(outf);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <span class="keywordflow">return</span> af;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   }</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;}</div><div class="ttc" id="app__alarmreceiver_8c_html_ac2c887b7f7b359bfdda8a128980f5081"><div class="ttname"><a href="../../dc/d5c/app__alarmreceiver_8c.html#ac2c887b7f7b359bfdda8a128980f5081">digit</a></div><div class="ttdeci">char digit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00131">app_alarmreceiver.c:131</a></div></div>
<div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00036">format.h:36</a></div></div>
<div class="ttc" id="structfragment__t_html_a37722a150250e2a5a98e5e0d11e53449"><div class="ttname"><a href="../../d3/d6f/structfragment__t.html#a37722a150250e2a5a98e5e0d11e53449">fragment_t::start</a></div><div class="ttdeci">int start</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00388">dsp.c:388</a></div></div>
<div class="ttc" id="db_8h_html_aa343fa3b3d06292b959ffdd4c4703b06"><div class="ttname"><a href="../../da/d4e/db_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a></div><div class="ttdeci">short int16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4e/db_8h_source.html#l00059">db.h:59</a></div></div>
<div class="ttc" id="structast__dsp_html_ac923c92546ce2e7061c6e6d241f7f678"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#ac923c92546ce2e7061c6e6d241f7f678">ast_dsp::freqmode</a></div><div class="ttdeci">int freqmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00428">dsp.c:428</a></div></div>
<div class="ttc" id="dsp_8h_html_a84818b360426bdd5f588cdca463e15be"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a></div><div class="ttdeci">#define DSP_FEATURE_DIGIT_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00028">dsp.h:28</a></div></div>
<div class="ttc" id="structast__dsp_html_a735f764b1095611ace084e7c6c06857d"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a735f764b1095611ace084e7c6c06857d">ast_dsp::f</a></div><div class="ttdeci">struct ast_frame f</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00406">dsp.c:406</a></div></div>
<div class="ttc" id="dsp_8h_html_a5c7b41ef167d85ab193697e010dce94b"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a></div><div class="ttdeci">#define DSP_DIGITMODE_MF</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00032">dsp.h:32</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="alaw_8h_html_a85173bf923da21593f2db8132a70d4b0"><div class="ttname"><a href="../../d6/db5/alaw_8h.html#a85173bf923da21593f2db8132a70d4b0">AST_ALAW</a></div><div class="ttdeci">#define AST_ALAW(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db5/alaw_8h_source.html#l00084">alaw.h:84</a></div></div>
<div class="ttc" id="dsp_8h_html_aa21ad1de4ef65e04563f6283a2213e25"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#aa21ad1de4ef65e04563f6283a2213e25">DSP_FEATURE_CALL_PROGRESS</a></div><div class="ttdeci">#define DSP_FEATURE_CALL_PROGRESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00043">dsp.h:43</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe">AST_CONTROL_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00281">include/asterisk/frame.h:281</a></div></div>
<div class="ttc" id="dsp_8c_html_a309197e46487283dfa6c7614a3e3d1f9"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a309197e46487283dfa6c7614a3e3d1f9">__ast_dsp_call_progress</a></div><div class="ttdeci">static int __ast_dsp_call_progress(struct ast_dsp *dsp, short *s, int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01074">dsp.c:1074</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="structast__dsp_html_a8d44232b19e9d5b8976167ce4600408a"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">ast_dsp::historicsilence</a></div><div class="ttdeci">int historicsilence[DSP_HISTORY]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00418">dsp.c:418</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7">AST_SOFTHANGUP_DEV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01122">channel.h:1122</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structdigit__detect__state__t_html_ac74ec91ceeab32c9468de13feb7c4d33"><div class="ttname"><a href="../../d7/dd0/structdigit__detect__state__t.html#ac74ec91ceeab32c9468de13feb7c4d33">digit_detect_state_t::current_digits</a></div><div class="ttdeci">int current_digits</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00307">dsp.c:307</a></div></div>
<div class="ttc" id="dsp_8c_html_aa25d091473980e52735b884cabe319ce"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#aa25d091473980e52735b884cabe319ce">dtmf_detect</a></div><div class="ttdeci">static int dtmf_detect(struct ast_dsp *dsp, digit_detect_state_t *s, int16_t amp[], int samples, int squelch, int relax)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00693">dsp.c:693</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a387635982df3d2edb669a1eece92c875">AST_CONTROL_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00282">include/asterisk/frame.h:282</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a248afd6c02044259a386f6b7aee922a2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a></div><div class="ttdeci">#define AST_FRAME_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">include/asterisk/frame.h:139</a></div></div>
<div class="ttc" id="dsp_8c_html_ad3349aaac5958df1f8a0147ebccf05dc"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#ad3349aaac5958df1f8a0147ebccf05dc">ast_dsp_busydetect</a></div><div class="ttdeci">int ast_dsp_busydetect(struct ast_dsp *dsp)</div><div class="ttdoc">Return non-zero if historically this should be a busy, request that ast_dsp_silence has already been ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01295">dsp.c:1295</a></div></div>
<div class="ttc" id="structast__dsp_html_a79258a44d42aea84f2ff2b5bafff1ed6"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">ast_dsp::digit_state</a></div><div class="ttdeci">digit_detect_state_t digit_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00435">dsp.c:435</a></div></div>
<div class="ttc" id="structast__dsp_html_a094105f8d645c85f853b07b09afd5f66"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">ast_dsp::historicnoise</a></div><div class="ttdeci">int historicnoise[DSP_HISTORY]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00417">dsp.c:417</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="structdigit__detect__state__t_html_abc255092d94df3f9fc5937c9177bcf3c"><div class="ttname"><a href="../../d7/dd0/structdigit__detect__state__t.html#abc255092d94df3f9fc5937c9177bcf3c">digit_detect_state_t::digits</a></div><div class="ttdeci">char digits[MAX_DTMF_DIGITS+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00305">dsp.c:305</a></div></div>
<div class="ttc" id="test__amihooks_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/test__amihooks_8c_source.html#l00048">test_amihooks.c:48</a></div></div>
<div class="ttc" id="dsp_8h_html_af955a2d9ad32683d8d783619480cd348"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#af955a2d9ad32683d8d783619480cd348">DSP_DIGITMODE_RELAXDTMF</a></div><div class="ttdeci">#define DSP_DIGITMODE_RELAXDTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00037">dsp.h:37</a></div></div>
<div class="ttc" id="structast__dsp_html_a16e504da5771f1589a97d3164a3b08b8"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a16e504da5771f1589a97d3164a3b08b8">ast_dsp::faxmode</a></div><div class="ttdeci">int faxmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00427">dsp.c:427</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="structast__frame_html_af51e37c9331049b1e3d250a7c8bc3c26"><div class="ttname"><a href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">ast_frame::src</a></div><div class="ttdeci">const char * src</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">include/asterisk/frame.h:181</a></div></div>
<div class="ttc" id="ulaw_8h_html_a00ac194f4317c7c388bfe531f51c803a"><div class="ttname"><a href="../../d4/dc2/ulaw_8h.html#a00ac194f4317c7c388bfe531f51c803a">AST_MULAW</a></div><div class="ttdeci">#define AST_MULAW(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc2/ulaw_8h_source.html#l00085">ulaw.h:85</a></div></div>
<div class="ttc" id="dsp_8h_html_ab63492d48665481cbd29d913a6341b8e"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#ab63492d48665481cbd29d913a6341b8e">DSP_FEATURE_SILENCE_SUPPRESS</a></div><div class="ttdeci">#define DSP_FEATURE_SILENCE_SUPPRESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00026">dsp.h:26</a></div></div>
<div class="ttc" id="dsp_8h_html_a92045e8a8ad56b9b31d24db325fa95ab"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a92045e8a8ad56b9b31d24db325fa95ab">DSP_FEATURE_FAX_DETECT</a></div><div class="ttdeci">#define DSP_FEATURE_FAX_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00029">dsp.h:29</a></div></div>
<div class="ttc" id="structast__dsp_html_a1c086f81c095b0efd7a87ee29fc5ba7e"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a1c086f81c095b0efd7a87ee29fc5ba7e">ast_dsp::sample_rate</a></div><div class="ttdeci">unsigned int sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00433">dsp.c:433</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056">AST_FRAME_NULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00107">include/asterisk/frame.h:107</a></div></div>
<div class="ttc" id="format__cache_8h_html_a309515067d94f11b99659093c5beefee"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a309515067d94f11b99659093c5beefee">ast_format_cache_is_slinear</a></div><div class="ttdeci">int ast_format_cache_is_slinear(struct ast_format *format)</div><div class="ttdoc">Determines if a format is one of the cached slin formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00542">format_cache.c:542</a></div></div>
<div class="ttc" id="channel_8h_html_a6cbcba5661d55216968cde8fdf913c89"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6cbcba5661d55216968cde8fdf913c89">ast_queue_frame</a></div><div class="ttdeci">int ast_queue_frame(struct ast_channel *chan, struct ast_frame *f)</div><div class="ttdoc">Queue one or more frames to a channel&amp;#39;s frame queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01139">channel.c:1139</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="structfragment__t_html_abce9f5dc9c83f2639b72024fdee5d388"><div class="ttname"><a href="../../d3/d6f/structfragment__t.html#abce9f5dc9c83f2639b72024fdee5d388">fragment_t::end</a></div><div class="ttdeci">int end</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00389">dsp.c:389</a></div></div>
<div class="ttc" id="dsp_8c_html_a490046385646c599ef1b1983bd0f8c90"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a490046385646c599ef1b1983bd0f8c90">mf_detect</a></div><div class="ttdeci">static int mf_detect(struct ast_dsp *dsp, digit_detect_state_t *s, int16_t amp[], int samples, int squelch, int relax)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00900">dsp.c:900</a></div></div>
<div class="ttc" id="structast__dsp_html_aba87c96f3d55cec3433197cb774bdb81"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#aba87c96f3d55cec3433197cb774bdb81">ast_dsp::dtmf_began</a></div><div class="ttdeci">int dtmf_began</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00429">dsp.c:429</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a98e65764bc963016c394bcc1bad6540b"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a98e65764bc963016c394bcc1bad6540b">AST_FRAME_DTMF_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00099">include/asterisk/frame.h:99</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">include/asterisk/frame.h:278</a></div></div>
<div class="ttc" id="dsp_8h_html_a9cf0612744d70d091c16780d55d0a122"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a9cf0612744d70d091c16780d55d0a122">DSP_FAXMODE_DETECT_CED</a></div><div class="ttdeci">#define DSP_FAXMODE_DETECT_CED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00048">dsp.h:48</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__dsp_html_aa1e47d1242ef7ba65183a2c3e88e339d"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">ast_dsp::digitmode</a></div><div class="ttdeci">int digitmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00426">dsp.c:426</a></div></div>
<div class="ttc" id="dsp_8h_html_a25ab003573ab7f608bc42723b3a5168a"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a25ab003573ab7f608bc42723b3a5168a">DSP_FEATURE_BUSY_DETECT</a></div><div class="ttdeci">#define DSP_FEATURE_BUSY_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00027">dsp.h:27</a></div></div>
<div class="ttc" id="dsp_8c_html_af719a82882e371e7b6e6fb2b8c009c74"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#af719a82882e371e7b6e6fb2b8c009c74">__ast_dsp_silence_noise</a></div><div class="ttdeci">static int __ast_dsp_silence_noise(struct ast_dsp *dsp, short *s, int len, int *totalsilence, int *totalnoise, int *frames_energy)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01229">dsp.c:1229</a></div></div>
<div class="ttc" id="structast__dsp_html_a227e7147c3d372e856173f9374fd9a10"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a227e7147c3d372e856173f9374fd9a10">ast_dsp::mute_fragments</a></div><div class="ttdeci">int mute_fragments</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00432">dsp.c:432</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a314496ce1d74ed7fdb9c5319c5e2e953"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a314496ce1d74ed7fdb9c5319c5e2e953">ast_frisolate</a></div><div class="ttdeci">#define ast_frisolate(fr)</div><div class="ttdoc">Makes a frame independent of any static storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00577">include/asterisk/frame.h:577</a></div></div>
<div class="ttc" id="structast__dsp_html_a95d087aa0676d2cbc3e25cdd045311f7"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">ast_dsp::features</a></div><div class="ttdeci">int features</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00412">dsp.c:412</a></div></div>
<div class="ttc" id="structast__dsp_html_a8730f4e587506f00367fe9324658c2fd"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a8730f4e587506f00367fe9324658c2fd">ast_dsp::ced_tone_state</a></div><div class="ttdeci">tone_detect_state_t ced_tone_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00437">dsp.c:437</a></div></div>
<div class="ttc" id="dsp_8c_html_a399ce184a63aad01299671419040ded7"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a399ce184a63aad01299671419040ded7">tone_detect</a></div><div class="ttdeci">static int tone_detect(struct ast_dsp *dsp, tone_detect_state_t *s, int16_t *amp, int samples)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00573">dsp.c:573</a></div></div>
<div class="ttc" id="format__cache_8h_html_a95c058fe6adef68780f026d6aec2481c"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a95c058fe6adef68780f026d6aec2481c">ast_format_alaw</a></div><div class="ttdeci">struct ast_format * ast_format_alaw</div><div class="ttdoc">Built-in cached alaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00091">format_cache.c:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structast__dsp_html_ab6401bd4f3bb3fcdd01650e97952b79e"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#ab6401bd4f3bb3fcdd01650e97952b79e">ast_dsp::display_inband_dtmf_warning</a></div><div class="ttdeci">int display_inband_dtmf_warning</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00430">dsp.c:430</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__dsp_html_af2dd36b2153d471a6cc303c4ce77ab95"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#af2dd36b2153d471a6cc303c4ce77ab95">ast_dsp::cng_tone_state</a></div><div class="ttdeci">tone_detect_state_t cng_tone_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00436">dsp.c:436</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="channel_8h_html_ab683c21c4a34450c4bfb8b672a7b4045"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab683c21c4a34450c4bfb8b672a7b4045">ast_channel_softhangup_internal_flag_add</a></div><div class="ttdeci">void ast_channel_softhangup_internal_flag_add(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01005">channel_internal_api.c:1005</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">include/asterisk/frame.h:280</a></div></div>
<div class="ttc" id="structdigit__detect__state__t_html_aa75910b0b36bbf7b4ed69cad18c34d3a"><div class="ttname"><a href="../../d7/dd0/structdigit__detect__state__t.html#aa75910b0b36bbf7b4ed69cad18c34d3a">digit_detect_state_t::digitlen</a></div><div class="ttdeci">int digitlen[MAX_DTMF_DIGITS+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00306">dsp.c:306</a></div></div>
<div class="ttc" id="dsp_8h_html_aa97125e8415ed15db98bb7e79b17ab73"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#aa97125e8415ed15db98bb7e79b17ab73">DSP_FAXMODE_DETECT_CNG</a></div><div class="ttdeci">#define DSP_FAXMODE_DETECT_CNG</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00047">dsp.h:47</a></div></div>
<div class="ttc" id="structast__dsp_html_a092a89a548303c7c2359aa3feb70348c"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a092a89a548303c7c2359aa3feb70348c">ast_dsp::mute_data</a></div><div class="ttdeci">fragment_t mute_data[5]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00434">dsp.c:434</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="dsp_8h_html_a3e5f9f8f26812f78103589047d426ea4"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a3e5f9f8f26812f78103589047d426ea4">DSP_DIGITMODE_NOQUELCH</a></div><div class="ttdeci">#define DSP_DIGITMODE_NOQUELCH</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00034">dsp.h:34</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a9b350360a64b55c7590f1ec03db480be"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a9b350360a64b55c7590f1ec03db480be">AST_FRAME_DTMF_BEGIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00125">include/asterisk/frame.h:125</a></div></div>
<div class="ttc" id="dsp_8h_html_aba34e93f4bf51e43868d1655efec7020"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#aba34e93f4bf51e43868d1655efec7020">DSP_FEATURE_FREQ_DETECT</a></div><div class="ttdeci">#define DSP_FEATURE_FREQ_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00045">dsp.h:45</a></div></div>
<div class="ttc" id="dsp_8h_html_a1d5cf337f5788319b8ba8bf6d161dce5"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a1d5cf337f5788319b8ba8bf6d161dce5">DSP_FEATURE_WAITDIALTONE</a></div><div class="ttdeci">#define DSP_FEATURE_WAITDIALTONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00044">dsp.h:44</a></div></div>
<div class="ttc" id="structast__frame_html_aaccba9d5adc3f6c39aad767db95ba484"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aaccba9d5adc3f6c39aad767db95ba484">ast_frame::len</a></div><div class="ttdeci">long len</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00193">include/asterisk/frame.h:193</a></div></div>
<div class="ttc" id="ulaw_8h_html_a8e5e288eb1167065a9a235f79dcfee89"><div class="ttname"><a href="../../d4/dc2/ulaw_8h.html#a8e5e288eb1167065a9a235f79dcfee89">AST_LIN2MU</a></div><div class="ttdeci">#define AST_LIN2MU(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc2/ulaw_8h_source.html#l00049">ulaw.h:49</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a850bb06a1702741c93a3fd67cc9637ab"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a850bb06a1702741c93a3fd67cc9637ab">AST_CONTROL_CONGESTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00285">include/asterisk/frame.h:285</a></div></div>
<div class="ttc" id="alaw_8h_html_a45b65da856bb05f79d22425d41457e0f"><div class="ttname"><a href="../../d6/db5/alaw_8h.html#a45b65da856bb05f79d22425d41457e0f">AST_LIN2A</a></div><div class="ttdeci">#define AST_LIN2A(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db5/alaw_8h_source.html#l00050">alaw.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a673744da45e35463b6500a17c360bebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673744da45e35463b6500a17c360bebe">&#9670;&nbsp;</a></span>ast_dsp_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dsp_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset total silence count. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01830">1830</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00419">ast_dsp::freqs</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00421">ast_dsp::gsamps</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00417">ast_dsp::historicnoise</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00418">ast_dsp::historicsilence</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00413">ast_dsp::ringtimeout</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00409">ast_dsp::totalsilence</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00249">goertzel_state_t::v2</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00251">goertzel_state_t::v3</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00577">debug_check_frame_for_silence()</a>.</p>
<div class="fragment"><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;{</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a37f3ccbb8c8ee286cec59a4b0340e924">totalsilence</a> = 0;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aca9840ebe7075b9e09a9b8e6546d987f">gsamps</a> = 0;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a42e47b1321fa8ce991a016a17b1c2db2">freqs</a>[x].<a class="code" href="../../d1/d12/structgoertzel__state__t.html#aa517e2fff4a8c9cba11391ca12f91803">v2</a> = dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a42e47b1321fa8ce991a016a17b1c2db2">freqs</a>[x].<a class="code" href="../../d1/d12/structgoertzel__state__t.html#a1e875987c97698717b5977707b82fe22">v3</a> = 0.0;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;   }</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;   memset(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">historicsilence</a>));</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;   memset(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>, 0, <span class="keyword">sizeof</span>(dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">historicnoise</a>));</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ad20bd957eabb203120a091e13063e955">ringtimeout</a> = 0;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a42e47b1321fa8ce991a016a17b1c2db2"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a42e47b1321fa8ce991a016a17b1c2db2">ast_dsp::freqs</a></div><div class="ttdeci">goertzel_state_t freqs[FREQ_ARRAY_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00419">dsp.c:419</a></div></div>
<div class="ttc" id="structast__dsp_html_a8d44232b19e9d5b8976167ce4600408a"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a8d44232b19e9d5b8976167ce4600408a">ast_dsp::historicsilence</a></div><div class="ttdeci">int historicsilence[DSP_HISTORY]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00418">dsp.c:418</a></div></div>
<div class="ttc" id="structast__dsp_html_a094105f8d645c85f853b07b09afd5f66"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a094105f8d645c85f853b07b09afd5f66">ast_dsp::historicnoise</a></div><div class="ttdeci">int historicnoise[DSP_HISTORY]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00417">dsp.c:417</a></div></div>
<div class="ttc" id="structast__dsp_html_a37f3ccbb8c8ee286cec59a4b0340e924"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a37f3ccbb8c8ee286cec59a4b0340e924">ast_dsp::totalsilence</a></div><div class="ttdeci">int totalsilence</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00409">dsp.c:409</a></div></div>
<div class="ttc" id="structgoertzel__state__t_html_a1e875987c97698717b5977707b82fe22"><div class="ttname"><a href="../../d1/d12/structgoertzel__state__t.html#a1e875987c97698717b5977707b82fe22">goertzel_state_t::v3</a></div><div class="ttdeci">int v3</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00251">dsp.c:251</a></div></div>
<div class="ttc" id="structast__dsp_html_aca9840ebe7075b9e09a9b8e6546d987f"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#aca9840ebe7075b9e09a9b8e6546d987f">ast_dsp::gsamps</a></div><div class="ttdeci">int gsamps</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00421">dsp.c:421</a></div></div>
<div class="ttc" id="structgoertzel__state__t_html_aa517e2fff4a8c9cba11391ca12f91803"><div class="ttname"><a href="../../d1/d12/structgoertzel__state__t.html#aa517e2fff4a8c9cba11391ca12f91803">goertzel_state_t::v2</a></div><div class="ttdeci">int v2</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00249">dsp.c:249</a></div></div>
<div class="ttc" id="structast__dsp_html_ad20bd957eabb203120a091e13063e955"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#ad20bd957eabb203120a091e13063e955">ast_dsp::ringtimeout</a></div><div class="ttdeci">int ringtimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00413">dsp.c:413</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5088d241f0f7c6e3c82bacfb4a5099b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5088d241f0f7c6e3c82bacfb4a5099b">&#9670;&nbsp;</a></span>ast_dsp_set_busy_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dsp_set_busy_count </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cadences</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set number of required cadences for busy. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01780">1780</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00415">ast_dsp::busycount</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l00569">cadences</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00151">DSP_HISTORY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;{</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d97/chan__dahdi_8c.html#ad07d646abd9d3f187412ff33dc665aee">cadences</a> &lt; 4) {</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      <a class="code" href="../../d1/d97/chan__dahdi_8c.html#ad07d646abd9d3f187412ff33dc665aee">cadences</a> = 4;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;   }</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d97/chan__dahdi_8c.html#ad07d646abd9d3f187412ff33dc665aee">cadences</a> &gt; <a class="code" href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a>) {</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      <a class="code" href="../../d1/d97/chan__dahdi_8c.html#ad07d646abd9d3f187412ff33dc665aee">cadences</a> = <a class="code" href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a>;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;   }</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">busycount</a> = <a class="code" href="../../d1/d97/chan__dahdi_8c.html#ad07d646abd9d3f187412ff33dc665aee">cadences</a>;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a29a1e575aa8b94876e2d3b8da3f6da2b"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a29a1e575aa8b94876e2d3b8da3f6da2b">ast_dsp::busycount</a></div><div class="ttdeci">int busycount</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00415">dsp.c:415</a></div></div>
<div class="ttc" id="chan__dahdi_8c_html_ad07d646abd9d3f187412ff33dc665aee"><div class="ttname"><a href="../../d1/d97/chan__dahdi_8c.html#ad07d646abd9d3f187412ff33dc665aee">cadences</a></div><div class="ttdeci">static struct dahdi_ring_cadence cadences[NUM_CADENCE_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d97/chan__dahdi_8c_source.html#l00569">chan_dahdi.c:569</a></div></div>
<div class="ttc" id="dsp_8c_html_ab32788a6894e4f84d7c49ce6a2b4bd10"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#ab32788a6894e4f84d7c49ce6a2b4bd10">DSP_HISTORY</a></div><div class="ttdeci">#define DSP_HISTORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00151">dsp.c:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6fa7b2c7a6105d4d7d3a73930a087dd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa7b2c7a6105d4d7d3a73930a087dd4">&#9670;&nbsp;</a></span>ast_dsp_set_busy_pattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dsp_set_busy_pattern </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d5b/structast__dsp__busy__pattern.html">ast_dsp_busy_pattern</a> *&#160;</td>
          <td class="paramname"><em>cadence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set expected lengths of the busy tone. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01791">1791</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00416">ast_dsp::busy_cadence</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00066">ast_dsp_busy_pattern::length</a>, and <a class="el" href="../../d3/d08/dsp_8h_source.html#l00068">ast_dsp_busy_pattern::pattern</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;{</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">busy_cadence</a> = *cadence;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;dsp busy pattern set to %d,%d,%d,%d\n&quot;</span>, cadence-&gt;<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[0], cadence-&gt;<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[1], (cadence-&gt;<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a9f59b34b1f25fe00023291b678246bcc">length</a> == 4) ? cadence-&gt;<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[2] : 0, (cadence-&gt;<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a9f59b34b1f25fe00023291b678246bcc">length</a> == 4) ? cadence-&gt;<a class="code" href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">pattern</a>[3] : 0);</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;}</div><div class="ttc" id="structast__dsp__busy__pattern_html_a8bf4ddcdbc0a03e32898ba1c5a20c953"><div class="ttname"><a href="../../d0/d5b/structast__dsp__busy__pattern.html#a8bf4ddcdbc0a03e32898ba1c5a20c953">ast_dsp_busy_pattern::pattern</a></div><div class="ttdeci">int pattern[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00068">dsp.h:68</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__dsp__busy__pattern_html_a9f59b34b1f25fe00023291b678246bcc"><div class="ttname"><a href="../../d0/d5b/structast__dsp__busy__pattern.html#a9f59b34b1f25fe00023291b678246bcc">ast_dsp_busy_pattern::length</a></div><div class="ttdeci">int length</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00066">dsp.h:66</a></div></div>
<div class="ttc" id="structast__dsp_html_ae40d7af4dfc270d67db982403bcebba0"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#ae40d7af4dfc270d67db982403bcebba0">ast_dsp::busy_cadence</a></div><div class="ttdeci">struct ast_dsp_busy_pattern busy_cadence</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00416">dsp.c:416</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9912e8fcfc4d76058656934932af0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9912e8fcfc4d76058656934932af0b1">&#9670;&nbsp;</a></span>ast_dsp_set_call_progress_zone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_set_call_progress_zone </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>zone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set zone for doing progress detection. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01879">1879</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c.html#af83fee9a892df2842ec9d4560f5a65ed">aliases</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01700">ast_dsp_prog_reset()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00106">progalias::mode</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00105">progalias::name</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00423">ast_dsp::progmode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;{</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d5/d3b/dsp_8c.html#af83fee9a892df2842ec9d4560f5a65ed">aliases</a>); x++) {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/d3b/dsp_8c.html#af83fee9a892df2842ec9d4560f5a65ed">aliases</a>[x].<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, zone)) {</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;         dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a8f27a322054f8079506fca51ea0ef67a">progmode</a> = <a class="code" href="../../d5/d3b/dsp_8c.html#af83fee9a892df2842ec9d4560f5a65ed">aliases</a>[x].<a class="code" href="../../d3/dc3/structprogalias.html#aac12ed78a7d47865a1dba0dcdfff7f5a">mode</a>;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;         <a class="code" href="../../d5/d3b/dsp_8c.html#affdbf305e6266be1228a571fccf28c45">ast_dsp_prog_reset</a>(dsp);</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      }</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;   }</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="dsp_8c_html_affdbf305e6266be1228a571fccf28c45"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#affdbf305e6266be1228a571fccf28c45">ast_dsp_prog_reset</a></div><div class="ttdeci">static void ast_dsp_prog_reset(struct ast_dsp *dsp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01700">dsp.c:1700</a></div></div>
<div class="ttc" id="dsp_8c_html_af83fee9a892df2842ec9d4560f5a65ed"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#af83fee9a892df2842ec9d4560f5a65ed">aliases</a></div><div class="ttdeci">static struct progalias aliases[]</div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structprogalias_html_aac12ed78a7d47865a1dba0dcdfff7f5a"><div class="ttname"><a href="../../d3/dc3/structprogalias.html#aac12ed78a7d47865a1dba0dcdfff7f5a">progalias::mode</a></div><div class="ttdeci">enum prog_mode mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00106">dsp.c:106</a></div></div>
<div class="ttc" id="structast__dsp_html_a8f27a322054f8079506fca51ea0ef67a"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a8f27a322054f8079506fca51ea0ef67a">ast_dsp::progmode</a></div><div class="ttdeci">enum prog_mode progmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00423">dsp.c:423</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa28ffa065bd46d09b5b06de2f77183b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28ffa065bd46d09b5b06de2f77183b0">&#9670;&nbsp;</a></span>ast_dsp_set_digitmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_set_digitmode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>digitmode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set digit mode. </p>
<dl class="section version"><dt>Version</dt><dd>1.6.1 renamed from ast_dsp_digitmode to ast_dsp_set_digitmode </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01844">1844</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00559">ast_digit_detect_init()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00435">ast_dsp::digit_state</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00426">ast_dsp::digitmode</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00031">DSP_DIGITMODE_DTMF</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00032">DSP_DIGITMODE_MF</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00035">DSP_DIGITMODE_MUTECONF</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00036">DSP_DIGITMODE_MUTEMAX</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00433">ast_dsp::sample_rate</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05992">dahdi_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06545">dahdi_setoption()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04896">enable_dsp_detect()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l12095">mkintf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01591">my_dsp_set_digitmode()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, and <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>.</p>
<div class="fragment"><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;{</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   <span class="keywordtype">int</span> <span class="keyword">new</span>;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;   <span class="keywordtype">int</span> old;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;   old = dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">digitmode</a> &amp; (<a class="code" href="../../d3/d08/dsp_8h.html#af0e16e88030540319d8a545dd7c2576c">DSP_DIGITMODE_DTMF</a> | <a class="code" href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a> | <a class="code" href="../../d3/d08/dsp_8h.html#aa34f768f0cae2ee8f2db1e8f57f02b21">DSP_DIGITMODE_MUTECONF</a> | <a class="code" href="../../d3/d08/dsp_8h.html#a6d78a2f3c0532d36beca1b8b5e97eb30">DSP_DIGITMODE_MUTEMAX</a>);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;   <span class="keyword">new</span> = digitmode &amp; (<a class="code" href="../../d3/d08/dsp_8h.html#af0e16e88030540319d8a545dd7c2576c">DSP_DIGITMODE_DTMF</a> | <a class="code" href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a> | <a class="code" href="../../d3/d08/dsp_8h.html#aa34f768f0cae2ee8f2db1e8f57f02b21">DSP_DIGITMODE_MUTECONF</a> | <a class="code" href="../../d3/d08/dsp_8h.html#a6d78a2f3c0532d36beca1b8b5e97eb30">DSP_DIGITMODE_MUTEMAX</a>);</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;   <span class="keywordflow">if</span> (old != <span class="keyword">new</span>) {</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      <span class="comment">/* Must initialize structures if switching from MF to DTMF or vice-versa */</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <a class="code" href="../../d5/d3b/dsp_8c.html#ad8c546f85dd9daab37eeeb3761aba219">ast_digit_detect_init</a>(&amp;dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">digit_state</a>, <span class="keyword">new</span> &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a>, dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a1c086f81c095b0efd7a87ee29fc5ba7e">sample_rate</a>);</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;   }</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">digitmode</a> = digitmode;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;}</div><div class="ttc" id="dsp_8c_html_ad8c546f85dd9daab37eeeb3761aba219"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#ad8c546f85dd9daab37eeeb3761aba219">ast_digit_detect_init</a></div><div class="ttdeci">static void ast_digit_detect_init(digit_detect_state_t *s, int mf, unsigned int sample_rate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00559">dsp.c:559</a></div></div>
<div class="ttc" id="dsp_8h_html_af0e16e88030540319d8a545dd7c2576c"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#af0e16e88030540319d8a545dd7c2576c">DSP_DIGITMODE_DTMF</a></div><div class="ttdeci">#define DSP_DIGITMODE_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00031">dsp.h:31</a></div></div>
<div class="ttc" id="dsp_8h_html_a5c7b41ef167d85ab193697e010dce94b"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a5c7b41ef167d85ab193697e010dce94b">DSP_DIGITMODE_MF</a></div><div class="ttdeci">#define DSP_DIGITMODE_MF</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00032">dsp.h:32</a></div></div>
<div class="ttc" id="dsp_8h_html_aa34f768f0cae2ee8f2db1e8f57f02b21"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#aa34f768f0cae2ee8f2db1e8f57f02b21">DSP_DIGITMODE_MUTECONF</a></div><div class="ttdeci">#define DSP_DIGITMODE_MUTECONF</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00035">dsp.h:35</a></div></div>
<div class="ttc" id="structast__dsp_html_a79258a44d42aea84f2ff2b5bafff1ed6"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a79258a44d42aea84f2ff2b5bafff1ed6">ast_dsp::digit_state</a></div><div class="ttdeci">digit_detect_state_t digit_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00435">dsp.c:435</a></div></div>
<div class="ttc" id="structast__dsp_html_a1c086f81c095b0efd7a87ee29fc5ba7e"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a1c086f81c095b0efd7a87ee29fc5ba7e">ast_dsp::sample_rate</a></div><div class="ttdeci">unsigned int sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00433">dsp.c:433</a></div></div>
<div class="ttc" id="dsp_8h_html_a6d78a2f3c0532d36beca1b8b5e97eb30"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a6d78a2f3c0532d36beca1b8b5e97eb30">DSP_DIGITMODE_MUTEMAX</a></div><div class="ttdeci">#define DSP_DIGITMODE_MUTEMAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00036">dsp.h:36</a></div></div>
<div class="ttc" id="structast__dsp_html_aa1e47d1242ef7ba65183a2c3e88e339d"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#aa1e47d1242ef7ba65183a2c3e88e339d">ast_dsp::digitmode</a></div><div class="ttdeci">int digitmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00426">dsp.c:426</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3cfa673380a4763168ce800db8b2f0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3cfa673380a4763168ce800db8b2f0b">&#9670;&nbsp;</a></span>ast_dsp_set_faxmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_set_faxmode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>faxmode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set fax mode. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01870">1870</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00511">ast_fax_detect_init()</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00427">ast_dsp::faxmode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03694">fax_detect_new()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;{</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;   <span class="keywordflow">if</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a16e504da5771f1589a97d3164a3b08b8">faxmode</a> != faxmode) {</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a16e504da5771f1589a97d3164a3b08b8">faxmode</a> = faxmode;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <a class="code" href="../../d5/d3b/dsp_8c.html#a504a394ff79bb1ebd4614f834e3b7dbe">ast_fax_detect_init</a>(dsp);</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;   }</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a16e504da5771f1589a97d3164a3b08b8"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a16e504da5771f1589a97d3164a3b08b8">ast_dsp::faxmode</a></div><div class="ttdeci">int faxmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00427">dsp.c:427</a></div></div>
<div class="ttc" id="dsp_8c_html_a504a394ff79bb1ebd4614f834e3b7dbe"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a504a394ff79bb1ebd4614f834e3b7dbe">ast_fax_detect_init</a></div><div class="ttdeci">static void ast_fax_detect_init(struct ast_dsp *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00511">dsp.c:511</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aedc7fa20fba91e3c018f6989e95c714b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedc7fa20fba91e3c018f6989e95c714b">&#9670;&nbsp;</a></span>ast_dsp_set_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dsp_set_features </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select feature set. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01755">1755</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00430">ast_dsp::display_inband_dtmf_warning</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00028">DSP_FEATURE_DIGIT_DETECT</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00412">ast_dsp::features</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l02990">ast_sip_session_alloc()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00765">chan_pjsip_cng_tone_detected()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00838">chan_pjsip_read_stream()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06473">dahdi_dtmf_detect_disable()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06487">dahdi_dtmf_detect_enable()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07231">dahdi_handle_dtmf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06545">dahdi_setoption()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00399">detect_write()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04896">enable_dsp_detect()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03694">fax_detect_new()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12365">misdn_set_opt_exec()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01648">my_handle_dtmf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02225">my_new_analog_ast_channel()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01530">pjsip_acf_dtmf_mode_write()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l05922">read_config()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00358">read_sf_digits()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00485">set_caps()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08631">sip_rtp_read()</a>, and <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00524">wait_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;{</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">features</a> = features;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;   <span class="keywordflow">if</span> (!(features &amp; <a class="code" href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a>)) {</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ab6401bd4f3bb3fcdd01650e97952b79e">display_inband_dtmf_warning</a> = 0;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;   }</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;}</div><div class="ttc" id="dsp_8h_html_a84818b360426bdd5f588cdca463e15be"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a></div><div class="ttdeci">#define DSP_FEATURE_DIGIT_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00028">dsp.h:28</a></div></div>
<div class="ttc" id="structast__dsp_html_a95d087aa0676d2cbc3e25cdd045311f7"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a95d087aa0676d2cbc3e25cdd045311f7">ast_dsp::features</a></div><div class="ttdeci">int features</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00412">dsp.c:412</a></div></div>
<div class="ttc" id="structast__dsp_html_ab6401bd4f3bb3fcdd01650e97952b79e"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#ab6401bd4f3bb3fcdd01650e97952b79e">ast_dsp::display_inband_dtmf_warning</a></div><div class="ttdeci">int display_inband_dtmf_warning</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00430">dsp.c:430</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac6092cf8670af7b3f871a8064fb67d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6092cf8670af7b3f871a8064fb67d3">&#9670;&nbsp;</a></span>ast_dsp_set_freqmode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_set_freqmode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>freq1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>squelch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set arbitrary frequency detection mode. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01859">1859</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00522">ast_freq_detect_init()</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00428">ast_dsp::freqmode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00399">detect_write()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00358">read_sf_digits()</a>, and <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00524">wait_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;{</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;   <span class="keywordflow">if</span> (freq &gt; 0) {</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ac923c92546ce2e7061c6e6d241f7f678">freqmode</a> = 1;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <a class="code" href="../../d5/d3b/dsp_8c.html#a6f3a1bd1e502a74a9630b3769d742a44">ast_freq_detect_init</a>(dsp, freq, dur, <a class="code" href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a>, squelch);</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#ac923c92546ce2e7061c6e6d241f7f678">freqmode</a> = 0;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;   }</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;}</div><div class="ttc" id="structast__dsp_html_ac923c92546ce2e7061c6e6d241f7f678"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#ac923c92546ce2e7061c6e6d241f7f678">ast_dsp::freqmode</a></div><div class="ttdeci">int freqmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00428">dsp.c:428</a></div></div>
<div class="ttc" id="cdr__sqlite3__custom_8c_html_ad6e663497d2c934364b3bcf07496b30b"><div class="ttname"><a href="../../d5/dd1/cdr__sqlite3__custom_8c.html#ad6e663497d2c934364b3bcf07496b30b">db</a></div><div class="ttdeci">static sqlite3 * db</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00060">cdr_sqlite3_custom.c:60</a></div></div>
<div class="ttc" id="dsp_8c_html_a6f3a1bd1e502a74a9630b3769d742a44"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#a6f3a1bd1e502a74a9630b3769d742a44">ast_freq_detect_init</a></div><div class="ttdeci">static void ast_freq_detect_init(struct ast_dsp *s, int freq, int dur, int db, int squelch)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00522">dsp.c:522</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06a0b883127ba1f853e9e0fa5f29d81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06a0b883127ba1f853e9e0fa5f29d81b">&#9670;&nbsp;</a></span>ast_dsp_set_threshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_dsp_set_threshold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the minimum average magnitude threshold to determine talking by the DSP. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a298">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01775">1775</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00407">ast_dsp::threshold</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d83/main_2app_8c_source.html#l01580">__ast_play_and_record()</a>, <a class="el" href="../../d5/d4c/app__waitforsilence_8c_source.html#l00154">do_waiting()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01215">fax_session_new()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02899">handle_recordfile()</a>, <a class="el" href="../../d2/d48/app__amd_8c_source.html#l00162">isAnsweringMachine()</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00303">set_softmix_bridge_data()</a>, and <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00260">set_talk_detect()</a>.</p>
<div class="fragment"><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;{</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;   dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a686599473d8ce395e95619896d88d539">threshold</a> = <a class="code" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a>;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;}</div><div class="ttc" id="dsp_8h_html_a11a8ce2b7eba2230cab37aad708d9abf"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a></div><div class="ttdeci">threshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00071">dsp.h:71</a></div></div>
<div class="ttc" id="structast__dsp_html_a686599473d8ce395e95619896d88d539"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a686599473d8ce395e95619896d88d539">ast_dsp::threshold</a></div><div class="ttdeci">int threshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00407">dsp.c:407</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f3b67988bffb3addfbc8a4688fa466d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f3b67988bffb3addfbc8a4688fa466d">&#9670;&nbsp;</a></span>ast_dsp_silence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_silence </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>totalsilence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the audio frame for silence. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dsp</td><td>DSP processing audio media. </td></tr>
    <tr><td class="paramname">f</td><td>Audio frame to process. </td></tr>
    <tr><td class="paramname">totalsilence</td><td>Variable to set to the total accumulated silence in ms seen by the DSP since the last noise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero if the frame is silence. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a305">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01483">1483</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01433">ast_dsp_silence_noise_with_energy()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d83/main_2app_8c_source.html#l01580">__ast_play_and_record()</a>, <a class="el" href="../../d3/dba/app__talkdetect_8c_source.html#l00080">background_detect_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00577">debug_check_frame_for_silence()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02899">handle_recordfile()</a>, <a class="el" href="../../d2/d48/app__amd_8c_source.html#l00162">isAnsweringMachine()</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>, and <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00159">talk_detect_audiohook_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;{</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d3b/dsp_8c.html#aa93f65e11fefc33db1f1c89824693c68">ast_dsp_silence_noise_with_energy</a>(dsp, f, totalsilence, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;}</div><div class="ttc" id="dsp_8c_html_aa93f65e11fefc33db1f1c89824693c68"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#aa93f65e11fefc33db1f1c89824693c68">ast_dsp_silence_noise_with_energy</a></div><div class="ttdeci">static int ast_dsp_silence_noise_with_energy(struct ast_dsp *dsp, struct ast_frame *f, int *total, int *frames_energy, int noise)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01433">dsp.c:1433</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a584d2b608db31342bff90e53b52eda46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584d2b608db31342bff90e53b52eda46">&#9670;&nbsp;</a></span>ast_dsp_silence_with_energy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_silence_with_energy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>totalsilence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>frames_energy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the audio frame for silence. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dsp</td><td>DSP processing audio media. </td></tr>
    <tr><td class="paramname">f</td><td>Audio frame to process. </td></tr>
    <tr><td class="paramname">totalsilence</td><td>Variable to set to the total accumulated silence in ms seen by the DSP since the last noise. </td></tr>
    <tr><td class="paramname">frames_energy</td><td>Variable to set to the average energy of the samples in the frame.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero if the frame is silence. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01478">1478</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01433">ast_dsp_silence_noise_with_energy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00942">softmix_bridge_write_voice()</a>.</p>
<div class="fragment"><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;{</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d3b/dsp_8c.html#aa93f65e11fefc33db1f1c89824693c68">ast_dsp_silence_noise_with_energy</a>(dsp, f, totalsilence, frames_energy, 0);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}</div><div class="ttc" id="dsp_8c_html_aa93f65e11fefc33db1f1c89824693c68"><div class="ttname"><a href="../../d5/d3b/dsp_8c.html#aa93f65e11fefc33db1f1c89824693c68">ast_dsp_silence_noise_with_energy</a></div><div class="ttdeci">static int ast_dsp_silence_noise_with_energy(struct ast_dsp *dsp, struct ast_frame *f, int *total, int *frames_energy, int noise)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01433">dsp.c:1433</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace6f146702ec253a6189176566527d30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace6f146702ec253a6189176566527d30">&#9670;&nbsp;</a></span>ast_dsp_was_muted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dsp_was_muted </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *&#160;</td>
          <td class="paramname"><em>dsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if DSP code was muting any fragment of the last processed frame. Muting (squelching) happens when DSP code removes DTMF/MF/generic tones from the audio. </p>
<dl class="section since"><dt>Since</dt><dd>1.6.1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01893">1893</a> of file <a class="el" href="../../d5/d3b/dsp_8c_source.html">dsp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00432">ast_dsp::mute_fragments</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;{</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;   <span class="keywordflow">return</span> (dsp-&gt;<a class="code" href="../../d6/de5/structast__dsp.html#a227e7147c3d372e856173f9374fd9a10">mute_fragments</a> &gt; 0);</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div><div class="ttc" id="structast__dsp_html_a227e7147c3d372e856173f9374fd9a10"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a227e7147c3d372e856173f9374fd9a10">ast_dsp::mute_fragments</a></div><div class="ttdeci">int mute_fragments</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00432">dsp.c:432</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:45:49 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
