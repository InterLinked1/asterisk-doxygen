<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_parking.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li><li class="navelem"><a class="el" href="../../dir_d2f3489fa5a5f753d9a5f9cd50bb6a1c.html">parking</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">res_parking.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Call Parking Resource Internal API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d33/parking_8h_source.html">asterisk/parking.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_parking.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/da0/res__parking_8h__incl.png" border="0" usemap="#res__parking_8h" alt=""/></div>
<map name="res__parking_8h" id="res__parking_8h">
<area shape="rect" id="node2" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1590,304,1701,331"/>
<area shape="rect" id="node29" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="1332,155,1460,181"/>
<area shape="rect" id="node36" href="../../d2/d33/parking_8h.html" title="Call Parking API. " alt="" coords="1683,80,1818,107"/>
<area shape="rect" id="node37" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="2019,304,2208,331"/>
<area shape="rect" id="node3" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1180,379,1319,405"/>
<area shape="rect" id="node7" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2021,677,2179,704"/>
<area shape="rect" id="node9" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="988,603,1119,629"/>
<area shape="rect" id="node14" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="33,453,180,480"/>
<area shape="rect" id="node21" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1321,528,1484,555"/>
<area shape="rect" id="node25" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="1683,379,1810,405"/>
<area shape="rect" id="node26" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="1834,379,2014,405"/>
<area shape="rect" id="node27" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="229,379,369,405"/>
<area shape="rect" id="node28" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="1981,603,2115,629"/>
<area shape="rect" id="node4" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1660,528,1804,555"/>
<area shape="rect" id="node5" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1675,603,1789,629"/>
<area shape="rect" id="node6" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="618,677,731,704"/>
<area shape="rect" id="node8" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="974,528,1133,555"/>
<area shape="rect" id="node10" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="607,528,742,555"/>
<area shape="rect" id="node11" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="485,603,635,629"/>
<area shape="rect" id="node12" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="714,453,878,480"/>
<area shape="rect" id="node13" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="769,528,895,555"/>
<area shape="rect" id="node15" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1509,528,1635,555"/>
<area shape="rect" id="node16" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1196,453,1303,480"/>
<area shape="rect" id="node17" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="227,528,378,555"/>
<area shape="rect" id="node18" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1327,453,1489,480"/>
<area shape="rect" id="node19" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1257,603,1428,629"/>
<area shape="rect" id="node20" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1055,453,1171,480"/>
<area shape="rect" id="node22" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="481,453,639,480"/>
<area shape="rect" id="node23" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1868,453,1993,480"/>
<area shape="rect" id="node24" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="255,453,406,480"/>
<area shape="rect" id="node30" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="1190,304,1378,331"/>
<area shape="rect" id="node31" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="1079,229,1265,256"/>
<area shape="rect" id="node33" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="375,229,542,256"/>
<area shape="rect" id="node34" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="1341,229,1451,256"/>
<area shape="rect" id="node35" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="1476,229,1591,256"/>
<area shape="rect" id="node32" href="../../d0/d3b/bridge__technology_8h.html" title="Channel Bridging API. " alt="" coords="963,304,1165,331"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d1d/res__parking_8h__dep__incl.png" border="0" usemap="#res__parking_8hdep" alt=""/></div>
<map name="res__parking_8hdep" id="res__parking_8hdep">
<area shape="rect" id="node2" href="../../da/ded/parking__applications_8c.html" title="Call Parking Applications. " alt="" coords="5,80,168,107"/>
<area shape="rect" id="node3" href="../../d9/dc5/parking__bridge_8c.html" title="Parking Bridge Class. " alt="" coords="193,80,319,107"/>
<area shape="rect" id="node4" href="../../d1/db7/parking__bridge__features_8c.html" title="Parking Bridge DTMF and Interval features. " alt="" coords="344,80,531,107"/>
<area shape="rect" id="node5" href="../../db/d81/parking__controller_8c.html" title="Parking Entry, Exit, and other assorted controls. " alt="" coords="555,80,701,107"/>
<area shape="rect" id="node6" href="../../de/d5d/parking__devicestate_8c.html" title="Call Parking Device State Management. " alt="" coords="726,80,887,107"/>
<area shape="rect" id="node7" href="../../d0/d39/parking__manager_8c.html" title="Call Parking Manager Actions and Events. " alt="" coords="912,80,1056,107"/>
<area shape="rect" id="node8" href="../../d6/d14/parking__tests_8c.html" title="Call Parking Unit Tests. " alt="" coords="1081,80,1199,107"/>
<area shape="rect" id="node9" href="../../d0/daf/parking__ui_8c.html" title="Call Parking CLI commands. " alt="" coords="1224,80,1323,107"/>
<area shape="rect" id="node10" href="../../d7/d45/res__parking_8c.html" title="Call Parking Resource. " alt="" coords="1347,80,1453,107"/>
</map>
</div>
</div>
<p><a href="../../d3/d38/res__parking_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a13a04bccfe6a7467919fefd9d55ceb6f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>&#160;&#160;&#160;&quot;res_parking&quot;</td></tr>
<tr class="separator:a13a04bccfe6a7467919fefd9d55ceb6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced787e4d8370cccb8ca75039c207833"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#aced787e4d8370cccb8ca75039c207833">DEFAULT_PARKING_EXTEN</a>&#160;&#160;&#160;&quot;700&quot;</td></tr>
<tr class="separator:aced787e4d8370cccb8ca75039c207833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc323fcdead468ac4ef64ecaba517911"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#afc323fcdead468ac4ef64ecaba517911">DEFAULT_PARKING_LOT</a>&#160;&#160;&#160;&quot;default&quot;</td></tr>
<tr class="separator:afc323fcdead468ac4ef64ecaba517911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f01e3514c5daf28848af16806e90a25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a9f01e3514c5daf28848af16806e90a25">PARK_DIAL_CONTEXT</a>&#160;&#160;&#160;&quot;park-dial&quot;</td></tr>
<tr class="separator:a9f01e3514c5daf28848af16806e90a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad85f270c1e17cb7dd40aa696e2c04a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a3ad85f270c1e17cb7dd40aa696e2c04a">PARKED_CALL_APPLICATION</a>&#160;&#160;&#160;&quot;ParkedCall&quot;</td></tr>
<tr class="separator:a3ad85f270c1e17cb7dd40aa696e2c04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0adf36a104bea7f61062029a9516ee15"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15">park_call_resolution</a> { <br />
&#160;&#160;<a class="el" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15acdc96f7a1979f13d5a98216dae66ae42">PARK_UNSET</a> = 0, 
<a class="el" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15ada614930e92a4b9a1375b4877fb1fa53">PARK_ABANDON</a>, 
<a class="el" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a69950c46adcd2d2e18d1bb261f7412d2">PARK_TIMEOUT</a>, 
<a class="el" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a9f3571929176411dad01093c2fb0532c">PARK_FORCED</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a4e211d80927d6972c8f810dd2c0ebc83">PARK_ANSWERED</a>
<br />
 }</td></tr>
<tr class="separator:a0adf36a104bea7f61062029a9516ee15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a77f312600cd3d4770fae5cdf989a43"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43">parked_call_feature_options</a> { <br />
&#160;&#160;<a class="el" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a9545512e851e5a890953c2ac6b33daef">OPT_PARKEDPLAY</a> = 0, 
<a class="el" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a7702dd7f72b75f2edfb600b35097682d">OPT_PARKEDTRANSFERS</a>, 
<a class="el" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a2d0fd6871d8ef9b065d3d64c0b2f147f">OPT_PARKEDREPARKING</a>, 
<a class="el" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43ad09c627e38e747d8e77c007b9796926b">OPT_PARKEDHANGUP</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a964a25ac3cf3bb2191bcdb8dc53a5bc4">OPT_PARKEDRECORDING</a>
<br />
 }</td></tr>
<tr class="separator:a1a77f312600cd3d4770fae5cdf989a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a194a64622dffa0cef525ea72e51b4560"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560">parking_lot_modes</a> { <a class="el" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad2ba25c2535c85e5085d2351146b31cc">PARKINGLOT_NORMAL</a> = 0, 
<a class="el" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad98e4523fca1be1c645297a87b3508e8">PARKINGLOT_DYNAMIC</a>, 
<a class="el" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560a358344c05108dad6ba2ac299988221c0">PARKINGLOT_DISABLED</a>
 }</td></tr>
<tr class="separator:a194a64622dffa0cef525ea72e51b4560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a73fa91856c7a651bfc9e7a769fa0d6b6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a73fa91856c7a651bfc9e7a769fa0d6b6">bridge_parking_new</a> (struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *bridge_lot)</td></tr>
<tr class="memdesc:a73fa91856c7a651bfc9e7a769fa0d6b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new parking bridge.  <a href="#a73fa91856c7a651bfc9e7a769fa0d6b6">More...</a><br /></td></tr>
<tr class="separator:a73fa91856c7a651bfc9e7a769fa0d6b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9526eacf78ab9791e01adec1db2c451"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#ae9526eacf78ab9791e01adec1db2c451">comeback_goto</a> (struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *pu, struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot)</td></tr>
<tr class="memdesc:ae9526eacf78ab9791e01adec1db2c451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a channel's position in the PBX after timeout using the parking lot settings.  <a href="#ae9526eacf78ab9791e01adec1db2c451">More...</a><br /></td></tr>
<tr class="separator:ae9526eacf78ab9791e01adec1db2c451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88326c901ae53e5ce78f1cfd9a57bab8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a88326c901ae53e5ce78f1cfd9a57bab8">create_parked_subscription</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *parkee_uuid, int hangup_after)</td></tr>
<tr class="memdesc:a88326c901ae53e5ce78f1cfd9a57bab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a parking announcement subscription.  <a href="#a88326c901ae53e5ce78f1cfd9a57bab8">More...</a><br /></td></tr>
<tr class="separator:a88326c901ae53e5ce78f1cfd9a57bab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad540c0ae257e5b7541b1bda040ccd1d0"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#ad540c0ae257e5b7541b1bda040ccd1d0">find_channel_parking_lot_name</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ad540c0ae257e5b7541b1bda040ccd1d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find parking lot name from channel.  <a href="#ad540c0ae257e5b7541b1bda040ccd1d0">More...</a><br /></td></tr>
<tr class="separator:ad540c0ae257e5b7541b1bda040ccd1d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d91015f6892991c1b981a8c4d080d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a35d91015f6892991c1b981a8c4d080d2">flatten_dial_string</a> (char *dialstring)</td></tr>
<tr class="memdesc:a35d91015f6892991c1b981a8c4d080d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flattens a dial string so that it can be written to/found from PBX extensions.  <a href="#a35d91015f6892991c1b981a8c4d080d2">More...</a><br /></td></tr>
<tr class="separator:a35d91015f6892991c1b981a8c4d080d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c53a25a7c2632c953b07de688331c2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#ac5c53a25a7c2632c953b07de688331c2">get_park_common_datastore_copy</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *parkee)</td></tr>
<tr class="memdesc:ac5c53a25a7c2632c953b07de688331c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a copy of the <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> from a channel that is being parked.  <a href="#ac5c53a25a7c2632c953b07de688331c2">More...</a><br /></td></tr>
<tr class="separator:ac5c53a25a7c2632c953b07de688331c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b53672752610716a514d4da2f89bec"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a58b53672752610716a514d4da2f89bec">get_parking_lot_container</a> (void)</td></tr>
<tr class="memdesc:a58b53672752610716a514d4da2f89bec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the parking lot container for purposes such as iteration.  <a href="#a58b53672752610716a514d4da2f89bec">More...</a><br /></td></tr>
<tr class="separator:a58b53672752610716a514d4da2f89bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45dda9518fbe778571619a7a5057d508"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a45dda9518fbe778571619a7a5057d508">load_parking_applications</a> (void)</td></tr>
<tr class="memdesc:a45dda9518fbe778571619a7a5057d508"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register parking applications.  <a href="#a45dda9518fbe778571619a7a5057d508">More...</a><br /></td></tr>
<tr class="separator:a45dda9518fbe778571619a7a5057d508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3f9a5f644e15bcfae3f48af74bcf36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#abc3f9a5f644e15bcfae3f48af74bcf36">load_parking_bridge_features</a> (void)</td></tr>
<tr class="memdesc:abc3f9a5f644e15bcfae3f48af74bcf36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register bridge features for parking.  <a href="#abc3f9a5f644e15bcfae3f48af74bcf36">More...</a><br /></td></tr>
<tr class="separator:abc3f9a5f644e15bcfae3f48af74bcf36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4620c222aced442fc4b93852f920dc80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a4620c222aced442fc4b93852f920dc80">load_parking_devstate</a> (void)</td></tr>
<tr class="memdesc:a4620c222aced442fc4b93852f920dc80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register Parking devstate handler.  <a href="#a4620c222aced442fc4b93852f920dc80">More...</a><br /></td></tr>
<tr class="separator:a4620c222aced442fc4b93852f920dc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594607491000d02dc9209b638d4ce3ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a594607491000d02dc9209b638d4ce3ae">load_parking_manager</a> (void)</td></tr>
<tr class="memdesc:a594607491000d02dc9209b638d4ce3ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register manager actions and setup subscriptions for stasis events.  <a href="#a594607491000d02dc9209b638d4ce3ae">More...</a><br /></td></tr>
<tr class="separator:a594607491000d02dc9209b638d4ce3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee67525bbb78174c880e728091c6bfbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#aee67525bbb78174c880e728091c6bfbf">load_parking_tests</a> (void)</td></tr>
<tr class="memdesc:aee67525bbb78174c880e728091c6bfbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register parking unit tests.  <a href="#aee67525bbb78174c880e728091c6bfbf">More...</a><br /></td></tr>
<tr class="separator:aee67525bbb78174c880e728091c6bfbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaffe969a04e83eec19864ca1345545a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#aaffe969a04e83eec19864ca1345545a3">load_parking_ui</a> (void)</td></tr>
<tr class="memdesc:aaffe969a04e83eec19864ca1345545a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register CLI commands.  <a href="#aaffe969a04e83eec19864ca1345545a3">More...</a><br /></td></tr>
<tr class="separator:aaffe969a04e83eec19864ca1345545a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf68fb3b1ff0390d60d881816c544d4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#abbf68fb3b1ff0390d60d881816c544d4">park_application_setup</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *parkee, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *parker, const char *<a class="el" href="../../da/d37/structapp__data.html">app_data</a>, int *silence_announcements)</td></tr>
<tr class="memdesc:abbf68fb3b1ff0390d60d881816c544d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to prepare a channel for parking by determining which parking bridge should be used, setting up a park common datastore so that the parking bridge will have access to necessary parking information when joining, and applying various bridge roles to the channel.  <a href="#abbf68fb3b1ff0390d60d881816c544d4">More...</a><br /></td></tr>
<tr class="separator:abbf68fb3b1ff0390d60d881816c544d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be33194c6609dbe5309ebc22035b5c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a1be33194c6609dbe5309ebc22035b5c8">park_common_datastore_free</a> (struct <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> *datastore)</td></tr>
<tr class="memdesc:a1be33194c6609dbe5309ebc22035b5c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a park common datastore struct.  <a href="#a1be33194c6609dbe5309ebc22035b5c8">More...</a><br /></td></tr>
<tr class="separator:a1be33194c6609dbe5309ebc22035b5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6489dc74f9057e099fc6018723af4a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a4c6489dc74f9057e099fc6018723af4a">park_common_setup</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *parkee, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *parker, const char *lot_name, const char *comeback_override, int use_ringing, int randomize, int time_limit, int silence_announcements)</td></tr>
<tr class="memdesc:a4c6489dc74f9057e099fc6018723af4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup a parked call on a parking bridge without needing to parse appdata.  <a href="#a4c6489dc74f9057e099fc6018723af4a">More...</a><br /></td></tr>
<tr class="separator:a4c6489dc74f9057e099fc6018723af4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091ec49f9495868819289f3631e201df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a091ec49f9495868819289f3631e201df">parked_call_retrieve_enable_features</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot, int recipient_mode)</td></tr>
<tr class="memdesc:a091ec49f9495868819289f3631e201df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply features based on the parking lot feature options.  <a href="#a091ec49f9495868819289f3631e201df">More...</a><br /></td></tr>
<tr class="separator:a091ec49f9495868819289f3631e201df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d045e281532de5cf20033192df5a49e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a1d045e281532de5cf20033192df5a49e">parking_channel_set_roles</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot, int force_ringing)</td></tr>
<tr class="memdesc:a1d045e281532de5cf20033192df5a49e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set necessary bridge roles on a channel that is about to enter a parking lot.  <a href="#a1d045e281532de5cf20033192df5a49e">More...</a><br /></td></tr>
<tr class="separator:a1d045e281532de5cf20033192df5a49e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02819d436da997238ca194f3bd6f0af6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a02819d436da997238ca194f3bd6f0af6">parking_create_dynamic_lot</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a02819d436da997238ca194f3bd6f0af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a dynamic parking lot.  <a href="#a02819d436da997238ca194f3bd6f0af6">More...</a><br /></td></tr>
<tr class="separator:a02819d436da997238ca194f3bd6f0af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d71baf5c2a43f040a3b98e11e0d70bc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a5d71baf5c2a43f040a3b98e11e0d70bc">parking_create_dynamic_lot_forced</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a5d71baf5c2a43f040a3b98e11e0d70bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a dynamic parking lot without respect to whether they are enabled by configuration.  <a href="#a5d71baf5c2a43f040a3b98e11e0d70bc">More...</a><br /></td></tr>
<tr class="separator:a5d71baf5c2a43f040a3b98e11e0d70bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4fabcba1ca8f0db9b0b37b9ec73a3ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#ac4fabcba1ca8f0db9b0b37b9ec73a3ba">parking_dynamic_lots_enabled</a> (void)</td></tr>
<tr class="memdesc:ac4fabcba1ca8f0db9b0b37b9ec73a3ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check global configuration to see if dynamic parking is enabled.  <a href="#ac4fabcba1ca8f0db9b0b37b9ec73a3ba">More...</a><br /></td></tr>
<tr class="separator:ac4fabcba1ca8f0db9b0b37b9ec73a3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e2a334f4304ff8f6235120f6c43a2b2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a2e2a334f4304ff8f6235120f6c43a2b2">parking_lot_build_or_update</a> (struct <a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a> *cfg, int dynamic)</td></tr>
<tr class="memdesc:a2e2a334f4304ff8f6235120f6c43a2b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a parking lot exists in the parking lot list already, update its status to match the provided configuration and return a reference return a reference to it. Otherwise, create a parking lot struct based on a parking lot configuration and return a reference to the new one.  <a href="#a2e2a334f4304ff8f6235120f6c43a2b2">More...</a><br /></td></tr>
<tr class="separator:a2e2a334f4304ff8f6235120f6c43a2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319bdb2bfda9a9d6b5093a2479bf6479"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a319bdb2bfda9a9d6b5093a2479bf6479">parking_lot_cfg_create</a> (const char *cat)</td></tr>
<tr class="memdesc:a319bdb2bfda9a9d6b5093a2479bf6479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an empty parking lot configuration structure useful for unit tests.  <a href="#a319bdb2bfda9a9d6b5093a2479bf6479">More...</a><br /></td></tr>
<tr class="separator:a319bdb2bfda9a9d6b5093a2479bf6479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd21d885238ff5f01f106b5c2bf2ad9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#afcd21d885238ff5f01f106b5c2bf2ad9">parking_lot_cfg_create_extensions</a> (struct <a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a> *lot_cfg)</td></tr>
<tr class="memdesc:afcd21d885238ff5f01f106b5c2bf2ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add extensions for a parking lot configuration.  <a href="#afcd21d885238ff5f01f106b5c2bf2ad9">More...</a><br /></td></tr>
<tr class="separator:afcd21d885238ff5f01f106b5c2bf2ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010b184552f23b0349d960b91f7ca950"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a010b184552f23b0349d960b91f7ca950">parking_lot_cfg_remove_extensions</a> (struct <a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a> *lot_cfg)</td></tr>
<tr class="memdesc:a010b184552f23b0349d960b91f7ca950"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove extensions belonging to a parking lot configuration.  <a href="#a010b184552f23b0349d960b91f7ca950">More...</a><br /></td></tr>
<tr class="separator:a010b184552f23b0349d960b91f7ca950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229bf0f37506c31420fe0b6a9d8594b6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a229bf0f37506c31420fe0b6a9d8594b6">parking_lot_find_by_name</a> (const char *lot_name)</td></tr>
<tr class="memdesc:a229bf0f37506c31420fe0b6a9d8594b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a parking lot based on its name.  <a href="#a229bf0f37506c31420fe0b6a9d8594b6">More...</a><br /></td></tr>
<tr class="separator:a229bf0f37506c31420fe0b6a9d8594b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3092588afe91f21f1503edb67107f3b3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a3092588afe91f21f1503edb67107f3b3">parking_lot_get_bridge</a> (struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot)</td></tr>
<tr class="memdesc:a3092588afe91f21f1503edb67107f3b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a reference to a parking lot's bridge. If it doesn't exist, create it and get a reference.  <a href="#a3092588afe91f21f1503edb67107f3b3">More...</a><br /></td></tr>
<tr class="separator:a3092588afe91f21f1503edb67107f3b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6cbf379e1752a03fb5d34da5010547a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#aa6cbf379e1752a03fb5d34da5010547a">parking_lot_get_space</a> (struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot, int target_override)</td></tr>
<tr class="memdesc:aa6cbf379e1752a03fb5d34da5010547a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an available parking space within a parking lot.  <a href="#aa6cbf379e1752a03fb5d34da5010547a">More...</a><br /></td></tr>
<tr class="separator:aa6cbf379e1752a03fb5d34da5010547a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46313e3e6b4ede91b19efcba7c2178e6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a46313e3e6b4ede91b19efcba7c2178e6">parking_lot_inspect_parked_user</a> (struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot, int target)</td></tr>
<tr class="memdesc:a46313e3e6b4ede91b19efcba7c2178e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if there is a parked user in a parking space and return it if there is.  <a href="#a46313e3e6b4ede91b19efcba7c2178e6">More...</a><br /></td></tr>
<tr class="separator:a46313e3e6b4ede91b19efcba7c2178e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6104c5c1d4ade69c857441bc8091d82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#ae6104c5c1d4ade69c857441bc8091d82">parking_lot_remove_if_unused</a> (struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot)</td></tr>
<tr class="memdesc:ae6104c5c1d4ade69c857441bc8091d82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a parking lot from the usable lists if it is no longer involved in any calls and no configuration currently claims it.  <a href="#ae6104c5c1d4ade69c857441bc8091d82">More...</a><br /></td></tr>
<tr class="separator:ae6104c5c1d4ade69c857441bc8091d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35206c7252a0025329aae64128b298a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#ac35206c7252a0025329aae64128b298a">parking_lot_retrieve_parked_user</a> (struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot, int target)</td></tr>
<tr class="memdesc:ac35206c7252a0025329aae64128b298a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if there is a parked user in a parking space and pull it from the parking lot if there is.  <a href="#ac35206c7252a0025329aae64128b298a">More...</a><br /></td></tr>
<tr class="separator:ac35206c7252a0025329aae64128b298a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10dc7f5cda134b9fa64512ee7dbe48fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a10dc7f5cda134b9fa64512ee7dbe48fd">parking_notify_metermaids</a> (int <a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="memdesc:a10dc7f5cda134b9fa64512ee7dbe48fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify metermaids that we've changed an extension.  <a href="#a10dc7f5cda134b9fa64512ee7dbe48fd">More...</a><br /></td></tr>
<tr class="separator:a10dc7f5cda134b9fa64512ee7dbe48fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7cff5f2172fe5cbb0c70f929195d28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a4e7cff5f2172fe5cbb0c70f929195d28">parking_set_duration</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *<a class="el" href="../../d8/dbc/structuser.html">user</a>)</td></tr>
<tr class="memdesc:a4e7cff5f2172fe5cbb0c70f929195d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup timeout interval feature on an <a class="el" href="../../db/dba/structast__bridge__features.html" title="Structure that contains features information. ">ast_bridge_features</a> for parking.  <a href="#a4e7cff5f2172fe5cbb0c70f929195d28">More...</a><br /></td></tr>
<tr class="separator:a4e7cff5f2172fe5cbb0c70f929195d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaecb2e8b6ae6629620589e258c7053bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#aaecb2e8b6ae6629620589e258c7053bf">publish_parked_call</a> (struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *pu, enum <a class="el" href="../../d2/d33/parking_8h.html#ad7f2cff41c0b5c4e0aa1e2de3ee71485">ast_parked_call_event_type</a> event_type)</td></tr>
<tr class="memdesc:aaecb2e8b6ae6629620589e258c7053bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a stasis parked call message for a given parked user.  <a href="#aaecb2e8b6ae6629620589e258c7053bf">More...</a><br /></td></tr>
<tr class="separator:aaecb2e8b6ae6629620589e258c7053bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af185e93906eea4f215d95c8ae4552dd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#af185e93906eea4f215d95c8ae4552dd8">publish_parked_call_failure</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *parkee)</td></tr>
<tr class="memdesc:af185e93906eea4f215d95c8ae4552dd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a stasis parked call message for the channel indicating failure to park.  <a href="#af185e93906eea4f215d95c8ae4552dd8">More...</a><br /></td></tr>
<tr class="separator:af185e93906eea4f215d95c8ae4552dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c6edcf3d9ec6dee14814a9b7503eb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a99c6edcf3d9ec6dee14814a9b7503eb5">say_parking_space</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, const char *payload)</td></tr>
<tr class="memdesc:a99c6edcf3d9ec6dee14814a9b7503eb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">custom callback function for ast_bridge_channel_queue_playfile which plays a parking space and optionally hangs up the call afterwards based on the payload in playfile.  <a href="#a99c6edcf3d9ec6dee14814a9b7503eb5">More...</a><br /></td></tr>
<tr class="separator:a99c6edcf3d9ec6dee14814a9b7503eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8e116497a4df1a0d6320800fd1a044"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a3b8e116497a4df1a0d6320800fd1a044">unload_parking_applications</a> (void)</td></tr>
<tr class="memdesc:a3b8e116497a4df1a0d6320800fd1a044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister parking applications.  <a href="#a3b8e116497a4df1a0d6320800fd1a044">More...</a><br /></td></tr>
<tr class="separator:a3b8e116497a4df1a0d6320800fd1a044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a2586e938596a099a271b0a01c0893"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a18a2586e938596a099a271b0a01c0893">unload_parking_bridge_features</a> (void)</td></tr>
<tr class="memdesc:a18a2586e938596a099a271b0a01c0893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister features registered by load_parking_bridge_features.  <a href="#a18a2586e938596a099a271b0a01c0893">More...</a><br /></td></tr>
<tr class="separator:a18a2586e938596a099a271b0a01c0893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e153334f4a3a88b055bed527f446ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a88e153334f4a3a88b055bed527f446ad">unload_parking_devstate</a> (void)</td></tr>
<tr class="memdesc:a88e153334f4a3a88b055bed527f446ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister Parking devstate handler.  <a href="#a88e153334f4a3a88b055bed527f446ad">More...</a><br /></td></tr>
<tr class="separator:a88e153334f4a3a88b055bed527f446ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6492a673c693917c90981ab183a24339"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a6492a673c693917c90981ab183a24339">unload_parking_manager</a> (void)</td></tr>
<tr class="memdesc:a6492a673c693917c90981ab183a24339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister manager actions and remove subscriptions for stasis events.  <a href="#a6492a673c693917c90981ab183a24339">More...</a><br /></td></tr>
<tr class="separator:a6492a673c693917c90981ab183a24339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6808a863fc132660e0a23d2334f9f15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#aa6808a863fc132660e0a23d2334f9f15">unload_parking_tests</a> (void)</td></tr>
<tr class="memdesc:aa6808a863fc132660e0a23d2334f9f15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister parking unit tests.  <a href="#aa6808a863fc132660e0a23d2334f9f15">More...</a><br /></td></tr>
<tr class="separator:aa6808a863fc132660e0a23d2334f9f15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39446e14b8cd31980f41f196cf9d4561"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a39446e14b8cd31980f41f196cf9d4561">unload_parking_ui</a> (void)</td></tr>
<tr class="memdesc:a39446e14b8cd31980f41f196cf9d4561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister CLI commands.  <a href="#a39446e14b8cd31980f41f196cf9d4561">More...</a><br /></td></tr>
<tr class="separator:a39446e14b8cd31980f41f196cf9d4561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a172d3604aefa8649ca098c9b78f39432"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/res__parking_8h.html#a172d3604aefa8649ca098c9b78f39432">unpark_parked_user</a> (struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *<a class="el" href="../../d8/dbc/structuser.html">user</a>)</td></tr>
<tr class="memdesc:a172d3604aefa8649ca098c9b78f39432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pull a parked user out of its parking lot. Use this when you don't want to use the parked user afterwards.  <a href="#a172d3604aefa8649ca098c9b78f39432">More...</a><br /></td></tr>
<tr class="separator:a172d3604aefa8649ca098c9b78f39432"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Call Parking Resource Internal API. </p>
<dl class="section author"><dt>Author</dt><dd>Jonathan Rose <a href="#" onclick="location.href='mai'+'lto:'+'jro'+'se'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jrose<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a13a04bccfe6a7467919fefd9d55ceb6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a04bccfe6a7467919fefd9d55ceb6f">&#9670;&nbsp;</a></span>BASE_REGISTRAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASE_REGISTRAR&#160;&#160;&#160;&quot;res_parking&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00036">36</a> of file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00730">extension_is_compatible()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00678">remove_all_configured_parking_lot_extensions()</a>, and <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01095">remove_pending_parking_lot_extensions()</a>.</p>

</div>
</div>
<a id="aced787e4d8370cccb8ca75039c207833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aced787e4d8370cccb8ca75039c207833">&#9670;&nbsp;</a></span>DEFAULT_PARKING_EXTEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_PARKING_EXTEN&#160;&#160;&#160;&quot;700&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00035">35</a> of file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01071">verify_default_parking_lot()</a>.</p>

</div>
</div>
<a id="afc323fcdead468ac4ef64ecaba517911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc323fcdead468ac4ef64ecaba517911">&#9670;&nbsp;</a></span>DEFAULT_PARKING_LOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_PARKING_LOT&#160;&#160;&#160;&quot;default&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00034">34</a> of file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00607">find_channel_parking_lot_name()</a>, and <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01071">verify_default_parking_lot()</a>.</p>

</div>
</div>
<a id="a9f01e3514c5daf28848af16806e90a25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f01e3514c5daf28848af16806e90a25">&#9670;&nbsp;</a></span>PARK_DIAL_CONTEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PARK_DIAL_CONTEXT&#160;&#160;&#160;&quot;park-dial&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00037">37</a> of file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00261">comeback_goto()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>.</p>

</div>
</div>
<a id="a3ad85f270c1e17cb7dd40aa696e2c04a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ad85f270c1e17cb7dd40aa696e2c04a">&#9670;&nbsp;</a></span>PARKED_CALL_APPLICATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PARKED_CALL_APPLICATION&#160;&#160;&#160;&quot;ParkedCall&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00038">38</a> of file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00989">load_parking_applications()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l01006">unload_parking_applications()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0adf36a104bea7f61062029a9516ee15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0adf36a104bea7f61062029a9516ee15">&#9670;&nbsp;</a></span>park_call_resolution</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15">park_call_resolution</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0adf36a104bea7f61062029a9516ee15acdc96f7a1979f13d5a98216dae66ae42"></a>PARK_UNSET&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0adf36a104bea7f61062029a9516ee15ada614930e92a4b9a1375b4877fb1fa53"></a>PARK_ABANDON&#160;</td><td class="fielddoc"><p>Nothing set a resolution. This should never be observed in practice. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0adf36a104bea7f61062029a9516ee15a69950c46adcd2d2e18d1bb261f7412d2"></a>PARK_TIMEOUT&#160;</td><td class="fielddoc"><p>The channel for the parked call hung up </p>
</td></tr>
<tr><td class="fieldname"><a id="a0adf36a104bea7f61062029a9516ee15a9f3571929176411dad01093c2fb0532c"></a>PARK_FORCED&#160;</td><td class="fielddoc"><p>The parked call stayed parked until the parking lot timeout was reached and was removed </p>
</td></tr>
<tr><td class="fieldname"><a id="a0adf36a104bea7f61062029a9516ee15a4e211d80927d6972c8f810dd2c0ebc83"></a>PARK_ANSWERED&#160;</td><td class="fielddoc"><p>The parked call was forcibly terminated by an unusual means in Asterisk </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00040">40</a> of file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                          {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15acdc96f7a1979f13d5a98216dae66ae42">PARK_UNSET</a> = 0,      <span class="comment">/*! Nothing set a resolution. This should never be observed in practice. */</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15ada614930e92a4b9a1375b4877fb1fa53">PARK_ABANDON</a>,     <span class="comment">/*! The channel for the parked call hung up */</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a69950c46adcd2d2e18d1bb261f7412d2">PARK_TIMEOUT</a>,     <span class="comment">/*! The parked call stayed parked until the parking lot timeout was reached and was removed */</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a9f3571929176411dad01093c2fb0532c">PARK_FORCED</a>,      <span class="comment">/*! The parked call was forcibly terminated by an unusual means in Asterisk */</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a4e211d80927d6972c8f810dd2c0ebc83">PARK_ANSWERED</a>,    <span class="comment">/*! The parked call was retrieved successfully */</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;};</div><div class="ttc" id="res__parking_8h_html_a0adf36a104bea7f61062029a9516ee15ada614930e92a4b9a1375b4877fb1fa53"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15ada614930e92a4b9a1375b4877fb1fa53">PARK_ABANDON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00042">res_parking.h:42</a></div></div>
<div class="ttc" id="res__parking_8h_html_a0adf36a104bea7f61062029a9516ee15acdc96f7a1979f13d5a98216dae66ae42"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15acdc96f7a1979f13d5a98216dae66ae42">PARK_UNSET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00041">res_parking.h:41</a></div></div>
<div class="ttc" id="res__parking_8h_html_a0adf36a104bea7f61062029a9516ee15a4e211d80927d6972c8f810dd2c0ebc83"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a4e211d80927d6972c8f810dd2c0ebc83">PARK_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00045">res_parking.h:45</a></div></div>
<div class="ttc" id="res__parking_8h_html_a0adf36a104bea7f61062029a9516ee15a9f3571929176411dad01093c2fb0532c"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a9f3571929176411dad01093c2fb0532c">PARK_FORCED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00044">res_parking.h:44</a></div></div>
<div class="ttc" id="res__parking_8h_html_a0adf36a104bea7f61062029a9516ee15a69950c46adcd2d2e18d1bb261f7412d2"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a69950c46adcd2d2e18d1bb261f7412d2">PARK_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00043">res_parking.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a77f312600cd3d4770fae5cdf989a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a77f312600cd3d4770fae5cdf989a43">&#9670;&nbsp;</a></span>parked_call_feature_options</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43">parked_call_feature_options</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1a77f312600cd3d4770fae5cdf989a43a9545512e851e5a890953c2ac6b33daef"></a>OPT_PARKEDPLAY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1a77f312600cd3d4770fae5cdf989a43a7702dd7f72b75f2edfb600b35097682d"></a>OPT_PARKEDTRANSFERS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1a77f312600cd3d4770fae5cdf989a43a2d0fd6871d8ef9b065d3d64c0b2f147f"></a>OPT_PARKEDREPARKING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1a77f312600cd3d4770fae5cdf989a43ad09c627e38e747d8e77c007b9796926b"></a>OPT_PARKEDHANGUP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1a77f312600cd3d4770fae5cdf989a43a964a25ac3cf3bb2191bcdb8dc53a5bc4"></a>OPT_PARKEDRECORDING&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00048">48</a> of file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                 {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a9545512e851e5a890953c2ac6b33daef">OPT_PARKEDPLAY</a> = 0,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a7702dd7f72b75f2edfb600b35097682d">OPT_PARKEDTRANSFERS</a>,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a2d0fd6871d8ef9b065d3d64c0b2f147f">OPT_PARKEDREPARKING</a>,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43ad09c627e38e747d8e77c007b9796926b">OPT_PARKEDHANGUP</a>,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a964a25ac3cf3bb2191bcdb8dc53a5bc4">OPT_PARKEDRECORDING</a>,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div><div class="ttc" id="res__parking_8h_html_a1a77f312600cd3d4770fae5cdf989a43a2d0fd6871d8ef9b065d3d64c0b2f147f"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a2d0fd6871d8ef9b065d3d64c0b2f147f">OPT_PARKEDREPARKING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00051">res_parking.h:51</a></div></div>
<div class="ttc" id="res__parking_8h_html_a1a77f312600cd3d4770fae5cdf989a43ad09c627e38e747d8e77c007b9796926b"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43ad09c627e38e747d8e77c007b9796926b">OPT_PARKEDHANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00052">res_parking.h:52</a></div></div>
<div class="ttc" id="res__parking_8h_html_a1a77f312600cd3d4770fae5cdf989a43a7702dd7f72b75f2edfb600b35097682d"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a7702dd7f72b75f2edfb600b35097682d">OPT_PARKEDTRANSFERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00050">res_parking.h:50</a></div></div>
<div class="ttc" id="res__parking_8h_html_a1a77f312600cd3d4770fae5cdf989a43a9545512e851e5a890953c2ac6b33daef"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a9545512e851e5a890953c2ac6b33daef">OPT_PARKEDPLAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00049">res_parking.h:49</a></div></div>
<div class="ttc" id="res__parking_8h_html_a1a77f312600cd3d4770fae5cdf989a43a964a25ac3cf3bb2191bcdb8dc53a5bc4"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a1a77f312600cd3d4770fae5cdf989a43a964a25ac3cf3bb2191bcdb8dc53a5bc4">OPT_PARKEDRECORDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00053">res_parking.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a194a64622dffa0cef525ea72e51b4560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a194a64622dffa0cef525ea72e51b4560">&#9670;&nbsp;</a></span>parking_lot_modes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560">parking_lot_modes</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a194a64622dffa0cef525ea72e51b4560ad2ba25c2535c85e5085d2351146b31cc"></a>PARKINGLOT_NORMAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a194a64622dffa0cef525ea72e51b4560ad98e4523fca1be1c645297a87b3508e8"></a>PARKINGLOT_DYNAMIC&#160;</td><td class="fielddoc"><p>The parking lot is configured normally and can accept new calls. Disable on reload if the config isn't replaced. valid transitions: PARKINGLOT_DISABLED </p>
</td></tr>
<tr><td class="fieldname"><a id="a194a64622dffa0cef525ea72e51b4560a358344c05108dad6ba2ac299988221c0"></a>PARKINGLOT_DISABLED&#160;</td><td class="fielddoc"><p>The parking lot is a dynamically created parking lot. It can be parked to at any time. Disabled on last parked call leaving. valid transitions: PARKINGLOT_DISABLED </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00056">56</a> of file <a class="el" href="../../d3/d38/res__parking_8h_source.html">res_parking.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                       {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad2ba25c2535c85e5085d2351146b31cc">PARKINGLOT_NORMAL</a> = 0,          <span class="comment">/*! The parking lot is configured normally and can accept new calls. Disable on reload if the config isn&#39;t replaced.</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">                                    *  valid transitions: PARKINGLOT_DISABLED */</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad98e4523fca1be1c645297a87b3508e8">PARKINGLOT_DYNAMIC</a>,             <span class="comment">/*! The parking lot is a dynamically created parking lot. It can be parked to at any time. Disabled on last parked call leaving.</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">                                    *  valid transitions: PARKINGLOT_DISABLED */</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560a358344c05108dad6ba2ac299988221c0">PARKINGLOT_DISABLED</a>,            <span class="comment">/*! The parking lot is no longer linked to a parking lot in configuration. It can no longer be parked to.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">                                    *  and it can not be parked to. This mode has no transitions. */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;};</div><div class="ttc" id="res__parking_8h_html_a194a64622dffa0cef525ea72e51b4560a358344c05108dad6ba2ac299988221c0"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560a358344c05108dad6ba2ac299988221c0">PARKINGLOT_DISABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00061">res_parking.h:61</a></div></div>
<div class="ttc" id="res__parking_8h_html_a194a64622dffa0cef525ea72e51b4560ad98e4523fca1be1c645297a87b3508e8"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad98e4523fca1be1c645297a87b3508e8">PARKINGLOT_DYNAMIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00059">res_parking.h:59</a></div></div>
<div class="ttc" id="res__parking_8h_html_a194a64622dffa0cef525ea72e51b4560ad2ba25c2535c85e5085d2351146b31cc"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad2ba25c2535c85e5085d2351146b31cc">PARKINGLOT_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00057">res_parking.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a73fa91856c7a651bfc9e7a769fa0d6b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73fa91856c7a651bfc9e7a769fa0d6b6">&#9670;&nbsp;</a></span>bridge_parking_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* bridge_parking_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>bridge_lot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new parking bridge. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_lot</td><td>Parking lot which the new bridge should be based on</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if the bridge can not be created </td></tr>
    <tr><td class="paramname">Newly</td><td>created parking bridge </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00456">456</a> of file <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html">parking_bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00086">AST_BRIDGE_CAPABILITY_HOLDING</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00043">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00045">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00047">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00438">ast_bridge_parking_init()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00724">bridge_alloc()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00760">bridge_base_init()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00709">bridge_register()</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00100">parking_lot::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00036">parking_lot_get_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordtype">void</span> *bridge;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d4/d6d/structast__bridge__parking.html">ast_bridge_parking</a>), &amp;<a class="code" href="../../d9/dc5/parking__bridge_8c.html#a45391e813412a845520dfeabd00d6062">ast_bridge_parking_v_table</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a>(bridge, <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a>,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a>,  <span class="stringliteral">&quot;Parking&quot;</span>, bridge_lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   bridge = <a class="code" href="../../d9/dc5/parking__bridge_8c.html#a416b4800ec2dd8d51dd9003cff03e9a3">ast_bridge_parking_init</a>(bridge, bridge_lot);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#a8690315fd0d12e16671f9d22eacfa8f0">bridge_register</a>(bridge);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keywordflow">return</span> bridge;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div><div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00045">bridge_features.h:45</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_a8690315fd0d12e16671f9d22eacfa8f0"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#a8690315fd0d12e16671f9d22eacfa8f0">bridge_register</a></div><div class="ttdeci">struct ast_bridge * bridge_register(struct ast_bridge *bridge)</div><div class="ttdoc">Register the new bridge with the system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00709">bridge.c:709</a></div></div>
<div class="ttc" id="structast__bridge__parking_html"><div class="ttname"><a href="../../d4/d6d/structast__bridge__parking.html">ast_bridge_parking</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc5/parking__bridge_8c_source.html#l00035">parking_bridge.c:35</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00086">bridge.h:86</a></div></div>
<div class="ttc" id="parking__bridge_8c_html_a416b4800ec2dd8d51dd9003cff03e9a3"><div class="ttname"><a href="../../d9/dc5/parking__bridge_8c.html#a416b4800ec2dd8d51dd9003cff03e9a3">ast_bridge_parking_init</a></div><div class="ttdeci">static struct ast_bridge * ast_bridge_parking_init(struct ast_bridge_parking *self, struct parking_lot *bridge_lot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc5/parking__bridge_8c_source.html#l00438">parking_bridge.c:438</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00043">bridge_features.h:43</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_adf0e64783980f762008ac238f2dbe715"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a></div><div class="ttdeci">struct ast_bridge * bridge_alloc(size_t size, const struct ast_bridge_methods *v_table)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00724">bridge.c:724</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_a38c501242153bbe13d0eda31220637b8"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a></div><div class="ttdeci">struct ast_bridge * bridge_base_init(struct ast_bridge *self, uint32_t capabilities, unsigned int flags, const char *creator, const char *name, const char *id)</div><div class="ttdoc">Initialize the base class of the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00760">bridge.c:760</a></div></div>
<div class="ttc" id="structparking__lot_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#ace9168767fc3707cf5f0a7d049682ba3">parking_lot::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00100">res_parking.h:100</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00047">bridge_features.h:47</a></div></div>
<div class="ttc" id="parking__bridge_8c_html_a45391e813412a845520dfeabd00d6062"><div class="ttname"><a href="../../d9/dc5/parking__bridge_8c.html#a45391e813412a845520dfeabd00d6062">ast_bridge_parking_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_parking_v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc5/parking__bridge_8c_source.html#l00428">parking_bridge.c:428</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9526eacf78ab9791e01adec1db2c451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9526eacf78ab9791e01adec1db2c451">&#9670;&nbsp;</a></span>comeback_goto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int comeback_goto </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *&#160;</td>
          <td class="paramname"><em>pu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>lot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a channel's position in the PBX after timeout using the parking lot settings. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pu</td><td>Parked user who is entering/reentering the PBX </td></tr>
    <tr><td class="paramname">lot</td><td>Parking lot the user was removed from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Position set successfully </td></tr>
    <tr><td class="paramname">-1</td><td>Failed to set the position </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00261">261</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l07011">ast_async_goto()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04179">ast_exists_extension()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00096">parking_lot::cfg</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00104">parked_user::chan</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00089">parking_lot_cfg::comebackcontext</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00074">parking_lot_cfg::comebacktoorigin</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00249">flatten_dial_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00037">PARK_DIAL_CONTEXT</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00109">parked_user::parker_dial_string</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan = pu-&gt;<a class="code" href="../../dd/d7e/structparked__user.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keywordtype">char</span> *peername_flat = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(pu-&gt;<a class="code" href="../../dd/d7e/structparked__user.html#a05dc49917dafb37112f18d6e5d021a98">parker_dial_string</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="comment">/* Flatten the peername so that it can be used for performing the timeout PBX operations */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <a class="code" href="../../db/d81/parking__controller_8c.html#a35d91015f6892991c1b981a8c4d080d2">flatten_dial_string</a>(peername_flat);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a3ae0f0c6df2219c59a4145dcbf9f307b">comebacktoorigin</a>) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(chan, <a class="code" href="../../d3/d38/res__parking_8h.html#a9f01e3514c5daf28848af16806e90a25">PARK_DIAL_CONTEXT</a>, peername_flat, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a>(chan, <a class="code" href="../../d3/d38/res__parking_8h.html#a9f01e3514c5daf28848af16806e90a25">PARK_DIAL_CONTEXT</a>, peername_flat, 1);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Can not start %s at %s,%s,1 because extension does not exist. Terminating call.\n&quot;</span>,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../d3/d38/res__parking_8h.html#a9f01e3514c5daf28848af16806e90a25">PARK_DIAL_CONTEXT</a>, peername_flat);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(chan, lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">comebackcontext</a>, peername_flat, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a>(chan, lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">comebackcontext</a>, peername_flat, 1);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(chan, lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">comebackcontext</a>, <span class="stringliteral">&quot;s&quot;</span>, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Could not start %s at %s,%s,1. Using &#39;s@%s&#39; instead.\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan),</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;         lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">comebackcontext</a>, peername_flat, lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">comebackcontext</a>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a>(chan, lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">comebackcontext</a>, <span class="stringliteral">&quot;s&quot;</span>, 1);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Can not start %s at %s,%s,1 and exten &#39;s@%s&#39; does not exist. Using &#39;s@default&#39;\n&quot;</span>,</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan),</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">comebackcontext</a>, peername_flat, lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">comebackcontext</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a>(chan, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;s&quot;</span>, 1);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="res__parking_8h_html_a9f01e3514c5daf28848af16806e90a25"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a9f01e3514c5daf28848af16806e90a25">PARK_DIAL_CONTEXT</a></div><div class="ttdeci">#define PARK_DIAL_CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00037">res_parking.h:37</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a5a880db87a579b98bbd8b722d35ff7c7"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a5a880db87a579b98bbd8b722d35ff7c7">parking_lot_cfg::comebackcontext</a></div><div class="ttdeci">const ast_string_field comebackcontext</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00089">res_parking.h:89</a></div></div>
<div class="ttc" id="parking__controller_8c_html_a35d91015f6892991c1b981a8c4d080d2"><div class="ttname"><a href="../../db/d81/parking__controller_8c.html#a35d91015f6892991c1b981a8c4d080d2">flatten_dial_string</a></div><div class="ttdeci">void flatten_dial_string(char *dialstring)</div><div class="ttdoc">Flattens a dial string so that it can be written to/found from PBX extensions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d81/parking__controller_8c_source.html#l00249">parking_controller.c:249</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structparked__user_html_a05dc49917dafb37112f18d6e5d021a98"><div class="ttname"><a href="../../dd/d7e/structparked__user.html#a05dc49917dafb37112f18d6e5d021a98">parked_user::parker_dial_string</a></div><div class="ttdeci">char * parker_dial_string</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00109">res_parking.h:109</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="pbx_8h_html_a64a5b8fdc919806135ad427aca9e71b7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a></div><div class="ttdeci">int ast_exists_extension(struct ast_channel *c, const char *context, const char *exten, int priority, const char *callerid)</div><div class="ttdoc">Determine whether an extension exists. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04179">pbx.c:4179</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a3ae0f0c6df2219c59a4145dcbf9f307b"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a3ae0f0c6df2219c59a4145dcbf9f307b">parking_lot_cfg::comebacktoorigin</a></div><div class="ttdeci">unsigned int comebacktoorigin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00074">res_parking.h:74</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="pbx_8h_html_ae0ba2eb966a9e3376de61d30513f7302"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a></div><div class="ttdeci">int ast_async_goto(struct ast_channel *chan, const char *context, const char *exten, int priority)</div><div class="ttdoc">Set the channel to next execute the specified dialplan location. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07011">pbx.c:7011</a></div></div>
<div class="ttc" id="structparked__user_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../dd/d7e/structparked__user.html#a84d1435c5b8d387806714ea7079304b7">parked_user::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00104">res_parking.h:104</a></div></div>
<div class="ttc" id="structparking__lot_html_abc61ea46020e75f93d5d46df84b91fcc"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">parking_lot::cfg</a></div><div class="ttdeci">struct parking_lot_cfg * cfg</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00096">res_parking.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88326c901ae53e5ce78f1cfd9a57bab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88326c901ae53e5ce78f1cfd9a57bab8">&#9670;&nbsp;</a></span>create_parked_subscription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_parked_subscription </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>parkee_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hangup_after</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a parking announcement subscription. </p>
<dl class="section since"><dt>Since</dt><dd>12.3.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel that will receive the announcement </td></tr>
    <tr><td class="paramname">parkee_uuid</td><td>Unique ID of the channel being parked </td></tr>
    <tr><td class="paramname">hangup_after</td><td>if non-zero, have the channel hangup after hearing the announcement</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00233">233</a> of file <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html">parking_bridge_features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00174">create_parked_subscription_full()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00519">manager_park()</a>, and <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00473">manager_park_bridged()</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/db7/parking__bridge__features_8c.html#af8ec17d93a760993a3d6d42c02318864">create_parked_subscription_full</a>(chan, parkee_uuid, hangup_after, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="parking__bridge__features_8c_html_af8ec17d93a760993a3d6d42c02318864"><div class="ttname"><a href="../../d1/db7/parking__bridge__features_8c.html#af8ec17d93a760993a3d6d42c02318864">create_parked_subscription_full</a></div><div class="ttdeci">static int create_parked_subscription_full(struct ast_channel *chan, const char *parkee_uuid, int hangup_after, struct transfer_channel_data *parked_channel_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db7/parking__bridge__features_8c_source.html#l00174">parking_bridge_features.c:174</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad540c0ae257e5b7541b1bda040ccd1d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad540c0ae257e5b7541b1bda040ccd1d0">&#9670;&nbsp;</a></span>find_channel_parking_lot_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* find_channel_parking_lot_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find parking lot name from channel. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel we want the parking lot name for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>name of the parking lot to use for the channel.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Always returns a parking lot name.</dd>
<dd>
Channel needs to be locked while the returned string is in use. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00607">607</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#abdaf681794561f17c4598cb2f16f06b0">ast_channel_parkinglot()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00034">DEFAULT_PARKING_LOT</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00484">park_common_setup()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00499">parking_park_call()</a>.</p>
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="comment">/* The channel variable overrides everything */</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   name = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;PARKINGLOT&quot;</span>);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(name)) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="comment">/* Try the channel&#39;s parking lot. */</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      name = <a class="code" href="../../d5/d7b/channel_8h.html#abdaf681794561f17c4598cb2f16f06b0">ast_channel_parkinglot</a>(chan);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(name)) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;         <span class="comment">/* Fall back to the default parking lot. */</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;         name = <a class="code" href="../../d3/d38/res__parking_8h.html#afc323fcdead468ac4ef64ecaba517911">DEFAULT_PARKING_LOT</a>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div><div class="ttc" id="res__parking_8h_html_afc323fcdead468ac4ef64ecaba517911"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#afc323fcdead468ac4ef64ecaba517911">DEFAULT_PARKING_LOT</a></div><div class="ttdeci">#define DEFAULT_PARKING_LOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00034">res_parking.h:34</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="channel_8h_html_abdaf681794561f17c4598cb2f16f06b0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abdaf681794561f17c4598cb2f16f06b0">ast_channel_parkinglot</a></div><div class="ttdeci">const char * ast_channel_parkinglot(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a35d91015f6892991c1b981a8c4d080d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d91015f6892991c1b981a8c4d080d2">&#9670;&nbsp;</a></span>flatten_dial_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flatten_dial_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dialstring</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flattens a dial string so that it can be written to/found from PBX extensions. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peername</td><td>unflattened dial string. This will be flattened in place. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00249">249</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00261">comeback_goto()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keywordflow">for</span> (i = 0; dialstring[i]; i++) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">if</span> (dialstring[i] == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;         <span class="comment">/* The underscore is the flattest character of all. */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;         dialstring[i] = <span class="charliteral">&#39;_&#39;</span>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ac5c53a25a7c2632c953b07de688331c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c53a25a7c2632c953b07de688331c2">&#9670;&nbsp;</a></span>get_park_common_datastore_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a>* get_park_common_datastore_copy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>parkee</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a copy of the <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> from a channel that is being parked. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parkee</td><td>The channel entering parking with the datastore we are checking</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Pointer</td><td>to a copy of the park common datastore for parkee if it could be cloned. This needs to be free'd with <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> free. </td></tr>
    <tr><td class="paramname">NULL</td><td>if the <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> could not be copied off of the channel. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00433">433</a> of file <a class="el" href="../../da/ded/parking__applications_8c_source.html">parking_applications.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00449">park_common_datastore::comeback_override</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00327">park_common_datastore_free()</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00448">park_common_datastore::parker_dial_string</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00447">park_common_datastore::parker_uuid</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00450">park_common_datastore::randomize</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00617">SCOPED_CHANNELLOCK</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00452">park_common_datastore::silence_announce</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00451">park_common_datastore::time_limit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;{</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> *data;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> *data_copy;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#aa11d2e2d6aaa7048d48491842c1de738">SCOPED_CHANNELLOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, parkee);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(parkee, &amp;<a class="code" href="../../da/ded/parking__applications_8c.html#a98504d9c9fb7493b43630b8844325f59">park_common_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   data = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="comment">/* This data should always be populated if this datastore was appended to the channel */</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(data != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   data_copy = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*data_copy));</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keywordflow">if</span> (!data_copy) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a76f66e0a56cfceb7666175e3fe8992a7">parker_uuid</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(data-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a76f66e0a56cfceb7666175e3fe8992a7">parker_uuid</a>);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <span class="keywordflow">if</span> (!data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a76f66e0a56cfceb7666175e3fe8992a7">parker_uuid</a>) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <a class="code" href="../../da/ded/parking__applications_8c.html#a1be33194c6609dbe5309ebc22035b5c8">park_common_datastore_free</a>(data_copy);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#addb13f4d42f0a46a68b28cf6f402acea">randomize</a> = data-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#addb13f4d42f0a46a68b28cf6f402acea">randomize</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a74bfe82ae04c544dbc0ec93efb741299">time_limit</a> = data-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a74bfe82ae04c544dbc0ec93efb741299">time_limit</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#ab7e3e012d64af1c427943c1ef6bd7d19">silence_announce</a> = data-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#ab7e3e012d64af1c427943c1ef6bd7d19">silence_announce</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <span class="keywordflow">if</span> (data-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">comeback_override</a>) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">comeback_override</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(data-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">comeback_override</a>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">if</span> (!data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">comeback_override</a>) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;         <a class="code" href="../../da/ded/parking__applications_8c.html#a1be33194c6609dbe5309ebc22035b5c8">park_common_datastore_free</a>(data_copy);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <span class="keywordflow">if</span> (data-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a05dc49917dafb37112f18d6e5d021a98">parker_dial_string</a>) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a05dc49917dafb37112f18d6e5d021a98">parker_dial_string</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(data-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a05dc49917dafb37112f18d6e5d021a98">parker_dial_string</a>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">if</span> (!data_copy-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a05dc49917dafb37112f18d6e5d021a98">parker_dial_string</a>) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         <a class="code" href="../../da/ded/parking__applications_8c.html#a1be33194c6609dbe5309ebc22035b5c8">park_common_datastore_free</a>(data_copy);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordflow">return</span> data_copy;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="ttc" id="parking__applications_8c_html_a1be33194c6609dbe5309ebc22035b5c8"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#a1be33194c6609dbe5309ebc22035b5c8">park_common_datastore_free</a></div><div class="ttdeci">void park_common_datastore_free(struct park_common_datastore *datastore)</div><div class="ttdoc">Free a park common datastore struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00327">parking_applications.c:327</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_a74bfe82ae04c544dbc0ec93efb741299"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a74bfe82ae04c544dbc0ec93efb741299">park_common_datastore::time_limit</a></div><div class="ttdeci">int time_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00451">res_parking.h:451</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="structpark__common__datastore_html"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00446">res_parking.h:446</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="parking__applications_8c_html_a98504d9c9fb7493b43630b8844325f59"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#a98504d9c9fb7493b43630b8844325f59">park_common_info</a></div><div class="ttdeci">static const struct ast_datastore_info park_common_info</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00345">parking_applications.c:345</a></div></div>
<div class="ttc" id="lock_8h_html_aa11d2e2d6aaa7048d48491842c1de738"><div class="ttname"><a href="../../dd/d42/lock_8h.html#aa11d2e2d6aaa7048d48491842c1de738">SCOPED_CHANNELLOCK</a></div><div class="ttdeci">#define SCOPED_CHANNELLOCK(varname, chan)</div><div class="ttdoc">scoped lock specialization for channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00617">lock.h:617</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_addb13f4d42f0a46a68b28cf6f402acea"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#addb13f4d42f0a46a68b28cf6f402acea">park_common_datastore::randomize</a></div><div class="ttdeci">int randomize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00450">res_parking.h:450</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_a76f66e0a56cfceb7666175e3fe8992a7"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a76f66e0a56cfceb7666175e3fe8992a7">park_common_datastore::parker_uuid</a></div><div class="ttdeci">char * parker_uuid</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00447">res_parking.h:447</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_a05dc49917dafb37112f18d6e5d021a98"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a05dc49917dafb37112f18d6e5d021a98">park_common_datastore::parker_dial_string</a></div><div class="ttdeci">char * parker_dial_string</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00448">res_parking.h:448</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_ab7e3e012d64af1c427943c1ef6bd7d19"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#ab7e3e012d64af1c427943c1ef6bd7d19">park_common_datastore::silence_announce</a></div><div class="ttdeci">int silence_announce</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00452">res_parking.h:452</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_a3f353fdf3cf5f3841cf457d3261e8445"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">park_common_datastore::comeback_override</a></div><div class="ttdeci">char * comeback_override</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00449">res_parking.h:449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58b53672752610716a514d4da2f89bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58b53672752610716a514d4da2f89bec">&#9670;&nbsp;</a></span>get_parking_lot_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* get_parking_lot_container </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the parking lot container for purposes such as iteration. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">pointer</td><td>to the parking lot container. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00596">596</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00266">parking_lot_container</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/daf/parking__ui_8c_source.html#l00111">cli_display_parking_lot_list()</a>, <a class="el" href="../../d0/daf/parking__ui_8c_source.html#l00140">complete_parking_lot()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00420">manager_parking_lot_list()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00309">manager_parking_status_all_lots()</a>, and <a class="el" href="../../de/d5d/parking__devicestate_8c_source.html#l00077">metermaidstate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div><div class="ttc" id="res__parking_8c_html_ac038f96c0c64fcf77d659364726109b0"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a></div><div class="ttdeci">static struct ao2_container * parking_lot_container</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00266">res_parking.c:266</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a45dda9518fbe778571619a7a5057d508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45dda9518fbe778571619a7a5057d508">&#9670;&nbsp;</a></span>load_parking_applications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_parking_applications </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register parking applications. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if successful </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00989">989</a> of file <a class="el" href="../../da/ded/parking__applications_8c_source.html">parking_applications.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00626">ast_register_application_xml</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00892">park_and_announce_app_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00237">PARK_AND_ANNOUNCE_APPLICATION</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00545">park_app_exec()</a>, <a class="el" href="../../d2/d33/parking_8h_source.html#l00035">PARK_APPLICATION</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00038">PARKED_CALL_APPLICATION</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01207">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;{</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../d2/d33/parking_8h.html#ae9948d6f3b81ba2a7b5b212a7b1068df">PARK_APPLICATION</a>, <a class="code" href="../../da/ded/parking__applications_8c.html#a782dce06c40a759fac1aab6dad13eaa6">park_app_exec</a>)) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../d3/d38/res__parking_8h.html#a3ad85f270c1e17cb7dd40aa696e2c04a">PARKED_CALL_APPLICATION</a>, <a class="code" href="../../da/ded/parking__applications_8c.html#abbe0b801e1bf6eb7c4fd0dc9f18f71a8">parked_call_app_exec</a>)) {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   }</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../da/ded/parking__applications_8c.html#ae12a3f670a902f6f81e02f4a4e766a79">PARK_AND_ANNOUNCE_APPLICATION</a>, <a class="code" href="../../da/ded/parking__applications_8c.html#a7ef98eb961f025f956814794a2ba34d7">park_and_announce_app_exec</a>)) {</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;}</div><div class="ttc" id="parking__applications_8c_html_ae12a3f670a902f6f81e02f4a4e766a79"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#ae12a3f670a902f6f81e02f4a4e766a79">PARK_AND_ANNOUNCE_APPLICATION</a></div><div class="ttdeci">#define PARK_AND_ANNOUNCE_APPLICATION</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00237">parking_applications.c:237</a></div></div>
<div class="ttc" id="parking__applications_8c_html_a7ef98eb961f025f956814794a2ba34d7"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#a7ef98eb961f025f956814794a2ba34d7">park_and_announce_app_exec</a></div><div class="ttdeci">static int park_and_announce_app_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00892">parking_applications.c:892</a></div></div>
<div class="ttc" id="parking__applications_8c_html_abbe0b801e1bf6eb7c4fd0dc9f18f71a8"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#abbe0b801e1bf6eb7c4fd0dc9f18f71a8">parked_call_app_exec</a></div><div class="ttdeci">static int parked_call_app_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00603">parking_applications.c:603</a></div></div>
<div class="ttc" id="parking_8h_html_ae9948d6f3b81ba2a7b5b212a7b1068df"><div class="ttname"><a href="../../d2/d33/parking_8h.html#ae9948d6f3b81ba2a7b5b212a7b1068df">PARK_APPLICATION</a></div><div class="ttdeci">#define PARK_APPLICATION</div><div class="ttdoc">The default parking application that Asterisk expects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d33/parking_8h_source.html#l00035">parking.h:35</a></div></div>
<div class="ttc" id="res__parking_8h_html_a3ad85f270c1e17cb7dd40aa696e2c04a"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a3ad85f270c1e17cb7dd40aa696e2c04a">PARKED_CALL_APPLICATION</a></div><div class="ttdeci">#define PARKED_CALL_APPLICATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00038">res_parking.h:38</a></div></div>
<div class="ttc" id="parking__applications_8c_html_a782dce06c40a759fac1aab6dad13eaa6"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#a782dce06c40a759fac1aab6dad13eaa6">park_app_exec</a></div><div class="ttdeci">static int park_app_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00545">parking_applications.c:545</a></div></div>
<div class="ttc" id="module_8h_html_afba4eb7a910b10969041ae4cd488729d"><div class="ttname"><a href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a></div><div class="ttdeci">#define ast_register_application_xml(app, execute)</div><div class="ttdoc">Register an application using XML documentation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00626">module.h:626</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc3f9a5f644e15bcfae3f48af74bcf36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3f9a5f644e15bcfae3f48af74bcf36">&#9670;&nbsp;</a></span>load_parking_bridge_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_parking_bridge_features </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register bridge features for parking. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00802">802</a> of file <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html">parking_bridge_features.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00092">AST_BRIDGE_BUILTIN_PARKCALL</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03123">ast_bridge_features_register()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l01508">ast_custom_function_register</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00196">ast_parking_register_bridge_features()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00524">feature_park_call()</a>, <a class="el" href="../../d2/d33/parking_8h_source.html#l00202">ast_parking_bridge_feature_fn_table::module</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01207">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;{</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   <a class="code" href="../../d1/db7/parking__bridge__features_8c.html#a527a87b444846a534af2414c76eb65dc">parking_provider</a>.<a class="code" href="../../d1/d60/structast__parking__bridge__feature__fn__table.html#a8637433cfbb88aeb10ce2ed5dcba0eb1">module</a> = AST_MODULE_SELF;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d1/db7/parking__bridge__features_8c.html#af0b6425453b659732eb7bfaedd9d9403">getparkingslotchannel_function</a>);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/d33/parking_8h.html#a782440ed70065eea7041451f18d49cc4">ast_parking_register_bridge_features</a>(&amp;<a class="code" href="../../d1/db7/parking__bridge__features_8c.html#a527a87b444846a534af2414c76eb65dc">parking_provider</a>)) {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#ae364d78e48f19a0d5ceedc6d18cda52d">ast_bridge_features_register</a>(<a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a>, <a class="code" href="../../d1/db7/parking__bridge__features_8c.html#ad8df5efc8c56a3ea31b81c89d5b0cf32">feature_park_call</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   }</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00092">bridge_features.h:92</a></div></div>
<div class="ttc" id="parking_8h_html_a782440ed70065eea7041451f18d49cc4"><div class="ttname"><a href="../../d2/d33/parking_8h.html#a782440ed70065eea7041451f18d49cc4">ast_parking_register_bridge_features</a></div><div class="ttdeci">int ast_parking_register_bridge_features(struct ast_parking_bridge_feature_fn_table *fn_table)</div><div class="ttdoc">Register a parking provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2a/parking_8c_source.html#l00196">parking.c:196</a></div></div>
<div class="ttc" id="structast__parking__bridge__feature__fn__table_html_a8637433cfbb88aeb10ce2ed5dcba0eb1"><div class="ttname"><a href="../../d1/d60/structast__parking__bridge__feature__fn__table.html#a8637433cfbb88aeb10ce2ed5dcba0eb1">ast_parking_bridge_feature_fn_table::module</a></div><div class="ttdeci">struct ast_module * module</div><div class="ttdoc">The module info for the module registering this parking provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d33/parking_8h_source.html#l00202">parking.h:202</a></div></div>
<div class="ttc" id="parking__bridge__features_8c_html_a527a87b444846a534af2414c76eb65dc"><div class="ttname"><a href="../../d1/db7/parking__bridge__features_8c.html#a527a87b444846a534af2414c76eb65dc">parking_provider</a></div><div class="ttdeci">struct ast_parking_bridge_feature_fn_table parking_provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db7/parking__bridge__features_8c_source.html#l00786">parking_bridge_features.c:786</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ae364d78e48f19a0d5ceedc6d18cda52d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ae364d78e48f19a0d5ceedc6d18cda52d">ast_bridge_features_register</a></div><div class="ttdeci">int ast_bridge_features_register(enum ast_bridge_builtin_feature feature, ast_bridge_hook_callback callback, const char *dtmf)</div><div class="ttdoc">Register a handler for a built in feature. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03123">bridge.c:3123</a></div></div>
<div class="ttc" id="parking__bridge__features_8c_html_af0b6425453b659732eb7bfaedd9d9403"><div class="ttname"><a href="../../d1/db7/parking__bridge__features_8c.html#af0b6425453b659732eb7bfaedd9d9403">getparkingslotchannel_function</a></div><div class="ttdeci">static struct ast_custom_function getparkingslotchannel_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db7/parking__bridge__features_8c_source.html#l00781">parking_bridge_features.c:781</a></div></div>
<div class="ttc" id="parking__bridge__features_8c_html_ad8df5efc8c56a3ea31b81c89d5b0cf32"><div class="ttname"><a href="../../d1/db7/parking__bridge__features_8c.html#ad8df5efc8c56a3ea31b81c89d5b0cf32">feature_park_call</a></div><div class="ttdeci">static int feature_park_call(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db7/parking__bridge__features_8c_source.html#l00524">parking_bridge_features.c:524</a></div></div>
<div class="ttc" id="pbx_8h_html_a8af0e93442a9e468425f63cc52b0ac7b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a></div><div class="ttdeci">#define ast_custom_function_register(acf)</div><div class="ttdoc">Register a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01508">pbx.h:1508</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4620c222aced442fc4b93852f920dc80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4620c222aced442fc4b93852f920dc80">&#9670;&nbsp;</a></span>load_parking_devstate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_parking_devstate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register Parking devstate handler. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d5d/parking__devicestate_8c_source.html#l00121">121</a> of file <a class="el" href="../../de/d5d/parking__devicestate_8c_source.html">parking_devicestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00391">ast_devstate_prov_add()</a>, and <a class="el" href="../../de/d5d/parking__devicestate_8c_source.html#l00077">metermaidstate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01207">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/da2/devicestate_8h.html#ae832fcc32c88962e73025ffeafe2961e">ast_devstate_prov_add</a>(<span class="stringliteral">&quot;Park&quot;</span>, <a class="code" href="../../de/d5d/parking__devicestate_8c.html#a803092f58ccdc8d7562ed7c5f2151380">metermaidstate</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="ttc" id="parking__devicestate_8c_html_a803092f58ccdc8d7562ed7c5f2151380"><div class="ttname"><a href="../../de/d5d/parking__devicestate_8c.html#a803092f58ccdc8d7562ed7c5f2151380">metermaidstate</a></div><div class="ttdeci">static enum ast_device_state metermaidstate(const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d5d/parking__devicestate_8c_source.html#l00077">parking_devicestate.c:77</a></div></div>
<div class="ttc" id="devicestate_8h_html_ae832fcc32c88962e73025ffeafe2961e"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#ae832fcc32c88962e73025ffeafe2961e">ast_devstate_prov_add</a></div><div class="ttdeci">int ast_devstate_prov_add(const char *label, ast_devstate_prov_cb_type callback)</div><div class="ttdoc">Add device state provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00391">devicestate.c:391</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a594607491000d02dc9209b638d4ce3ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a594607491000d02dc9209b638d4ce3ae">&#9670;&nbsp;</a></span>load_parking_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_parking_manager </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register manager actions and setup subscriptions for stasis events. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00694">694</a> of file <a class="el" href="../../d0/d39/parking__manager_8c_source.html">parking_manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d45/manager_8h_source.html#l00186">ast_manager_register_xml</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00072">EVENT_FLAG_CALL</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00519">manager_park()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00420">manager_parking_lot_list()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00372">manager_parking_status()</a>, and <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00685">parking_manager_enable_stasis()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01207">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;{</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   res = <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;Parkinglots&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a>, <a class="code" href="../../d0/d39/parking__manager_8c.html#afab1b826fb258ee4ede950e72697083d">manager_parking_lot_list</a>);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   res |= <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;ParkedCalls&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a>, <a class="code" href="../../d0/d39/parking__manager_8c.html#ae173627ea061ac13a887ad640feac171">manager_parking_status</a>);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   res |= <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<span class="stringliteral">&quot;Park&quot;</span>, <a class="code" href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a>, <a class="code" href="../../d0/d39/parking__manager_8c.html#a81ea8c1f888844f3ba5aade3be0bbeba">manager_park</a>);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <a class="code" href="../../d0/d39/parking__manager_8c.html#ad1298379c9c74696c24029e1f6b7fa76">parking_manager_enable_stasis</a>();</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="keywordflow">return</span> res ? -1 : 0;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div><div class="ttc" id="parking__manager_8c_html_a81ea8c1f888844f3ba5aade3be0bbeba"><div class="ttname"><a href="../../d0/d39/parking__manager_8c.html#a81ea8c1f888844f3ba5aade3be0bbeba">manager_park</a></div><div class="ttdeci">static int manager_park(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d39/parking__manager_8c_source.html#l00519">parking_manager.c:519</a></div></div>
<div class="ttc" id="parking__manager_8c_html_ad1298379c9c74696c24029e1f6b7fa76"><div class="ttname"><a href="../../d0/d39/parking__manager_8c.html#ad1298379c9c74696c24029e1f6b7fa76">parking_manager_enable_stasis</a></div><div class="ttdeci">static void parking_manager_enable_stasis(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d39/parking__manager_8c_source.html#l00685">parking_manager.c:685</a></div></div>
<div class="ttc" id="parking__manager_8c_html_ae173627ea061ac13a887ad640feac171"><div class="ttname"><a href="../../d0/d39/parking__manager_8c.html#ae173627ea061ac13a887ad640feac171">manager_parking_status</a></div><div class="ttdeci">static int manager_parking_status(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d39/parking__manager_8c_source.html#l00372">parking_manager.c:372</a></div></div>
<div class="ttc" id="parking__manager_8c_html_afab1b826fb258ee4ede950e72697083d"><div class="ttname"><a href="../../d0/d39/parking__manager_8c.html#afab1b826fb258ee4ede950e72697083d">manager_parking_lot_list</a></div><div class="ttdeci">static int manager_parking_lot_list(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d39/parking__manager_8c_source.html#l00420">parking_manager.c:420</a></div></div>
<div class="ttc" id="manager_8h_html_ab5db3cc603d7e798d61cb4cd94fbb4e2"><div class="ttname"><a href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a></div><div class="ttdeci">#define EVENT_FLAG_CALL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00072">manager.h:72</a></div></div>
<div class="ttc" id="manager_8h_html_a5b63b8a8faede2d852e071e1f7b31c11"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a></div><div class="ttdeci">#define ast_manager_register_xml(action, authority, func)</div><div class="ttdoc">Register a manager callback using XML documentation to describe the manager. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00186">manager.h:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee67525bbb78174c880e728091c6bfbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee67525bbb78174c880e728091c6bfbf">&#9670;&nbsp;</a></span>load_parking_tests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_parking_tests </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register parking unit tests. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">nonzero</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00851">851</a> of file <a class="el" href="../../d6/d14/parking__tests_8c_source.html">parking_tests.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00127">AST_TEST_REGISTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01207">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">/* NOOP without test framework */</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="preprocessor">#if defined(TEST_FRAMEWORK)</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   res |= <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(create_lot);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   res |= <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(park_call);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   res |= <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(retrieve_call);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   res |= <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(park_extensions);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   res |= <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(extension_conflicts);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   res |= <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(dynamic_parking_variables);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="ttc" id="test_8h_html_a34f64a69c09d98ceb693b077efd7ef97"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a></div><div class="ttdeci">#define AST_TEST_REGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00127">test.h:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaffe969a04e83eec19864ca1345545a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaffe969a04e83eec19864ca1345545a3">&#9670;&nbsp;</a></span>load_parking_ui()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_parking_ui </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register CLI commands. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if successful </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/daf/parking__ui_8c_source.html#l00198">198</a> of file <a class="el" href="../../d0/daf/parking__ui_8c_source.html">parking_ui.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01207">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../d0/daf/parking__ui_8c.html#ac736e75d576f81e4f4b25aa20021a381">cli_parking_lot</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/daf/parking__ui_8c.html#ac736e75d576f81e4f4b25aa20021a381">cli_parking_lot</a>));</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="parking__ui_8c_html_ac736e75d576f81e4f4b25aa20021a381"><div class="ttname"><a href="../../d0/daf/parking__ui_8c.html#ac736e75d576f81e4f4b25aa20021a381">cli_parking_lot</a></div><div class="ttdeci">static struct ast_cli_entry cli_parking_lot[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daf/parking__ui_8c_source.html#l00194">parking_ui.c:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abbf68fb3b1ff0390d60d881816c544d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbf68fb3b1ff0390d60d881816c544d4">&#9670;&nbsp;</a></span>park_application_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* park_application_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>parkee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>parker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>silence_announcements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to prepare a channel for parking by determining which parking bridge should be used, setting up a park common datastore so that the parking bridge will have access to necessary parking information when joining, and applying various bridge roles to the channel. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parkee</td><td>The channel being preparred for parking </td></tr>
    <tr><td class="paramname">parker</td><td>The channel initiating the park; may be the parkee as well. May be NULL. </td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/d37/structapp__data.html">app_data</a></td><td>arguments supplied to the Park application. May be NULL. </td></tr>
    <tr><td class="paramname">silence_announcements</td><td>optional pointer to an integer where we want to store the silence option flag this value should be initialized to 0 prior to calling park_common_setup.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">reference</td><td>to a parking bridge if successful </td></tr>
    <tr><td class="paramname">NULL</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ao2_cleanup this reference when you are done using it or you'll cause leaks. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00526">526</a> of file <a class="el" href="../../da/ded/parking__applications_8c_source.html">parking_applications.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00278">park_app_parse_data()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00484">park_common_setup()</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00234">AST_TEST_DEFINE()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00892">park_and_announce_app_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00545">park_app_exec()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00434">parking_park_bridge_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;{</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   <span class="keywordtype">int</span> use_ringing = 0;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/d99/structpark__common__datastore.html#addb13f4d42f0a46a68b28cf6f402acea">randomize</a> = 0;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/d99/structpark__common__datastore.html#a74bfe82ae04c544dbc0ec93efb741299">time_limit</a> = -1;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keywordtype">char</span> *, <a class="code" href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">comeback_override</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keywordtype">char</span> *, lot_name_app_arg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../da/d37/structapp__data.html">app_data</a>) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <a class="code" href="../../da/ded/parking__applications_8c.html#ae4ec8befc8b70b3aeca5e215cb2ed30e">park_app_parse_data</a>(<a class="code" href="../../da/d37/structapp__data.html">app_data</a>, silence_announcements, &amp;use_ringing, &amp;randomize, &amp;time_limit, &amp;<a class="code" href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">comeback_override</a>, &amp;lot_name_app_arg);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/ded/parking__applications_8c.html#a4c6489dc74f9057e099fc6018723af4a">park_common_setup</a>(parkee, parker, lot_name_app_arg, <a class="code" href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">comeback_override</a>, use_ringing,</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      randomize, time_limit, silence_announcements ? *silence_announcements : 0);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="ttc" id="structpark__common__datastore_html_a74bfe82ae04c544dbc0ec93efb741299"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a74bfe82ae04c544dbc0ec93efb741299">park_common_datastore::time_limit</a></div><div class="ttdeci">int time_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00451">res_parking.h:451</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_addb13f4d42f0a46a68b28cf6f402acea"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#addb13f4d42f0a46a68b28cf6f402acea">park_common_datastore::randomize</a></div><div class="ttdeci">int randomize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00450">res_parking.h:450</a></div></div>
<div class="ttc" id="structapp__data_html"><div class="ttname"><a href="../../da/d37/structapp__data.html">app_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d77/test__res__stasis_8c_source.html#l00062">test_res_stasis.c:62</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="parking__applications_8c_html_ae4ec8befc8b70b3aeca5e215cb2ed30e"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#ae4ec8befc8b70b3aeca5e215cb2ed30e">park_app_parse_data</a></div><div class="ttdeci">static int park_app_parse_data(const char *data, int *disable_announce, int *use_ringing, int *randomize, int *time_limit, char **comeback_override, char **lot_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00278">parking_applications.c:278</a></div></div>
<div class="ttc" id="parking__applications_8c_html_a4c6489dc74f9057e099fc6018723af4a"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#a4c6489dc74f9057e099fc6018723af4a">park_common_setup</a></div><div class="ttdeci">struct ast_bridge * park_common_setup(struct ast_channel *parkee, struct ast_channel *parker, const char *lot_name, const char *comeback_override, int use_ringing, int randomize, int time_limit, int silence_announcements)</div><div class="ttdoc">Setup a parked call on a parking bridge without needing to parse appdata. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00484">parking_applications.c:484</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_a3f353fdf3cf5f3841cf457d3261e8445"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">park_common_datastore::comeback_override</a></div><div class="ttdeci">char * comeback_override</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00449">res_parking.h:449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1be33194c6609dbe5309ebc22035b5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1be33194c6609dbe5309ebc22035b5c8">&#9670;&nbsp;</a></span>park_common_datastore_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void park_common_datastore_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> *&#160;</td>
          <td class="paramname"><em>datastore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a park common datastore struct. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">datastore</td><td>The <a class="el" href="../../de/d99/structpark__common__datastore.html">park_common_datastore</a> being free'd. (NULL tolerant) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00327">327</a> of file <a class="el" href="../../da/ded/parking__applications_8c_source.html">parking_applications.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00449">park_common_datastore::comeback_override</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00448">park_common_datastore::parker_dial_string</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00447">park_common_datastore::parker_uuid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00433">get_park_common_datastore_copy()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00339">park_common_datastore_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a76f66e0a56cfceb7666175e3fe8992a7">parker_uuid</a>);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a05dc49917dafb37112f18d6e5d021a98">parker_dial_string</a>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore-&gt;<a class="code" href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">comeback_override</a>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(datastore);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div><div class="ttc" id="structpark__common__datastore_html_a76f66e0a56cfceb7666175e3fe8992a7"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a76f66e0a56cfceb7666175e3fe8992a7">park_common_datastore::parker_uuid</a></div><div class="ttdeci">char * parker_uuid</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00447">res_parking.h:447</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_a05dc49917dafb37112f18d6e5d021a98"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a05dc49917dafb37112f18d6e5d021a98">park_common_datastore::parker_dial_string</a></div><div class="ttdeci">char * parker_dial_string</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00448">res_parking.h:448</a></div></div>
<div class="ttc" id="structpark__common__datastore_html_a3f353fdf3cf5f3841cf457d3261e8445"><div class="ttname"><a href="../../de/d99/structpark__common__datastore.html#a3f353fdf3cf5f3841cf457d3261e8445">park_common_datastore::comeback_override</a></div><div class="ttdeci">char * comeback_override</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00449">res_parking.h:449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c6489dc74f9057e099fc6018723af4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c6489dc74f9057e099fc6018723af4a">&#9670;&nbsp;</a></span>park_common_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* park_common_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>parkee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>parker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lot_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comeback_override</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>use_ringing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>randomize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>time_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>silence_announcements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup a parked call on a parking bridge without needing to parse appdata. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00484">484</a> of file <a class="el" href="../../da/ded/parking__applications_8c_source.html">parking_applications.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00607">find_channel_parking_lot_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00057">parking_channel_set_roles()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01059">parking_create_dynamic_lot()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00601">parking_lot_find_by_name()</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00036">parking_lot_get_bridge()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00363">setup_park_common_datastore()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00452">manager_park_unbridged()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00526">park_application_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *parking_bridge;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/de7/structparking__lot.html">parking_lot</a> *, lot, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordflow">if</span> (!parker) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      parker = parkee;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   }</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <span class="comment">/* If the name of the parking lot isn&#39;t specified in the arguments, find it based on the channel. */</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(lot_name)) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(parker);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      lot_name = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d3/d38/res__parking_8h.html#ad540c0ae257e5b7541b1bda040ccd1d0">find_channel_parking_lot_name</a>(parker));</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(parker);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   lot = <a class="code" href="../../d3/d38/res__parking_8h.html#a229bf0f37506c31420fe0b6a9d8594b6">parking_lot_find_by_name</a>(lot_name);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">if</span> (!lot) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      lot = <a class="code" href="../../d3/d38/res__parking_8h.html#a02819d436da997238ca194f3bd6f0af6">parking_create_dynamic_lot</a>(lot_name, parker);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keywordflow">if</span> (!lot) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not find parking lot: &#39;%s&#39;\n&quot;</span>, lot_name);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(lot);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   parking_bridge = <a class="code" href="../../db/d81/parking__controller_8c.html#a3092588afe91f21f1503edb67107f3b3">parking_lot_get_bridge</a>(lot);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(lot);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   <span class="keywordflow">if</span> (!parking_bridge) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="comment">/* Apply relevant bridge roles and such to the parking channel */</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <a class="code" href="../../db/d81/parking__controller_8c.html#a1d045e281532de5cf20033192df5a49e">parking_channel_set_roles</a>(parkee, lot, use_ringing);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <a class="code" href="../../da/ded/parking__applications_8c.html#a01f55dd4cb4bc1d60be92612de9745d7">setup_park_common_datastore</a>(parkee, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(parker), comeback_override, randomize, time_limit,</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      silence_announcements);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <span class="keywordflow">return</span> parking_bridge;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="parking__applications_8c_html_a01f55dd4cb4bc1d60be92612de9745d7"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#a01f55dd4cb4bc1d60be92612de9745d7">setup_park_common_datastore</a></div><div class="ttdeci">static int setup_park_common_datastore(struct ast_channel *parkee, const char *parker_uuid, const char *comeback_override, int randomize, int time_limit, int silence_announce)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00363">parking_applications.c:363</a></div></div>
<div class="ttc" id="res__parking_8h_html_a02819d436da997238ca194f3bd6f0af6"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a02819d436da997238ca194f3bd6f0af6">parking_create_dynamic_lot</a></div><div class="ttdeci">struct parking_lot * parking_create_dynamic_lot(const char *name, struct ast_channel *chan)</div><div class="ttdoc">Create a dynamic parking lot. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l01059">res_parking.c:1059</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="parking__controller_8c_html_a1d045e281532de5cf20033192df5a49e"><div class="ttname"><a href="../../db/d81/parking__controller_8c.html#a1d045e281532de5cf20033192df5a49e">parking_channel_set_roles</a></div><div class="ttdeci">int parking_channel_set_roles(struct ast_channel *chan, struct parking_lot *lot, int force_ringing)</div><div class="ttdoc">Set necessary bridge roles on a channel that is about to enter a parking lot. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d81/parking__controller_8c_source.html#l00057">parking_controller.c:57</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structparking__lot_html"><div class="ttname"><a href="../../d4/de7/structparking__lot.html">parking_lot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00092">res_parking.h:92</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res__parking_8h_html_a229bf0f37506c31420fe0b6a9d8594b6"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a229bf0f37506c31420fe0b6a9d8594b6">parking_lot_find_by_name</a></div><div class="ttdeci">struct parking_lot * parking_lot_find_by_name(const char *lot_name)</div><div class="ttdoc">Find a parking lot based on its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00601">res_parking.c:601</a></div></div>
<div class="ttc" id="res__parking_8h_html_ad540c0ae257e5b7541b1bda040ccd1d0"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#ad540c0ae257e5b7541b1bda040ccd1d0">find_channel_parking_lot_name</a></div><div class="ttdeci">const char * find_channel_parking_lot_name(struct ast_channel *chan)</div><div class="ttdoc">Find parking lot name from channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00607">res_parking.c:607</a></div></div>
<div class="ttc" id="parking__controller_8c_html_a3092588afe91f21f1503edb67107f3b3"><div class="ttname"><a href="../../db/d81/parking__controller_8c.html#a3092588afe91f21f1503edb67107f3b3">parking_lot_get_bridge</a></div><div class="ttdeci">struct ast_bridge * parking_lot_get_bridge(struct parking_lot *lot)</div><div class="ttdoc">Get a reference to a parking lot&amp;#39;s bridge. If it doesn&amp;#39;t exist, create it and get a reference...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d81/parking__controller_8c_source.html#l00036">parking_controller.c:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a091ec49f9495868819289f3631e201df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091ec49f9495868819289f3631e201df">&#9670;&nbsp;</a></span>parked_call_retrieve_enable_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parked_call_retrieve_enable_features </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>lot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recipient_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply features based on the parking lot feature options. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Which channel's feature set is being modified </td></tr>
    <tr><td class="paramname">lot</td><td>parking lot which establishes the features used </td></tr>
    <tr><td class="paramname">recipient_mode</td><td>AST_FEATURE_FLAG_BYCALLER if the user is the retriever AST_FEATURE_FLAG_BYCALLEE if the user is the parkee </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00215">215</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00268">ast_bridge_features_ds_get()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00258">ast_bridge_features_ds_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01070">AST_FEATURE_AUTOMIXMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01066">AST_FEATURE_DISCONNECT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01069">AST_FEATURE_PARKCALL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01065">AST_FEATURE_REDIRECT</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00096">parking_lot::cfg</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00078">parking_lot_cfg::parkedcallhangup</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00079">parking_lot_cfg::parkedcallrecording</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00077">parking_lot_cfg::parkedcallreparking</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00076">parking_lot_cfg::parkedcalltransfers</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00342">bridge_parking_pull()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="comment">/* Enabling features here should be additive to features that are already on the channel. */</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> feature_flags = { 0 };</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> *existing_features;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   existing_features = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a>(chan);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordflow">if</span> (existing_features) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      feature_flags = *existing_features;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a1b7ebcd57a463747583fbdbe04659f87">parkedcalltransfers</a> &amp; recipient_mode) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a24927d2710176c1a6a2c3a9eaa2f81c8">parkedcallreparking</a> &amp; recipient_mode) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a0e02756579d965599dee2698239a2e0b">parkedcallhangup</a> &amp; recipient_mode) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#afdd70572c127b18cec17efb3cb2515cb">parkedcallrecording</a> &amp; recipient_mode) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <a class="code" href="../../d4/d1e/bridge__basic_8h.html#ab20a6f49985f34f55c05e2125c9e9d6a">ast_bridge_features_ds_set</a>(chan, &amp;feature_flags);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a24927d2710176c1a6a2c3a9eaa2f81c8"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a24927d2710176c1a6a2c3a9eaa2f81c8">parking_lot_cfg::parkedcallreparking</a></div><div class="ttdeci">int parkedcallreparking</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00077">res_parking.h:77</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01066">channel.h:1066</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_ab20a6f49985f34f55c05e2125c9e9d6a"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#ab20a6f49985f34f55c05e2125c9e9d6a">ast_bridge_features_ds_set</a></div><div class="ttdeci">int ast_bridge_features_ds_set(struct ast_channel *chan, struct ast_flags *flags)</div><div class="ttdoc">Set basic bridge DTMF feature flags datastore on the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00258">bridge_basic.c:258</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a53690d96fd11f8e502cf5fdc74ee3315"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a></div><div class="ttdeci">struct ast_flags * ast_bridge_features_ds_get(struct ast_channel *chan)</div><div class="ttdoc">Get DTMF feature flags from the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00268">bridge_basic.c:268</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01065">channel.h:1065</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01070">channel.h:1070</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a0e02756579d965599dee2698239a2e0b"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a0e02756579d965599dee2698239a2e0b">parking_lot_cfg::parkedcallhangup</a></div><div class="ttdeci">int parkedcallhangup</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00078">res_parking.h:78</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a1b7ebcd57a463747583fbdbe04659f87"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a1b7ebcd57a463747583fbdbe04659f87">parking_lot_cfg::parkedcalltransfers</a></div><div class="ttdeci">int parkedcalltransfers</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00076">res_parking.h:76</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01069">channel.h:1069</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_afdd70572c127b18cec17efb3cb2515cb"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#afdd70572c127b18cec17efb3cb2515cb">parking_lot_cfg::parkedcallrecording</a></div><div class="ttdeci">int parkedcallrecording</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00079">res_parking.h:79</a></div></div>
<div class="ttc" id="structparking__lot_html_abc61ea46020e75f93d5d46df84b91fcc"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">parking_lot::cfg</a></div><div class="ttdeci">struct parking_lot_cfg * cfg</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00096">res_parking.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d045e281532de5cf20033192df5a49e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d045e281532de5cf20033192df5a49e">&#9670;&nbsp;</a></span>parking_channel_set_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parking_channel_set_roles </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>lot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force_ringing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set necessary bridge roles on a channel that is about to enter a parking lot. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Entering channel </td></tr>
    <tr><td class="paramname">lot</td><td>The parking lot the channel will be entering </td></tr>
    <tr><td class="paramname">force_ringing</td><td>Use ringing instead of music on hold</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00057">57</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00317">ast_channel_add_bridge_role()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00379">ast_channel_set_bridge_role_option()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00096">parking_lot::cfg</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00089">parking_lot_cfg::mohclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00484">park_common_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/dff/bridge__roles_8h.html#a8511ad15a10f0b6269094ad307ba17a2">ast_channel_add_bridge_role</a>(chan, <span class="stringliteral">&quot;holding_participant&quot;</span>)) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <span class="keywordflow">if</span> (force_ringing) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a>(chan, <span class="stringliteral">&quot;holding_participant&quot;</span>, <span class="stringliteral">&quot;idle_mode&quot;</span>, <span class="stringliteral">&quot;ringing&quot;</span>)) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a>(chan, <span class="stringliteral">&quot;holding_participant&quot;</span>, <span class="stringliteral">&quot;idle_mode&quot;</span>, <span class="stringliteral">&quot;musiconhold&quot;</span>)) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5d3b1a9e37b092fdd8490651c28b79ac">mohclass</a>)) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a>(chan, <span class="stringliteral">&quot;holding_participant&quot;</span>, <span class="stringliteral">&quot;moh_class&quot;</span>, lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5d3b1a9e37b092fdd8490651c28b79ac">mohclass</a>)) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;         }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="ttc" id="bridge__roles_8h_html_a8511ad15a10f0b6269094ad307ba17a2"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a8511ad15a10f0b6269094ad307ba17a2">ast_channel_add_bridge_role</a></div><div class="ttdeci">int ast_channel_add_bridge_role(struct ast_channel *chan, const char *role_name)</div><div class="ttdoc">Adds a bridge role to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00317">bridge_roles.c:317</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="bridge__roles_8h_html_a3c1bc5238aea4e2d19c9894c1b68a457"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a></div><div class="ttdeci">int ast_channel_set_bridge_role_option(struct ast_channel *channel, const char *role_name, const char *option, const char *value)</div><div class="ttdoc">Set a role option on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00379">bridge_roles.c:379</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a5d3b1a9e37b092fdd8490651c28b79ac"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a5d3b1a9e37b092fdd8490651c28b79ac">parking_lot_cfg::mohclass</a></div><div class="ttdeci">const ast_string_field mohclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00089">res_parking.h:89</a></div></div>
<div class="ttc" id="structparking__lot_html_abc61ea46020e75f93d5d46df84b91fcc"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">parking_lot::cfg</a></div><div class="ttdeci">struct parking_lot_cfg * cfg</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00096">res_parking.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02819d436da997238ca194f3bd6f0af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02819d436da997238ca194f3bd6f0af6">&#9670;&nbsp;</a></span>parking_create_dynamic_lot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a>* parking_create_dynamic_lot </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a dynamic parking lot. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Dynamic parking lot name to create </td></tr>
    <tr><td class="paramname">chan</td><td>Channel parkee to get dynamic parking lot parameters from</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">dynamically</td><td>created parking lot on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on error</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This should be called only after verifying that the named parking lot doesn't already exist in a non-dynamic way. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01059">1059</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00484">park_common_setup()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00499">parking_park_call()</a>.</p>
<div class="fragment"><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                                                                          {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d45/res__parking_8c.html#adc997bfee24e56923d87ff3be81ff73c">create_dynamic_lot_full</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, chan, 0);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div><div class="ttc" id="res__parking_8c_html_adc997bfee24e56923d87ff3be81ff73c"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#adc997bfee24e56923d87ff3be81ff73c">create_dynamic_lot_full</a></div><div class="ttdeci">static struct parking_lot * create_dynamic_lot_full(const char *name, struct ast_channel *chan, int forced)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00970">res_parking.c:970</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d71baf5c2a43f040a3b98e11e0d70bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d71baf5c2a43f040a3b98e11e0d70bc">&#9670;&nbsp;</a></span>parking_create_dynamic_lot_forced()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a>* parking_create_dynamic_lot_forced </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a dynamic parking lot without respect to whether they are enabled by configuration. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Dynamic parking lot name to create </td></tr>
    <tr><td class="paramname">chan</td><td>Channel parkee to get the dynamic parking lot parameters from</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">dynamically</td><td>created parking lot on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on error</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This should be called only after verifying that the named parking lot doesn't already exist in a non-dynamic way. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01064">1064</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00735">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                                                                                  {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d45/res__parking_8c.html#adc997bfee24e56923d87ff3be81ff73c">create_dynamic_lot_full</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, chan, 1);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div><div class="ttc" id="res__parking_8c_html_adc997bfee24e56923d87ff3be81ff73c"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#adc997bfee24e56923d87ff3be81ff73c">create_dynamic_lot_full</a></div><div class="ttdeci">static struct parking_lot * create_dynamic_lot_full(const char *name, struct ast_channel *chan, int forced)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00970">res_parking.c:970</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4fabcba1ca8f0db9b0b37b9ec73a3ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4fabcba1ca8f0db9b0b37b9ec73a3ba">&#9670;&nbsp;</a></span>parking_dynamic_lots_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parking_dynamic_lots_enabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check global configuration to see if dynamic parking is enabled. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if dynamic parking is enabled </td></tr>
    <tr><td class="paramname">0</td><td>if dynamic parking is disabled </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00928">928</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>, <a class="el" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/daf/parking__ui_8c_source.html#l00103">cli_display_parking_global()</a>, and <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;{</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/dbc/structparking__config.html">parking_config</a> *, cfg, <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <span class="keywordflow">return</span> cfg-&gt;global-&gt;parkeddynamic;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structparking__config_html"><div class="ttname"><a href="../../df/dbc/structparking__config.html">parking_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00280">res_parking.c:280</a></div></div>
<div class="ttc" id="chan__console_8c_html_aa36e3e2c486b920b166c2d17c5242221"><div class="ttname"><a href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a></div><div class="ttdeci">static struct console_pvt globals</div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e2a334f4304ff8f6235120f6c43a2b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e2a334f4304ff8f6235120f6c43a2b2">&#9670;&nbsp;</a></span>parking_lot_build_or_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a>* parking_lot_build_or_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dynamic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If a parking lot exists in the parking lot list already, update its status to match the provided configuration and return a reference return a reference to it. Otherwise, create a parking lot struct based on a parking lot configuration and return a reference to the new one. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>The configuration being used as a reference to build the parking lot from. </td></tr>
    <tr><td class="paramname">dynamic</td><td>non-zero if creating a dynamic parking lot with this. Don't replace existing parking lots. Ever.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>reference to the new parking lot </td></tr>
    <tr><td class="paramname">NULL</td><td>if it was not found and could not be allocated</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parking lot will need to be unreffed if it ever falls out of scope </dd>
<dd>
The parking lot will automatically be added to the parking lot container if needed as part of this process </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00868">868</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00637">alloc_new_parking_lot()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00096">parking_lot::cfg</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00098">parking_lot::disable_mark</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00097">parking_lot::mode</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00089">parking_lot_cfg::name</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00496">named_item_find()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00059">PARKINGLOT_DYNAMIC</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00057">PARKINGLOT_NORMAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00915">generate_or_link_lots_to_configs()</a>, and <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00140">generate_test_parking_lot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a> *replaced_cfg = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="comment">/* Start by trying to find it. If that works we can skip the rest. */</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   lot = <a class="code" href="../../d7/d45/res__parking_8c.html#aec5a6d9b0bbecc3647ba8a585750e934">named_item_find</a>(<a class="code" href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a>, lot_cfg-&gt;name);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="keywordflow">if</span> (!lot) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      lot = <a class="code" href="../../d7/d45/res__parking_8c.html#adbcddfbfc85fe9f9fb1288f1a814f9ba">alloc_new_parking_lot</a>(lot_cfg);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="comment">/* If we still don&#39;t have a lot, we failed to alloc one. */</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">if</span> (!lot) {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      found = 1;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">if</span> (dynamic) {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Tried to create dynamic parking lot with name &#39;%s&#39; but a lot with that name already exists.\n&quot;</span>, lot_cfg-&gt;name);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(lot);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="comment">/* Set the configuration reference. Unref the one currently in the lot if it&#39;s there. */</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      replaced_cfg = lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   }</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(lot_cfg, +1);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a> = lot_cfg;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(replaced_cfg);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <span class="comment">/* Set the operating mode to normal since the parking lot has a configuration. */</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#ac1c17b6beba3de24ea80a6ee7fe04b94">disable_mark</a> = 0;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a429e6fa56908ae0243cedf6518976c5b">mode</a> = dynamic ? <a class="code" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad98e4523fca1be1c645297a87b3508e8">PARKINGLOT_DYNAMIC</a> : <a class="code" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad2ba25c2535c85e5085d2351146b31cc">PARKINGLOT_NORMAL</a>;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <span class="keywordflow">if</span> (!found) {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="comment">/* Link after configuration is set since a lot without configuration will cause all kinds of trouble. */</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a>, lot);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   };</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <span class="keywordflow">return</span> lot;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="ttc" id="res__parking_8h_html_a194a64622dffa0cef525ea72e51b4560ad98e4523fca1be1c645297a87b3508e8"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad98e4523fca1be1c645297a87b3508e8">PARKINGLOT_DYNAMIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00059">res_parking.h:59</a></div></div>
<div class="ttc" id="res__parking_8c_html_aec5a6d9b0bbecc3647ba8a585750e934"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#aec5a6d9b0bbecc3647ba8a585750e934">named_item_find</a></div><div class="ttdeci">static void * named_item_find(struct ao2_container *container, const char *name)</div><div class="ttdoc">find an item in a container by its name </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00496">res_parking.c:496</a></div></div>
<div class="ttc" id="structparking__lot_html_ac1c17b6beba3de24ea80a6ee7fe04b94"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#ac1c17b6beba3de24ea80a6ee7fe04b94">parking_lot::disable_mark</a></div><div class="ttdeci">int disable_mark</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00098">res_parking.h:98</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__parking_8c_html_ac038f96c0c64fcf77d659364726109b0"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a></div><div class="ttdeci">static struct ao2_container * parking_lot_container</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00266">res_parking.c:266</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__parking_8h_html_a194a64622dffa0cef525ea72e51b4560ad2ba25c2535c85e5085d2351146b31cc"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560ad2ba25c2535c85e5085d2351146b31cc">PARKINGLOT_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00057">res_parking.h:57</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00065">res_parking.h:65</a></div></div>
<div class="ttc" id="structparking__lot_html"><div class="ttname"><a href="../../d4/de7/structparking__lot.html">parking_lot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00092">res_parking.h:92</a></div></div>
<div class="ttc" id="structparking__lot_html_a429e6fa56908ae0243cedf6518976c5b"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#a429e6fa56908ae0243cedf6518976c5b">parking_lot::mode</a></div><div class="ttdeci">enum parking_lot_modes mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00097">res_parking.h:97</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res__parking_8c_html_adbcddfbfc85fe9f9fb1288f1a814f9ba"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#adbcddfbfc85fe9f9fb1288f1a814f9ba">alloc_new_parking_lot</a></div><div class="ttdeci">static struct parking_lot * alloc_new_parking_lot(struct parking_lot_cfg *lot_cfg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00637">res_parking.c:637</a></div></div>
<div class="ttc" id="structparking__lot_html_abc61ea46020e75f93d5d46df84b91fcc"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">parking_lot::cfg</a></div><div class="ttdeci">struct parking_lot_cfg * cfg</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00096">res_parking.h:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a319bdb2bfda9a9d6b5093a2479bf6479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319bdb2bfda9a9d6b5093a2479bf6479">&#9670;&nbsp;</a></span>parking_lot_cfg_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a>* parking_lot_cfg_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an empty parking lot configuration structure useful for unit tests. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cat</td><td>name given to the parking lot</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>failure </td></tr>
    <tr><td class="paramname">non-NULL</td><td>successfully allocated parking lot </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00481">481</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00461">parking_lot_cfg_alloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00735">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00140">generate_test_parking_lot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d45/res__parking_8c.html#a8b4d80afa2fc659fcca05c79ed24079d">parking_lot_cfg_alloc</a>(cat);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div><div class="ttc" id="res__parking_8c_html_a8b4d80afa2fc659fcca05c79ed24079d"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#a8b4d80afa2fc659fcca05c79ed24079d">parking_lot_cfg_alloc</a></div><div class="ttdeci">static void * parking_lot_cfg_alloc(const char *cat)</div><div class="ttdoc">create a parking lot structure </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00461">res_parking.c:461</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afcd21d885238ff5f01f106b5c2bf2ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd21d885238ff5f01f106b5c2bf2ad9">&#9670;&nbsp;</a></span>parking_lot_cfg_create_extensions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parking_lot_cfg_create_extensions </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a> *&#160;</td>
          <td class="paramname"><em>lot_cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add extensions for a parking lot configuration. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lot_cfg</td><td>parking lot configuration to generate extensions for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">758</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08571">ast_get_extension_registrar()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00550">ast_string_field_build</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00036">BASE_REGISTRAR</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00218">E_MATCH</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00730">extension_is_compatible()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00089">parking_lot_cfg::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/d33/parking_8h_source.html#l00035">PARK_APPLICATION</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00073">parking_lot_cfg::parkaddhints</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00038">PARKED_CALL_APPLICATION</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00089">parking_lot_cfg::parkext</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00072">parking_lot_cfg::parkext_exclusive</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00713">parking_add_extension()</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00089">parking_lot_cfg::parking_con</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00066">parking_lot_cfg::parking_start</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00152">pbx_find_extension()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00078">registrar</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00089">parking_lot_cfg::registrar</a>, and <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00238">pbx_find_info::stacklen</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01110">configure_parking_extensions()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>, and <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00140">generate_test_parking_lot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;{</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;   <span class="keywordtype">int</span> parkingspace;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *existing_exten;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *lot_context;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d81/structpbx__find__info.html">pbx_find_info</a> find_info = { .<a class="code" href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">stacklen</a> = 0 }; <span class="comment">/* the rest is reset in pbx_find_extension */</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *parkext_registrar_pointer; <span class="comment">/* Used for park extension */</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *parkedcall_registrar_pointer; <span class="comment">/* Used for parkedcall extensions/hints */</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ab34bef738dfa09be63ca9425d4d7a5c9">parkext</a>)) {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a8b9f4347fc72720cc5cead952b54abe9">ast_string_field_build</a>(lot_cfg, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../d3/d38/res__parking_8h.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   parkedcall_registrar_pointer = lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#aaf19c5f786900507d23de7c4fc8457c7">registrar</a>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   <span class="keywordflow">if</span> (lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a9badead57b59ae3944c21260f9cec7d3">parkext_exclusive</a>) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      parkext_registrar_pointer = lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#aaf19c5f786900507d23de7c4fc8457c7">registrar</a>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      parkext_registrar_pointer = <a class="code" href="../../d3/d38/res__parking_8h.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   <span class="comment">/* We need the contexts list locked to safely be able to both read and lock the specific context within */</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a>();</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <span class="keywordflow">if</span> (!(lot_context = <a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>, parkext_registrar_pointer))) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Parking lot &#39;%s&#39; -- Needs a context &#39;%s&#39; which does not exist and Asterisk was unable to create\n&quot;</span>,</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;         lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   <span class="comment">/* Once we know what context we will be modifying, we need to write lock it because we will be reading extensions</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">    * and we don&#39;t want something else to destroy them while we are looking at them.</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a>(lot_context);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   <span class="comment">/* Handle generation/confirmation for the Park extension */</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   <span class="keywordflow">if</span> ((existing_exten = <a class="code" href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;find_info, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ab34bef738dfa09be63ca9425d4d7a5c9">parkext</a>, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>))) {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">if</span> (lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a9badead57b59ae3944c21260f9cec7d3">parkext_exclusive</a> || !<a class="code" href="../../d7/d45/res__parking_8c.html#aeb01999f582666207fa281f1a9aacf15">extension_is_compatible</a>(lot_cfg, <a class="code" href="../../d2/d33/parking_8h.html#ae9948d6f3b81ba2a7b5b212a7b1068df">PARK_APPLICATION</a>, existing_exten)) {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(lot_context);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/res__parking_8c.html#a072461ceb3d578793ea75c39330e6709">parking_add_extension</a>(lot_context, 0, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ab34bef738dfa09be63ca9425d4d7a5c9">parkext</a>, 1, <a class="code" href="../../d2/d33/parking_8h.html#ae9948d6f3b81ba2a7b5b212a7b1068df">PARK_APPLICATION</a>,</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;              lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a9badead57b59ae3944c21260f9cec7d3">parkext_exclusive</a> ? lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">name</a> : <span class="stringliteral">&quot;&quot;</span>, parkext_registrar_pointer)) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Parking lot &#39;%s&#39; -- Failed to add %s extension &#39;%s@%s&#39; to the PBX.\n&quot;</span>,</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;              lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, <a class="code" href="../../d2/d33/parking_8h.html#ae9948d6f3b81ba2a7b5b212a7b1068df">PARK_APPLICATION</a>, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ab34bef738dfa09be63ca9425d4d7a5c9">parkext</a>, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(lot_context);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <span class="comment">/* Handle generation/confirmation for the ParkedCall extensions and hints */</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <span class="keywordflow">for</span> (parkingspace = lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a22b6d3f18ce27630b9f7220cd3639e48">parking_start</a>; parkingspace &lt;= lot_cfg-&gt;parking_stop; parkingspace++) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keywordtype">char</span> space[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *, arguments_string, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      find_info.<a class="code" href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">stacklen</a> = 0; <span class="comment">/* reset for pbx_find_exten */</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      snprintf(space, <span class="keyword">sizeof</span>(space), <span class="stringliteral">&quot;%d&quot;</span>, parkingspace);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="comment">/* Unlike the Park extensions, ParkedCall extensions and their hints may never be shared for any reason. */</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordflow">if</span> ((existing_exten = <a class="code" href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;find_info, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>, space, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>))) {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(lot_context);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      arguments_string = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(32);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="keywordflow">if</span> (!arguments_string) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(lot_context);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;arguments_string, 0, <span class="stringliteral">&quot;%s,%s&quot;</span>, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, space);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/res__parking_8c.html#a072461ceb3d578793ea75c39330e6709">parking_add_extension</a>(lot_context, 0, space, 1, <a class="code" href="../../d3/d38/res__parking_8h.html#a3ad85f270c1e17cb7dd40aa696e2c04a">PARKED_CALL_APPLICATION</a>,</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;          <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(arguments_string), parkedcall_registrar_pointer)) {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Parking lot &#39;%s&#39; -- Failed to add %s extension &#39;%s@%s&#39; to the PBX.\n&quot;</span>,</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                 lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, <a class="code" href="../../d3/d38/res__parking_8h.html#a3ad85f270c1e17cb7dd40aa696e2c04a">PARKED_CALL_APPLICATION</a>, space, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(lot_context);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      find_info.<a class="code" href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">stacklen</a> = 0; <span class="comment">/* reset for pbx_find_exten */</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keywordflow">if</span> (lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#abb4e505e9df6199d1a91a356498d9649">parkaddhints</a>) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;         <span class="keywordtype">char</span> hint_device[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>];</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;         snprintf(hint_device, <span class="keyword">sizeof</span>(hint_device), <span class="stringliteral">&quot;park:%s@%s&quot;</span>, space, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;         <span class="keywordflow">if</span> ((existing_exten = <a class="code" href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;find_info, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>, space, <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>))) {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Parking lot &#39;%s&#39; -- Needs to add a hint &#39;%s&#39; at &#39;%s@%s&#39; but one already exists owned by %s\n&quot;</span>,</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                 lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, hint_device, space, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>, <a class="code" href="../../db/de0/pbx_8h.html#a7f23f7c798d61e68c32b21d3e0cd15a2">ast_get_extension_registrar</a>(existing_exten));</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;               <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(lot_context);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;         }</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d45/res__parking_8c.html#a072461ceb3d578793ea75c39330e6709">parking_add_extension</a>(lot_context, 0, space, <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>, hint_device, <span class="stringliteral">&quot;&quot;</span>, parkedcall_registrar_pointer)) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Parking lot &#39;%s&#39; -- Failed to add hint &#39;%s@%s&#39; to the PBX.\n&quot;</span>,</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                    lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, space, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_con</a>);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(lot_context);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;         }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      }</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(lot_context);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00218">extconf.h:218</a></div></div>
<div class="ttc" id="structast__exten_html"><div class="ttname"><a href="../../d7/d00/structast__exten.html">ast_exten</a></div><div class="ttdoc">ast_exten: An extension The dialplan is saved as a linked list with each context having it&amp;#39;s own link...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00237">pbx.c:237</a></div></div>
<div class="ttc" id="pbx_8h_html_a7f23f7c798d61e68c32b21d3e0cd15a2"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7f23f7c798d61e68c32b21d3e0cd15a2">ast_get_extension_registrar</a></div><div class="ttdeci">const char * ast_get_extension_registrar(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08571">pbx.c:8571</a></div></div>
<div class="ttc" id="res__parking_8h_html_a13a04bccfe6a7467919fefd9d55ceb6f"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a13a04bccfe6a7467919fefd9d55ceb6f">BASE_REGISTRAR</a></div><div class="ttdeci">#define BASE_REGISTRAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00036">res_parking.h:36</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="pbx_8h_html_a18c87dac5f7f4368c11b67d8026adc22"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a></div><div class="ttdeci">int ast_wrlock_contexts(void)</div><div class="ttdoc">Write locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08502">pbx.c:8502</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a22b6d3f18ce27630b9f7220cd3639e48"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a22b6d3f18ce27630b9f7220cd3639e48">parking_lot_cfg::parking_start</a></div><div class="ttdeci">int parking_start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00066">res_parking.h:66</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structpbx__find__info_html"><div class="ttname"><a href="../../db/d81/structpbx__find__info.html">pbx_find_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00230">extconf.h:230</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#ace9168767fc3707cf5f0a7d049682ba3">parking_lot_cfg::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00089">res_parking.h:89</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_ad96d18d528bbb423da43efb31716d893"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#ad96d18d528bbb423da43efb31716d893">parking_lot_cfg::parking_con</a></div><div class="ttdeci">const ast_string_field parking_con</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00089">res_parking.h:89</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_abb4e505e9df6199d1a91a356498d9649"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#abb4e505e9df6199d1a91a356498d9649">parking_lot_cfg::parkaddhints</a></div><div class="ttdeci">unsigned int parkaddhints</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00073">res_parking.h:73</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="res__parking_8c_html_a072461ceb3d578793ea75c39330e6709"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#a072461ceb3d578793ea75c39330e6709">parking_add_extension</a></div><div class="ttdeci">static int parking_add_extension(struct ast_context *context, int replace, const char *extension, int priority, const char *application, const char *data, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00713">res_parking.c:713</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_aaf19c5f786900507d23de7c4fc8457c7"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#aaf19c5f786900507d23de7c4fc8457c7">parking_lot_cfg::registrar</a></div><div class="ttdeci">const ast_string_field registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00089">res_parking.h:89</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx_8h_html_a2c961dcbdcade8fac28960ed67c89bd2"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a></div><div class="ttdeci">int ast_wrlock_context(struct ast_context *con)</div><div class="ttdoc">Write locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08520">pbx.c:8520</a></div></div>
<div class="ttc" id="parking_8h_html_ae9948d6f3b81ba2a7b5b212a7b1068df"><div class="ttname"><a href="../../d2/d33/parking_8h.html#ae9948d6f3b81ba2a7b5b212a7b1068df">PARK_APPLICATION</a></div><div class="ttdeci">#define PARK_APPLICATION</div><div class="ttdoc">The default parking application that Asterisk expects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d33/parking_8h_source.html#l00035">parking.h:35</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__parking_8h_html_a3ad85f270c1e17cb7dd40aa696e2c04a"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a3ad85f270c1e17cb7dd40aa696e2c04a">PARKED_CALL_APPLICATION</a></div><div class="ttdeci">#define PARKED_CALL_APPLICATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00038">res_parking.h:38</a></div></div>
<div class="ttc" id="res__parking_8c_html_aeb01999f582666207fa281f1a9aacf15"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#aeb01999f582666207fa281f1a9aacf15">extension_is_compatible</a></div><div class="ttdeci">static int extension_is_compatible(struct parking_lot_cfg *lot_cfg, const char *app_type, struct ast_exten *extension)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00730">res_parking.c:730</a></div></div>
<div class="ttc" id="structpbx__find__info_html_a31dd453024f17e9e35717368cf8c87fb"><div class="ttname"><a href="../../db/d81/structpbx__find__info.html#a31dd453024f17e9e35717368cf8c87fb">pbx_find_info::stacklen</a></div><div class="ttdeci">int stacklen</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00238">extconf.h:238</a></div></div>
<div class="ttc" id="stringfields_8h_html_a8b9f4347fc72720cc5cead952b54abe9"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a8b9f4347fc72720cc5cead952b54abe9">ast_string_field_build</a></div><div class="ttdeci">#define ast_string_field_build(x, field, fmt, args...)</div><div class="ttdoc">Set a field to a complex (built) value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00550">stringfields.h:550</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_ab34bef738dfa09be63ca9425d4d7a5c9"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#ab34bef738dfa09be63ca9425d4d7a5c9">parking_lot_cfg::parkext</a></div><div class="ttdeci">const ast_string_field parkext</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00089">res_parking.h:89</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
<div class="ttc" id="pbx_8h_html_ae12539be833fc552d4556c886605f17f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a></div><div class="ttdeci">struct ast_exten * pbx_find_extension(struct ast_channel *chan, struct ast_context *bypass, struct pbx_find_info *q, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00152">ael_main.c:152</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a9badead57b59ae3944c21260f9cec7d3"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a9badead57b59ae3944c21260f9cec7d3">parking_lot_cfg::parkext_exclusive</a></div><div class="ttdeci">unsigned int parkext_exclusive</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00072">res_parking.h:72</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a010b184552f23b0349d960b91f7ca950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010b184552f23b0349d960b91f7ca950">&#9670;&nbsp;</a></span>parking_lot_cfg_remove_extensions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parking_lot_cfg_remove_extensions </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/d86/structparking__lot__cfg.html">parking_lot_cfg</a> *&#160;</td>
          <td class="paramname"><em>lot_cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove extensions belonging to a parking lot configuration. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lot_cfg</td><td>parking lot configuratin to remove extensions from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This will not remove extensions registered non-exclusively even if those extensions were registered by lot_cfg. Those are only purged on a res_parking module reload. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00663">663</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00625">ast_context_destroy()</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00078">registrar</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00089">parking_lot_cfg::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00427">parking_lot_cfg_destructor()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00678">remove_all_configured_parking_lot_extensions()</a>, and <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01095">remove_pending_parking_lot_extensions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;{</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#aaf19c5f786900507d23de7c4fc8457c7">registrar</a>)) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="comment">/* Although the function is called ast_context_destroy, the use of this funtion is</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">       * intended only to remove extensions, hints, etc registered by the parking lot&#39;s registrar.</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">       * It won&#39;t actually destroy the context unless that context is empty afterwards and it is</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">       * unreferenced.</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a9546b830c22c693a2baed08e48569401">ast_context_destroy</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, lot_cfg-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#aaf19c5f786900507d23de7c4fc8457c7">registrar</a>);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <span class="comment">/* If we come back for a second pass, someone else has this registrar now. */</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(lot_cfg, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_aaf19c5f786900507d23de7c4fc8457c7"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#aaf19c5f786900507d23de7c4fc8457c7">parking_lot_cfg::registrar</a></div><div class="ttdeci">const ast_string_field registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00089">res_parking.h:89</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8h_html_a9546b830c22c693a2baed08e48569401"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a9546b830c22c693a2baed08e48569401">ast_context_destroy</a></div><div class="ttdeci">void ast_context_destroy(struct ast_context *con, const char *registrar)</div><div class="ttdoc">Destroy a context (matches the specified context or ANY context if NULL) </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00625">conf2ael.c:625</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a229bf0f37506c31420fe0b6a9d8594b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229bf0f37506c31420fe0b6a9d8594b6">&#9670;&nbsp;</a></span>parking_lot_find_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a>* parking_lot_find_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lot_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a parking lot based on its name. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lot_name</td><td>Name of the parking lot sought</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>parking lot if found </td></tr>
    <tr><td class="paramname">NULL</td><td>if no parking lot with the name specified exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ao2_cleanup this reference when you are done using it or you'll cause leaks. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00601">601</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00496">named_item_find()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00189">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/daf/parking__ui_8c_source.html#l00078">cli_display_parking_lot()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>, <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00173">dispose_test_lot()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00733">func_get_parkingslot_channel()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00259">manager_parking_status_single_lot()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00484">park_common_setup()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00499">parking_park_call()</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de7/structparking__lot.html">parking_lot</a> *lot = <a class="code" href="../../d7/d45/res__parking_8c.html#aec5a6d9b0bbecc3647ba8a585750e934">named_item_find</a>(<a class="code" href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a>, lot_name);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keywordflow">return</span> lot;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div><div class="ttc" id="res__parking_8c_html_aec5a6d9b0bbecc3647ba8a585750e934"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#aec5a6d9b0bbecc3647ba8a585750e934">named_item_find</a></div><div class="ttdeci">static void * named_item_find(struct ao2_container *container, const char *name)</div><div class="ttdoc">find an item in a container by its name </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00496">res_parking.c:496</a></div></div>
<div class="ttc" id="res__parking_8c_html_ac038f96c0c64fcf77d659364726109b0"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a></div><div class="ttdeci">static struct ao2_container * parking_lot_container</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00266">res_parking.c:266</a></div></div>
<div class="ttc" id="structparking__lot_html"><div class="ttname"><a href="../../d4/de7/structparking__lot.html">parking_lot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00092">res_parking.h:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3092588afe91f21f1503edb67107f3b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3092588afe91f21f1503edb67107f3b3">&#9670;&nbsp;</a></span>parking_lot_get_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* parking_lot_get_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>lot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a reference to a parking lot's bridge. If it doesn't exist, create it and get a reference. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lot</td><td>Which parking lot we need the bridge from. This parking lot must be locked before calling this function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>reference to the <a class="el" href="../../d4/d84/structast__bridge.html" title="Structure that contains information about a bridge. ">ast_bridge</a> associated with the parking lot </td></tr>
    <tr><td class="paramname">NULL</td><td>if it didn't already have a bridge and one couldn't be created</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This bridge will need to be unreffed if it ever falls out of scope. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00036">36</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00456">bridge_parking_new()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00094">parking_lot::parking_bridge</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00484">park_common_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *lot_bridge;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a61490775d088c51eacb1dd2b5fccc119">parking_bridge</a>) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a61490775d088c51eacb1dd2b5fccc119">parking_bridge</a>, +1);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <span class="keywordflow">return</span> lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a61490775d088c51eacb1dd2b5fccc119">parking_bridge</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   lot_bridge = <a class="code" href="../../d9/dc5/parking__bridge_8c.html#a73fa91856c7a651bfc9e7a769fa0d6b6">bridge_parking_new</a>(lot);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   <span class="keywordflow">if</span> (!lot_bridge) {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   <span class="comment">/* The parking lot needs a reference to the bridge as well. */</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a61490775d088c51eacb1dd2b5fccc119">parking_bridge</a> = lot_bridge;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a61490775d088c51eacb1dd2b5fccc119">parking_bridge</a>, +1);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   <span class="keywordflow">return</span> lot_bridge;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="ttc" id="structparking__lot_html_a61490775d088c51eacb1dd2b5fccc119"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#a61490775d088c51eacb1dd2b5fccc119">parking_lot::parking_bridge</a></div><div class="ttdeci">struct ast_bridge * parking_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00094">res_parking.h:94</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="parking__bridge_8c_html_a73fa91856c7a651bfc9e7a769fa0d6b6"><div class="ttname"><a href="../../d9/dc5/parking__bridge_8c.html#a73fa91856c7a651bfc9e7a769fa0d6b6">bridge_parking_new</a></div><div class="ttdeci">struct ast_bridge * bridge_parking_new(struct parking_lot *bridge_lot)</div><div class="ttdoc">Create a new parking bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc5/parking__bridge_8c_source.html#l00456">parking_bridge.c:456</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6cbf379e1752a03fb5d34da5010547a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6cbf379e1752a03fb5d34da5010547a">&#9670;&nbsp;</a></span>parking_lot_get_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parking_lot_get_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>lot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>target_override</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an available parking space within a parking lot. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lot</td><td>Which parking lot we are getting a space from </td></tr>
    <tr><td class="paramname">target_override</td><td>If there is a specific slot we want, provide it here and we'll start from that position</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if No slot can be found </td></tr>
    <tr><td class="paramname">integer</td><td>value of parking space selected</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>lot should be locked before this is called and unlocked only after a <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> with the space returned has been added to the parking lot. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00096">96</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00096">parking_lot::cfg</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00093">parking_lot::next_space</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00095">parking_lot::parked_users</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00071">parking_lot_cfg::parkfindnext</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00107">parked_user::parking_space</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00066">parking_lot_cfg::parking_start</a>, and <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00082">parking_limits_pvt::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00109">generate_parked_user()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keywordtype">int</span> original_target;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   <span class="keywordtype">int</span> current_target;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d7e/structparked__user.html">parked_user</a> *<a class="code" href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <span class="keywordtype">int</span> wrap;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a5f43f9e4480aac6d474570750452e316">parkfindnext</a>) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="comment">/* Use next_space if the lot already has next_space set; otherwise use lot start. */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      original_target = lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a2e86d1ae769b8a88eccf92f213b2ba29">next_space</a> ? lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a2e86d1ae769b8a88eccf92f213b2ba29">next_space</a> : lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a22b6d3f18ce27630b9f7220cd3639e48">parking_start</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      original_target = lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a22b6d3f18ce27630b9f7220cd3639e48">parking_start</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <span class="keywordflow">if</span> (target_override &gt;= lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a22b6d3f18ce27630b9f7220cd3639e48">parking_start</a> &amp;&amp; target_override &lt;= lot-&gt;cfg-&gt;parking_stop) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      original_target = target_override;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   current_target = original_target;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   wrap = lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">cfg</a>-&gt;<a class="code" href="../../d3/d86/structparking__lot__cfg.html#a22b6d3f18ce27630b9f7220cd3639e48">parking_start</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parked_users</a>, 0);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <span class="keywordflow">while</span> ((user = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="comment">/* Increment the wrap on each pass until we find an empty space */</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">if</span> (wrap == user-&gt;<a class="code" href="../../dd/d7e/structparked__user.html#a7ae57549bf83cfe4727db8951ca8b74b">parking_space</a>) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;         wrap += 1;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">if</span> (user-&gt;<a class="code" href="../../dd/d7e/structparked__user.html#a7ae57549bf83cfe4727db8951ca8b74b">parking_space</a> &lt; current_target) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;         <span class="comment">/* It&#39;s lower than the anticipated target, so we haven&#39;t reached the target yet. */</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(user, -1);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">if</span> (user-&gt;<a class="code" href="../../dd/d7e/structparked__user.html#a7ae57549bf83cfe4727db8951ca8b74b">parking_space</a> &gt; current_target) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;         <span class="comment">/* The current target is usable because all items below have been read and the next target is higher than the one we want. */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(user, -1);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="comment">/* We found one already parked here. */</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      current_target += 1;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(user, -1);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordflow">if</span> (current_target &lt;= lot-&gt;cfg-&gt;parking_stop) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">return</span> current_target;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <span class="keywordflow">if</span> (wrap &lt;= lot-&gt;cfg-&gt;parking_stop) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">return</span> wrap;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div><div class="ttc" id="res__config__ldap_8c_html_a930c15eddfe0826ff30e658c9d50b9b4"><div class="ttname"><a href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a></div><div class="ttdeci">static char user[512]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d12/res__config__ldap_8c_source.html#l00075">res_config_ldap.c:75</a></div></div>
<div class="ttc" id="structparking__lot_html_aea5a92769425a243bac168470b7f6a2f"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parking_lot::parked_users</a></div><div class="ttdeci">struct ao2_container * parked_users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00095">res_parking.h:95</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="structparking__lot_html_a2e86d1ae769b8a88eccf92f213b2ba29"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#a2e86d1ae769b8a88eccf92f213b2ba29">parking_lot::next_space</a></div><div class="ttdeci">int next_space</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00093">res_parking.h:93</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a22b6d3f18ce27630b9f7220cd3639e48"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a22b6d3f18ce27630b9f7220cd3639e48">parking_lot_cfg::parking_start</a></div><div class="ttdeci">int parking_start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00066">res_parking.h:66</a></div></div>
<div class="ttc" id="structparked__user_html_a7ae57549bf83cfe4727db8951ca8b74b"><div class="ttname"><a href="../../dd/d7e/structparked__user.html#a7ae57549bf83cfe4727db8951ca8b74b">parked_user::parking_space</a></div><div class="ttdeci">int parking_space</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00107">res_parking.h:107</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structparked__user_html"><div class="ttname"><a href="../../dd/d7e/structparked__user.html">parked_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00103">res_parking.h:103</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structparking__lot__cfg_html_a5f43f9e4480aac6d474570750452e316"><div class="ttname"><a href="../../d3/d86/structparking__lot__cfg.html#a5f43f9e4480aac6d474570750452e316">parking_lot_cfg::parkfindnext</a></div><div class="ttdeci">unsigned int parkfindnext</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00071">res_parking.h:71</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="structparking__lot_html_abc61ea46020e75f93d5d46df84b91fcc"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#abc61ea46020e75f93d5d46df84b91fcc">parking_lot::cfg</a></div><div class="ttdeci">struct parking_lot_cfg * cfg</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00096">res_parking.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a46313e3e6b4ede91b19efcba7c2178e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46313e3e6b4ede91b19efcba7c2178e6">&#9670;&nbsp;</a></span>parking_lot_inspect_parked_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a>* parking_lot_inspect_parked_user </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>lot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if there is a parked user in a parking space and return it if there is. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lot</td><td>Parking lot being pulled from </td></tr>
    <tr><td class="paramname">target</td><td>If &lt; 0 search for the first occupied space in the parking lot If &gt;= 0 Only pull from the indicated target</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no parked user could be pulled from the requested parking lot at the requested parking space </td></tr>
    <tr><td class="paramname">reference</td><td>to the requested parked user </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00166">166</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00095">parking_lot::parked_users</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00155">retrieve_parked_user_targeted()</a>, and <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00082">parking_limits_pvt::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00733">func_get_parkingslot_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d7e/structparked__user.html">parked_user</a> *<a class="code" href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   <span class="keywordflow">if</span> (target &lt; 0) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      user = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parked_users</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      user = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parked_users</a>, 0, <a class="code" href="../../db/d81/parking__controller_8c.html#abc780a1e6ca315ff0e0d3c7b071f4b9e">retrieve_parked_user_targeted</a>, &amp;target);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keywordflow">if</span> (!user) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div><div class="ttc" id="res__config__ldap_8c_html_a930c15eddfe0826ff30e658c9d50b9b4"><div class="ttname"><a href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a></div><div class="ttdeci">static char user[512]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d12/res__config__ldap_8c_source.html#l00075">res_config_ldap.c:75</a></div></div>
<div class="ttc" id="structparking__lot_html_aea5a92769425a243bac168470b7f6a2f"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parking_lot::parked_users</a></div><div class="ttdeci">struct ao2_container * parked_users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00095">res_parking.h:95</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structparked__user_html"><div class="ttname"><a href="../../dd/d7e/structparked__user.html">parked_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00103">res_parking.h:103</a></div></div>
<div class="ttc" id="parking__controller_8c_html_abc780a1e6ca315ff0e0d3c7b071f4b9e"><div class="ttname"><a href="../../db/d81/parking__controller_8c.html#abc780a1e6ca315ff0e0d3c7b071f4b9e">retrieve_parked_user_targeted</a></div><div class="ttdeci">static int retrieve_parked_user_targeted(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d81/parking__controller_8c_source.html#l00155">parking_controller.c:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6104c5c1d4ade69c857441bc8091d82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6104c5c1d4ade69c857441bc8091d82">&#9670;&nbsp;</a></span>parking_lot_remove_if_unused()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parking_lot_remove_if_unused </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>lot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a parking lot from the usable lists if it is no longer involved in any calls and no configuration currently claims it. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lot</td><td>Which parking lot is being checked for elimination</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the parking lot was removed </td></tr>
    <tr><td class="paramname">-1</td><td>if the parking lot wasn't removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This should generally be called when something is happening that could cause a parking lot to die such as a call being unparked or a parking lot no longer existing in configurations. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00400">400</a> of file <a class="el" href="../../d7/d45/res__parking_8c_source.html">res_parking.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00097">parking_lot::mode</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00095">parking_lot::parked_users</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00061">PARKINGLOT_DISABLED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00173">dispose_test_lot()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00414">parking_lot_disable()</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00183">parking_lot_retrieve_parked_user()</a>, and <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00085">unpark_parked_user()</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="keywordflow">if</span> (lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#a429e6fa56908ae0243cedf6518976c5b">mode</a> != <a class="code" href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560a358344c05108dad6ba2ac299988221c0">PARKINGLOT_DISABLED</a>) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parked_users</a>)) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(<a class="code" href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a>, lot);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="res__parking_8h_html_a194a64622dffa0cef525ea72e51b4560a358344c05108dad6ba2ac299988221c0"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a194a64622dffa0cef525ea72e51b4560a358344c05108dad6ba2ac299988221c0">PARKINGLOT_DISABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00061">res_parking.h:61</a></div></div>
<div class="ttc" id="structparking__lot_html_aea5a92769425a243bac168470b7f6a2f"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parking_lot::parked_users</a></div><div class="ttdeci">struct ao2_container * parked_users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00095">res_parking.h:95</a></div></div>
<div class="ttc" id="res__parking_8c_html_ac038f96c0c64fcf77d659364726109b0"><div class="ttname"><a href="../../d7/d45/res__parking_8c.html#ac038f96c0c64fcf77d659364726109b0">parking_lot_container</a></div><div class="ttdeci">static struct ao2_container * parking_lot_container</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00266">res_parking.c:266</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
<div class="ttc" id="structparking__lot_html_a429e6fa56908ae0243cedf6518976c5b"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#a429e6fa56908ae0243cedf6518976c5b">parking_lot::mode</a></div><div class="ttdeci">enum parking_lot_modes mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00097">res_parking.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac35206c7252a0025329aae64128b298a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35206c7252a0025329aae64128b298a">&#9670;&nbsp;</a></span>parking_lot_retrieve_parked_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a>* parking_lot_retrieve_parked_user </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de7/structparking__lot.html">parking_lot</a> *&#160;</td>
          <td class="paramname"><em>lot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if there is a parked user in a parking space and pull it from the parking lot if there is. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lot</td><td>Parking lot being pulled from </td></tr>
    <tr><td class="paramname">target</td><td>If &lt; 0 search for the first occupied space in the parking lot If &gt;= 0 Only pull from the indicated target</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no parked user could be pulled from the requested parking lot at the requested parking space </td></tr>
    <tr><td class="paramname">reference</td><td>to the requested parked user</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The parked user will be removed from parking lot as part of this process </dd>
<dd>
Remove this reference with ao2_cleanup once it falls out of scope. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00183">183</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00045">PARK_ANSWERED</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00041">PARK_UNSET</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00095">parking_lot::parked_users</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00400">parking_lot_remove_if_unused()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00155">retrieve_parked_user_targeted()</a>, and <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00082">parking_limits_pvt::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00376">AST_TEST_DEFINE()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/d7e/structparked__user.html">parked_user</a> *, <a class="code" href="../../d8/dbc/structuser.html">user</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <span class="keywordflow">if</span> (target &lt; 0) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="../../d8/dbc/structuser.html">user</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parked_users</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <a class="code" href="../../d8/dbc/structuser.html">user</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parked_users</a>, 0, <a class="code" href="../../db/d81/parking__controller_8c.html#abc780a1e6ca315ff0e0d3c7b071f4b9e">retrieve_parked_user_targeted</a>, &amp;target);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dbc/structuser.html">user</a>) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(<a class="code" href="../../d8/dbc/structuser.html">user</a>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/dbc/structuser.html">user</a>-&gt;resolution != <a class="code" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15acdc96f7a1979f13d5a98216dae66ae42">PARK_UNSET</a>) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="comment">/* Abandon. Something else has resolved the parked user before we got to it. */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d8/dbc/structuser.html">user</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(lot-&gt;<a class="code" href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parked_users</a>, <a class="code" href="../../d8/dbc/structuser.html">user</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <a class="code" href="../../d8/dbc/structuser.html">user</a>-&gt;resolution = <a class="code" href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a4e211d80927d6972c8f810dd2c0ebc83">PARK_ANSWERED</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../d8/dbc/structuser.html">user</a>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <a class="code" href="../../d3/d38/res__parking_8h.html#ae6104c5c1d4ade69c857441bc8091d82">parking_lot_remove_if_unused</a>(<a class="code" href="../../d8/dbc/structuser.html">user</a>-&gt;lot);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="comment">/* Bump the ref count by 1 since the RAII_VAR will eat the reference otherwise */</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../d8/dbc/structuser.html">user</a>, +1);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="ttc" id="res__config__ldap_8c_html_a930c15eddfe0826ff30e658c9d50b9b4"><div class="ttname"><a href="../../dc/d12/res__config__ldap_8c.html#a930c15eddfe0826ff30e658c9d50b9b4">user</a></div><div class="ttdeci">static char user[512]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d12/res__config__ldap_8c_source.html#l00075">res_config_ldap.c:75</a></div></div>
<div class="ttc" id="structparking__lot_html_aea5a92769425a243bac168470b7f6a2f"><div class="ttname"><a href="../../d4/de7/structparking__lot.html#aea5a92769425a243bac168470b7f6a2f">parking_lot::parked_users</a></div><div class="ttdeci">struct ao2_container * parked_users</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00095">res_parking.h:95</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__parking_8h_html_a0adf36a104bea7f61062029a9516ee15acdc96f7a1979f13d5a98216dae66ae42"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15acdc96f7a1979f13d5a98216dae66ae42">PARK_UNSET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00041">res_parking.h:41</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="res__parking_8h_html_ae6104c5c1d4ade69c857441bc8091d82"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#ae6104c5c1d4ade69c857441bc8091d82">parking_lot_remove_if_unused</a></div><div class="ttdeci">int parking_lot_remove_if_unused(struct parking_lot *lot)</div><div class="ttdoc">Remove a parking lot from the usable lists if it is no longer involved in any calls and no configurat...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00400">res_parking.c:400</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__parking_8h_html_a0adf36a104bea7f61062029a9516ee15a4e211d80927d6972c8f810dd2c0ebc83"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a0adf36a104bea7f61062029a9516ee15a4e211d80927d6972c8f810dd2c0ebc83">PARK_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00045">res_parking.h:45</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structparked__user_html"><div class="ttname"><a href="../../dd/d7e/structparked__user.html">parked_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00103">res_parking.h:103</a></div></div>
<div class="ttc" id="parking__controller_8c_html_abc780a1e6ca315ff0e0d3c7b071f4b9e"><div class="ttname"><a href="../../db/d81/parking__controller_8c.html#abc780a1e6ca315ff0e0d3c7b071f4b9e">retrieve_parked_user_targeted</a></div><div class="ttdeci">static int retrieve_parked_user_targeted(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d81/parking__controller_8c_source.html#l00155">parking_controller.c:155</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
<div class="ttc" id="structuser_html"><div class="ttname"><a href="../../d8/dbc/structuser.html">user</a></div><div class="ttdoc">structure to hold users read from users.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00312">res_phoneprov.c:312</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a10dc7f5cda134b9fa64512ee7dbe48fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10dc7f5cda134b9fa64512ee7dbe48fd">&#9670;&nbsp;</a></span>parking_notify_metermaids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parking_notify_metermaids </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify metermaids that we've changed an extension. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exten</td><td>Extension of the call parked/unparked </td></tr>
    <tr><td class="paramname">context</td><td>Context of the call parked/unparked </td></tr>
    <tr><td class="paramname">state</td><td>new device state </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d5d/parking__devicestate_8c_source.html#l00108">108</a> of file <a class="el" href="../../de/d5d/parking__devicestate_8c_source.html">parking_devicestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00237">ast_devstate2str()</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00070">AST_DEVSTATE_CACHABLE</a>, and <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00510">ast_devstate_changed()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00342">bridge_parking_pull()</a>, and <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(4, <span class="stringliteral">&quot;Notification of state change to metermaids %d@%s\n to state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/da2/devicestate_8h.html#ac3a57910a6eb04d12d793fe3df796b8e">ast_devstate2str</a>(<a class="code" href="../../d4/d88/structstate.html">state</a>));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../d4/d88/structstate.html">state</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;park:%d@%s&quot;</span>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_ac3a57910a6eb04d12d793fe3df796b8e"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#ac3a57910a6eb04d12d793fe3df796b8e">ast_devstate2str</a></div><div class="ttdeci">const char * ast_devstate2str(enum ast_device_state devstate) attribute_pure</div><div class="ttdoc">Convert device state to text string for output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00237">devicestate.c:237</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="devicestate_8h_html_a62a8e6bc4b82dd797e505688f9f29bff"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a></div><div class="ttdeci">int ast_devstate_changed(enum ast_device_state state, enum ast_devstate_cache cachable, const char *fmt,...)</div><div class="ttdoc">Tells Asterisk the State for Device is changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00510">devicestate.c:510</a></div></div>
<div class="ttc" id="devicestate_8h_html_a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00070">devicestate.h:70</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e7cff5f2172fe5cbb0c70f929195d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7cff5f2172fe5cbb0c70f929195d28">&#9670;&nbsp;</a></span>parking_set_duration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parking_set_duration </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *&#160;</td>
          <td class="paramname"><em>user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup timeout interval feature on an <a class="el" href="../../db/dba/structast__bridge__features.html" title="Structure that contains features information. ">ast_bridge_features</a> for parking. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>The <a class="el" href="../../db/dba/structast__bridge__features.html" title="Structure that contains features information. ">ast_bridge_features</a> we are establishing the interval hook on </td></tr>
    <tr><td class="paramname">user</td><td>The <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> receiving the timeout duration limits </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00705">705</a> of file <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html">parking_bridge_features.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00674">__ao2_cleanup()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00183">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03382">ast_bridge_interval_hook()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02033">ast_remaining_ms()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00106">parked_user::start</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00110">parked_user::time_limit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;{</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d7e/structparked__user.html#a5cab8de37f0062c1a7c1511409e23319">time_limit</a>;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   time_limit = user-&gt;<a class="code" href="../../dd/d7e/structparked__user.html#a5cab8de37f0062c1a7c1511409e23319">time_limit</a> * 1000;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="keywordflow">if</span> (!time_limit) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="comment">/* There is no duration limit that we need to apply. */</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="comment">/* If the time limit has already been passed, set a really low time limit so we can kick them out immediately. */</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   time_limit = <a class="code" href="../../de/df7/time_8h.html#a904a6933b710e14c7fa2029a0f0cc91a">ast_remaining_ms</a>(user-&gt;<a class="code" href="../../dd/d7e/structparked__user.html#ad80305b5e16da9c2675d5f057bd69386">start</a>, time_limit);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <span class="keywordflow">if</span> (time_limit &lt;= 0) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      time_limit = 1;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="comment">/* The interval hook is going to need a reference to the parked_user */</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(user, +1);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a3e9bdb7b62b531f001b7dcb5c39b3551">ast_bridge_interval_hook</a>(features, 0, time_limit,</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <a class="code" href="../../d1/db7/parking__bridge__features_8c.html#a12b304af58c5e61c604ccf87744998ca">parking_duration_callback</a>, user, <a class="code" href="../../d5/da5/astobj2_8h.html#ab940ba7749a2a12c3e9a356bd26fd744">__ao2_cleanup</a>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>)) {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to apply duration limit to the parked call.\n&quot;</span>);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(user, -1);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div><div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00183">bridge_features.h:183</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab940ba7749a2a12c3e9a356bd26fd744"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab940ba7749a2a12c3e9a356bd26fd744">__ao2_cleanup</a></div><div class="ttdeci">void __ao2_cleanup(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00674">astobj2.c:674</a></div></div>
<div class="ttc" id="structparked__user_html_a5cab8de37f0062c1a7c1511409e23319"><div class="ttname"><a href="../../dd/d7e/structparked__user.html#a5cab8de37f0062c1a7c1511409e23319">parked_user::time_limit</a></div><div class="ttdeci">unsigned int time_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00110">res_parking.h:110</a></div></div>
<div class="ttc" id="structparked__user_html_ad80305b5e16da9c2675d5f057bd69386"><div class="ttname"><a href="../../dd/d7e/structparked__user.html#ad80305b5e16da9c2675d5f057bd69386">parked_user::start</a></div><div class="ttdeci">struct timeval start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00106">res_parking.h:106</a></div></div>
<div class="ttc" id="parking__bridge__features_8c_html_a12b304af58c5e61c604ccf87744998ca"><div class="ttname"><a href="../../d1/db7/parking__bridge__features_8c.html#a12b304af58c5e61c604ccf87744998ca">parking_duration_callback</a></div><div class="ttdeci">static int parking_duration_callback(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_bridge_features.c:575</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a3e9bdb7b62b531f001b7dcb5c39b3551"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a3e9bdb7b62b531f001b7dcb5c39b3551">ast_bridge_interval_hook</a></div><div class="ttdeci">int ast_bridge_interval_hook(struct ast_bridge_features *features, enum ast_bridge_hook_timer_option flags, unsigned int interval, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Attach an interval hook to a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03382">bridge.c:3382</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="time_8h_html_a904a6933b710e14c7fa2029a0f0cc91a"><div class="ttname"><a href="../../de/df7/time_8h.html#a904a6933b710e14c7fa2029a0f0cc91a">ast_remaining_ms</a></div><div class="ttdeci">int ast_remaining_ms(struct timeval start, int max_ms)</div><div class="ttdoc">Calculate remaining milliseconds given a starting timestamp and upper bound. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02033">main/utils.c:2033</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaecb2e8b6ae6629620589e258c7053bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaecb2e8b6ae6629620589e258c7053bf">&#9670;&nbsp;</a></span>publish_parked_call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void publish_parked_call </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *&#160;</td>
          <td class="paramname"><em>pu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d2/d33/parking_8h.html#ad7f2cff41c0b5c4e0aa1e2de3ee71485">ast_parked_call_event_type</a>&#160;</td>
          <td class="paramname"><em>event_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a stasis parked call message for a given parked user. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pu</td><td>pointer to a <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> that we are generating the message for </td></tr>
    <tr><td class="paramname">event_type</td><td>What parked call event type is provoking this message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00617">617</a> of file <a class="el" href="../../d0/d39/parking__manager_8c_source.html">parking_manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00067">ast_parking_topic()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00192">parked_call_payload_from_parked_user()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00342">bridge_parking_pull()</a>, and <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;{</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d47/structast__parked__call__payload.html">ast_parked_call_payload</a> *, payload, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *, msg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type</a>()) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   payload = <a class="code" href="../../d0/d39/parking__manager_8c.html#a5016e0fa17fee9590d4e40707afed401">parked_call_payload_from_parked_user</a>(pu, event_type);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   <span class="keywordflow">if</span> (!payload) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   msg = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type</a>(), payload);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keywordflow">if</span> (!msg) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab4e08da228493c3f9bfc6a2aed507cb4">ast_parking_topic</a>(), msg);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div><div class="ttc" id="group__StasisTopicsAndMessages_html_ga00e84a145ef736ce4134fee75e530113"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type</a></div><div class="ttdeci">struct stasis_message_type * ast_parked_call_type(void)</div><div class="ttdoc">accessor for the parked call stasis message type </div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="structast__parked__call__payload_html"><div class="ttname"><a href="../../d0/d47/structast__parked__call__payload.html">ast_parked_call_payload</a></div><div class="ttdoc">A parked call message payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d33/parking_8h_source.html#l00059">parking.h:59</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="parking__manager_8c_html_a5016e0fa17fee9590d4e40707afed401"><div class="ttname"><a href="../../d0/d39/parking__manager_8c.html#a5016e0fa17fee9590d4e40707afed401">parked_call_payload_from_parked_user</a></div><div class="ttdeci">static struct ast_parked_call_payload * parked_call_payload_from_parked_user(struct parked_user *pu, enum ast_parked_call_event_type event_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d39/parking__manager_8c_source.html#l00192">parking_manager.c:192</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab4e08da228493c3f9bfc6a2aed507cb4"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab4e08da228493c3f9bfc6a2aed507cb4">ast_parking_topic</a></div><div class="ttdeci">struct stasis_topic * ast_parking_topic(void)</div><div class="ttdoc">accessor for the parking stasis topic </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2a/parking_8c_source.html#l00067">parking.c:67</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af185e93906eea4f215d95c8ae4552dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af185e93906eea4f215d95c8ae4552dd8">&#9670;&nbsp;</a></span>publish_parked_call_failure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void publish_parked_call_failure </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>parkee</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a stasis parked call message for the channel indicating failure to park. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parkee</td><td>channel belonging to the failed parkee </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00595">595</a> of file <a class="el" href="../../d0/d39/parking__manager_8c_source.html">parking_manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00067">ast_parking_topic()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00178">parked_call_payload_from_failure()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00545">park_app_exec()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00434">parking_park_bridge_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d47/structast__parked__call__payload.html">ast_parked_call_payload</a> *, payload, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *, msg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type</a>()) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   payload = <a class="code" href="../../d0/d39/parking__manager_8c.html#a57b0e39c17bda9dd3eb6776978475393">parked_call_payload_from_failure</a>(parkee);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <span class="keywordflow">if</span> (!payload) {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   msg = <a class="code" href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type</a>(), payload);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <span class="keywordflow">if</span> (!msg) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab4e08da228493c3f9bfc6a2aed507cb4">ast_parking_topic</a>(), msg);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="ttc" id="parking__manager_8c_html_a57b0e39c17bda9dd3eb6776978475393"><div class="ttname"><a href="../../d0/d39/parking__manager_8c.html#a57b0e39c17bda9dd3eb6776978475393">parked_call_payload_from_failure</a></div><div class="ttdeci">static struct ast_parked_call_payload * parked_call_payload_from_failure(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d39/parking__manager_8c_source.html#l00178">parking_manager.c:178</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga00e84a145ef736ce4134fee75e530113"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga00e84a145ef736ce4134fee75e530113">ast_parked_call_type</a></div><div class="ttdeci">struct stasis_message_type * ast_parked_call_type(void)</div><div class="ttdoc">accessor for the parked call stasis message type </div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="structast__parked__call__payload_html"><div class="ttname"><a href="../../d0/d47/structast__parked__call__payload.html">ast_parked_call_payload</a></div><div class="ttdoc">A parked call message payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d33/parking_8h_source.html#l00059">parking.h:59</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="stasis_8h_html_a72a06fdaec039fdfb5f36892e725f9ec"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a></div><div class="ttdeci">struct stasis_message * stasis_message_create(struct stasis_message_type *type, void *data)</div><div class="ttdoc">Create a new message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message.c:174</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab4e08da228493c3f9bfc6a2aed507cb4"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab4e08da228493c3f9bfc6a2aed507cb4">ast_parking_topic</a></div><div class="ttdeci">struct stasis_topic * ast_parking_topic(void)</div><div class="ttdoc">accessor for the parking stasis topic </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2a/parking_8c_source.html#l00067">parking.c:67</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99c6edcf3d9ec6dee14814a9b7503eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c6edcf3d9ec6dee14814a9b7503eb5">&#9670;&nbsp;</a></span>say_parking_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void say_parking_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>custom callback function for ast_bridge_channel_queue_playfile which plays a parking space and optionally hangs up the call afterwards based on the payload in playfile. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00683">683</a> of file <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html">parking_bridge_features.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00314">ast_bridge_channel_leave_bridge()</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00105">AST_CAUSE_NORMAL_CLEARING</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08349">ast_say_digits()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00066">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00105">parker_parked_call_message_response()</a>.</p>
<div class="fragment"><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;{</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numeric_value;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hangup_after;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keywordflow">if</span> (sscanf(payload, <span class="stringliteral">&quot;%u %u&quot;</span>, &amp;hangup_after, &amp;numeric_value) != 2) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="comment">/* If say_parking_space is called with a non-numeric string, we have a problem. */</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <a class="code" href="../../db/dce/say_8h.html#a7cf9dcf6ae6fcedb7752d0deac683b3b">ast_say_digits</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, numeric_value, <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="keywordflow">if</span> (hangup_after) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div><div class="ttc" id="say_8h_html_a7cf9dcf6ae6fcedb7752d0deac683b3b"><div class="ttname"><a href="../../db/dce/say_8h.html#a7cf9dcf6ae6fcedb7752d0deac683b3b">ast_say_digits</a></div><div class="ttdeci">int ast_say_digits(struct ast_channel *chan, int num, const char *ints, const char *lang)</div><div class="ttdoc">says digits </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08349">channel.c:8349</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00066">bridge_channel.h:66</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="causes_8h_html_af2235eb1c27925e4020ce286255d165f"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL_CLEARING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00105">causes.h:105</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad58d921ec1c5a6f12be8f94327dd98c0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a></div><div class="ttdeci">void ast_bridge_channel_leave_bridge(struct ast_bridge_channel *bridge_channel, enum bridge_channel_state new_state, int cause)</div><div class="ttdoc">Set bridge channel state to leave bridge (if not leaving already). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00314">bridge_channel.c:314</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a9abe31fe40dcd03cd2957e5309e32ac6"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a></div><div class="ttdeci">const char * ast_channel_language(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b8e116497a4df1a0d6320800fd1a044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b8e116497a4df1a0d6320800fd1a044">&#9670;&nbsp;</a></span>unload_parking_applications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unload_parking_applications </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister parking applications. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/ded/parking__applications_8c_source.html#l01006">1006</a> of file <a class="el" href="../../da/ded/parking__applications_8c_source.html">parking_applications.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00237">PARK_AND_ANNOUNCE_APPLICATION</a>, <a class="el" href="../../d2/d33/parking_8h_source.html#l00035">PARK_APPLICATION</a>, and <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00038">PARKED_CALL_APPLICATION</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01190">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;{</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d2/d33/parking_8h.html#ae9948d6f3b81ba2a7b5b212a7b1068df">PARK_APPLICATION</a>);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../d3/d38/res__parking_8h.html#a3ad85f270c1e17cb7dd40aa696e2c04a">PARKED_CALL_APPLICATION</a>);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../da/ded/parking__applications_8c.html#ae12a3f670a902f6f81e02f4a4e766a79">PARK_AND_ANNOUNCE_APPLICATION</a>);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div><div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="parking__applications_8c_html_ae12a3f670a902f6f81e02f4a4e766a79"><div class="ttname"><a href="../../da/ded/parking__applications_8c.html#ae12a3f670a902f6f81e02f4a4e766a79">PARK_AND_ANNOUNCE_APPLICATION</a></div><div class="ttdeci">#define PARK_AND_ANNOUNCE_APPLICATION</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/parking__applications_8c_source.html#l00237">parking_applications.c:237</a></div></div>
<div class="ttc" id="parking_8h_html_ae9948d6f3b81ba2a7b5b212a7b1068df"><div class="ttname"><a href="../../d2/d33/parking_8h.html#ae9948d6f3b81ba2a7b5b212a7b1068df">PARK_APPLICATION</a></div><div class="ttdeci">#define PARK_APPLICATION</div><div class="ttdoc">The default parking application that Asterisk expects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d33/parking_8h_source.html#l00035">parking.h:35</a></div></div>
<div class="ttc" id="res__parking_8h_html_a3ad85f270c1e17cb7dd40aa696e2c04a"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#a3ad85f270c1e17cb7dd40aa696e2c04a">PARKED_CALL_APPLICATION</a></div><div class="ttdeci">#define PARKED_CALL_APPLICATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d38/res__parking_8h_source.html#l00038">res_parking.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a18a2586e938596a099a271b0a01c0893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18a2586e938596a099a271b0a01c0893">&#9670;&nbsp;</a></span>unload_parking_bridge_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unload_parking_bridge_features </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister features registered by load_parking_bridge_features. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00795">795</a> of file <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html">parking_bridge_features.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00092">AST_BRIDGE_BUILTIN_PARKCALL</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03139">ast_bridge_features_unregister()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00273">ast_custom_function_unregister()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00223">ast_parking_unregister_bridge_features()</a>, and <a class="el" href="../../d2/d33/parking_8h_source.html#l00139">ast_parking_bridge_feature_fn_table::module_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01190">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;{</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#a395272994b2af7bd55f871b02d2d42e4">ast_bridge_features_unregister</a>(<a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a>);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   <a class="code" href="../../d2/d33/parking_8h.html#a1379d483297fa97cde1dd402999c9cad">ast_parking_unregister_bridge_features</a>(<a class="code" href="../../d1/db7/parking__bridge__features_8c.html#a527a87b444846a534af2414c76eb65dc">parking_provider</a>.<a class="code" href="../../d1/d60/structast__parking__bridge__feature__fn__table.html#a4c2d9327de87c6be0b54f793adc7f1fb">module_name</a>);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d1/db7/parking__bridge__features_8c.html#af0b6425453b659732eb7bfaedd9d9403">getparkingslotchannel_function</a>);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div><div class="ttc" id="structast__parking__bridge__feature__fn__table_html_a4c2d9327de87c6be0b54f793adc7f1fb"><div class="ttname"><a href="../../d1/d60/structast__parking__bridge__feature__fn__table.html#a4c2d9327de87c6be0b54f793adc7f1fb">ast_parking_bridge_feature_fn_table::module_name</a></div><div class="ttdeci">const char * module_name</div><div class="ttdoc">The name of the module that provides this parking functionality. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d33/parking_8h_source.html#l00139">parking.h:139</a></div></div>
<div class="ttc" id="pbx_8h_html_a965977ea9a3144bc203e0ce7a64680a1"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a></div><div class="ttdeci">int ast_custom_function_unregister(struct ast_custom_function *acf)</div><div class="ttdoc">Unregister a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00273">pbx_functions.c:273</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a395272994b2af7bd55f871b02d2d42e4"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a395272994b2af7bd55f871b02d2d42e4">ast_bridge_features_unregister</a></div><div class="ttdeci">int ast_bridge_features_unregister(enum ast_bridge_builtin_feature feature)</div><div class="ttdoc">Unregister a handler for a built in feature. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03139">bridge.c:3139</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00092">bridge_features.h:92</a></div></div>
<div class="ttc" id="parking__bridge__features_8c_html_a527a87b444846a534af2414c76eb65dc"><div class="ttname"><a href="../../d1/db7/parking__bridge__features_8c.html#a527a87b444846a534af2414c76eb65dc">parking_provider</a></div><div class="ttdeci">struct ast_parking_bridge_feature_fn_table parking_provider</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db7/parking__bridge__features_8c_source.html#l00786">parking_bridge_features.c:786</a></div></div>
<div class="ttc" id="parking__bridge__features_8c_html_af0b6425453b659732eb7bfaedd9d9403"><div class="ttname"><a href="../../d1/db7/parking__bridge__features_8c.html#af0b6425453b659732eb7bfaedd9d9403">getparkingslotchannel_function</a></div><div class="ttdeci">static struct ast_custom_function getparkingslotchannel_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db7/parking__bridge__features_8c_source.html#l00781">parking_bridge_features.c:781</a></div></div>
<div class="ttc" id="parking_8h_html_a1379d483297fa97cde1dd402999c9cad"><div class="ttname"><a href="../../d2/d33/parking_8h.html#a1379d483297fa97cde1dd402999c9cad">ast_parking_unregister_bridge_features</a></div><div class="ttdeci">int ast_parking_unregister_bridge_features(const char *module_name)</div><div class="ttdoc">Unregister the current parking provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2a/parking_8c_source.html#l00223">parking.c:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88e153334f4a3a88b055bed527f446ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88e153334f4a3a88b055bed527f446ad">&#9670;&nbsp;</a></span>unload_parking_devstate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unload_parking_devstate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister Parking devstate handler. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d5d/parking__devicestate_8c_source.html#l00116">116</a> of file <a class="el" href="../../de/d5d/parking__devicestate_8c_source.html">parking_devicestate.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00418">ast_devstate_prov_del()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01190">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a1ab579ae15aaca64a904c3c41d8b8b01">ast_devstate_prov_del</a>(<span class="stringliteral">&quot;Park&quot;</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_a1ab579ae15aaca64a904c3c41d8b8b01"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a1ab579ae15aaca64a904c3c41d8b8b01">ast_devstate_prov_del</a></div><div class="ttdeci">int ast_devstate_prov_del(const char *label)</div><div class="ttdoc">Remove device state provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00418">devicestate.c:418</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6492a673c693917c90981ab183a24339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6492a673c693917c90981ab183a24339">&#9670;&nbsp;</a></span>unload_parking_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unload_parking_manager </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister manager actions and remove subscriptions for stasis events. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00710">710</a> of file <a class="el" href="../../d0/d39/parking__manager_8c_source.html">parking_manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d10/manager_8c_source.html#l07258">ast_manager_unregister()</a>, and <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00705">parking_manager_disable_stasis()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01190">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;{</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;Parkinglots&quot;</span>);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;ParkedCalls&quot;</span>);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="stringliteral">&quot;Park&quot;</span>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   <a class="code" href="../../d0/d39/parking__manager_8c.html#ab468a120043b7eb0dcc7531f95c3e095">parking_manager_disable_stasis</a>();</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div><div class="ttc" id="group__Group__AMI_html_gafadf012f66a9fd7ecf985ec5b9dee101"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a></div><div class="ttdeci">int ast_manager_unregister(const char *action)</div><div class="ttdoc">Unregister a registered manager command. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07258">manager.c:7258</a></div></div>
<div class="ttc" id="parking__manager_8c_html_ab468a120043b7eb0dcc7531f95c3e095"><div class="ttname"><a href="../../d0/d39/parking__manager_8c.html#ab468a120043b7eb0dcc7531f95c3e095">parking_manager_disable_stasis</a></div><div class="ttdeci">static void parking_manager_disable_stasis(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d39/parking__manager_8c_source.html#l00705">parking_manager.c:705</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6808a863fc132660e0a23d2334f9f15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6808a863fc132660e0a23d2334f9f15">&#9670;&nbsp;</a></span>unload_parking_tests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unload_parking_tests </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister parking unit tests. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00838">838</a> of file <a class="el" href="../../d6/d14/parking__tests_8c_source.html">parking_tests.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/ddc/test_8h_source.html#l00128">AST_TEST_UNREGISTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01190">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;{</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">/* NOOP without test framework */</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="preprocessor">#if defined(TEST_FRAMEWORK)</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(create_lot);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(park_call);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(retrieve_call);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(park_extensions);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(extension_conflicts);</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(dynamic_parking_variables);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;}</div><div class="ttc" id="test_8h_html_a79bc64a935b14b1b181156e5ada58ead"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a></div><div class="ttdeci">#define AST_TEST_UNREGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00128">test.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a39446e14b8cd31980f41f196cf9d4561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39446e14b8cd31980f41f196cf9d4561">&#9670;&nbsp;</a></span>unload_parking_ui()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unload_parking_ui </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister CLI commands. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/daf/parking__ui_8c_source.html#l00203">203</a> of file <a class="el" href="../../d0/daf/parking__ui_8c_source.html">parking_ui.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, and <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01190">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../d0/daf/parking__ui_8c.html#ac736e75d576f81e4f4b25aa20021a381">cli_parking_lot</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d0/daf/parking__ui_8c.html#ac736e75d576f81e4f4b25aa20021a381">cli_parking_lot</a>));</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="parking__ui_8c_html_ac736e75d576f81e4f4b25aa20021a381"><div class="ttname"><a href="../../d0/daf/parking__ui_8c.html#ac736e75d576f81e4f4b25aa20021a381">cli_parking_lot</a></div><div class="ttdeci">static struct ast_cli_entry cli_parking_lot[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daf/parking__ui_8c_source.html#l00194">parking_ui.c:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a172d3604aefa8649ca098c9b78f39432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a172d3604aefa8649ca098c9b78f39432">&#9670;&nbsp;</a></span>unpark_parked_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unpark_parked_user </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d7e/structparked__user.html">parked_user</a> *&#160;</td>
          <td class="paramname"><em>user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pull a parked user out of its parking lot. Use this when you don't want to use the parked user afterwards. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>The parked user being pulled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>if the user didn't have its parking lot set </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00085">85</a> of file <a class="el" href="../../db/d81/parking__controller_8c_source.html">parking_controller.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00111">parked_user::lot</a>, <a class="el" href="../../d3/d38/res__parking_8h_source.html#l00095">parking_lot::parked_users</a>, and <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00400">parking_lot_remove_if_unused()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00342">bridge_parking_pull()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <span class="keywordflow">if</span> (pu-&gt;lot) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(pu-&gt;lot-&gt;parked_users, pu);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="../../d3/d38/res__parking_8h.html#ae6104c5c1d4ade69c857441bc8091d82">parking_lot_remove_if_unused</a>(pu-&gt;lot);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="ttc" id="res__parking_8h_html_ae6104c5c1d4ade69c857441bc8091d82"><div class="ttname"><a href="../../d3/d38/res__parking_8h.html#ae6104c5c1d4ade69c857441bc8091d82">parking_lot_remove_if_unused</a></div><div class="ttdeci">int parking_lot_remove_if_unused(struct parking_lot *lot)</div><div class="ttdoc">Remove a parking lot from the usable lists if it is no longer involved in any calls and no configurat...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d45/res__parking_8c_source.html#l00400">res_parking.c:400</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:27 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
