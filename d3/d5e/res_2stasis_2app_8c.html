<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: app.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li><li class="navelem"><a class="el" href="../../dir_645bb0ee2d9887263292b3f6cc7c69f2.html">stasis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res/stasis/app.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stasis application support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d5f/res_2stasis_2app_8h_source.html">app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d02/control_8h_source.html">control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/db3/messaging_8h_source.html">messaging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/callerid_8h_source.html">asterisk/callerid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d9c/stasis__app_8h_source.html">asterisk/stasis_app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html">asterisk/stasis_bridges.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html">asterisk/stasis_endpoints.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d25/stasis__message__router_8h_source.html">asterisk/stasis_message_router.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res/stasis/app.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d18/res_2stasis_2app_8c__incl.png" border="0" usemap="#app_8c" alt=""/></div>
<map name="app_8c" id="app_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="263,80,347,107"/>
<area shape="rect" id="node22" href="../../df/d5f/res_2stasis_2app_8h.html" title="Internal API for the Stasis application controller. " alt="" coords="1721,80,1780,107"/>
<area shape="rect" id="node39" href="../../d8/d9c/stasis__app_8h.html" title="Stasis Application API. See Stasis Application API for detailed documentation. " alt="" coords="1567,155,1723,181"/>
<area shape="rect" id="node40" href="../../d9/d02/control_8h.html" title="Internal API for the Stasis application controller. " alt="" coords="1611,80,1690,107"/>
<area shape="rect" id="node41" href="../../d3/db3/messaging_8h.html" title="Stasis out&#45;of&#45;call text message support. " alt="" coords="1432,80,1536,107"/>
<area shape="rect" id="node42" href="../../de/d47/callerid_8h.html" title="CallerID (and other GR30) management and generation Includes code and algorithms from the Zapata libr..." alt="" coords="496,237,629,263"/>
<area shape="rect" id="node43" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="708,393,809,420"/>
<area shape="rect" id="node44" href="../../dc/d4e/stasis__bridges_8h.html" title="asterisk/stasis_bridges.h" alt="" coords="1188,80,1367,107"/>
<area shape="rect" id="node47" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="1849,155,2039,181"/>
<area shape="rect" id="node48" href="../../d7/d44/stasis__endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="2228,155,2423,181"/>
<area shape="rect" id="node50" href="../../d4/d25/stasis__message__router_8h.html" title="asterisk/stasis_message\l_router.h" alt="" coords="1941,229,2120,271"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="5,155,160,181"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="590,617,727,644"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="185,155,319,181"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="9,237,156,263"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1183,767,1326,793"/>
<area shape="rect" id="node23" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1407,237,1545,263"/>
<area shape="rect" id="node37" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1929,319,2055,345"/>
<area shape="rect" id="node24" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1559,319,1703,345"/>
<area shape="rect" id="node25" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1356,393,1471,420"/>
<area shape="rect" id="node26" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1387,692,1501,719"/>
<area shape="rect" id="node27" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1795,468,1952,495"/>
<area shape="rect" id="node29" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1094,543,1229,569"/>
<area shape="rect" id="node30" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="930,617,1081,644"/>
<area shape="rect" id="node31" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="819,319,978,345"/>
<area shape="rect" id="node33" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1610,543,1774,569"/>
<area shape="rect" id="node34" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1002,319,1129,345"/>
<area shape="rect" id="node35" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="597,319,744,345"/>
<area shape="rect" id="node36" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1407,319,1534,345"/>
<area shape="rect" id="node38" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="2079,319,2230,345"/>
<area shape="rect" id="node28" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1192,468,1323,495"/>
<area shape="rect" id="node32" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="833,393,964,420"/>
<area shape="rect" id="node45" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="1311,155,1439,181"/>
<area shape="rect" id="node46" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1175,155,1286,181"/>
<area shape="rect" id="node49" href="../../d3/d8f/stasis__cache__pattern_8h.html" title="Caching pattern for Stasis Message Bus API topics. " alt="" coords="2246,229,2405,271"/>
</map>
</div>
</div>
<p><a href="../../d3/d5e/res_2stasis_2app_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9ac9137d8506b8244b41486bf8e9d2a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a>&#160;&#160;&#160;&quot;__AST_BRIDGE_ALL_TOPIC&quot;</td></tr>
<tr class="separator:a9ac9137d8506b8244b41486bf8e9d2a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22bebb2d35ffb38b9bb202e88822d74c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a>&#160;&#160;&#160;&quot;__AST_CHANNEL_ALL_TOPIC&quot;</td></tr>
<tr class="separator:a22bebb2d35ffb38b9bb202e88822d74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb679c8c5450b8fdc65ef309ac078d76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a>&#160;&#160;&#160;&quot;__AST_ENDPOINT_ALL_TOPIC&quot;</td></tr>
<tr class="separator:adb679c8c5450b8fdc65ef309ac078d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:adce21d442a247829a8080aff1bd1a4d0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#adce21d442a247829a8080aff1bd1a4d0">channel_snapshot_monitor</a>) (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *old_snapshot, struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *new_snapshot, const struct timeval *tv)</td></tr>
<tr class="memdesc:adce21d442a247829a8080aff1bd1a4d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for callbacks that get called on channel snapshot updates.  <a href="#adce21d442a247829a8080aff1bd1a4d0">More...</a><br /></td></tr>
<tr class="separator:adce21d442a247829a8080aff1bd1a4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2ecf07a317ee26b38344a67b3aee4663"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a> { <a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a>, 
<a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a>, 
<a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a>
 }</td></tr>
<tr class="separator:a2ecf07a317ee26b38344a67b3aee4663"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acf8bdfbd0c394c97598c4e0565525504"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#acf8bdfbd0c394c97598c4e0565525504">app_create</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a> <a class="el" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>, void *data, enum <a class="el" href="../../df/d5f/res_2stasis_2app_8h.html#aed792ab54d9817f46bfcc787e2754dc8">stasis_app_subscription_model</a> subscription_model)</td></tr>
<tr class="memdesc:acf8bdfbd0c394c97598c4e0565525504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a res_stasis application.  <a href="#acf8bdfbd0c394c97598c4e0565525504">More...</a><br /></td></tr>
<tr class="separator:acf8bdfbd0c394c97598c4e0565525504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70355ddeb33a79cdaf71549b82c22e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ac70355ddeb33a79cdaf71549b82c22e8">app_deactivate</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:ac70355ddeb33a79cdaf71549b82c22e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates an application.  <a href="#ac70355ddeb33a79cdaf71549b82c22e8">More...</a><br /></td></tr>
<tr class="separator:ac70355ddeb33a79cdaf71549b82c22e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49502a8f4f6c56e70abb37eca7586fcc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a49502a8f4f6c56e70abb37eca7586fcc">app_dtor</a> (void *obj)</td></tr>
<tr class="separator:a49502a8f4f6c56e70abb37eca7586fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39fb31a4ed659c22c7459e471b2472b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#af39fb31a4ed659c22c7459e471b2472b">app_event_filter_matched</a> (struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d9/d1e/func__strings_8c.html#ab6e308b3a41c01e08d252e071511495c">array</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>, int empty)</td></tr>
<tr class="separator:af39fb31a4ed659c22c7459e471b2472b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ff4b71f5a67d2ac27f3adbae18dbf5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a19ff4b71f5a67d2ac27f3adbae18dbf5">app_event_filter_set</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> **<a class="el" href="../../d7/dd6/structmember.html">member</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d9/d1e/func__strings_8c.html#af2deb3c7b0d3bdd442bb9ada5fda3d17">filter</a>, const char *filter_type)</td></tr>
<tr class="separator:a19ff4b71f5a67d2ac27f3adbae18dbf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5437bcc40f73f818081b97c55a14ce"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#adc5437bcc40f73f818081b97c55a14ce">app_events_allowed_set</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d9/d1e/func__strings_8c.html#af2deb3c7b0d3bdd442bb9ada5fda3d17">filter</a>)</td></tr>
<tr class="separator:adc5437bcc40f73f818081b97c55a14ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc439af8e22cade71ea9be7d982cb5a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#aedc439af8e22cade71ea9be7d982cb5a">app_events_disallowed_set</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d9/d1e/func__strings_8c.html#af2deb3c7b0d3bdd442bb9ada5fda3d17">filter</a>)</td></tr>
<tr class="separator:aedc439af8e22cade71ea9be7d982cb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafff5782ef991feae701cb5762457461"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#aafff5782ef991feae701cb5762457461">app_is_active</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:aafff5782ef991feae701cb5762457461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether an app is active.  <a href="#aafff5782ef991feae701cb5762457461">More...</a><br /></td></tr>
<tr class="separator:aafff5782ef991feae701cb5762457461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb21fd32f98d4bdea9de6f9c5eea752"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a5fb21fd32f98d4bdea9de6f9c5eea752">app_is_finished</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a5fb21fd32f98d4bdea9de6f9c5eea752"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a deactivated app has no channels.  <a href="#a5fb21fd32f98d4bdea9de6f9c5eea752">More...</a><br /></td></tr>
<tr class="separator:a5fb21fd32f98d4bdea9de6f9c5eea752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfdcc440a99fdb9cc42937a884ba0ee6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#abfdcc440a99fdb9cc42937a884ba0ee6">app_is_subscribed_bridge_id</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *bridge_id)</td></tr>
<tr class="memdesc:abfdcc440a99fdb9cc42937a884ba0ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if an app is subscribed to a bridge.  <a href="#abfdcc440a99fdb9cc42937a884ba0ee6">More...</a><br /></td></tr>
<tr class="separator:abfdcc440a99fdb9cc42937a884ba0ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316a1a996a5456a1b7422cc05add62e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a316a1a996a5456a1b7422cc05add62e6">app_is_subscribed_channel_id</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *channel_id)</td></tr>
<tr class="memdesc:a316a1a996a5456a1b7422cc05add62e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if an app is subscribed to a channel.  <a href="#a316a1a996a5456a1b7422cc05add62e6">More...</a><br /></td></tr>
<tr class="separator:a316a1a996a5456a1b7422cc05add62e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1f3daa5de52b71b552447ad5079f7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a0a1f3daa5de52b71b552447ad5079f7b">app_is_subscribed_endpoint_id</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *endpoint_id)</td></tr>
<tr class="memdesc:a0a1f3daa5de52b71b552447ad5079f7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if an app is subscribed to a endpoint.  <a href="#a0a1f3daa5de52b71b552447ad5079f7b">More...</a><br /></td></tr>
<tr class="separator:a0a1f3daa5de52b71b552447ad5079f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2b5ef224bf880e5ef556a910f41a37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:afc2b5ef224bf880e5ef556a910f41a37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to the given application.  <a href="#afc2b5ef224bf880e5ef556a910f41a37">More...</a><br /></td></tr>
<tr class="separator:afc2b5ef224bf880e5ef556a910f41a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364056b7da44bbeee2959155aa4ef72d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a364056b7da44bbeee2959155aa4ef72d">app_shutdown</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a364056b7da44bbeee2959155aa4ef72d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tears down an application.  <a href="#a364056b7da44bbeee2959155aa4ef72d">More...</a><br /></td></tr>
<tr class="separator:a364056b7da44bbeee2959155aa4ef72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c81b198af25100a727e3b42f6a6a5ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a0c81b198af25100a727e3b42f6a6a5ab">app_subscribe_bridge</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a0c81b198af25100a727e3b42f6a6a5ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a bridge subscription to an existing channel subscription.  <a href="#a0c81b198af25100a727e3b42f6a6a5ab">More...</a><br /></td></tr>
<tr class="separator:a0c81b198af25100a727e3b42f6a6a5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0dbc86b18101e9d9d48b350aeec489"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a5b0dbc86b18101e9d9d48b350aeec489">app_subscribe_channel</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a5b0dbc86b18101e9d9d48b350aeec489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes an application to a channel.  <a href="#a5b0dbc86b18101e9d9d48b350aeec489">More...</a><br /></td></tr>
<tr class="separator:a5b0dbc86b18101e9d9d48b350aeec489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021ad5ebb8ff3d64b1df955eb887fbea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a021ad5ebb8ff3d64b1df955eb887fbea">app_subscribe_endpoint</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:a021ad5ebb8ff3d64b1df955eb887fbea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes an application to a endpoint.  <a href="#a021ad5ebb8ff3d64b1df955eb887fbea">More...</a><br /></td></tr>
<tr class="separator:a021ad5ebb8ff3d64b1df955eb887fbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e6099632575d3b2fd83d64698b1114c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a2e6099632575d3b2fd83d64698b1114c">app_to_json</a> (const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a2e6099632575d3b2fd83d64698b1114c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a JSON representation of a <code><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a></code>.  <a href="#a2e6099632575d3b2fd83d64698b1114c">More...</a><br /></td></tr>
<tr class="separator:a2e6099632575d3b2fd83d64698b1114c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3319e8e92c07466ddc920e885c6d23f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a3319e8e92c07466ddc920e885c6d23f0">app_unsubscribe_bridge</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a3319e8e92c07466ddc920e885c6d23f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the bridge subscription for an application.  <a href="#a3319e8e92c07466ddc920e885c6d23f0">More...</a><br /></td></tr>
<tr class="separator:a3319e8e92c07466ddc920e885c6d23f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a564345075a21180f2186dbae310f72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a0a564345075a21180f2186dbae310f72">app_unsubscribe_bridge_id</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *bridge_id)</td></tr>
<tr class="memdesc:a0a564345075a21180f2186dbae310f72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the subscription an app has for a bridge.  <a href="#a0a564345075a21180f2186dbae310f72">More...</a><br /></td></tr>
<tr class="separator:a0a564345075a21180f2186dbae310f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a451e2970210436f5fd6ffdb94d38f7b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a451e2970210436f5fd6ffdb94d38f7b2">app_unsubscribe_channel</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a451e2970210436f5fd6ffdb94d38f7b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the subscription an app has for a channel.  <a href="#a451e2970210436f5fd6ffdb94d38f7b2">More...</a><br /></td></tr>
<tr class="separator:a451e2970210436f5fd6ffdb94d38f7b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb98d263b0d1405caa0a948bf49b5985"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#abb98d263b0d1405caa0a948bf49b5985">app_unsubscribe_channel_id</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *channel_id)</td></tr>
<tr class="memdesc:abb98d263b0d1405caa0a948bf49b5985"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the subscription an app has for a channel.  <a href="#abb98d263b0d1405caa0a948bf49b5985">More...</a><br /></td></tr>
<tr class="separator:abb98d263b0d1405caa0a948bf49b5985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b1e94137f9d8131f363023261767ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a77b1e94137f9d8131f363023261767ec">app_unsubscribe_endpoint_id</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *endpoint_id)</td></tr>
<tr class="memdesc:a77b1e94137f9d8131f363023261767ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the subscription an app has for a endpoint.  <a href="#a77b1e94137f9d8131f363023261767ec">More...</a><br /></td></tr>
<tr class="separator:a77b1e94137f9d8131f363023261767ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d8e51b6dc44258770b7a7a9d1e9992"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a11d8e51b6dc44258770b7a7a9d1e9992">app_update</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, <a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a> <a class="el" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>, void *data)</td></tr>
<tr class="memdesc:a11d8e51b6dc44258770b7a7a9d1e9992"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the handler and data for a <code>res_stasis</code> application.  <a href="#a11d8e51b6dc44258770b7a7a9d1e9992">More...</a><br /></td></tr>
<tr class="separator:a11d8e51b6dc44258770b7a7a9d1e9992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c95eccf2647ee7aba08fd47933940d7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a1c95eccf2647ee7aba08fd47933940d7">ast_app_get_topic</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a1c95eccf2647ee7aba08fd47933940d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the stasis topic for an app.  <a href="#a1c95eccf2647ee7aba08fd47933940d7">More...</a><br /></td></tr>
<tr class="separator:a1c95eccf2647ee7aba08fd47933940d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2578db81ae3a5d8c7327e1e2b3660338"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *uniqueid)</td></tr>
<tr class="memdesc:a2578db81ae3a5d8c7327e1e2b3660338"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for determining if the application is subscribed to a given entity.  <a href="#a2578db81ae3a5d8c7327e1e2b3660338">More...</a><br /></td></tr>
<tr class="separator:a2578db81ae3a5d8c7327e1e2b3660338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41cd369603c344d4857c48f8b662cc0b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a41cd369603c344d4857c48f8b662cc0b">bridge_app_subscribed_involved</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *snapshot)</td></tr>
<tr class="memdesc:a41cd369603c344d4857c48f8b662cc0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for checking if channels in a bridge are subscribed to.  <a href="#a41cd369603c344d4857c48f8b662cc0b">More...</a><br /></td></tr>
<tr class="separator:a41cd369603c344d4857c48f8b662cc0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fead1d348a2dbf1bfc11ebb612f30c7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a9fead1d348a2dbf1bfc11ebb612f30c7">bridge_attended_transfer_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:a9fead1d348a2dbf1bfc11ebb612f30c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a34a08e7562dd1161c75cd2a5c382f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a90a34a08e7562dd1161c75cd2a5c382f">bridge_blind_transfer_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:a90a34a08e7562dd1161c75cd2a5c382f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada94ed3c663b63e6475fef84006487a3"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ada94ed3c663b63e6475fef84006487a3">bridge_find</a> (const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="separator:ada94ed3c663b63e6475fef84006487a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2949083f6331aa1b0de16d83fdba25f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#aa2949083f6331aa1b0de16d83fdba25f">bridge_merge_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:aa2949083f6331aa1b0de16d83fdba25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d47dfce3749c491ee7f6711e5d7af0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a83d47dfce3749c491ee7f6711e5d7af0">bridge_subscription_change_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:a83d47dfce3749c491ee7f6711e5d7af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce8178d1fdf1192f8de38ba5a08c56b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a5ce8178d1fdf1192f8de38ba5a08c56b">call_forwarded_handler</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:a5ce8178d1fdf1192f8de38ba5a08c56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebaa7d191044b61eb64d2ad01803bd7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#adebaa7d191044b61eb64d2ad01803bd7">channel_callerid</a> (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *old_snapshot, struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *new_snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:adebaa7d191044b61eb64d2ad01803bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79265cc0b4a52e5ce0f501221c7a392"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#aa79265cc0b4a52e5ce0f501221c7a392">channel_connected_line</a> (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *old_snapshot, struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *new_snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:aa79265cc0b4a52e5ce0f501221c7a392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94697ef3e0d3cf86872e4b4a510070e5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a94697ef3e0d3cf86872e4b4a510070e5">channel_created_event</a> (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:a94697ef3e0d3cf86872e4b4a510070e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ecd2dd45ac3c0250ca96b420c9848f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a92ecd2dd45ac3c0250ca96b420c9848f">channel_destroyed_event</a> (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:a92ecd2dd45ac3c0250ca96b420c9848f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae59741638af8493a18fbd531a248539e"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ae59741638af8493a18fbd531a248539e">channel_dialplan</a> (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *old_snapshot, struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *new_snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:ae59741638af8493a18fbd531a248539e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a679fde29e9e8b17cabb935aefaca5"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a02a679fde29e9e8b17cabb935aefaca5">channel_find</a> (const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="separator:a02a679fde29e9e8b17cabb935aefaca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80d58680cd9fb6079ebfe5a5f1cb6bf"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#aa80d58680cd9fb6079ebfe5a5f1cb6bf">channel_state</a> (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *old_snapshot, struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *new_snapshot, const struct timeval *tv)</td></tr>
<tr class="memdesc:aa80d58680cd9fb6079ebfe5a5f1cb6bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle channel state changes.  <a href="#aa80d58680cd9fb6079ebfe5a5f1cb6bf">More...</a><br /></td></tr>
<tr class="separator:aa80d58680cd9fb6079ebfe5a5f1cb6bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea13ea44c9770400f2ff55d0330e1c9"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#acea13ea44c9770400f2ff55d0330e1c9">channel_state_change_event</a> (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:acea13ea44c9770400f2ff55d0330e1c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1869a0575026887cd19d0373f91ab6"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#abd1869a0575026887cd19d0373f91ab6">endpoint_find</a> (const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="separator:abd1869a0575026887cd19d0373f91ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b9fbc5f54eb1fb1c471bbdeeaa3e80"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a94b9fbc5f54eb1fb1c471bbdeeaa3e80">endpoint_state_cb</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:a94b9fbc5f54eb1fb1c471bbdeeaa3e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e4cad6d653fedd34fc6a3fd5830cab"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ac1e4cad6d653fedd34fc6a3fd5830cab">forwards_create</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="separator:ac1e4cad6d653fedd34fc6a3fd5830cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e73e15b929bc0a5d3a69ff8fd96a37d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a3e73e15b929bc0a5d3a69ff8fd96a37d">forwards_create_bridge</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="separator:a3e73e15b929bc0a5d3a69ff8fd96a37d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad545360ffdd9a3cb168628c715eea3bd"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ad545360ffdd9a3cb168628c715eea3bd">forwards_create_channel</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:ad545360ffdd9a3cb168628c715eea3bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb0022fc4c6dfa2b1cb4f44a0995b6a5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#afb0022fc4c6dfa2b1cb4f44a0995b6a5">forwards_create_endpoint</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint)</td></tr>
<tr class="separator:afb0022fc4c6dfa2b1cb4f44a0995b6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981ea923ff97dfea1ffc5532b652e049"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a981ea923ff97dfea1ffc5532b652e049">forwards_dtor</a> (void *obj)</td></tr>
<tr class="separator:a981ea923ff97dfea1ffc5532b652e049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05b060bca49eec569b5923526fef1cb4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a05b060bca49eec569b5923526fef1cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76af524af8e609eb73505a2df25a8be"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ac76af524af8e609eb73505a2df25a8be">forwards_sort</a> (const void *obj_left, const void *obj_right, int flags)</td></tr>
<tr class="separator:ac76af524af8e609eb73505a2df25a8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5f535f64e0c1e0a134803071fae3770"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ab5f535f64e0c1e0a134803071fae3770">forwards_unsubscribe</a> (struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards)</td></tr>
<tr class="separator:ab5f535f64e0c1e0a134803071fae3770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58025308dde450a79aa3243f13f7a12a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a58025308dde450a79aa3243f13f7a12a">message_received_handler</a> (const char *endpoint_id, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *json_msg, void *pvt)</td></tr>
<tr class="separator:a58025308dde450a79aa3243f13f7a12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e97858a88fce502b61b4ddfb29b0a1d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a4e97858a88fce502b61b4ddfb29b0a1d">simple_bridge_event</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:a4e97858a88fce502b61b4ddfb29b0a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208312a0f9deeb0952423cb20f22b9af"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a208312a0f9deeb0952423cb20f22b9af">simple_channel_event</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:a208312a0f9deeb0952423cb20f22b9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ff54868b202bc8cdc51d54456d063ac"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ff54868b202bc8cdc51d54456d063ac">simple_endpoint_event</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *snapshot, const struct timeval *tv)</td></tr>
<tr class="separator:a9ff54868b202bc8cdc51d54456d063ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c9b284230bdd01438dbaf2be5c32a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a21c9b284230bdd01438dbaf2be5c32a5">stasis_app_event_allowed</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>)</td></tr>
<tr class="memdesc:a21c9b284230bdd01438dbaf2be5c32a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the given event should be filtered.  <a href="#a21c9b284230bdd01438dbaf2be5c32a5">More...</a><br /></td></tr>
<tr class="separator:a21c9b284230bdd01438dbaf2be5c32a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a715fba69467600dc1692afa5176c97af"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a715fba69467600dc1692afa5176c97af">stasis_app_event_filter_set</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="el" href="../../d9/d1e/func__strings_8c.html#af2deb3c7b0d3bdd442bb9ada5fda3d17">filter</a>)</td></tr>
<tr class="memdesc:a715fba69467600dc1692afa5176c97af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the application's event type filter.  <a href="#a715fba69467600dc1692afa5176c97af">More...</a><br /></td></tr>
<tr class="separator:a715fba69467600dc1692afa5176c97af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831e5cbdbab284329b5850ec86ea1c46"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a831e5cbdbab284329b5850ec86ea1c46">stasis_app_event_filter_to_json</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *json)</td></tr>
<tr class="memdesc:a831e5cbdbab284329b5850ec86ea1c46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert and add the app's event type filter(s) to the given json object.  <a href="#a831e5cbdbab284329b5850ec86ea1c46">More...</a><br /></td></tr>
<tr class="separator:a831e5cbdbab284329b5850ec86ea1c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9ee347f7e73966127369176bf1fd75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a7d9ee347f7e73966127369176bf1fd75">stasis_app_get_debug</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a7d9ee347f7e73966127369176bf1fd75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get debug status of an application.  <a href="#a7d9ee347f7e73966127369176bf1fd75">More...</a><br /></td></tr>
<tr class="separator:a7d9ee347f7e73966127369176bf1fd75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af858fde8ee399c0f266e908e780daf0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#af858fde8ee399c0f266e908e780daf0a">stasis_app_get_debug_by_name</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>)</td></tr>
<tr class="memdesc:af858fde8ee399c0f266e908e780daf0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get debug status of an application.  <a href="#af858fde8ee399c0f266e908e780daf0a">More...</a><br /></td></tr>
<tr class="separator:af858fde8ee399c0f266e908e780daf0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f04206486943b8208052323a7dfd101"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a8f04206486943b8208052323a7dfd101">stasis_app_name</a> (const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:a8f04206486943b8208052323a7dfd101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an application's name.  <a href="#a8f04206486943b8208052323a7dfd101">More...</a><br /></td></tr>
<tr class="separator:a8f04206486943b8208052323a7dfd101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6599f1f9ec81efa1150b8394c0903858"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a6599f1f9ec81efa1150b8394c0903858">stasis_app_register_event_sources</a> (void)</td></tr>
<tr class="memdesc:a6599f1f9ec81efa1150b8394c0903858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register core event sources.  <a href="#a6599f1f9ec81efa1150b8394c0903858">More...</a><br /></td></tr>
<tr class="separator:a6599f1f9ec81efa1150b8394c0903858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021880a772de9d50853755f00f3e1715"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a021880a772de9d50853755f00f3e1715">stasis_app_set_debug</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, int <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr class="memdesc:a021880a772de9d50853755f00f3e1715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable request/response and event logging on an application.  <a href="#a021880a772de9d50853755f00f3e1715">More...</a><br /></td></tr>
<tr class="separator:a021880a772de9d50853755f00f3e1715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a46dbc343b8338f76152e781349a33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a49a46dbc343b8338f76152e781349a33">stasis_app_set_debug_by_name</a> (const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, int <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr class="memdesc:a49a46dbc343b8338f76152e781349a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable request/response and event logging on an application.  <a href="#a49a46dbc343b8338f76152e781349a33">More...</a><br /></td></tr>
<tr class="separator:a49a46dbc343b8338f76152e781349a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793181753c292309203d2bd578c2f489"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a793181753c292309203d2bd578c2f489">stasis_app_set_global_debug</a> (int <a class="el" href="../../d0/d8a/muted_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>)</td></tr>
<tr class="memdesc:a793181753c292309203d2bd578c2f489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable request/response and event logging on all applications.  <a href="#a793181753c292309203d2bd578c2f489">More...</a><br /></td></tr>
<tr class="separator:a793181753c292309203d2bd578c2f489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846417e8ae7b7f9d9fe66904d7ae2bcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a846417e8ae7b7f9d9fe66904d7ae2bcc">stasis_app_to_cli</a> (const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="memdesc:a846417e8ae7b7f9d9fe66904d7ae2bcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump properties of a <code><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a></code> to the CLI.  <a href="#a846417e8ae7b7f9d9fe66904d7ae2bcc">More...</a><br /></td></tr>
<tr class="separator:a846417e8ae7b7f9d9fe66904d7ae2bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b48d94fdb79f3d0fc2bc10b229458e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a31b48d94fdb79f3d0fc2bc10b229458e">stasis_app_unregister_event_sources</a> (void)</td></tr>
<tr class="memdesc:a31b48d94fdb79f3d0fc2bc10b229458e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister core event sources.  <a href="#a31b48d94fdb79f3d0fc2bc10b229458e">More...</a><br /></td></tr>
<tr class="separator:a31b48d94fdb79f3d0fc2bc10b229458e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4771e60b5ab6b5a3289806acc68aaf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#aab4771e60b5ab6b5a3289806acc68aaf">sub_bridge_update_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:aab4771e60b5ab6b5a3289806acc68aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac7a8471d743c59f9d8051afc4b8ed9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#abac7a8471d743c59f9d8051afc4b8ed9">sub_channel_update_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:abac7a8471d743c59f9d8051afc4b8ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687b2abb6bfcf3d33553ccff3215535d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a687b2abb6bfcf3d33553ccff3215535d">sub_default_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:a687b2abb6bfcf3d33553ccff3215535d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24dbf4e305ed6eb791452b12e3c04109"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a24dbf4e305ed6eb791452b12e3c04109">sub_endpoint_update_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:a24dbf4e305ed6eb791452b12e3c04109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a677989a38a05fde4d3dc237294c8fdaf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a677989a38a05fde4d3dc237294c8fdaf">sub_subscription_change_handler</a> (void *data, struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8e51289dd0fc7415cee40e7a57b49fdf">sub</a>, struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="separator:a677989a38a05fde4d3dc237294c8fdaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ad0612c4f5663f27ad6de707120330"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a09ad0612c4f5663f27ad6de707120330">subscribe_bridge</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, void *obj)</td></tr>
<tr class="separator:a09ad0612c4f5663f27ad6de707120330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3030c3115aced3fe6495c3c770b81731"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a3030c3115aced3fe6495c3c770b81731">subscribe_channel</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, void *obj)</td></tr>
<tr class="separator:a3030c3115aced3fe6495c3c770b81731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd668d01d6ea2f07449f82f24cf719c2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#afd668d01d6ea2f07449f82f24cf719c2">subscribe_endpoint</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, void *obj)</td></tr>
<tr class="separator:afd668d01d6ea2f07449f82f24cf719c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25c865e186eb0d4896afd416cb03ec9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a> (struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *kind, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, int terminate)</td></tr>
<tr class="separator:ae25c865e186eb0d4896afd416cb03ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a710d1b2a19daeb01bc02848bc9f17ba6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a></td></tr>
<tr class="separator:a710d1b2a19daeb01bc02848bc9f17ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82f8cf6d2b72f1b1d0a6d8a5c623c94"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a></td></tr>
<tr class="separator:aa82f8cf6d2b72f1b1d0a6d8a5c623c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2cb2d60f55c910531d8a33a64ba29f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#adce21d442a247829a8080aff1bd1a4d0">channel_snapshot_monitor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#acd2cb2d60f55c910531d8a33a64ba29f">channel_monitors</a> []</td></tr>
<tr class="separator:acd2cb2d60f55c910531d8a33a64ba29f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04f4f3a6ef25fe9dbb77fc560258ace"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a></td></tr>
<tr class="separator:ae04f4f3a6ef25fe9dbb77fc560258ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518ccaffd69d0c08d89a722a2f6b55c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a></td></tr>
<tr class="separator:a518ccaffd69d0c08d89a722a2f6b55c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stasis application support. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9ac9137d8506b8244b41486bf8e9d2a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ac9137d8506b8244b41486bf8e9d2a6">&#9670;&nbsp;</a></span>BRIDGE_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRIDGE_ALL&#160;&#160;&#160;&quot;__AST_BRIDGE_ALL_TOPIC&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">40</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01504">app_is_subscribed_bridge_id()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">app_subscribe_bridge()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01486">app_unsubscribe_bridge()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00164">forwards_create_bridge()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>.</p>

</div>
</div>
<a id="a22bebb2d35ffb38b9bb202e88822d74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22bebb2d35ffb38b9bb202e88822d74c">&#9670;&nbsp;</a></span>CHANNEL_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHANNEL_ALL&#160;&#160;&#160;&quot;__AST_CHANNEL_ALL_TOPIC&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">41</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01402">app_is_subscribed_channel_id()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">app_subscribe_channel()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01384">app_unsubscribe_channel()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00136">forwards_create_channel()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>.</p>

</div>
</div>
<a id="adb679c8c5450b8fdc65ef309ac078d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb679c8c5450b8fdc65ef309ac078d76">&#9670;&nbsp;</a></span>ENDPOINT_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENDPOINT_ALL&#160;&#160;&#160;&quot;__AST_ENDPOINT_ALL_TOPIC&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">42</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01601">app_is_subscribed_endpoint_id()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01531">app_subscribe_endpoint()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="adce21d442a247829a8080aff1bd1a4d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce21d442a247829a8080aff1bd1a4d0">&#9670;&nbsp;</a></span>channel_snapshot_monitor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>*(* channel_snapshot_monitor) (struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *old_snapshot, struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *new_snapshot, const struct timeval *tv)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for callbacks that get called on channel snapshot updates. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00371">371</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a2ecf07a317ee26b38344a67b3aee4663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ecf07a317ee26b38344a67b3aee4663">&#9670;&nbsp;</a></span>forward_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70"></a>FORWARD_CHANNEL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef"></a>FORWARD_BRIDGE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8"></a>FORWARD_ENDPOINT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00076">76</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                  {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a>,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a>,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a>,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;};</div><div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">res/stasis/app.c:77</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">res/stasis/app.c:78</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">res/stasis/app.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acf8bdfbd0c394c97598c4e0565525504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8bdfbd0c394c97598c4e0565525504">&#9670;&nbsp;</a></span>app_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a>* app_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../df/d5f/res_2stasis_2app_8h.html#aed792ab54d9817f46bfcc787e2754dc8">stasis_app_subscription_model</a>&#160;</td>
          <td class="paramname"><em>subscription_model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a res_stasis application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the application. </td></tr>
    <tr><td class="paramname">handler</td><td>Callback for messages sent to the application. </td></tr>
    <tr><td class="paramname">data</td><td>Data pointer provided to the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New <code>res_stasis</code> application. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">915</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01205">AO2_CONTAINER_ALLOC_OPT_DUPS_OBJ_REJECT</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01358">ao2_container_alloc_rbtree</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00287">app_dtor()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06970">ast_add_extension()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00269">ast_asprintf</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h.html#a263062ed75918c257f5401617389bdd8">ast_attended_transfer_type()</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h.html#a05b1c5a7666e29a9ec982e3c9d6c1b85">ast_blind_transfer_type()</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h.html#a20be59047a504f4c5dca2289beef7963">ast_bridge_merge_message_type()</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h.html#a93724fb58fab92a0a749535e8c8534d2">ast_bridge_snapshot_type()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00179">ast_bridge_topic_all()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04174">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00786">bridge_attended_transfer_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00773">bridge_blind_transfer_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00733">bridge_merge_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00832">bridge_subscription_change_handler()</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00092">context_name</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00257">forwards_sort()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">stasis_app::handler</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router_add()</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00336">stasis_message_router_add_cache_update()</a>, <a class="el" href="../../d4/d25/stasis__message__router_8h_source.html#l00060">stasis_message_router_create</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00397">stasis_message_router_set_formatters_default()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gafae630f05995b59b49dc523a5b9ce757">stasis_subscription_change_type()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00313">STASIS_SUBSCRIPTION_FORMATTER_JSON</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00618">stasis_topic_create()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00682">sub_bridge_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00543">sub_channel_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">sub_default_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00337">sub_subscription_change_handler()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00065">stasis_app::subscription_model</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01726">__stasis_app_register()</a>.</p>
<div class="fragment"><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   <span class="keywordtype">size_t</span> size;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <span class="keywordtype">size_t</span> context_size = strlen(<span class="stringliteral">&quot;stasis-&quot;</span>) + strlen(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) + 1;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dc/dcf/func__periodic__hook_8c.html#ab32539883094fa1c8103ce4b6ec197c2">context_name</a>[context_size];</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="keywordtype">char</span> *topic_name;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Creating Stasis app &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   size = <span class="keyword">sizeof</span>(*app) + strlen(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) + 1;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(size, <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a49502a8f4f6c56e70abb37eca7586fcc">app_dtor</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;subscription_model = subscription_model;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a9657c4f40f012fc1d426c3c94b3d32c0">ao2_container_alloc_rbtree</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>,</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca2ee9edd754d08a5f1773d48534c15dfa">AO2_CONTAINER_ALLOC_OPT_DUPS_OBJ_REJECT</a>,</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ac76af524af8e609eb73505a2df25a8be">forwards_sort</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;forwards) {</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(&amp;topic_name, <span class="stringliteral">&quot;ari:application/%s&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   <span class="keywordflow">if</span> (ret &lt; 0) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;topic = <a class="code" href="../../dd/d79/stasis_8h.html#acac26206b971b094c90839b4049cb6cc">stasis_topic_create</a>(topic_name);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(topic_name);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;topic) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;bridge_router = <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a1a1761c57f73009d305f95d8ad99e2a7">stasis_message_router_create</a>(<a class="code" href="../../dc/d4e/stasis__bridges_8h.html#abf64fa441014314244648caa6c8ab80b">ast_bridge_topic_all</a>());</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;bridge_router) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   res |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;bridge_router,</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a20be59047a504f4c5dca2289beef7963">ast_bridge_merge_message_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#aa2949083f6331aa1b0de16d83fdba25f">bridge_merge_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   res |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;bridge_router,</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a05b1c5a7666e29a9ec982e3c9d6c1b85">ast_blind_transfer_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a90a34a08e7562dd1161c75cd2a5c382f">bridge_blind_transfer_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   res |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;bridge_router,</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a263062ed75918c257f5401617389bdd8">ast_attended_transfer_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a9fead1d348a2dbf1bfc11ebb612f30c7">bridge_attended_transfer_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   res |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;bridge_router,</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafae630f05995b59b49dc523a5b9ce757">stasis_subscription_change_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a83d47dfce3749c491ee7f6711e5d7af0">bridge_subscription_change_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <span class="comment">/* Bridge router holds a reference */</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, +1);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;router = <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a1a1761c57f73009d305f95d8ad99e2a7">stasis_message_router_create</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;topic);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;router) {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   res |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;router,</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a93724fb58fab92a0a749535e8c8534d2">ast_bridge_snapshot_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#aab4771e60b5ab6b5a3289806acc68aaf">sub_bridge_update_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   res |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;router,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#abac7a8471d743c59f9d8051afc4b8ed9">sub_channel_update_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   res |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a77e2b34cd6f7daafb7bb43bfd6642cbc">stasis_message_router_add_cache_update</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;router,</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a24dbf4e305ed6eb791452b12e3c04109">sub_endpoint_update_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   res |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;router,</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafae630f05995b59b49dc523a5b9ce757">stasis_subscription_change_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a677989a38a05fde4d3dc237294c8fdaf">sub_subscription_change_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <a class="code" href="../../d4/d25/stasis__message__router_8h.html#ac911cfd927625dfd7d78908aae0fec80">stasis_message_router_set_formatters_default</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;router,</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a687b2abb6bfcf3d33553ccff3215535d">sub_default_handler</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, <a class="code" href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814a9b0968d4d470737abacb289024559587">STASIS_SUBSCRIPTION_FORMATTER_JSON</a>);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;   }</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <span class="comment">/* Router holds a reference */</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, +1);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   strncpy(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;name, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, size - <span class="keyword">sizeof</span>(*<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>));</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;handler = <a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>-&gt;data = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(data);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;   <span class="comment">/* Create a context, a match-all extension, and a &#39;h&#39; extension for this application. Note that</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">    * this should only be done if a context does not already exist. */</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   strcpy(context_name, <span class="stringliteral">&quot;stasis-&quot;</span>);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   strcat(context_name, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a>(context_name)) {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, context_name, <span class="stringliteral">&quot;res_stasis&quot;</span>)) {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not create context &#39;%s&#39; for Stasis application &#39;%s&#39;\n&quot;</span>, context_name, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a>(context_name, 0, <span class="stringliteral">&quot;_.&quot;</span>, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Stasis&quot;</span>, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <span class="stringliteral">&quot;res_stasis&quot;</span>);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a>(context_name, 0, <span class="stringliteral">&quot;h&quot;</span>, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;NoOp&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;res_stasis&quot;</span>);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      }</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Not creating context &#39;%s&#39; for Stasis application &#39;%s&#39; because it already exists\n&quot;</span>,</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;         context_name, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   }</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, +1);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div><div class="ttc" id="stasis__bridges_8h_html_a93724fb58fab92a0a749535e8c8534d2"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a93724fb58fab92a0a749535e8c8534d2">ast_bridge_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_bridge_snapshot_type(void)</div><div class="ttdoc">Message type for ast_bridge_snapshot. </div></div>
<div class="ttc" id="stasis__bridges_8h_html_a05b1c5a7666e29a9ec982e3c9d6c1b85"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a05b1c5a7666e29a9ec982e3c9d6c1b85">ast_blind_transfer_type</a></div><div class="ttdeci">struct stasis_message_type * ast_blind_transfer_type(void)</div><div class="ttdoc">Message type for ast_blind_transfer_message. </div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_aab4771e60b5ab6b5a3289806acc68aaf"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#aab4771e60b5ab6b5a3289806acc68aaf">sub_bridge_update_handler</a></div><div class="ttdeci">static void sub_bridge_update_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00682">res/stasis/app.c:682</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a90a34a08e7562dd1161c75cd2a5c382f"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a90a34a08e7562dd1161c75cd2a5c382f">bridge_blind_transfer_handler</a></div><div class="ttdeci">static void bridge_blind_transfer_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00773">res/stasis/app.c:773</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_abac7a8471d743c59f9d8051afc4b8ed9"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#abac7a8471d743c59f9d8051afc4b8ed9">sub_channel_update_handler</a></div><div class="ttdeci">static void sub_channel_update_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00543">res/stasis/app.c:543</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a677989a38a05fde4d3dc237294c8fdaf"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a677989a38a05fde4d3dc237294c8fdaf">sub_subscription_change_handler</a></div><div class="ttdeci">static void sub_subscription_change_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00337">res/stasis/app.c:337</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a5adc304e693097ec75b474e6a5309958"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a></div><div class="ttdeci">int stasis_message_router_add(struct stasis_message_router *router, struct stasis_message_type *message_type, stasis_subscription_cb callback, void *data)</div><div class="ttdoc">Add a route to a message router. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router.c:310</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ac76af524af8e609eb73505a2df25a8be"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ac76af524af8e609eb73505a2df25a8be">forwards_sort</a></div><div class="ttdeci">static int forwards_sort(const void *obj_left, const void *obj_right, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00257">res/stasis/app.c:257</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a49502a8f4f6c56e70abb37eca7586fcc"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a49502a8f4f6c56e70abb37eca7586fcc">app_dtor</a></div><div class="ttdeci">static void app_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00287">res/stasis/app.c:287</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf23b8f5195f28ae2044eae71be431433"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_snapshot_type(void)</div><div class="ttdoc">Message type for ast_endpoint_snapshot. </div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a9fead1d348a2dbf1bfc11ebb612f30c7"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a9fead1d348a2dbf1bfc11ebb612f30c7">bridge_attended_transfer_handler</a></div><div class="ttdeci">static void bridge_attended_transfer_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00786">res/stasis/app.c:786</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a77e2b34cd6f7daafb7bb43bfd6642cbc"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a77e2b34cd6f7daafb7bb43bfd6642cbc">stasis_message_router_add_cache_update</a></div><div class="ttdeci">int stasis_message_router_add_cache_update(struct stasis_message_router *router, struct stasis_message_type *message_type, stasis_subscription_cb callback, void *data)</div><div class="ttdoc">Add a route for stasis_cache_update messages to a message router. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00336">stasis_message_router.c:336</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a687b2abb6bfcf3d33553ccff3215535d"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a687b2abb6bfcf3d33553ccff3215535d">sub_default_handler</a></div><div class="ttdeci">static void sub_default_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">res/stasis/app.c:347</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="func__periodic__hook_8c_html_ab32539883094fa1c8103ce4b6ec197c2"><div class="ttname"><a href="../../dc/dcf/func__periodic__hook_8c.html#ab32539883094fa1c8103ce4b6ec197c2">context_name</a></div><div class="ttdeci">static const char context_name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcf/func__periodic__hook_8c_source.html#l00092">func_periodic_hook.c:92</a></div></div>
<div class="ttc" id="astmm_8h_html_ada667b6f84a08e6848cb37c5ffb94a5f"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a></div><div class="ttdeci">#define ast_asprintf(ret, fmt,...)</div><div class="ttdoc">A wrapper for asprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00269">astmm.h:269</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_ac911cfd927625dfd7d78908aae0fec80"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#ac911cfd927625dfd7d78908aae0fec80">stasis_message_router_set_formatters_default</a></div><div class="ttdeci">void stasis_message_router_set_formatters_default(struct stasis_message_router *router, stasis_subscription_cb callback, void *data, enum stasis_subscription_message_formatters formatters)</div><div class="ttdoc">Sets the default route of a router with formatters. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00397">stasis_message_router.c:397</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a20be59047a504f4c5dca2289beef7963"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a20be59047a504f4c5dca2289beef7963">ast_bridge_merge_message_type</a></div><div class="ttdeci">struct stasis_message_type * ast_bridge_merge_message_type(void)</div><div class="ttdoc">Message type for ast_bridge_merge_message. </div></div>
<div class="ttc" id="pbx_8h_html_a2e3c5fe3db1ee8cd78f2bf58c9416aa4"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a></div><div class="ttdeci">struct ast_context * ast_context_find(const char *name)</div><div class="ttdoc">Find a context. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04174">extconf.c:4174</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="stasis_8h_html_acac26206b971b094c90839b4049cb6cc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#acac26206b971b094c90839b4049cb6cc">stasis_topic_create</a></div><div class="ttdeci">struct stasis_topic * stasis_topic_create(const char *name)</div><div class="ttdoc">Create a new topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00618">stasis.c:618</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a1a1761c57f73009d305f95d8ad99e2a7"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a1a1761c57f73009d305f95d8ad99e2a7">stasis_message_router_create</a></div><div class="ttdeci">#define stasis_message_router_create(topic)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d25/stasis__message__router_8h_source.html#l00060">stasis_message_router.h:60</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a263062ed75918c257f5401617389bdd8"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a263062ed75918c257f5401617389bdd8">ast_attended_transfer_type</a></div><div class="ttdeci">struct stasis_message_type * ast_attended_transfer_type(void)</div><div class="ttdoc">Message type for ast_attended_transfer_message. </div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a83d47dfce3749c491ee7f6711e5d7af0"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a83d47dfce3749c491ee7f6711e5d7af0">bridge_subscription_change_handler</a></div><div class="ttdeci">static void bridge_subscription_change_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00832">res/stasis/app.c:832</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga8fb4dbec86956e211c0489112a6de975"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_snapshot_type(void)</div><div class="ttdoc">Message type for ast_channel_snapshot_update. </div></div>
<div class="ttc" id="stasis__bridges_8h_html_abf64fa441014314244648caa6c8ab80b"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#abf64fa441014314244648caa6c8ab80b">ast_bridge_topic_all</a></div><div class="ttdeci">struct stasis_topic * ast_bridge_topic_all(void)</div><div class="ttdoc">A topic which publishes the events for all bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00179">stasis_bridges.c:179</a></div></div>
<div class="ttc" id="pbx_8h_html_a07176e8d314eb68b3b50279fafa11390"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a></div><div class="ttdeci">int ast_add_extension(const char *context, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar)</div><div class="ttdoc">Add and extension to an extension context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06970">pbx.c:6970</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="test__ari_8c_html_a695cc202c7a2869aa8202bb20726ea3c"><div class="ttname"><a href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a></div><div class="ttdeci">static void handler(const char *name, int response_code, struct ast_variable *get_params, struct ast_variable *path_vars, struct ast_variable *headers, struct ast_json *body, struct ast_ari_response *response)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d03/test__ari_8c_source.html#l00059">test_ari.c:59</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a24dbf4e305ed6eb791452b12e3c04109"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a24dbf4e305ed6eb791452b12e3c04109">sub_endpoint_update_handler</a></div><div class="ttdeci">static void sub_endpoint_update_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">res/stasis/app.c:628</a></div></div>
<div class="ttc" id="stasis_8h_html_a5ae672fb0f772d0e3066fa4c29c41814a9b0968d4d470737abacb289024559587"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814a9b0968d4d470737abacb289024559587">STASIS_SUBSCRIPTION_FORMATTER_JSON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00313">stasis.h:313</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gafae630f05995b59b49dc523a5b9ce757"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gafae630f05995b59b49dc523a5b9ce757">stasis_subscription_change_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_subscription_change_type(void)</div><div class="ttdoc">Gets the message type for subscription change notices. </div></div>
<div class="ttc" id="astobj2_8h_html_a9657c4f40f012fc1d426c3c94b3d32c0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9657c4f40f012fc1d426c3c94b3d32c0">ao2_container_alloc_rbtree</a></div><div class="ttdeci">#define ao2_container_alloc_rbtree(ao2_options, container_options, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01358">astobj2.h:1358</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="astobj2_8h_html_afe7a6b368052cb171d371d873b7520aca2ee9edd754d08a5f1773d48534c15dfa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#afe7a6b368052cb171d371d873b7520aca2ee9edd754d08a5f1773d48534c15dfa">AO2_CONTAINER_ALLOC_OPT_DUPS_OBJ_REJECT</a></div><div class="ttdoc">Reject duplicate objects in container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01205">astobj2.h:1205</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_aa2949083f6331aa1b0de16d83fdba25f"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#aa2949083f6331aa1b0de16d83fdba25f">bridge_merge_handler</a></div><div class="ttdeci">static void bridge_merge_handler(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00733">res/stasis/app.c:733</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac70355ddeb33a79cdaf71549b82c22e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70355ddeb33a79cdaf71549b82c22e8">&#9670;&nbsp;</a></span>app_deactivate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_deactivate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates an application. </p>
<p>Any channels currently in the application remain active (since the app might come back), but new channels are rejected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Application to deactivate. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01066">1066</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">stasis_app::handler</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01787">stasis_app_unregister()</a>.</p>
<div class="fragment"><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;{</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Deactivating Stasis app &#39;%s&#39;\n&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">handler</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;}</div><div class="ttc" id="structstasis__app_html_a8c07e1a3c558a90f7a8c55488fb08681"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">stasis_app::handler</a></div><div class="ttdeci">stasis_app_cb handler</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">res/stasis/app.c:61</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49502a8f4f6c56e70abb37eca7586fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49502a8f4f6c56e70abb37eca7586fcc">&#9670;&nbsp;</a></span>app_dtor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void app_dtor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00287">287</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08244">ast_context_destroy_by_name()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00055">stasis_app::bridge_router</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00092">context_name</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00057">stasis_app::endpoint_router</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">stasis_app::events_allowed</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">stasis_app::events_disallowed</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00053">stasis_app::router</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = obj;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <span class="keywordtype">size_t</span> size = strlen(<span class="stringliteral">&quot;stasis-&quot;</span>) + strlen(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>) + 1;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dc/dcf/func__periodic__hook_8c.html#ab32539883094fa1c8103ce4b6ec197c2">context_name</a>[size];</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Destroying Stasis app %s\n&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a85c07e3e0d15ea99cf0c5dbe1dfdcb24">router</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab88eb28b8d887439a811399b36edfbe8">bridge_router</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="comment">/* If we created a context for this application, remove it */</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   strcpy(context_name, <span class="stringliteral">&quot;stasis-&quot;</span>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   strcat(context_name, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a08abc5aa22cce4a793000a796b791076">ast_context_destroy_by_name</a>(context_name, <span class="stringliteral">&quot;res_stasis&quot;</span>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div><div class="ttc" id="structstasis__app_html_abb42ac1924e7ac90f40242af2910e77a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">stasis_app::events_allowed</a></div><div class="ttdeci">struct ast_json * events_allowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">res/stasis/app.c:69</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="func__periodic__hook_8c_html_ab32539883094fa1c8103ce4b6ec197c2"><div class="ttname"><a href="../../dc/dcf/func__periodic__hook_8c.html#ab32539883094fa1c8103ce4b6ec197c2">context_name</a></div><div class="ttdeci">static const char context_name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcf/func__periodic__hook_8c_source.html#l00092">func_periodic_hook.c:92</a></div></div>
<div class="ttc" id="pbx_8h_html_a08abc5aa22cce4a793000a796b791076"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a08abc5aa22cce4a793000a796b791076">ast_context_destroy_by_name</a></div><div class="ttdeci">int ast_context_destroy_by_name(const char *context, const char *registrar)</div><div class="ttdoc">Destroy a context by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08244">pbx.c:8244</a></div></div>
<div class="ttc" id="structstasis__app_html_af588b244758c3d43c25c556b0cff9ed7"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">stasis_app::endpoint_router</a></div><div class="ttdeci">struct stasis_message_router * endpoint_router</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00057">res/stasis/app.c:57</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="structstasis__app_html_a85c07e3e0d15ea99cf0c5dbe1dfdcb24"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a85c07e3e0d15ea99cf0c5dbe1dfdcb24">stasis_app::router</a></div><div class="ttdeci">struct stasis_message_router * router</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00053">res/stasis/app.c:53</a></div></div>
<div class="ttc" id="structstasis__app_html_a4cccc48d4928137be22d5599caa0bf08"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">stasis_app::events_disallowed</a></div><div class="ttdeci">struct ast_json * events_disallowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">res/stasis/app.c:71</a></div></div>
<div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="structstasis__app_html_ab88eb28b8d887439a811399b36edfbe8"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab88eb28b8d887439a811399b36edfbe8">stasis_app::bridge_router</a></div><div class="ttdeci">struct stasis_message_router * bridge_router</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00055">res/stasis/app.c:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af39fb31a4ed659c22c7459e471b2472b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af39fb31a4ed659c22c7459e471b2472b">&#9670;&nbsp;</a></span>app_event_filter_matched()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_event_filter_matched </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>empty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01718">1718</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00360">ast_json_array_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00356">ast_json_array_size()</a>, <a class="el" href="../../d4/d05/json_8h_source.html#l00573">ast_json_object_string_get</a>, and <a class="el" href="../../d2/d48/strings_8c_source.html#l00239">ast_strings_equal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01739">stasis_app_event_allowed()</a>.</p>
<div class="fragment"><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;{</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *obj;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;   <span class="keywordflow">if</span> (!array || !<a class="code" href="../../d4/d05/json_8h.html#afa6ea445bb95ea8408059af15173b374">ast_json_array_size</a>(array)) {</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="keywordflow">return</span> empty;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;   }</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d4/d05/json_8h.html#afa6ea445bb95ea8408059af15173b374">ast_json_array_size</a>(array) &amp;&amp;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;         (obj = <a class="code" href="../../d4/d05/json_8h.html#a34a0e726391c4b59c534b107a3ee3310">ast_json_array_get</a>(array, i)); ++i) {</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a13824dd1c76e6cbb12dd7f7783fca8fd">ast_strings_equal</a>(<a class="code" href="../../d4/d05/json_8h.html#a069b39740e528a5a9f0d428d0bff9321">ast_json_object_string_get</a>(obj, <span class="stringliteral">&quot;type&quot;</span>),</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;            <a class="code" href="../../d4/d05/json_8h.html#a069b39740e528a5a9f0d428d0bff9321">ast_json_object_string_get</a>(event, <span class="stringliteral">&quot;type&quot;</span>))) {</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      }</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   }</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;}</div><div class="ttc" id="json_8h_html_a069b39740e528a5a9f0d428d0bff9321"><div class="ttname"><a href="../../d4/d05/json_8h.html#a069b39740e528a5a9f0d428d0bff9321">ast_json_object_string_get</a></div><div class="ttdeci">#define ast_json_object_string_get(object, key)</div><div class="ttdoc">Get a string field from a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l00573">json.h:573</a></div></div>
<div class="ttc" id="strings_8h_html_a13824dd1c76e6cbb12dd7f7783fca8fd"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a13824dd1c76e6cbb12dd7f7783fca8fd">ast_strings_equal</a></div><div class="ttdeci">int ast_strings_equal(const char *str1, const char *str2)</div><div class="ttdoc">Compare strings for equality checking for NULL. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/strings_8c_source.html#l00239">strings.c:239</a></div></div>
<div class="ttc" id="json_8h_html_afa6ea445bb95ea8408059af15173b374"><div class="ttname"><a href="../../d4/d05/json_8h.html#afa6ea445bb95ea8408059af15173b374">ast_json_array_size</a></div><div class="ttdeci">size_t ast_json_array_size(const struct ast_json *array)</div><div class="ttdoc">Get the size of a JSON array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00356">json.c:356</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="json_8h_html_a34a0e726391c4b59c534b107a3ee3310"><div class="ttname"><a href="../../d4/d05/json_8h.html#a34a0e726391c4b59c534b107a3ee3310">ast_json_array_get</a></div><div class="ttdeci">struct ast_json * ast_json_array_get(const struct ast_json *array, size_t index)</div><div class="ttdoc">Get an element from an array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00360">json.c:360</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19ff4b71f5a67d2ac27f3adbae18dbf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ff4b71f5a67d2ac27f3adbae18dbf5">&#9670;&nbsp;</a></span>app_event_filter_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_event_filter_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> **&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filter_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01655">1655</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d4/d05/json_8h_source.html#l00165">AST_JSON_ARRAY</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00360">ast_json_array_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00356">ast_json_array_size()</a>, <a class="el" href="../../d4/d05/json_8h_source.html#l00164">AST_JSON_OBJECT</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00397">ast_json_object_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00393">ast_json_object_size()</a>, <a class="el" href="../../d4/d05/json_8h_source.html#l00573">ast_json_object_string_get</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00078">ast_json_typeof()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01703">app_events_allowed_set()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01708">app_events_disallowed_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;{</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   <span class="keywordflow">if</span> (filter &amp;&amp; <a class="code" href="../../d4/d05/json_8h.html#a29ebd5b57ed7446feeaedda2bf813c76">ast_json_typeof</a>(filter) == <a class="code" href="../../d4/d05/json_8h.html#aa75b709b69e8f05cc4796ccfa8d9d110a46eda9921019c489bb9952624c06e2a8">AST_JSON_OBJECT</a>) {</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d05/json_8h.html#a44aa1d67919d77e9a623f12e14fedef4">ast_json_object_size</a>(filter)) {</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;         <span class="comment">/* If no filters are specified then reset this filter type */</span></div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;         filter = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;         <span class="comment">/* Otherwise try to get the filter array for this type */</span></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;         filter = <a class="code" href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a>(filter, filter_type);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;         <span class="keywordflow">if</span> (!filter) {</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <span class="comment">/* A filter type exists, but not this one, so don&#39;t update */</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;         }</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      }</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   }</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <span class="comment">/* At this point the filter object should be an array */</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   <span class="keywordflow">if</span> (filter &amp;&amp; <a class="code" href="../../d4/d05/json_8h.html#a29ebd5b57ed7446feeaedda2bf813c76">ast_json_typeof</a>(filter) != <a class="code" href="../../d4/d05/json_8h.html#aa75b709b69e8f05cc4796ccfa8d9d110a0b94a7db79a79dcc6d9e8263b3690a98">AST_JSON_ARRAY</a>) {</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid json type event filter - app: %s, filter: %s\n&quot;</span>,</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>, filter_type);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   }</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   <span class="keywordflow">if</span> (filter) {</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="comment">/* Confirm that at least the type names are specified */</span></div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *obj;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d4/d05/json_8h.html#afa6ea445bb95ea8408059af15173b374">ast_json_array_size</a>(filter) &amp;&amp;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;             (obj = <a class="code" href="../../d4/d05/json_8h.html#a34a0e726391c4b59c534b107a3ee3310">ast_json_array_get</a>(filter, i)); ++i) {</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d05/json_8h.html#a069b39740e528a5a9f0d428d0bff9321">ast_json_object_string_get</a>(obj, <span class="stringliteral">&quot;type&quot;</span>))) {</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Filter event must have a type - app: %s, &quot;</span></div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                  <span class="stringliteral">&quot;filter: %s\n&quot;</span>,   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>, filter_type);</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;         }</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      }</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   }</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(*member);</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   *member = filter ? <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(filter) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;}</div><div class="ttc" id="json_8h_html_aa75b709b69e8f05cc4796ccfa8d9d110a46eda9921019c489bb9952624c06e2a8"><div class="ttname"><a href="../../d4/d05/json_8h.html#aa75b709b69e8f05cc4796ccfa8d9d110a46eda9921019c489bb9952624c06e2a8">AST_JSON_OBJECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l00164">json.h:164</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="json_8h_html_a44aa1d67919d77e9a623f12e14fedef4"><div class="ttname"><a href="../../d4/d05/json_8h.html#a44aa1d67919d77e9a623f12e14fedef4">ast_json_object_size</a></div><div class="ttdeci">size_t ast_json_object_size(struct ast_json *object)</div><div class="ttdoc">Get size of JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00393">json.c:393</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="json_8h_html_a069b39740e528a5a9f0d428d0bff9321"><div class="ttname"><a href="../../d4/d05/json_8h.html#a069b39740e528a5a9f0d428d0bff9321">ast_json_object_string_get</a></div><div class="ttdeci">#define ast_json_object_string_get(object, key)</div><div class="ttdoc">Get a string field from a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l00573">json.h:573</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="json_8h_html_aa75b709b69e8f05cc4796ccfa8d9d110a0b94a7db79a79dcc6d9e8263b3690a98"><div class="ttname"><a href="../../d4/d05/json_8h.html#aa75b709b69e8f05cc4796ccfa8d9d110a0b94a7db79a79dcc6d9e8263b3690a98">AST_JSON_ARRAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l00165">json.h:165</a></div></div>
<div class="ttc" id="json_8h_html_a29ebd5b57ed7446feeaedda2bf813c76"><div class="ttname"><a href="../../d4/d05/json_8h.html#a29ebd5b57ed7446feeaedda2bf813c76">ast_json_typeof</a></div><div class="ttdeci">enum ast_json_type ast_json_typeof(const struct ast_json *value)</div><div class="ttdoc">Get the type of value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00078">json.c:78</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="json_8h_html_a53707225c3bf831e263245c6e3800676"><div class="ttname"><a href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a></div><div class="ttdeci">struct ast_json * ast_json_object_get(struct ast_json *object, const char *key)</div><div class="ttdoc">Get a field from a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00397">json.c:397</a></div></div>
<div class="ttc" id="json_8h_html_afa6ea445bb95ea8408059af15173b374"><div class="ttname"><a href="../../d4/d05/json_8h.html#afa6ea445bb95ea8408059af15173b374">ast_json_array_size</a></div><div class="ttdeci">size_t ast_json_array_size(const struct ast_json *array)</div><div class="ttdoc">Get the size of a JSON array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00356">json.c:356</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="json_8h_html_a34a0e726391c4b59c534b107a3ee3310"><div class="ttname"><a href="../../d4/d05/json_8h.html#a34a0e726391c4b59c534b107a3ee3310">ast_json_array_get</a></div><div class="ttdeci">struct ast_json * ast_json_array_get(const struct ast_json *array, size_t index)</div><div class="ttdoc">Get an element from an array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00360">json.c:360</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc5437bcc40f73f818081b97c55a14ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc5437bcc40f73f818081b97c55a14ce">&#9670;&nbsp;</a></span>app_events_allowed_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_events_allowed_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01703">1703</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01655">app_event_filter_set()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">stasis_app::events_allowed</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01713">stasis_app_event_filter_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;{</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a19ff4b71f5a67d2ac27f3adbae18dbf5">app_event_filter_set</a>(app, &amp;app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a>, filter, <span class="stringliteral">&quot;allowed&quot;</span>);</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;}</div><div class="ttc" id="structstasis__app_html_abb42ac1924e7ac90f40242af2910e77a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">stasis_app::events_allowed</a></div><div class="ttdeci">struct ast_json * events_allowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">res/stasis/app.c:69</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a19ff4b71f5a67d2ac27f3adbae18dbf5"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a19ff4b71f5a67d2ac27f3adbae18dbf5">app_event_filter_set</a></div><div class="ttdeci">static int app_event_filter_set(struct stasis_app *app, struct ast_json **member, struct ast_json *filter, const char *filter_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01655">res/stasis/app.c:1655</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aedc439af8e22cade71ea9be7d982cb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedc439af8e22cade71ea9be7d982cb5a">&#9670;&nbsp;</a></span>app_events_disallowed_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int app_events_disallowed_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01708">1708</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01655">app_event_filter_set()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">stasis_app::events_disallowed</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01713">stasis_app_event_filter_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;{</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a19ff4b71f5a67d2ac27f3adbae18dbf5">app_event_filter_set</a>(app, &amp;app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a>, filter, <span class="stringliteral">&quot;disallowed&quot;</span>);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a19ff4b71f5a67d2ac27f3adbae18dbf5"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a19ff4b71f5a67d2ac27f3adbae18dbf5">app_event_filter_set</a></div><div class="ttdeci">static int app_event_filter_set(struct stasis_app *app, struct ast_json **member, struct ast_json *filter, const char *filter_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01655">res/stasis/app.c:1655</a></div></div>
<div class="ttc" id="structstasis__app_html_a4cccc48d4928137be22d5599caa0bf08"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">stasis_app::events_disallowed</a></div><div class="ttdeci">struct ast_json * events_disallowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">res/stasis/app.c:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aafff5782ef991feae701cb5762457461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafff5782ef991feae701cb5762457461">&#9670;&nbsp;</a></span>app_is_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_is_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether an app is active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Application to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True (non-zero) if app is active. </dd>
<dd>
False (zero) if app has been deactivated. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01094">1094</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">stasis_app::handler</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;{</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   ret = app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">handler</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;}</div><div class="ttc" id="structstasis__app_html_a8c07e1a3c558a90f7a8c55488fb08681"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">stasis_app::handler</a></div><div class="ttdeci">stasis_app_cb handler</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">res/stasis/app.c:61</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5fb21fd32f98d4bdea9de6f9c5eea752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb21fd32f98d4bdea9de6f9c5eea752">&#9670;&nbsp;</a></span>app_is_finished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_is_finished </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether a deactivated app has no channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Application to check. </td></tr>
    <tr><td class="paramname">True</td><td>(non-zero) if app is deactivated, and has no associated channels. </td></tr>
    <tr><td class="paramname">False</td><td>(zero) otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01105">1105</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">stasis_app::handler</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01078">app_shutdown()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00309">cleanup_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;{</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   ret = app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">handler</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>) == 0;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="structstasis__app_html_a8c07e1a3c558a90f7a8c55488fb08681"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">stasis_app::handler</a></div><div class="ttdeci">stasis_app_cb handler</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">res/stasis/app.c:61</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abfdcc440a99fdb9cc42937a884ba0ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfdcc440a99fdb9cc42937a884ba0ee6">&#9670;&nbsp;</a></span>app_is_subscribed_bridge_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_is_subscribed_bridge_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bridge_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if an app is subscribed to a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Subscribing application. </td></tr>
    <tr><td class="paramname">bridge_id</td><td>Id of bridge to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True (non-zero) if bridge is subscribed to <em>app</em>. </dd>
<dd>
False (zero) if bridge is not subscribed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01504">1504</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">BRIDGE_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>
<div class="fragment"><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;{</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(bridge_id)) {</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      bridge_id = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a>;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;   }</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, bridge_id, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(forwards);</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <span class="keywordflow">return</span> forwards != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a9ac9137d8506b8244b41486bf8e9d2a6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a></div><div class="ttdeci">#define BRIDGE_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">res/stasis/app.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a316a1a996a5456a1b7422cc05add62e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a316a1a996a5456a1b7422cc05add62e6">&#9670;&nbsp;</a></span>app_is_subscribed_channel_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_is_subscribed_channel_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if an app is subscribed to a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Subscribing application. </td></tr>
    <tr><td class="paramname">channel_id</td><td>Id of channel to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True (non-zero) if channel is subscribed to <em>app</em>. </dd>
<dd>
False (zero) if channel is not subscribed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01402">1402</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">CHANNEL_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>
<div class="fragment"><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;{</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(channel_id)) {</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      channel_id = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a>;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;   }</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, channel_id, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(forwards);</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;   <span class="keywordflow">return</span> forwards != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a22bebb2d35ffb38b9bb202e88822d74c"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a></div><div class="ttdeci">#define CHANNEL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">res/stasis/app.c:41</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a1f3daa5de52b71b552447ad5079f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a1f3daa5de52b71b552447ad5079f7b">&#9670;&nbsp;</a></span>app_is_subscribed_endpoint_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_is_subscribed_endpoint_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>endpoint_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if an app is subscribed to a endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Subscribing application. </td></tr>
    <tr><td class="paramname">endpoint_id</td><td>Id of endpoint to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True (non-zero) if endpoint is subscribed to <em>app</em>. </dd>
<dd>
False (zero) if endpoint is not subscribed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01601">1601</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">ENDPOINT_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>
<div class="fragment"><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;{</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endpoint_id)) {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      endpoint_id = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a>;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;   }</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, endpoint_id, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(forwards);</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;   <span class="keywordflow">return</span> forwards != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_adb679c8c5450b8fdc65ef309ac078d76"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a></div><div class="ttdeci">#define ENDPOINT_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">res/stasis/app.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afc2b5ef224bf880e5ef556a910f41a37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2b5ef224bf880e5ef556a910f41a37">&#9670;&nbsp;</a></span>app_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to the given application. </p>
<p>Send a message to an application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>App to send the message to. </td></tr>
    <tr><td class="paramname">message</td><td>Message to send. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">1038</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00093">ast_eid_default</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02587">ast_eid_to_str()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00397">ast_json_object_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00268">ast_json_string_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00273">ast_json_string_get()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00279">AST_LOG_WARNING</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">stasis_app::handler</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01116">app_update()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00584">message_received_handler()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01656">stasis_app_send()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00682">sub_bridge_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00543">sub_channel_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">sub_default_handler()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;{</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a> <a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="keywordtype">char</span> eid[20];</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   <span class="keywordtype">void</span> *data;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(message, <span class="stringliteral">&quot;asterisk_id&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a8ebf6841073ea2a063a0c86a5092a85b">ast_eid_to_str</a>(eid, <span class="keyword">sizeof</span>(eid), &amp;<a class="code" href="../../d5/d60/utils_8h.html#ad5db11fa27352e2b9a3c669adc76955f">ast_eid_default</a>)))) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to append EID to outgoing event %s\n&quot;</span>,</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#a6772fcee88746a9d4f6ec6f240b76dd0">ast_json_string_get</a>(<a class="code" href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a>(message, <span class="stringliteral">&quot;type&quot;</span>)));</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;   <span class="comment">/* Copy off mutable state with lock held */</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;   handler = app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">handler</a>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;   data = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   <span class="comment">/* Name is immutable; no need to copy */</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <span class="keywordflow">if</span> (handler) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>(data, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>, message);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3,</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;         <span class="stringliteral">&quot;Inactive Stasis app &#39;%s&#39; missed message\n&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;   }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;}</div><div class="ttc" id="utils_8h_html_a8ebf6841073ea2a063a0c86a5092a85b"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a8ebf6841073ea2a063a0c86a5092a85b">ast_eid_to_str</a></div><div class="ttdeci">char * ast_eid_to_str(char *s, int maxlen, struct ast_eid *eid)</div><div class="ttdoc">Convert an EID to a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02587">main/utils.c:2587</a></div></div>
<div class="ttc" id="logger_8h_html_a2878d83e36d91850732bad997524e45e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a2878d83e36d91850732bad997524e45e">AST_LOG_WARNING</a></div><div class="ttdeci">#define AST_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00279">logger.h:279</a></div></div>
<div class="ttc" id="structstasis__app_html_a8c07e1a3c558a90f7a8c55488fb08681"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">stasis_app::handler</a></div><div class="ttdeci">stasis_app_cb handler</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">res/stasis/app.c:61</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="json_8h_html_adc52f8d76b7fdd0c8d12987981fd5bf5"><div class="ttname"><a href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a></div><div class="ttdeci">struct ast_json * ast_json_string_create(const char *value)</div><div class="ttdoc">Construct a JSON string from value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00268">json.c:268</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="json_8h_html_a6772fcee88746a9d4f6ec6f240b76dd0"><div class="ttname"><a href="../../d4/d05/json_8h.html#a6772fcee88746a9d4f6ec6f240b76dd0">ast_json_string_get</a></div><div class="ttdeci">const char * ast_json_string_get(const struct ast_json *string)</div><div class="ttdoc">Get the value of a JSON string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00273">json.c:273</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a745524550c947d73d1dc42de3c74627d"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a></div><div class="ttdeci">void(* stasis_app_cb)(void *data, const char *app_name, struct ast_json *message)</div><div class="ttdoc">Callback for Stasis application handler. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d9c/stasis__app_8h_source.html#l00067">stasis_app.h:67</a></div></div>
<div class="ttc" id="utils_8h_html_ad5db11fa27352e2b9a3c669adc76955f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ad5db11fa27352e2b9a3c669adc76955f">ast_eid_default</a></div><div class="ttdeci">struct ast_eid ast_eid_default</div><div class="ttdoc">Global EID. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00093">options.c:93</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="json_8h_html_a53707225c3bf831e263245c6e3800676"><div class="ttname"><a href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a></div><div class="ttdeci">struct ast_json * ast_json_object_get(struct ast_json *object, const char *key)</div><div class="ttdoc">Get a field from a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00397">json.c:397</a></div></div>
<div class="ttc" id="test__ari_8c_html_a695cc202c7a2869aa8202bb20726ea3c"><div class="ttname"><a href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a></div><div class="ttdeci">static void handler(const char *name, int response_code, struct ast_variable *get_params, struct ast_variable *path_vars, struct ast_variable *headers, struct ast_json *body, struct ast_ari_response *response)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d03/test__ari_8c_source.html#l00059">test_ari.c:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a364056b7da44bbeee2959155aa4ef72d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a364056b7da44bbeee2959155aa4ef72d">&#9670;&nbsp;</a></span>app_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_shutdown </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tears down an application. </p>
<p>It should be finished before calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Application to unsubscribe. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01078">1078</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01105">app_is_finished()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00055">stasis_app::bridge_router</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00057">stasis_app::endpoint_router</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00053">stasis_app::router</a>, and <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00258">stasis_message_router_unsubscribe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00309">cleanup_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;{</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a5fb21fd32f98d4bdea9de6f9c5eea752">app_is_finished</a>(app));</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;   <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5646e370e39cc29f5faa7a30fda11159">stasis_message_router_unsubscribe</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a85c07e3e0d15ea99cf0c5dbe1dfdcb24">router</a>);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a85c07e3e0d15ea99cf0c5dbe1dfdcb24">router</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5646e370e39cc29f5faa7a30fda11159">stasis_message_router_unsubscribe</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab88eb28b8d887439a811399b36edfbe8">bridge_router</a>);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab88eb28b8d887439a811399b36edfbe8">bridge_router</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5646e370e39cc29f5faa7a30fda11159">stasis_message_router_unsubscribe</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>);</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div><div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app_html_af588b244758c3d43c25c556b0cff9ed7"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">stasis_app::endpoint_router</a></div><div class="ttdeci">struct stasis_message_router * endpoint_router</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00057">res/stasis/app.c:57</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a5fb21fd32f98d4bdea9de6f9c5eea752"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a5fb21fd32f98d4bdea9de6f9c5eea752">app_is_finished</a></div><div class="ttdeci">int app_is_finished(struct stasis_app *app)</div><div class="ttdoc">Checks whether a deactivated app has no channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01105">res/stasis/app.c:1105</a></div></div>
<div class="ttc" id="structstasis__app_html_a85c07e3e0d15ea99cf0c5dbe1dfdcb24"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a85c07e3e0d15ea99cf0c5dbe1dfdcb24">stasis_app::router</a></div><div class="ttdeci">struct stasis_message_router * router</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00053">res/stasis/app.c:53</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a5646e370e39cc29f5faa7a30fda11159"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a5646e370e39cc29f5faa7a30fda11159">stasis_message_router_unsubscribe</a></div><div class="ttdeci">void stasis_message_router_unsubscribe(struct stasis_message_router *router)</div><div class="ttdoc">Unsubscribe the router from the upstream topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00258">stasis_message_router.c:258</a></div></div>
<div class="ttc" id="structstasis__app_html_ab88eb28b8d887439a811399b36edfbe8"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab88eb28b8d887439a811399b36edfbe8">stasis_app::bridge_router</a></div><div class="ttdeci">struct stasis_message_router * bridge_router</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00055">res/stasis/app.c:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c81b198af25100a727e3b42f6a6a5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c81b198af25100a727e3b42f6a6a5ab">&#9670;&nbsp;</a></span>app_subscribe_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_subscribe_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a bridge subscription to an existing channel subscription. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Application. </td></tr>
    <tr><td class="paramname">bridge</td><td>Bridge to subscribe to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">1428</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01572">ao2_link_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">BRIDGE_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00164">forwards_create_bridge()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">app_forwards::interested</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01481">subscribe_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;{</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;   }</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;   <span class="comment">/* If subscribed to all, don&#39;t subscribe again */</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   <span class="keywordflow">if</span> (forwards) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;   }</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>,</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      bridge ? bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a> : <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a>,</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <span class="comment">/* Forwards not found, create one */</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      forwards = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a3e73e15b929bc0a5d3a69ff8fd96a37d">forwards_create_bridge</a>(app, bridge);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      }</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      res = <a class="code" href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, forwards, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      }</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   }</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   ++forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Bridge &#39;%s&#39; is %d interested in %s\n&quot;</span>,</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      bridge ? bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a> : <span class="stringliteral">&quot;ALL&quot;</span>,</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>,</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a3e73e15b929bc0a5d3a69ff8fd96a37d"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a3e73e15b929bc0a5d3a69ff8fd96a37d">forwards_create_bridge</a></div><div class="ttdeci">static struct app_forwards * forwards_create_bridge(struct stasis_app *app, struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00164">res/stasis/app.c:164</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structapp__forwards_html_a0ebe65d4c1af116e2e32b97cfa46af8a"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">app_forwards::interested</a></div><div class="ttdeci">int interested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">res/stasis/app.c:85</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7ce8563daf84a18540a86504d165b444"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a></div><div class="ttdeci">#define ao2_link_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01572">astobj2.h:1572</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a9ac9137d8506b8244b41486bf8e9d2a6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a></div><div class="ttdeci">#define BRIDGE_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">res/stasis/app.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b0dbc86b18101e9d9d48b350aeec489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b0dbc86b18101e9d9d48b350aeec489">&#9670;&nbsp;</a></span>app_subscribe_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_subscribe_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribes an application to a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Application. </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to subscribe to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">1281</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01572">ao2_link_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">CHANNEL_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00136">forwards_create_channel()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">app_forwards::interested</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00318">call_forwarded_handler()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00991">send_start_msg_snapshots()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01984">stasis_app_subscribe_channel()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01334">subscribe_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;{</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   }</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;   <span class="comment">/* If subscribed to all, don&#39;t subscribe again */</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;   <span class="keywordflow">if</span> (forwards) {</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;   }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>,</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      chan ? <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan) : <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a>,</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="comment">/* Forwards not found, create one */</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      forwards = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ad545360ffdd9a3cb168628c715eea3bd">forwards_create_channel</a>(app, chan);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      }</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      res = <a class="code" href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, forwards, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      }</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;   ++forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Channel &#39;%s&#39; is %d interested in %s\n&quot;</span>,</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      chan ? <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan) : <span class="stringliteral">&quot;ALL&quot;</span>,</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>,</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div><div class="ttc" id="structapp__forwards_html_a0ebe65d4c1af116e2e32b97cfa46af8a"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">app_forwards::interested</a></div><div class="ttdeci">int interested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">res/stasis/app.c:85</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a22bebb2d35ffb38b9bb202e88822d74c"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a></div><div class="ttdeci">#define CHANNEL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">res/stasis/app.c:41</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7ce8563daf84a18540a86504d165b444"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a></div><div class="ttdeci">#define ao2_link_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01572">astobj2.h:1572</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ad545360ffdd9a3cb168628c715eea3bd"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ad545360ffdd9a3cb168628c715eea3bd">forwards_create_channel</a></div><div class="ttdeci">static struct app_forwards * forwards_create_channel(struct stasis_app *app, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00136">res/stasis/app.c:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a021ad5ebb8ff3d64b1df955eb887fbea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021ad5ebb8ff3d64b1df955eb887fbea">&#9670;&nbsp;</a></span>app_subscribe_endpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_subscribe_endpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribes an application to a endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Application. </td></tr>
    <tr><td class="paramname">chan</td><td>Endpoint to subscribe to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01531">1531</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01572">ao2_link_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00391">ast_endpoint_get_id()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">ENDPOINT_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">app_forwards::interested</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00584">message_received_handler()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00493">messaging_app_subscribe_endpoint()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01587">subscribe_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;{</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;   }</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   <span class="comment">/* If subscribed to all, don&#39;t subscribe again */</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;   <span class="keywordflow">if</span> (forwards) {</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;   }</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>,</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      endpoint ? <a class="code" href="../../d4/d61/endpoints_8h.html#acb88bdfcaf27c5ba3d54c8bb44ec480c">ast_endpoint_get_id</a>(endpoint) : <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a>,</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="comment">/* Forwards not found, create one */</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      forwards = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#afb0022fc4c6dfa2b1cb4f44a0995b6a5">forwards_create_endpoint</a>(app, endpoint);</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      }</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      res = <a class="code" href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, forwards, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="comment">/* Subscribe for messages */</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <a class="code" href="../../db/d21/messaging_8c.html#a0a96e49b9bbe4c2ed54e2ad0be07e7e3">messaging_app_subscribe_endpoint</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>, endpoint, &amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a58025308dde450a79aa3243f13f7a12a">message_received_handler</a>, app);</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   }</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;   ++forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Endpoint &#39;%s&#39; is %d interested in %s\n&quot;</span>,</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      endpoint ? <a class="code" href="../../d4/d61/endpoints_8h.html#acb88bdfcaf27c5ba3d54c8bb44ec480c">ast_endpoint_get_id</a>(endpoint) : <span class="stringliteral">&quot;ALL&quot;</span>,</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>,</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div><div class="ttc" id="structapp__forwards_html_a0ebe65d4c1af116e2e32b97cfa46af8a"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">app_forwards::interested</a></div><div class="ttdeci">int interested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">res/stasis/app.c:85</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7ce8563daf84a18540a86504d165b444"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7ce8563daf84a18540a86504d165b444">ao2_link_flags</a></div><div class="ttdeci">#define ao2_link_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01572">astobj2.h:1572</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="messaging_8c_html_a0a96e49b9bbe4c2ed54e2ad0be07e7e3"><div class="ttname"><a href="../../db/d21/messaging_8c.html#a0a96e49b9bbe4c2ed54e2ad0be07e7e3">messaging_app_subscribe_endpoint</a></div><div class="ttdeci">int messaging_app_subscribe_endpoint(const char *app_name, struct ast_endpoint *endpoint, message_received_cb callback, void *pvt)</div><div class="ttdoc">Subscribe an application to an endpoint for messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d21/messaging_8c_source.html#l00493">messaging.c:493</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_afb0022fc4c6dfa2b1cb4f44a0995b6a5"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#afb0022fc4c6dfa2b1cb4f44a0995b6a5">forwards_create_endpoint</a></div><div class="ttdeci">static struct app_forwards * forwards_create_endpoint(struct stasis_app *app, struct ast_endpoint *endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">res/stasis/app.c:199</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a58025308dde450a79aa3243f13f7a12a"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a58025308dde450a79aa3243f13f7a12a">message_received_handler</a></div><div class="ttdeci">static int message_received_handler(const char *endpoint_id, struct ast_json *json_msg, void *pvt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00584">res/stasis/app.c:584</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="endpoints_8h_html_acb88bdfcaf27c5ba3d54c8bb44ec480c"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#acb88bdfcaf27c5ba3d54c8bb44ec480c">ast_endpoint_get_id</a></div><div class="ttdeci">const char * ast_endpoint_get_id(const struct ast_endpoint *endpoint)</div><div class="ttdoc">Gets the tech/resource id of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00391">main/endpoints.c:391</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_adb679c8c5450b8fdc65ef309ac078d76"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a></div><div class="ttdeci">#define ENDPOINT_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">res/stasis/app.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e6099632575d3b2fd83d64698b1114c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e6099632575d3b2fd83d64698b1114c">&#9670;&nbsp;</a></span>app_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* app_to_json </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a JSON representation of a <code><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a></code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The application</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>JSON</code> blob on success </dd>
<dd>
<code>NULL</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01228">1228</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01017">array()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00368">ast_json_array_append()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00397">ast_json_object_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00268">ast_json_string_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00123">bridges</a>, <a class="el" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">endpoints</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">FORWARD_BRIDGE</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">FORWARD_CHANNEL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">FORWARD_ENDPOINT</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">app_forwards::forward_type</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">app_forwards::id</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01866">stasis_app_object_to_json()</a>.</p>
<div class="fragment"><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;{</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="code" href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a>;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="code" href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a>;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   json = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: [], s: [], s: []}&quot;</span>,</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="stringliteral">&quot;name&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>,</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="stringliteral">&quot;channel_ids&quot;</span>, <span class="stringliteral">&quot;bridge_ids&quot;</span>, <span class="stringliteral">&quot;endpoint_ids&quot;</span>);</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   <span class="keywordflow">if</span> (!json) {</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   channels = <a class="code" href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a>(json, <span class="stringliteral">&quot;channel_ids&quot;</span>);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   bridges = <a class="code" href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a>(json, <span class="stringliteral">&quot;bridge_ids&quot;</span>);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   endpoints = <a class="code" href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a>(json, <span class="stringliteral">&quot;endpoint_ids&quot;</span>);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, 0);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <span class="keywordflow">while</span> ((forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="code" href="../../d9/d1e/func__strings_8c.html#ab6e308b3a41c01e08d252e071511495c">array</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="keywordtype">int</span> append_res;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">switch</span> (forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">forward_type</a>) {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a>:</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;         array = <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a>:</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;         array = <a class="code" href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a>:</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;         array = <a class="code" href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="comment">/* If forward_type value is unexpected this will safely return an error. */</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      append_res = <a class="code" href="../../d4/d05/json_8h.html#a3d675e52f866630a6a03302df2712b8d">ast_json_array_append</a>(array, <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>));</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <span class="keywordflow">if</span> (append_res != 0) {</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error building response\n&quot;</span>);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      }</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   }</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;   <span class="keywordflow">return</span> json;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;}</div><div class="ttc" id="structapp__forwards_html_aa754553486730ec7ec2b2539aa4e1985"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">app_forwards::id</a></div><div class="ttdeci">char id[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">res/stasis/app.c:95</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">res/stasis/app.c:77</a></div></div>
<div class="ttc" id="structapp__forwards_html_a2cd8c66a3f0c194fc3f55b0b449b1893"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">app_forwards::forward_type</a></div><div class="ttdeci">enum forward_type forward_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">res/stasis/app.c:93</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="json_8h_html_adc52f8d76b7fdd0c8d12987981fd5bf5"><div class="ttname"><a href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a></div><div class="ttdeci">struct ast_json * ast_json_string_create(const char *value)</div><div class="ttdoc">Construct a JSON string from value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00268">json.c:268</a></div></div>
<div class="ttc" id="main_2endpoints_8c_html_a0b6312c44448ff7ed80ac99b3077e438"><div class="ttname"><a href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a></div><div class="ttdeci">static struct ao2_container * endpoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">main/endpoints.c:50</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="codec__dahdi_8c_html_aea0622703055b62259903cdab213319b"><div class="ttname"><a href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a></div><div class="ttdeci">static struct channel_usage channels</div></div>
<div class="ttc" id="json_8h_html_a3d675e52f866630a6a03302df2712b8d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a3d675e52f866630a6a03302df2712b8d">ast_json_array_append</a></div><div class="ttdeci">int ast_json_array_append(struct ast_json *array, struct ast_json *value)</div><div class="ttdoc">Append to an array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00368">json.c:368</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="func__strings_8c_html_ab6e308b3a41c01e08d252e071511495c"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#ab6e308b3a41c01e08d252e071511495c">array</a></div><div class="ttdeci">static int array(struct ast_channel *chan, const char *cmd, char *var, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01017">func_strings.c:1017</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="bridge_8c_html_aaa64e0df7082a1a31b65d0c956bc2534"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a></div><div class="ttdeci">static struct ao2_container * bridges</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00123">bridge.c:123</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="json_8h_html_a53707225c3bf831e263245c6e3800676"><div class="ttname"><a href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a></div><div class="ttdeci">struct ast_json * ast_json_object_get(struct ast_json *object, const char *key)</div><div class="ttdoc">Get a field from a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00397">json.c:397</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">res/stasis/app.c:78</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">res/stasis/app.c:79</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3319e8e92c07466ddc920e885c6d23f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3319e8e92c07466ddc920e885c6d23f0">&#9670;&nbsp;</a></span>app_unsubscribe_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_unsubscribe_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the bridge subscription for an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">forwards</td><td>Return from <a class="el" href="../../df/d5f/res_2stasis_2app_8h.html#a5b0dbc86b18101e9d9d48b350aeec489" title="Subscribes an application to a channel. ">app_subscribe_channel()</a>. </td></tr>
    <tr><td class="paramname">bridge</td><td>Bridge to subscribe to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01486">1486</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01495">app_unsubscribe_bridge_id()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">BRIDGE_ALL</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01108">internal_bridge_after_cb()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;{</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;   }</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a0a564345075a21180f2186dbae310f72">app_unsubscribe_bridge_id</a>(app, bridge ? bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a> : <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a>);</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a0a564345075a21180f2186dbae310f72"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a0a564345075a21180f2186dbae310f72">app_unsubscribe_bridge_id</a></div><div class="ttdeci">int app_unsubscribe_bridge_id(struct stasis_app *app, const char *bridge_id)</div><div class="ttdoc">Cancel the subscription an app has for a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01495">res/stasis/app.c:1495</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a9ac9137d8506b8244b41486bf8e9d2a6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a></div><div class="ttdeci">#define BRIDGE_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">res/stasis/app.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a564345075a21180f2186dbae310f72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a564345075a21180f2186dbae310f72">&#9670;&nbsp;</a></span>app_unsubscribe_bridge_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_unsubscribe_bridge_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bridge_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the subscription an app has for a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Subscribing application. </td></tr>
    <tr><td class="paramname">bridge_id</td><td>Id of bridge to unsubscribe from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01495">1495</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01486">app_unsubscribe_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;{</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   }</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a>(app, <span class="stringliteral">&quot;bridge&quot;</span>, bridge_id, 0);</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_ae25c865e186eb0d4896afd416cb03ec9"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a></div><div class="ttdeci">static int unsubscribe(struct stasis_app *app, const char *kind, const char *id, int terminate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">res/stasis/app.c:1339</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a451e2970210436f5fd6ffdb94d38f7b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a451e2970210436f5fd6ffdb94d38f7b2">&#9670;&nbsp;</a></span>app_unsubscribe_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_unsubscribe_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the subscription an app has for a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Subscribing application. </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to unsubscribe from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01384">1384</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01393">app_unsubscribe_channel_id()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">CHANNEL_ALL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01083">app_send_end_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;{</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;   }</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#abb98d263b0d1405caa0a948bf49b5985">app_unsubscribe_channel_id</a>(app, chan ? <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan) : <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a>);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a22bebb2d35ffb38b9bb202e88822d74c"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a></div><div class="ttdeci">#define CHANNEL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">res/stasis/app.c:41</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_abb98d263b0d1405caa0a948bf49b5985"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#abb98d263b0d1405caa0a948bf49b5985">app_unsubscribe_channel_id</a></div><div class="ttdeci">int app_unsubscribe_channel_id(struct stasis_app *app, const char *channel_id)</div><div class="ttdoc">Cancel the subscription an app has for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01393">res/stasis/app.c:1393</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb98d263b0d1405caa0a948bf49b5985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb98d263b0d1405caa0a948bf49b5985">&#9670;&nbsp;</a></span>app_unsubscribe_channel_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_unsubscribe_channel_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the subscription an app has for a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Subscribing application. </td></tr>
    <tr><td class="paramname">channel_id</td><td>Id of channel to unsubscribe from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01393">1393</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01384">app_unsubscribe_channel()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00991">send_start_msg_snapshots()</a>.</p>
<div class="fragment"><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;{</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;   }</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a>(app, <span class="stringliteral">&quot;channel&quot;</span>, channel_id, 0);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_ae25c865e186eb0d4896afd416cb03ec9"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a></div><div class="ttdeci">static int unsubscribe(struct stasis_app *app, const char *kind, const char *id, int terminate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">res/stasis/app.c:1339</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a77b1e94137f9d8131f363023261767ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77b1e94137f9d8131f363023261767ec">&#9670;&nbsp;</a></span>app_unsubscribe_endpoint_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int app_unsubscribe_endpoint_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>endpoint_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the subscription an app has for a endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Subscribing application. </td></tr>
    <tr><td class="paramname">endpoint_id</td><td>Id of endpoint to unsubscribe from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
Non-zero on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01592">1592</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;{</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;   }</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a>(app, <span class="stringliteral">&quot;endpoint&quot;</span>, endpoint_id, 0);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_ae25c865e186eb0d4896afd416cb03ec9"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a></div><div class="ttdeci">static int unsubscribe(struct stasis_app *app, const char *kind, const char *id, int terminate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">res/stasis/app.c:1339</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a11d8e51b6dc44258770b7a7a9d1e9992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d8e51b6dc44258770b7a7a9d1e9992">&#9670;&nbsp;</a></span>app_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d9c/stasis__app_8h.html#a745524550c947d73d1dc42de3c74627d">stasis_app_cb</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the handler and data for a <code>res_stasis</code> application. </p>
<p>If app has been deactivated, this will reactivate it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Application to update. </td></tr>
    <tr><td class="paramname">handler</td><td>New application callback. </td></tr>
    <tr><td class="paramname">data</td><td>New data pointer for the callback. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01116">1116</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00517">ao2_replace</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">app_send()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">stasis_app::handler</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01726">__stasis_app_register()</a>.</p>
<div class="fragment"><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;{</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   <span class="keywordflow">if</span> (app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">handler</a> &amp;&amp; app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *msg;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Replacing Stasis app &#39;%s&#39;\n&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      msg = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o?, s: s}&quot;</span>,</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;         <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;ApplicationReplaced&quot;</span>,</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;         <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;         <span class="stringliteral">&quot;application&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">          * The app must be unlocked before calling &#39;send&#39; since a handler may</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">          * subsequently attempt to grab the app lock after first obtaining a</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">          * lock for another object, thus causing a deadlock.</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;         <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a>(app, msg);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(msg);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;         <span class="keywordflow">if</span> (!app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">handler</a>) {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment">             * If the handler disappeared then the app was deactivated. In that</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="comment">             * case don&#39;t replace. Re-activation will reset the handler later.</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;         }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Activating Stasis app &#39;%s&#39;\n&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;   }</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">handler</a> = <a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>, data);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structstasis__app_html_a8c07e1a3c558a90f7a8c55488fb08681"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a8c07e1a3c558a90f7a8c55488fb08681">stasis_app::handler</a></div><div class="ttdeci">stasis_app_cb handler</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00061">res/stasis/app.c:61</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_afc2b5ef224bf880e5ef556a910f41a37"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a></div><div class="ttdeci">void app_send(struct stasis_app *app, struct ast_json *message)</div><div class="ttdoc">Send a message to the given application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">res/stasis/app.c:1038</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa81c8462bd0574f4f9e09e71f2772f44"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa81c8462bd0574f4f9e09e71f2772f44">ao2_replace</a></div><div class="ttdeci">#define ao2_replace(dst, src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00517">astobj2.h:517</a></div></div>
<div class="ttc" id="test__ari_8c_html_a695cc202c7a2869aa8202bb20726ea3c"><div class="ttname"><a href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a></div><div class="ttdeci">static void handler(const char *name, int response_code, struct ast_variable *get_params, struct ast_variable *path_vars, struct ast_variable *headers, struct ast_json *body, struct ast_ari_response *response)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d03/test__ari_8c_source.html#l00059">test_ari.c:59</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c95eccf2647ee7aba08fd47933940d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c95eccf2647ee7aba08fd47933940d7">&#9670;&nbsp;</a></span>ast_app_get_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a>* ast_app_get_topic </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the stasis topic for an app. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Stasis app to get topic of </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01028">1028</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01083">app_send_end_msg()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00991">send_start_msg_snapshots()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">stasis_app_user_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;{</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <span class="keywordflow">return</span> app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;}</div><div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2578db81ae3a5d8c7327e1e2b3660338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2578db81ae3a5d8c7327e1e2b3660338">&#9670;&nbsp;</a></span>bridge_app_subscribed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_app_subscribed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uniqueid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for determining if the application is subscribed to a given entity. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">720</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00750">bridge_app_subscribed_involved()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00786">bridge_attended_transfer_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00773">bridge_blind_transfer_handler()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00733">bridge_merge_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, uniqueid, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41cd369603c344d4857c48f8b662cc0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41cd369603c344d4857c48f8b662cc0b">&#9670;&nbsp;</a></span>bridge_app_subscribed_involved()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_app_subscribed_involved </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback function for checking if channels in a bridge are subscribed to. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00750">750</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">bridge_app_subscribed()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00339">ast_bridge_snapshot::channels</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01476">subscribed</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00786">bridge_attended_transfer_handler()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00773">bridge_blind_transfer_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;{</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d72/group__Group__AMI.html#gab96bdf674e2ebee782bfde795f93062e">subscribed</a> = 0;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> iter;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <span class="keywordtype">char</span> *uniqueid;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>)) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;   }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;   iter = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#adbc20a2fd50bb1376a3c6094e96a31e3">channels</a>, 0);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   <span class="keywordflow">for</span> (; (uniqueid = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;iter)); <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(uniqueid, -1)) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, uniqueid)) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;         subscribed = 1;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(uniqueid, -1);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;iter);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d72/group__Group__AMI.html#gab96bdf674e2ebee782bfde795f93062e">subscribed</a>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;}</div><div class="ttc" id="structast__bridge__snapshot_html_adbc20a2fd50bb1376a3c6094e96a31e3"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#adbc20a2fd50bb1376a3c6094e96a31e3">ast_bridge_snapshot::channels</a></div><div class="ttdeci">struct ao2_container * channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00339">bridge.h:339</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gab96bdf674e2ebee782bfde795f93062e"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gab96bdf674e2ebee782bfde795f93062e">subscribed</a></div><div class="ttdeci">static int subscribed</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01476">manager.c:1476</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2578db81ae3a5d8c7327e1e2b3660338"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a></div><div class="ttdeci">static int bridge_app_subscribed(struct stasis_app *app, const char *uniqueid)</div><div class="ttdoc">Helper function for determining if the application is subscribed to a given entity. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">res/stasis/app.c:720</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">ast_bridge_snapshot::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fead1d348a2dbf1bfc11ebb612f30c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fead1d348a2dbf1bfc11ebb612f30c7">&#9670;&nbsp;</a></span>bridge_attended_transfer_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_attended_transfer_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00786">786</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00305">AST_ATTENDED_TRANSFER_DEST_BRIDGE_MERGE</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00311">AST_ATTENDED_TRANSFER_DEST_LINK</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00313">AST_ATTENDED_TRANSFER_DEST_THREEWAY</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00146">ast_channel_snapshot::base</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00338">ast_attended_transfer_message::bridge</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">bridge_app_subscribed()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00750">bridge_app_subscribed_involved()</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00234">ast_bridge_channel_snapshot_pair::bridge_snapshot</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00235">ast_bridge_channel_snapshot_pair::channel_snapshot</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../df/d6d/structast__attended__transfer__message.html#a68eeab7290249706588af2b6cffbdcaa">ast_attended_transfer_message::dest</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00335">ast_attended_transfer_message::dest_type</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00342">ast_attended_transfer_message::links</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01476">subscribed</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00344">ast_attended_transfer_message::threeway</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00327">ast_attended_transfer_message::to_transfer_target</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00325">ast_attended_transfer_message::to_transferee</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>, and <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00112">ast_channel_snapshot_base::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;{</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a> *transfer_msg = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../df/d72/group__Group__AMI.html#gab96bdf674e2ebee782bfde795f93062e">subscribed</a> = 0;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#ad4cabb0173fd175d7bac078a1a49bcb4">to_transferee</a>.<a class="code" href="../../da/db4/structast__bridge__channel__snapshot__pair.html#adc69b45f11dbab86e83609b31b952033">channel_snapshot</a>-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <span class="keywordflow">if</span> (!subscribed) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a82a439e20f31112e595909550f5201c4">to_transfer_target</a>.<a class="code" href="../../da/db4/structast__bridge__channel__snapshot__pair.html#adc69b45f11dbab86e83609b31b952033">channel_snapshot</a>-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   <span class="keywordflow">if</span> (!subscribed &amp;&amp; transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#ad4cabb0173fd175d7bac078a1a49bcb4">to_transferee</a>.<a class="code" href="../../da/db4/structast__bridge__channel__snapshot__pair.html#a548fa9691ccede16b32f244dd9637db4">bridge_snapshot</a>) {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a41cd369603c344d4857c48f8b662cc0b">bridge_app_subscribed_involved</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#ad4cabb0173fd175d7bac078a1a49bcb4">to_transferee</a>.<a class="code" href="../../da/db4/structast__bridge__channel__snapshot__pair.html#a548fa9691ccede16b32f244dd9637db4">bridge_snapshot</a>);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <span class="keywordflow">if</span> (!subscribed &amp;&amp; transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a82a439e20f31112e595909550f5201c4">to_transfer_target</a>.<a class="code" href="../../da/db4/structast__bridge__channel__snapshot__pair.html#a548fa9691ccede16b32f244dd9637db4">bridge_snapshot</a>) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a41cd369603c344d4857c48f8b662cc0b">bridge_app_subscribed_involved</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a82a439e20f31112e595909550f5201c4">to_transfer_target</a>.<a class="code" href="../../da/db4/structast__bridge__channel__snapshot__pair.html#a548fa9691ccede16b32f244dd9637db4">bridge_snapshot</a>);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   <span class="keywordflow">if</span> (!subscribed) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="keywordflow">switch</span> (transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a4623d089424156732a5f5591381d8b31">dest_type</a>) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#af3a657a2b25861869f8b0e67f0eaa950a70f8fe62b08cc358ba25a274626ac515">AST_ATTENDED_TRANSFER_DEST_BRIDGE_MERGE</a>:</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;         subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a68eeab7290249706588af2b6cffbdcaa">dest</a>.<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#ad62863a88a87dfc024a1d18c32ab3958">bridge</a>);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#af3a657a2b25861869f8b0e67f0eaa950ab31bcd53098fda59c1bb2c2492686527">AST_ATTENDED_TRANSFER_DEST_LINK</a>:</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;         subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a68eeab7290249706588af2b6cffbdcaa">dest</a>.<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a7f2aed874f63d44e55ccbe7b4e59f356">links</a>[0]-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;         <span class="keywordflow">if</span> (!subscribed) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a68eeab7290249706588af2b6cffbdcaa">dest</a>.<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a7f2aed874f63d44e55ccbe7b4e59f356">links</a>[1]-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;         }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#af3a657a2b25861869f8b0e67f0eaa950af927648ab0472ab615a296e8103b4caf">AST_ATTENDED_TRANSFER_DEST_THREEWAY</a>:</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;         subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a41cd369603c344d4857c48f8b662cc0b">bridge_app_subscribed_involved</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a68eeab7290249706588af2b6cffbdcaa">dest</a>.<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#aabc3ff47104c976454227f116ac48325">threeway</a>.<a class="code" href="../../da/db4/structast__bridge__channel__snapshot__pair.html#a548fa9691ccede16b32f244dd9637db4">bridge_snapshot</a>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;         <span class="keywordflow">if</span> (!subscribed) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            subscribed = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#a68eeab7290249706588af2b6cffbdcaa">dest</a>.<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#aabc3ff47104c976454227f116ac48325">threeway</a>.<a class="code" href="../../da/db4/structast__bridge__channel__snapshot__pair.html#adc69b45f11dbab86e83609b31b952033">channel_snapshot</a>-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;         }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   <span class="keywordflow">if</span> (subscribed) {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>, message);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;}</div><div class="ttc" id="stasis__bridges_8h_html_af3a657a2b25861869f8b0e67f0eaa950a70f8fe62b08cc358ba25a274626ac515"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#af3a657a2b25861869f8b0e67f0eaa950a70f8fe62b08cc358ba25a274626ac515">AST_ATTENDED_TRANSFER_DEST_BRIDGE_MERGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00305">stasis_bridges.h:305</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_af3a657a2b25861869f8b0e67f0eaa950ab31bcd53098fda59c1bb2c2492686527"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#af3a657a2b25861869f8b0e67f0eaa950ab31bcd53098fda59c1bb2c2492686527">AST_ATTENDED_TRANSFER_DEST_LINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00311">stasis_bridges.h:311</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ab6103ad1bbc12922f93c0526204573cf"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">ast_channel_snapshot::base</a></div><div class="ttdeci">struct ast_channel_snapshot_base * base</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00146">stasis_channels.h:146</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html_a68eeab7290249706588af2b6cffbdcaa"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html#a68eeab7290249706588af2b6cffbdcaa">ast_attended_transfer_message::dest</a></div><div class="ttdeci">union ast_attended_transfer_message::@324 dest</div></div>
<div class="ttc" id="stasis__bridges_8h_html_af3a657a2b25861869f8b0e67f0eaa950af927648ab0472ab615a296e8103b4caf"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#af3a657a2b25861869f8b0e67f0eaa950af927648ab0472ab615a296e8103b4caf">AST_ATTENDED_TRANSFER_DEST_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00313">stasis_bridges.h:313</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a></div><div class="ttdoc">Message representing attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00319">stasis_bridges.h:319</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">ast_channel_snapshot_base::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00112">stasis_channels.h:112</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html_ad62863a88a87dfc024a1d18c32ab3958"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html#ad62863a88a87dfc024a1d18c32ab3958">ast_attended_transfer_message::bridge</a></div><div class="ttdeci">char bridge[AST_UUID_STR_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00338">stasis_bridges.h:338</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html_ad4cabb0173fd175d7bac078a1a49bcb4"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html#ad4cabb0173fd175d7bac078a1a49bcb4">ast_attended_transfer_message::to_transferee</a></div><div class="ttdeci">struct ast_bridge_channel_snapshot_pair to_transferee</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00325">stasis_bridges.h:325</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html_a82a439e20f31112e595909550f5201c4"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html#a82a439e20f31112e595909550f5201c4">ast_attended_transfer_message::to_transfer_target</a></div><div class="ttdeci">struct ast_bridge_channel_snapshot_pair to_transfer_target</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00327">stasis_bridges.h:327</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html_a7f2aed874f63d44e55ccbe7b4e59f356"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html#a7f2aed874f63d44e55ccbe7b4e59f356">ast_attended_transfer_message::links</a></div><div class="ttdeci">struct ast_channel_snapshot * links[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00342">stasis_bridges.h:342</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html_a4623d089424156732a5f5591381d8b31"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html#a4623d089424156732a5f5591381d8b31">ast_attended_transfer_message::dest_type</a></div><div class="ttdeci">enum ast_attended_transfer_dest_type dest_type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00335">stasis_bridges.h:335</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gab96bdf674e2ebee782bfde795f93062e"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gab96bdf674e2ebee782bfde795f93062e">subscribed</a></div><div class="ttdeci">static int subscribed</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01476">manager.c:1476</a></div></div>
<div class="ttc" id="structast__bridge__channel__snapshot__pair_html_adc69b45f11dbab86e83609b31b952033"><div class="ttname"><a href="../../da/db4/structast__bridge__channel__snapshot__pair.html#adc69b45f11dbab86e83609b31b952033">ast_bridge_channel_snapshot_pair::channel_snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * channel_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00235">stasis_bridges.h:235</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html_aabc3ff47104c976454227f116ac48325"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html#aabc3ff47104c976454227f116ac48325">ast_attended_transfer_message::threeway</a></div><div class="ttdeci">struct ast_bridge_channel_snapshot_pair threeway</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00344">stasis_bridges.h:344</a></div></div>
<div class="ttc" id="structast__bridge__channel__snapshot__pair_html_a548fa9691ccede16b32f244dd9637db4"><div class="ttname"><a href="../../da/db4/structast__bridge__channel__snapshot__pair.html#a548fa9691ccede16b32f244dd9637db4">ast_bridge_channel_snapshot_pair::bridge_snapshot</a></div><div class="ttdeci">struct ast_bridge_snapshot * bridge_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00234">stasis_bridges.h:234</a></div></div>
<div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2578db81ae3a5d8c7327e1e2b3660338"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a></div><div class="ttdeci">static int bridge_app_subscribed(struct stasis_app *app, const char *uniqueid)</div><div class="ttdoc">Helper function for determining if the application is subscribed to a given entity. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">res/stasis/app.c:720</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a41cd369603c344d4857c48f8b662cc0b"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a41cd369603c344d4857c48f8b662cc0b">bridge_app_subscribed_involved</a></div><div class="ttdeci">static int bridge_app_subscribed_involved(struct stasis_app *app, struct ast_bridge_snapshot *snapshot)</div><div class="ttdoc">Callback function for checking if channels in a bridge are subscribed to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00750">res/stasis/app.c:750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a90a34a08e7562dd1161c75cd2a5c382f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a34a08e7562dd1161c75cd2a5c382f">&#9670;&nbsp;</a></span>bridge_blind_transfer_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_blind_transfer_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00773">773</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00146">ast_channel_snapshot::base</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00257">ast_blind_transfer_message::bridge</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">bridge_app_subscribed()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00750">bridge_app_subscribed_involved()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00255">ast_blind_transfer_message::transferer</a>, and <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00112">ast_channel_snapshot_base::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;{</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dbf/structast__blind__transfer__message.html">ast_blind_transfer_message</a> *transfer_msg = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *bridge = transfer_msg-&gt;<a class="code" href="../../d1/dbf/structast__blind__transfer__message.html#a820b583b07f0cf97618ca22d73cd8f09">bridge</a>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, transfer_msg-&gt;<a class="code" href="../../d1/dbf/structast__blind__transfer__message.html#a97d7526f26c0a3ca13db9d459c5e1ca2">transferer</a>-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>) ||</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      (bridge &amp;&amp; <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a41cd369603c344d4857c48f8b662cc0b">bridge_app_subscribed_involved</a>(app, bridge))) {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>, message);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;}</div><div class="ttc" id="structast__channel__snapshot_html_ab6103ad1bbc12922f93c0526204573cf"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">ast_channel_snapshot::base</a></div><div class="ttdeci">struct ast_channel_snapshot_base * base</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00146">stasis_channels.h:146</a></div></div>
<div class="ttc" id="structast__blind__transfer__message_html"><div class="ttname"><a href="../../d1/dbf/structast__blind__transfer__message.html">ast_blind_transfer_message</a></div><div class="ttdoc">Message published during a blind transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00249">stasis_bridges.h:249</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a></div><div class="ttdoc">Structure that contains a snapshot of information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00322">bridge.h:322</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">ast_channel_snapshot_base::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00112">stasis_channels.h:112</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="structast__blind__transfer__message_html_a820b583b07f0cf97618ca22d73cd8f09"><div class="ttname"><a href="../../d1/dbf/structast__blind__transfer__message.html#a820b583b07f0cf97618ca22d73cd8f09">ast_blind_transfer_message::bridge</a></div><div class="ttdeci">struct ast_bridge_snapshot * bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00257">stasis_bridges.h:257</a></div></div>
<div class="ttc" id="structast__blind__transfer__message_html_a97d7526f26c0a3ca13db9d459c5e1ca2"><div class="ttname"><a href="../../d1/dbf/structast__blind__transfer__message.html#a97d7526f26c0a3ca13db9d459c5e1ca2">ast_blind_transfer_message::transferer</a></div><div class="ttdeci">struct ast_channel_snapshot * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00255">stasis_bridges.h:255</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2578db81ae3a5d8c7327e1e2b3660338"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a></div><div class="ttdeci">static int bridge_app_subscribed(struct stasis_app *app, const char *uniqueid)</div><div class="ttdoc">Helper function for determining if the application is subscribed to a given entity. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">res/stasis/app.c:720</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a41cd369603c344d4857c48f8b662cc0b"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a41cd369603c344d4857c48f8b662cc0b">bridge_app_subscribed_involved</a></div><div class="ttdeci">static int bridge_app_subscribed_involved(struct stasis_app *app, struct ast_bridge_snapshot *snapshot)</div><div class="ttdoc">Callback function for checking if channels in a bridge are subscribed to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00750">res/stasis/app.c:750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ada94ed3c663b63e6475fef84006487a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada94ed3c663b63e6475fef84006487a3">&#9670;&nbsp;</a></span>bridge_find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* bridge_find </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01518">1518</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00774">stasis_app_bridge_find_by_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;{</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#abe33686443d20df474000c93ce319804">stasis_app_bridge_find_by_id</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_abe33686443d20df474000c93ce319804"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#abe33686443d20df474000c93ce319804">stasis_app_bridge_find_by_id</a></div><div class="ttdeci">struct ast_bridge * stasis_app_bridge_find_by_id(const char *bridge_id)</div><div class="ttdoc">Returns the bridge with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l00774">res_stasis.c:774</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2949083f6331aa1b0de16d83fdba25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2949083f6331aa1b0de16d83fdba25f">&#9670;&nbsp;</a></span>bridge_merge_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_merge_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00733">733</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">bridge_app_subscribed()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00093">ast_bridge_merge_message::from</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00094">ast_bridge_merge_message::to</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;{</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d49/structast__bridge__merge__message.html">ast_bridge_merge_message</a> *merge;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   merge = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   <span class="comment">/* Find out if we&#39;re subscribed to either bridge */</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, merge-&gt;<a class="code" href="../../d5/d49/structast__bridge__merge__message.html#a75f281a7bfa00f9ae5993fafe6fdb80d">from</a>-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>) ||</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a>(app, merge-&gt;<a class="code" href="../../d5/d49/structast__bridge__merge__message.html#a7895e4b9097873d85bd687c7ee592440">to</a>-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>)) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="comment">/* Forward the message to the app */</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>, message);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div><div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2578db81ae3a5d8c7327e1e2b3660338"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2578db81ae3a5d8c7327e1e2b3660338">bridge_app_subscribed</a></div><div class="ttdeci">static int bridge_app_subscribed(struct stasis_app *app, const char *uniqueid)</div><div class="ttdoc">Helper function for determining if the application is subscribed to a given entity. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00720">res/stasis/app.c:720</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">ast_bridge_snapshot::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="structast__bridge__merge__message_html_a75f281a7bfa00f9ae5993fafe6fdb80d"><div class="ttname"><a href="../../d5/d49/structast__bridge__merge__message.html#a75f281a7bfa00f9ae5993fafe6fdb80d">ast_bridge_merge_message::from</a></div><div class="ttdeci">struct ast_bridge_snapshot * from</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00093">stasis_bridges.h:93</a></div></div>
<div class="ttc" id="structast__bridge__merge__message_html"><div class="ttname"><a href="../../d5/d49/structast__bridge__merge__message.html">ast_bridge_merge_message</a></div><div class="ttdoc">Message representing the merge of two bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00092">stasis_bridges.h:92</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="structast__bridge__merge__message_html_a7895e4b9097873d85bd687c7ee592440"><div class="ttname"><a href="../../d5/d49/structast__bridge__merge__message.html#a7895e4b9097873d85bd687c7ee592440">ast_bridge_merge_message::to</a></div><div class="ttdeci">struct ast_bridge_snapshot * to</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00094">stasis_bridges.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83d47dfce3749c491ee7f6711e5d7af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d47dfce3749c491ee7f6711e5d7af0">&#9670;&nbsp;</a></span>bridge_subscription_change_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_subscription_change_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00832">832</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01176">stasis_subscription_final_message()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;{</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d79/stasis_8h.html#a839350445aaa51cedf31f6daec933ee0">stasis_subscription_final_message</a>(sub, message)) {</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div><div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="stasis_8h_html_a839350445aaa51cedf31f6daec933ee0"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a839350445aaa51cedf31f6daec933ee0">stasis_subscription_final_message</a></div><div class="ttdeci">int stasis_subscription_final_message(struct stasis_subscription *sub, struct stasis_message *msg)</div><div class="ttdoc">Determine whether a message is the final message to be received on a subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01176">stasis.c:1176</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ce8178d1fdf1192f8de38ba5a08c56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce8178d1fdf1192f8de38ba5a08c56b">&#9670;&nbsp;</a></span>call_forwarded_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void call_forwarded_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00318">318</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">app_subscribe_channel()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01454">ast_channel_get_by_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00977">ast_multi_channel_blob_get_channel()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00146">ast_channel_snapshot::base</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, and <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00112">ast_channel_snapshot_base::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">sub_default_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a> *payload = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gac6cf4ef94e11b14625a81ba56f89a183">ast_multi_channel_blob_get_channel</a>(payload, <span class="stringliteral">&quot;forwarded&quot;</span>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">if</span> (!snapshot) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   chan = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a5b0dbc86b18101e9d9d48b350aeec489">app_subscribe_channel</a>(app, chan);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(chan);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ab6103ad1bbc12922f93c0526204573cf"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">ast_channel_snapshot::base</a></div><div class="ttdeci">struct ast_channel_snapshot_base * base</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00146">stasis_channels.h:146</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">ast_channel_snapshot_base::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00112">stasis_channels.h:112</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gac6cf4ef94e11b14625a81ba56f89a183"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gac6cf4ef94e11b14625a81ba56f89a183">ast_multi_channel_blob_get_channel</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_multi_channel_blob_get_channel(struct ast_multi_channel_blob *obj, const char *role)</div><div class="ttdoc">Retrieve a channel snapshot associated with a specific role from a ast_multi_channel_blob. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00977">stasis_channels.c:977</a></div></div>
<div class="ttc" id="structast__multi__channel__blob_html"><div class="ttname"><a href="../../df/dcb/structast__multi__channel__blob.html">ast_multi_channel_blob</a></div><div class="ttdoc">A multi channel blob data structure for multi_channel_blob stasis messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00811">stasis_channels.c:811</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a5b0dbc86b18101e9d9d48b350aeec489"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a5b0dbc86b18101e9d9d48b350aeec489">app_subscribe_channel</a></div><div class="ttdeci">int app_subscribe_channel(struct stasis_app *app, struct ast_channel *chan)</div><div class="ttdoc">Subscribes an application to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">res/stasis/app.c:1281</a></div></div>
<div class="ttc" id="channel_8h_html_ac7e42045272530c8678418993e75fd56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name(const char *name)</div><div class="ttdoc">Find a channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01454">channel.c:1454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adebaa7d191044b61eb64d2ad01803bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adebaa7d191044b61eb64d2ad01803bd7">&#9670;&nbsp;</a></span>channel_callerid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* channel_callerid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>old_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>new_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00479">479</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01318">ast_channel_snapshot_caller_id_equal()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01255">ast_channel_snapshot_to_json()</a>, <a class="el" href="../../dc/dd5/callerid_8c_source.html#l01164">ast_describe_caller_presentation()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00148">ast_channel_snapshot::caller</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00088">ast_channel_snapshot_caller::pres</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_channel;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <span class="comment">/* No NewCallerid event on first channel snapshot */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <span class="keywordflow">if</span> (!old_snapshot) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4a/stasis__channels_8h.html#a6406abd8ad8a465e31d1e42a5142de12">ast_channel_snapshot_caller_id_equal</a>(old_snapshot, new_snapshot)) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   }</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   json_channel = <a class="code" href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a>(new_snapshot, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="keywordflow">if</span> (!json_channel) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o, s: i, s: s, s: o}&quot;</span>,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;ChannelCallerId&quot;</span>,</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*tv, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="stringliteral">&quot;caller_presentation&quot;</span>, new_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">caller</a>-&gt;<a class="code" href="../../d6/d08/structast__channel__snapshot__caller.html#a98244c51d406d209643d55bd6a93535c">pres</a>,</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="stringliteral">&quot;caller_presentation_txt&quot;</span>, <a class="code" href="../../de/d47/callerid_8h.html#a4b8a5c3b5ed37a9e1396ddef68ac7846">ast_describe_caller_presentation</a>(</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;         new_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">caller</a>-&gt;<a class="code" href="../../d6/d08/structast__channel__snapshot__caller.html#a98244c51d406d209643d55bd6a93535c">pres</a>),</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="stringliteral">&quot;channel&quot;</span>, json_channel);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="callerid_8h_html_a4b8a5c3b5ed37a9e1396ddef68ac7846"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a4b8a5c3b5ed37a9e1396ddef68ac7846">ast_describe_caller_presentation</a></div><div class="ttdeci">const char * ast_describe_caller_presentation(int data)</div><div class="ttdoc">Convert caller ID pres value to explanatory string. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd5/callerid_8c_source.html#l01164">callerid.c:1164</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ae7248b764758e655df26036dd6b8f4d7"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">ast_channel_snapshot::caller</a></div><div class="ttdeci">struct ast_channel_snapshot_caller * caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00148">stasis_channels.h:148</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="stasis__channels_8h_html_a6406abd8ad8a465e31d1e42a5142de12"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html#a6406abd8ad8a465e31d1e42a5142de12">ast_channel_snapshot_caller_id_equal</a></div><div class="ttdeci">int ast_channel_snapshot_caller_id_equal(const struct ast_channel_snapshot *old_snapshot, const struct ast_channel_snapshot *new_snapshot)</div><div class="ttdoc">Compares the callerid info of two snapshots. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01318">stasis_channels.c:1318</a></div></div>
<div class="ttc" id="stasis__channels_8h_html_a7571e6d10d716525aaa64b1f6583979b"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a></div><div class="ttdeci">struct ast_json * ast_channel_snapshot_to_json(const struct ast_channel_snapshot *snapshot, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build a JSON object from a ast_channel_snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01255">stasis_channels.c:1255</a></div></div>
<div class="ttc" id="structast__channel__snapshot__caller_html_a98244c51d406d209643d55bd6a93535c"><div class="ttname"><a href="../../d6/d08/structast__channel__snapshot__caller.html#a98244c51d406d209643d55bd6a93535c">ast_channel_snapshot_caller::pres</a></div><div class="ttdeci">int pres</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00088">stasis_channels.h:88</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa79265cc0b4a52e5ce0f501221c7a392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79265cc0b4a52e5ce0f501221c7a392">&#9670;&nbsp;</a></span>channel_connected_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* channel_connected_line </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>old_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>new_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00509">509</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01328">ast_channel_snapshot_connected_line_equal()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01255">ast_channel_snapshot_to_json()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;{</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_channel;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="comment">/* No ChannelConnectedLine event on first channel snapshot */</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <span class="keywordflow">if</span> (!old_snapshot) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4a/stasis__channels_8h.html#a0c10327fe4e86b432f1d50eeba277fb4">ast_channel_snapshot_connected_line_equal</a>(old_snapshot, new_snapshot)) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   json_channel = <a class="code" href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a>(new_snapshot, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <span class="keywordflow">if</span> (!json_channel) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o, s: o}&quot;</span>,</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;ChannelConnectedLine&quot;</span>,</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*tv, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <span class="stringliteral">&quot;channel&quot;</span>, json_channel);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="stasis__channels_8h_html_a0c10327fe4e86b432f1d50eeba277fb4"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html#a0c10327fe4e86b432f1d50eeba277fb4">ast_channel_snapshot_connected_line_equal</a></div><div class="ttdeci">int ast_channel_snapshot_connected_line_equal(const struct ast_channel_snapshot *old_snapshot, const struct ast_channel_snapshot *new_snapshot)</div><div class="ttdoc">Compares the connected line info of two snapshots. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01328">stasis_channels.c:1328</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="stasis__channels_8h_html_a7571e6d10d716525aaa64b1f6583979b"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a></div><div class="ttdeci">struct ast_json * ast_channel_snapshot_to_json(const struct ast_channel_snapshot *snapshot, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build a JSON object from a ast_channel_snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01255">stasis_channels.c:1255</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a94697ef3e0d3cf86872e4b4a510070e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94697ef3e0d3cf86872e4b4a510070e5">&#9670;&nbsp;</a></span>channel_created_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* channel_created_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00393">393</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00376">simple_channel_event()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00426">channel_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a208312a0f9deeb0952423cb20f22b9af">simple_channel_event</a>(<span class="stringliteral">&quot;ChannelCreated&quot;</span>, snapshot, tv);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a208312a0f9deeb0952423cb20f22b9af"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a208312a0f9deeb0952423cb20f22b9af">simple_channel_event</a></div><div class="ttdeci">static struct ast_json * simple_channel_event(const char *type, struct ast_channel_snapshot *snapshot, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00376">res/stasis/app.c:376</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92ecd2dd45ac3c0250ca96b420c9848f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ecd2dd45ac3c0250ca96b420c9848f">&#9670;&nbsp;</a></span>channel_destroyed_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* channel_destroyed_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00400">400</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l00612">ast_cause2str()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01255">ast_channel_snapshot_to_json()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00131">ast_channel_snapshot_hangup::cause</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00152">ast_channel_snapshot::hangup</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00426">channel_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_channel = <a class="code" href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a>(snapshot, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="keywordflow">if</span> (!json_channel) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o, s: i, s: s, s: o}&quot;</span>,</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;ChannelDestroyed&quot;</span>,</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*tv, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="stringliteral">&quot;cause&quot;</span>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#af8a29cb15ed6c5226ac2064afbf9ae55">hangup</a>-&gt;<a class="code" href="../../d4/d7a/structast__channel__snapshot__hangup.html#aa4d0ccb9d0904892652f2f258c5ad225">cause</a>,</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="stringliteral">&quot;cause_txt&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#abb5f5ff5988e039726f2c0d982342378">ast_cause2str</a>(snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#af8a29cb15ed6c5226ac2064afbf9ae55">hangup</a>-&gt;<a class="code" href="../../d4/d7a/structast__channel__snapshot__hangup.html#aa4d0ccb9d0904892652f2f258c5ad225">cause</a>),</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="stringliteral">&quot;channel&quot;</span>, json_channel);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__channel__snapshot__hangup_html_aa4d0ccb9d0904892652f2f258c5ad225"><div class="ttname"><a href="../../d4/d7a/structast__channel__snapshot__hangup.html#aa4d0ccb9d0904892652f2f258c5ad225">ast_channel_snapshot_hangup::cause</a></div><div class="ttdeci">int cause</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00131">stasis_channels.h:131</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_af8a29cb15ed6c5226ac2064afbf9ae55"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#af8a29cb15ed6c5226ac2064afbf9ae55">ast_channel_snapshot::hangup</a></div><div class="ttdeci">struct ast_channel_snapshot_hangup * hangup</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00152">stasis_channels.h:152</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="stasis__channels_8h_html_a7571e6d10d716525aaa64b1f6583979b"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a></div><div class="ttdeci">struct ast_json * ast_channel_snapshot_to_json(const struct ast_channel_snapshot *snapshot, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build a JSON object from a ast_channel_snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01255">stasis_channels.c:1255</a></div></div>
<div class="ttc" id="channel_8h_html_abb5f5ff5988e039726f2c0d982342378"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abb5f5ff5988e039726f2c0d982342378">ast_cause2str</a></div><div class="ttdeci">const char * ast_cause2str(int state) attribute_pure</div><div class="ttdoc">Gives the string form of a given cause code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00612">channel.c:612</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae59741638af8493a18fbd531a248539e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae59741638af8493a18fbd531a248539e">&#9670;&nbsp;</a></span>channel_dialplan()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* channel_dialplan </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>old_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>new_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00445">445</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00070">ast_channel_snapshot_dialplan::appl</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01297">ast_channel_snapshot_cep_equal()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01255">ast_channel_snapshot_to_json()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../d4/d05/json_8h_source.html#l00224">AST_JSON_UTF8_VALIDATE</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00070">ast_channel_snapshot_dialplan::data</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00151">ast_channel_snapshot::dialplan</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;{</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_channel;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   <span class="comment">/* No Newexten event on first channel snapshot */</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="keywordflow">if</span> (!old_snapshot) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="comment">/* Empty application is not valid for a Newexten event */</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(new_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a>-&gt;<a class="code" href="../../dc/d3d/structast__channel__snapshot__dialplan.html#af535fe520577fb6b8795dea539bd0230">appl</a>)) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4a/stasis__channels_8h.html#a7d1fe42ab4ec60a596ea646df408c1d8">ast_channel_snapshot_cep_equal</a>(old_snapshot, new_snapshot)) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   json_channel = <a class="code" href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a>(new_snapshot, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <span class="keywordflow">if</span> (!json_channel) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o, s: s, s: s, s: o}&quot;</span>,</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;ChannelDialplan&quot;</span>,</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*tv, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="stringliteral">&quot;dialplan_app&quot;</span>, new_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a>-&gt;<a class="code" href="../../dc/d3d/structast__channel__snapshot__dialplan.html#af535fe520577fb6b8795dea539bd0230">appl</a>,</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="stringliteral">&quot;dialplan_app_data&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#ac319d5898e86709f7e25b1b2d73b7b12">AST_JSON_UTF8_VALIDATE</a>(new_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a>-&gt;<a class="code" href="../../dc/d3d/structast__channel__snapshot__dialplan.html#a7870f447ef3c43ebf148da15363b25dd">data</a>),</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="stringliteral">&quot;channel&quot;</span>, json_channel);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div><div class="ttc" id="structast__channel__snapshot__dialplan_html_a7870f447ef3c43ebf148da15363b25dd"><div class="ttname"><a href="../../dc/d3d/structast__channel__snapshot__dialplan.html#a7870f447ef3c43ebf148da15363b25dd">ast_channel_snapshot_dialplan::data</a></div><div class="ttdeci">const ast_string_field data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00070">stasis_channels.h:70</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__channels_8h_html_a7d1fe42ab4ec60a596ea646df408c1d8"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html#a7d1fe42ab4ec60a596ea646df408c1d8">ast_channel_snapshot_cep_equal</a></div><div class="ttdeci">int ast_channel_snapshot_cep_equal(const struct ast_channel_snapshot *old_snapshot, const struct ast_channel_snapshot *new_snapshot)</div><div class="ttdoc">Compares the context, exten and priority of two snapshots. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01297">stasis_channels.c:1297</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a5be1fb9b43b051b087f6952b6346909a"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">ast_channel_snapshot::dialplan</a></div><div class="ttdeci">struct ast_channel_snapshot_dialplan * dialplan</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00151">stasis_channels.h:151</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__channel__snapshot__dialplan_html_af535fe520577fb6b8795dea539bd0230"><div class="ttname"><a href="../../dc/d3d/structast__channel__snapshot__dialplan.html#af535fe520577fb6b8795dea539bd0230">ast_channel_snapshot_dialplan::appl</a></div><div class="ttdeci">const ast_string_field appl</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00070">stasis_channels.h:70</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="stasis__channels_8h_html_a7571e6d10d716525aaa64b1f6583979b"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a></div><div class="ttdeci">struct ast_json * ast_channel_snapshot_to_json(const struct ast_channel_snapshot *snapshot, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build a JSON object from a ast_channel_snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01255">stasis_channels.c:1255</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="json_8h_html_ac319d5898e86709f7e25b1b2d73b7b12"><div class="ttname"><a href="../../d4/d05/json_8h.html#ac319d5898e86709f7e25b1b2d73b7b12">AST_JSON_UTF8_VALIDATE</a></div><div class="ttdeci">#define AST_JSON_UTF8_VALIDATE(str)</div><div class="ttdoc">Check str for UTF-8 and replace with an empty string if fails the check. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l00224">json.h:224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02a679fde29e9e8b17cabb935aefaca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a679fde29e9e8b17cabb935aefaca5">&#9670;&nbsp;</a></span>channel_find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* channel_find </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01415">1415</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l01454">ast_channel_get_by_name()</a>.</p>
<div class="fragment"><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;{</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac7e42045272530c8678418993e75fd56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name(const char *name)</div><div class="ttdoc">Find a channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01454">channel.c:1454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa80d58680cd9fb6079ebfe5a5f1cb6bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa80d58680cd9fb6079ebfe5a5f1cb6bf">&#9670;&nbsp;</a></span>channel_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* channel_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>old_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>new_snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle channel state changes. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00426">426</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l01046">AST_FLAG_DEAD</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00393">channel_created_event()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00400">channel_destroyed_event()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00418">channel_state_change_event()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00155">ast_channel_snapshot::flags</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00153">ast_channel_snapshot::state</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot = new_snapshot ?</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      new_snapshot : old_snapshot;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordflow">if</span> (!old_snapshot) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a94697ef3e0d3cf86872e4b4a510070e5">channel_created_event</a>(snapshot, tv);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;new_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#aec78000b2897c094f68ed72559e18acd">flags</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a67415c9cab64152013f660deee6acef6">AST_FLAG_DEAD</a>)) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a92ecd2dd45ac3c0250ca96b420c9848f">channel_destroyed_event</a>(snapshot, tv);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (old_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab772a54f7effa7ab06616e36ae30988a">state</a> != new_snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab772a54f7effa7ab06616e36ae30988a">state</a>) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#acea13ea44c9770400f2ff55d0330e1c9">channel_state_change_event</a>(snapshot, tv);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a94697ef3e0d3cf86872e4b4a510070e5"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a94697ef3e0d3cf86872e4b4a510070e5">channel_created_event</a></div><div class="ttdeci">static struct ast_json * channel_created_event(struct ast_channel_snapshot *snapshot, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00393">res/stasis/app.c:393</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_acea13ea44c9770400f2ff55d0330e1c9"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#acea13ea44c9770400f2ff55d0330e1c9">channel_state_change_event</a></div><div class="ttdeci">static struct ast_json * channel_state_change_event(struct ast_channel_snapshot *snapshot, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00418">res/stasis/app.c:418</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a67415c9cab64152013f660deee6acef6"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a67415c9cab64152013f660deee6acef6">AST_FLAG_DEAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01046">channel.h:1046</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a92ecd2dd45ac3c0250ca96b420c9848f"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a92ecd2dd45ac3c0250ca96b420c9848f">channel_destroyed_event</a></div><div class="ttdeci">static struct ast_json * channel_destroyed_event(struct ast_channel_snapshot *snapshot, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00400">res/stasis/app.c:400</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ab772a54f7effa7ab06616e36ae30988a"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab772a54f7effa7ab06616e36ae30988a">ast_channel_snapshot::state</a></div><div class="ttdeci">enum ast_channel_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00153">stasis_channels.h:153</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_aec78000b2897c094f68ed72559e18acd"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#aec78000b2897c094f68ed72559e18acd">ast_channel_snapshot::flags</a></div><div class="ttdeci">struct ast_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00155">stasis_channels.h:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acea13ea44c9770400f2ff55d0330e1c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea13ea44c9770400f2ff55d0330e1c9">&#9670;&nbsp;</a></span>channel_state_change_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* channel_state_change_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00418">418</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00376">simple_channel_event()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00426">channel_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a208312a0f9deeb0952423cb20f22b9af">simple_channel_event</a>(<span class="stringliteral">&quot;ChannelStateChange&quot;</span>, snapshot, tv);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a208312a0f9deeb0952423cb20f22b9af"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a208312a0f9deeb0952423cb20f22b9af">simple_channel_event</a></div><div class="ttdeci">static struct ast_json * simple_channel_event(const char *type, struct ast_channel_snapshot *snapshot, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00376">res/stasis/app.c:376</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd1869a0575026887cd19d0373f91ab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1869a0575026887cd19d0373f91ab6">&#9670;&nbsp;</a></span>endpoint_find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* endpoint_find </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01614">1614</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00082">ast_endpoint_find_by_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;{</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d61/endpoints_8h.html#abc8d97f898208c3a943e16079376d658">ast_endpoint_find_by_id</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;}</div><div class="ttc" id="endpoints_8h_html_abc8d97f898208c3a943e16079376d658"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#abc8d97f898208c3a943e16079376d658">ast_endpoint_find_by_id</a></div><div class="ttdeci">struct ast_endpoint * ast_endpoint_find_by_id(const char *id)</div><div class="ttdoc">Finds the endpoint with the given tech[/resource] id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00082">main/endpoints.c:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a94b9fbc5f54eb1fb1c471bbdeeaa3e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94b9fbc5f54eb1fb1c471bbdeeaa3e80">&#9670;&nbsp;</a></span>endpoint_state_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void endpoint_state_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00190">190</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01511">stasis_publish()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>, message);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
<div class="ttc" id="stasis_8h_html_ac43d0a33d111e9f34b441b285c166cfc"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#ac43d0a33d111e9f34b441b285c166cfc">stasis_publish</a></div><div class="ttdeci">void stasis_publish(struct stasis_topic *topic, struct stasis_message *message)</div><div class="ttdoc">Publish a message to a topic&amp;#39;s subscribers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01511">stasis.c:1511</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1e4cad6d653fedd34fc6a3fd5830cab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e4cad6d653fedd34fc6a3fd5830cab">&#9670;&nbsp;</a></span>forwards_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a>* forwards_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00116">116</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00409">ao2_t_alloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00098">forwards_dtor()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">app_forwards::id</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00164">forwards_create_bridge()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00136">forwards_create_channel()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <span class="keywordflow">if</span> (!app || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>)) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a>(<span class="keyword">sizeof</span>(*forwards) + strlen(<span class="keywordtype">id</span>) + 1, <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a981ea923ff97dfea1ffc5532b652e049">forwards_dtor</a>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   strcpy(forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, <span class="keywordtype">id</span>); <span class="comment">/* SAFE */</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <span class="keywordflow">return</span> forwards;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="structapp__forwards_html_aa754553486730ec7ec2b2539aa4e1985"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">app_forwards::id</a></div><div class="ttdeci">char id[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">res/stasis/app.c:95</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad57326008c326db88dc36779741622b8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad57326008c326db88dc36779741622b8">ao2_t_alloc</a></div><div class="ttdeci">#define ao2_t_alloc(data_size, destructor_fn, debug_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00409">astobj2.h:409</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a981ea923ff97dfea1ffc5532b652e049"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a981ea923ff97dfea1ffc5532b652e049">forwards_dtor</a></div><div class="ttdeci">static void forwards_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00098">res/stasis/app.c:98</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e73e15b929bc0a5d3a69ff8fd96a37d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e73e15b929bc0a5d3a69ff8fd96a37d">&#9670;&nbsp;</a></span>forwards_create_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a>* forwards_create_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Forward a bridge's topics to an app </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00164">164</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00184">ast_bridge_topic()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">BRIDGE_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">FORWARD_BRIDGE</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">app_forwards::forward_type</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00116">forwards_create()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00108">forwards_unsubscribe()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01578">stasis_forward_all()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">app_forwards::topic_forward</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">app_subscribe_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   forwards = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ac1e4cad6d653fedd34fc6a3fd5830cab">forwards_create</a>(app, bridge ? bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a> : <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">forward_type</a> = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a>(<a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a7bdfd8273bb885f7a65f6f5d8188c915">ast_bridge_topic</a>(bridge), app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <span class="keywordflow">if</span> (!forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a> &amp;&amp; bridge) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ab5f535f64e0c1e0a134803071fae3770">forwards_unsubscribe</a>(forwards);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <span class="keywordflow">return</span> forwards;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structapp__forwards_html_a2cd8c66a3f0c194fc3f55b0b449b1893"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">app_forwards::forward_type</a></div><div class="ttdeci">enum forward_type forward_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">res/stasis/app.c:93</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ab5f535f64e0c1e0a134803071fae3770"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ab5f535f64e0c1e0a134803071fae3770">forwards_unsubscribe</a></div><div class="ttdeci">static void forwards_unsubscribe(struct app_forwards *forwards)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00108">res/stasis/app.c:108</a></div></div>
<div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
<div class="ttc" id="structapp__forwards_html_aa48de58f1ed73c68854aabc5706149bc"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">app_forwards::topic_forward</a></div><div class="ttdeci">struct stasis_forward * topic_forward</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">res/stasis/app.c:88</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ac1e4cad6d653fedd34fc6a3fd5830cab"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ac1e4cad6d653fedd34fc6a3fd5830cab">forwards_create</a></div><div class="ttdeci">static struct app_forwards * forwards_create(struct stasis_app *app, const char *id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00116">res/stasis/app.c:116</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a9ac9137d8506b8244b41486bf8e9d2a6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a></div><div class="ttdeci">#define BRIDGE_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">res/stasis/app.c:40</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">res/stasis/app.c:78</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a7bdfd8273bb885f7a65f6f5d8188c915"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a7bdfd8273bb885f7a65f6f5d8188c915">ast_bridge_topic</a></div><div class="ttdeci">struct stasis_topic * ast_bridge_topic(struct ast_bridge *bridge)</div><div class="ttdoc">A topic which publishes the events for a particular bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00184">stasis_bridges.c:184</a></div></div>
<div class="ttc" id="stasis_8h_html_a2513a93567ddc93510f7896b777da119"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a></div><div class="ttdeci">struct stasis_forward * stasis_forward_all(struct stasis_topic *from_topic, struct stasis_topic *to_topic)</div><div class="ttdoc">Create a subscription which forwards all messages from one topic to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01578">stasis.c:1578</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad545360ffdd9a3cb168628c715eea3bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad545360ffdd9a3cb168628c715eea3bd">&#9670;&nbsp;</a></span>forwards_create_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a>* forwards_create_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Forward a channel's topics to an app </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00136">136</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01502">ast_channel_topic()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00128">ast_channel_topic_all()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">CHANNEL_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">FORWARD_CHANNEL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">app_forwards::forward_type</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00116">forwards_create()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01578">stasis_forward_all()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">app_forwards::topic_forward</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">app_subscribe_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   forwards = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ac1e4cad6d653fedd34fc6a3fd5830cab">forwards_create</a>(app, chan ? <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan) : <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">forward_type</a> = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a>(</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      chan ? <a class="code" href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a>(chan) : <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a>(),</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordflow">if</span> (!forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a>) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">return</span> forwards;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a22bebb2d35ffb38b9bb202e88822d74c"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a></div><div class="ttdeci">#define CHANNEL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">res/stasis/app.c:41</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">res/stasis/app.c:77</a></div></div>
<div class="ttc" id="structapp__forwards_html_a2cd8c66a3f0c194fc3f55b0b449b1893"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">app_forwards::forward_type</a></div><div class="ttdeci">enum forward_type forward_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">res/stasis/app.c:93</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga34a3ac59fb8d0c49cbc2cb9b87261d31"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic_all(void)</div><div class="ttdoc">A topic which publishes the events for all channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00128">stasis_channels.c:128</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="channel_8h_html_afdeaf9abb1aecc715313a4f62c1cf9c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afdeaf9abb1aecc715313a4f62c1cf9c9">ast_channel_topic</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic(struct ast_channel *chan)</div><div class="ttdoc">A topic which publishes the events for a particular channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01502">channel_internal_api.c:1502</a></div></div>
<div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
<div class="ttc" id="structapp__forwards_html_aa48de58f1ed73c68854aabc5706149bc"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">app_forwards::topic_forward</a></div><div class="ttdeci">struct stasis_forward * topic_forward</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">res/stasis/app.c:88</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ac1e4cad6d653fedd34fc6a3fd5830cab"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ac1e4cad6d653fedd34fc6a3fd5830cab">forwards_create</a></div><div class="ttdeci">static struct app_forwards * forwards_create(struct stasis_app *app, const char *id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00116">res/stasis/app.c:116</a></div></div>
<div class="ttc" id="stasis_8h_html_a2513a93567ddc93510f7896b777da119"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a></div><div class="ttdeci">struct stasis_forward * stasis_forward_all(struct stasis_topic *from_topic, struct stasis_topic *to_topic)</div><div class="ttdoc">Create a subscription which forwards all messages from one topic to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01578">stasis.c:1578</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb0022fc4c6dfa2b1cb4f44a0995b6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb0022fc4c6dfa2b1cb4f44a0995b6a5">&#9670;&nbsp;</a></span>forwards_create_endpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a>* forwards_create_endpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Forward a endpoint's topics to an app </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">199</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00391">ast_endpoint_get_id()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00093">ast_endpoint_topic()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00121">ast_endpoint_topic_all_cached()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00101">ast_endpoint_topic_cached()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">ENDPOINT_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00057">stasis_app::endpoint_router</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00190">endpoint_state_cb()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">FORWARD_ENDPOINT</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">app_forwards::forward_type</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00116">forwards_create()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00108">forwards_unsubscribe()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01578">stasis_forward_all()</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router_add()</a>, <a class="el" href="../../d4/d25/stasis__message__router_8h_source.html#l00060">stasis_message_router_create</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">stasis_app::topic</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00090">app_forwards::topic_cached_forward</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">app_forwards::topic_forward</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01531">app_subscribe_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   forwards = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ac1e4cad6d653fedd34fc6a3fd5830cab">forwards_create</a>(app, endpoint ? <a class="code" href="../../d4/d61/endpoints_8h.html#acb88bdfcaf27c5ba3d54c8bb44ec480c">ast_endpoint_get_id</a>(endpoint) : <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">forward_type</a> = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <span class="keywordflow">if</span> (endpoint) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga566d4b2133a41b34f8b80de938d82e18">ast_endpoint_topic</a>(endpoint),</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;         app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#ad8da7f78fcdd24e790eef4af8365e5c9">topic_cached_forward</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a>(</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;         <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga56bc4873f8a6bc6cfa573347abf7560e">ast_endpoint_topic_cached</a>(endpoint), app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">topic</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">if</span> (!forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a> || !forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#ad8da7f78fcdd24e790eef4af8365e5c9">topic_cached_forward</a>) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;         <span class="comment">/* Half-subscribed is a bad thing */</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;         <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ab5f535f64e0c1e0a134803071fae3770">forwards_unsubscribe</a>(forwards);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="comment">/* Since endpoint subscriptions also subscribe to channels, in the case</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">       * of all endpoint subscriptions, we only want messages for the endpoints.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">       * As such, we route those particular messages and then re-publish them</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">       * on the app&#39;s topic.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a> = <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a1a1761c57f73009d305f95d8ad99e2a7">stasis_message_router_create</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">ast_endpoint_topic_all_cached</a>());</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">if</span> (!app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;         <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ab5f535f64e0c1e0a134803071fae3770">forwards_unsubscribe</a>(forwards);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;         <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a94b9fbc5f54eb1fb1c471bbdeeaa3e80">endpoint_state_cb</a>, app);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a>(), <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a94b9fbc5f54eb1fb1c471bbdeeaa3e80">endpoint_state_cb</a>, app);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>, -1);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;         app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordflow">return</span> forwards;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div><div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a5adc304e693097ec75b474e6a5309958"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a></div><div class="ttdeci">int stasis_message_router_add(struct stasis_message_router *router, struct stasis_message_type *message_type, stasis_subscription_cb callback, void *data)</div><div class="ttdoc">Add a route to a message router. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router.c:310</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga566d4b2133a41b34f8b80de938d82e18"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga566d4b2133a41b34f8b80de938d82e18">ast_endpoint_topic</a></div><div class="ttdeci">struct stasis_topic * ast_endpoint_topic(struct ast_endpoint *endpoint)</div><div class="ttdoc">Returns the topic for a specific endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00093">main/endpoints.c:93</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a94b9fbc5f54eb1fb1c471bbdeeaa3e80"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a94b9fbc5f54eb1fb1c471bbdeeaa3e80">endpoint_state_cb</a></div><div class="ttdeci">static void endpoint_state_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00190">res/stasis/app.c:190</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structapp__forwards_html_ad8da7f78fcdd24e790eef4af8365e5c9"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#ad8da7f78fcdd24e790eef4af8365e5c9">app_forwards::topic_cached_forward</a></div><div class="ttdeci">struct stasis_forward * topic_cached_forward</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00090">res/stasis/app.c:90</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab91de30d8cc5a14abf4c557e4a5c7c5c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">ast_endpoint_topic_all_cached</a></div><div class="ttdeci">struct stasis_topic * ast_endpoint_topic_all_cached(void)</div><div class="ttdoc">Cached topic for all endpoint related messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00121">stasis_endpoints.c:121</a></div></div>
<div class="ttc" id="structstasis__app_html_af588b244758c3d43c25c556b0cff9ed7"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#af588b244758c3d43c25c556b0cff9ed7">stasis_app::endpoint_router</a></div><div class="ttdeci">struct stasis_message_router * endpoint_router</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00057">res/stasis/app.c:57</a></div></div>
<div class="ttc" id="structapp__forwards_html_a2cd8c66a3f0c194fc3f55b0b449b1893"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">app_forwards::forward_type</a></div><div class="ttdeci">enum forward_type forward_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">res/stasis/app.c:93</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a1a1761c57f73009d305f95d8ad99e2a7"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a1a1761c57f73009d305f95d8ad99e2a7">stasis_message_router_create</a></div><div class="ttdeci">#define stasis_message_router_create(topic)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d25/stasis__message__router_8h_source.html#l00060">stasis_message_router.h:60</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga56bc4873f8a6bc6cfa573347abf7560e"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga56bc4873f8a6bc6cfa573347abf7560e">ast_endpoint_topic_cached</a></div><div class="ttdeci">struct stasis_topic * ast_endpoint_topic_cached(struct ast_endpoint *endpoint)</div><div class="ttdoc">Returns the topic for a specific endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00101">main/endpoints.c:101</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga5bef70de71c061b6ef7739d9634ebbb1"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_state_type(void)</div><div class="ttdoc">Message type for endpoint state changes. </div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ab5f535f64e0c1e0a134803071fae3770"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ab5f535f64e0c1e0a134803071fae3770">forwards_unsubscribe</a></div><div class="ttdeci">static void forwards_unsubscribe(struct app_forwards *forwards)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00108">res/stasis/app.c:108</a></div></div>
<div class="ttc" id="structstasis__app_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a136460a7868b48ef576c0fa505ef96db">stasis_app::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00051">res/stasis/app.c:51</a></div></div>
<div class="ttc" id="structapp__forwards_html_aa48de58f1ed73c68854aabc5706149bc"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">app_forwards::topic_forward</a></div><div class="ttdeci">struct stasis_forward * topic_forward</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">res/stasis/app.c:88</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ac1e4cad6d653fedd34fc6a3fd5830cab"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ac1e4cad6d653fedd34fc6a3fd5830cab">forwards_create</a></div><div class="ttdeci">static struct app_forwards * forwards_create(struct stasis_app *app, const char *id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00116">res/stasis/app.c:116</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga4d2d85d612142c53bd09d580857206a8"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_contact_state_type(void)</div><div class="ttdoc">Message type for endpoint contact state changes. </div></div>
<div class="ttc" id="stasis_8h_html_a2513a93567ddc93510f7896b777da119"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a></div><div class="ttdeci">struct stasis_forward * stasis_forward_all(struct stasis_topic *from_topic, struct stasis_topic *to_topic)</div><div class="ttdoc">Create a subscription which forwards all messages from one topic to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01578">stasis.c:1578</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">res/stasis/app.c:79</a></div></div>
<div class="ttc" id="endpoints_8h_html_acb88bdfcaf27c5ba3d54c8bb44ec480c"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#acb88bdfcaf27c5ba3d54c8bb44ec480c">ast_endpoint_get_id</a></div><div class="ttdeci">const char * ast_endpoint_get_id(const struct ast_endpoint *endpoint)</div><div class="ttdoc">Gets the tech/resource id of the given endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00391">main/endpoints.c:391</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_adb679c8c5450b8fdc65ef309ac078d76"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a></div><div class="ttdeci">#define ENDPOINT_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">res/stasis/app.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a981ea923ff97dfea1ffc5532b652e049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981ea923ff97dfea1ffc5532b652e049">&#9670;&nbsp;</a></span>forwards_dtor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void forwards_dtor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00098">98</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00090">app_forwards::topic_cached_forward</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">app_forwards::topic_forward</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00116">forwards_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#ifdef AST_DEVMODE</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards = obj;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_DEVMODE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#ad8da7f78fcdd24e790eef4af8365e5c9">topic_cached_forward</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div><div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structapp__forwards_html_ad8da7f78fcdd24e790eef4af8365e5c9"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#ad8da7f78fcdd24e790eef4af8365e5c9">app_forwards::topic_cached_forward</a></div><div class="ttdeci">struct stasis_forward * topic_cached_forward</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00090">res/stasis/app.c:90</a></div></div>
<div class="ttc" id="structapp__forwards_html_aa48de58f1ed73c68854aabc5706149bc"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">app_forwards::topic_forward</a></div><div class="ttdeci">struct stasis_forward * topic_forward</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">res/stasis/app.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05b060bca49eec569b5923526fef1cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05b060bca49eec569b5923526fef1cb4">&#9670;&nbsp;</a></span>forwards_filter_by_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int forwards_filter_by_type </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01161">1161</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">app_forwards::forward_type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01173">stasis_app_to_cli()</a>.</p>
<div class="fragment"><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;{</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forward = obj;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a> *<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a> = arg;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;   <span class="keywordflow">if</span> (forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">forward_type</a> == *forward_type) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   }</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;}</div><div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="structapp__forwards_html_a2cd8c66a3f0c194fc3f55b0b449b1893"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a2cd8c66a3f0c194fc3f55b0b449b1893">app_forwards::forward_type</a></div><div class="ttdeci">enum forward_type forward_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00093">res/stasis/app.c:93</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a></div><div class="ttdeci">forward_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00076">res/stasis/app.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac76af524af8e609eb73505a2df25a8be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76af524af8e609eb73505a2df25a8be">&#9670;&nbsp;</a></span>forwards_sort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int forwards_sort </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj_right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00257">257</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">app_forwards::id</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01156">OBJ_PARTIAL_KEY</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *object_left = obj_left;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *object_right = obj_right;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *right_key = obj_right;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keywordtype">int</span> cmp;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keywordflow">switch</span> (flags &amp; (<a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a>)) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a>:</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      right_key = object_right-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="comment">/* Fall through */</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>:</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      cmp = strcmp(object_left-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, right_key);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a>:</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">       * We could also use a partial key struct containing a length</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">       * so strlen() does not get called for every comparison instead.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      cmp = strncmp(object_left-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, right_key, strlen(right_key));</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="comment">/* Sort can only work on something with a full or partial key. */</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      cmp = 0;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <span class="keywordflow">return</span> cmp;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="ttc" id="structapp__forwards_html_aa754553486730ec7ec2b2539aa4e1985"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">app_forwards::id</a></div><div class="ttdeci">char id[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">res/stasis/app.c:95</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab0b4e11aba1e0a898b5d75427d3b13fa"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab0b4e11aba1e0a898b5d75427d3b13fa">OBJ_PARTIAL_KEY</a></div><div class="ttdeci">#define OBJ_PARTIAL_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01156">astobj2.h:1156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5f535f64e0c1e0a134803071fae3770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5f535f64e0c1e0a134803071fae3770">&#9670;&nbsp;</a></span>forwards_unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void forwards_unsubscribe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *&#160;</td>
          <td class="paramname"><em>forwards</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00108">108</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01548">stasis_forward_cancel()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00090">app_forwards::topic_cached_forward</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">app_forwards::topic_forward</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00164">forwards_create_bridge()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00199">forwards_create_endpoint()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a5713715b0f26f4943d0af05363b07027">stasis_forward_cancel</a>(forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">topic_forward</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a5713715b0f26f4943d0af05363b07027">stasis_forward_cancel</a>(forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#ad8da7f78fcdd24e790eef4af8365e5c9">topic_cached_forward</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#ad8da7f78fcdd24e790eef4af8365e5c9">topic_cached_forward</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structapp__forwards_html_ad8da7f78fcdd24e790eef4af8365e5c9"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#ad8da7f78fcdd24e790eef4af8365e5c9">app_forwards::topic_cached_forward</a></div><div class="ttdeci">struct stasis_forward * topic_cached_forward</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00090">res/stasis/app.c:90</a></div></div>
<div class="ttc" id="structapp__forwards_html_aa48de58f1ed73c68854aabc5706149bc"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa48de58f1ed73c68854aabc5706149bc">app_forwards::topic_forward</a></div><div class="ttdeci">struct stasis_forward * topic_forward</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00088">res/stasis/app.c:88</a></div></div>
<div class="ttc" id="stasis_8h_html_a5713715b0f26f4943d0af05363b07027"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a5713715b0f26f4943d0af05363b07027">stasis_forward_cancel</a></div><div class="ttdeci">struct stasis_forward * stasis_forward_cancel(struct stasis_forward *forward)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01548">stasis.c:1548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58025308dde450a79aa3243f13f7a12a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58025308dde450a79aa3243f13f7a12a">&#9670;&nbsp;</a></span>message_received_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int message_received_handler </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>endpoint_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>json_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00584">584</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">app_send()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">ast_endpoint_latest_snapshot()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00398">ast_endpoint_snapshot_to_json()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01531">app_subscribe_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *snapshot;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_endpoint;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = pvt;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   <span class="keywordtype">char</span> *tech;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="keywordtype">char</span> *resource;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   tech = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(endpoint_id);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   resource = strchr(tech, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <span class="keywordflow">if</span> (resource) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      resource[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      resource++;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(tech) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(resource)) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   snapshot = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">ast_endpoint_latest_snapshot</a>(tech, resource);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <span class="keywordflow">if</span> (!snapshot) {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   json_endpoint = <a class="code" href="../../d7/d44/stasis__endpoints_8h.html#a1a645ca4cff86118f533143b7b950e63">ast_endpoint_snapshot_to_json</a>(snapshot, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(snapshot, -1);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keywordflow">if</span> (!json_endpoint) {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   message = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o, s: o, s: o}&quot;</span>,</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;TextMessageReceived&quot;</span>,</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(<a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>(), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="stringliteral">&quot;endpoint&quot;</span>, json_endpoint,</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="stringliteral">&quot;message&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(json_msg));</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <span class="keywordflow">if</span> (message) {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a>(app, message);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(message);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div><div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga83c4127a98da15ab67e85d7aeabdbfdf"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">ast_endpoint_latest_snapshot</a></div><div class="ttdeci">struct ast_endpoint_snapshot * ast_endpoint_latest_snapshot(const char *tech, const char *resource)</div><div class="ttdoc">Retrieve the most recent snapshot for the endpoint with the given name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">stasis_endpoints.c:341</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a></div><div class="ttdoc">A snapshot of an endpoint&amp;#39;s state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00048">stasis_endpoints.h:48</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_afc2b5ef224bf880e5ef556a910f41a37"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a></div><div class="ttdeci">void app_send(struct stasis_app *app, struct ast_json *message)</div><div class="ttdoc">Send a message to the given application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">res/stasis/app.c:1038</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="stasis__endpoints_8h_html_a1a645ca4cff86118f533143b7b950e63"><div class="ttname"><a href="../../d7/d44/stasis__endpoints_8h.html#a1a645ca4cff86118f533143b7b950e63">ast_endpoint_snapshot_to_json</a></div><div class="ttdeci">struct ast_json * ast_endpoint_snapshot_to_json(const struct ast_endpoint_snapshot *snapshot, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build a JSON object from a ast_endpoint_snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00398">stasis_endpoints.c:398</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e97858a88fce502b61b4ddfb29b0a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e97858a88fce502b61b4ddfb29b0a1d">&#9670;&nbsp;</a></span>simple_bridge_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* simple_bridge_event </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00666">666</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00712">ast_bridge_snapshot_to_json()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00682">sub_bridge_update_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;{</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_bridge = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a76837dd4c259276cc59d163e4bc2a3b5">ast_bridge_snapshot_to_json</a>(snapshot, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keywordflow">if</span> (!json_bridge) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o, s: o}&quot;</span>,</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>,</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*tv, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="stringliteral">&quot;bridge&quot;</span>, json_bridge);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a76837dd4c259276cc59d163e4bc2a3b5"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a76837dd4c259276cc59d163e4bc2a3b5">ast_bridge_snapshot_to_json</a></div><div class="ttdeci">struct ast_json * ast_bridge_snapshot_to_json(const struct ast_bridge_snapshot *snapshot, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build a JSON object from a ast_bridge_snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00712">stasis_bridges.c:712</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a208312a0f9deeb0952423cb20f22b9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208312a0f9deeb0952423cb20f22b9af">&#9670;&nbsp;</a></span>simple_channel_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* simple_channel_event </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00376">376</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01255">ast_channel_snapshot_to_json()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00393">channel_created_event()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00418">channel_state_change_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_channel = <a class="code" href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a>(snapshot, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   <span class="keywordflow">if</span> (!json_channel) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o, s: o}&quot;</span>,</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>,</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*tv, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="stringliteral">&quot;channel&quot;</span>, json_channel);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="stasis__channels_8h_html_a7571e6d10d716525aaa64b1f6583979b"><div class="ttname"><a href="../../d9/d4a/stasis__channels_8h.html#a7571e6d10d716525aaa64b1f6583979b">ast_channel_snapshot_to_json</a></div><div class="ttdeci">struct ast_json * ast_channel_snapshot_to_json(const struct ast_channel_snapshot *snapshot, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build a JSON object from a ast_channel_snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01255">stasis_channels.c:1255</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ff54868b202bc8cdc51d54456d063ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ff54868b202bc8cdc51d54456d063ac">&#9670;&nbsp;</a></span>simple_endpoint_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* simple_endpoint_event </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00567">567</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00398">ast_endpoint_snapshot_to_json()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json_endpoint = <a class="code" href="../../d7/d44/stasis__endpoints_8h.html#a1a645ca4cff86118f533143b7b950e63">ast_endpoint_snapshot_to_json</a>(snapshot, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   <span class="keywordflow">if</span> (!json_endpoint) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o, s: o}&quot;</span>,</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>,</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*tv, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="stringliteral">&quot;endpoint&quot;</span>, json_endpoint);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="stasis__endpoints_8h_html_a1a645ca4cff86118f533143b7b950e63"><div class="ttname"><a href="../../d7/d44/stasis__endpoints_8h.html#a1a645ca4cff86118f533143b7b950e63">ast_endpoint_snapshot_to_json</a></div><div class="ttdeci">struct ast_json * ast_endpoint_snapshot_to_json(const struct ast_endpoint_snapshot *snapshot, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build a JSON object from a ast_endpoint_snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00398">stasis_endpoints.c:398</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21c9b284230bdd01438dbaf2be5c32a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c9b284230bdd01438dbaf2be5c32a5">&#9670;&nbsp;</a></span>stasis_app_event_allowed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_event_allowed </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the given event should be filtered. </p>
<p>Attempts first to find the event in the application's disallowed events list. If found then the event won't be sent to the remote. If not found in the disallowed list then a search is done to see if it can be found in the allowed list. If found the event message is sent, otherwise it is not sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>The application name </td></tr>
    <tr><td class="paramname">event</td><td>The event to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if allowed, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01739">1739</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01718">app_event_filter_matched()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">stasis_app::events_allowed</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">stasis_app::events_disallowed</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">stasis_app_get_by_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00079">stasis_app_message_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;{</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;   }</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;   res = !<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#af39fb31a4ed659c22c7459e471b2472b">app_event_filter_matched</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a>, event, 0) &amp;&amp;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#af39fb31a4ed659c22c7459e471b2472b">app_event_filter_matched</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a>, event, 1);</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(app, -1);</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;}</div><div class="ttc" id="structstasis__app_html_abb42ac1924e7ac90f40242af2910e77a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">stasis_app::events_allowed</a></div><div class="ttdeci">struct ast_json * events_allowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">res/stasis/app.c:69</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a3c7c67f73571bdd74cd792c3633b34ff"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a></div><div class="ttdeci">struct stasis_app * stasis_app_get_by_name(const char *name)</div><div class="ttdoc">Retrieve a handle to a Stasis application by its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01694">res_stasis.c:1694</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="structstasis__app_html_a4cccc48d4928137be22d5599caa0bf08"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">stasis_app::events_disallowed</a></div><div class="ttdeci">struct ast_json * events_disallowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">res/stasis/app.c:71</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_af39fb31a4ed659c22c7459e471b2472b"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#af39fb31a4ed659c22c7459e471b2472b">app_event_filter_matched</a></div><div class="ttdeci">static int app_event_filter_matched(struct ast_json *array, struct ast_json *event, int empty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01718">res/stasis/app.c:1718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a715fba69467600dc1692afa5176c97af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a715fba69467600dc1692afa5176c97af">&#9670;&nbsp;</a></span>stasis_app_event_filter_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_event_filter_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the application's event type filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The application </td></tr>
    <tr><td class="paramname">filter</td><td>The allowed and/or disallowed event filter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successfully set </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01713">1713</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01703">app_events_allowed_set()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01708">app_events_disallowed_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbc/resource__applications_8c_source.html#l00172">ast_ari_applications_filter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;{</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#aedc439af8e22cade71ea9be7d982cb5a">app_events_disallowed_set</a>(app, filter) || <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#adc5437bcc40f73f818081b97c55a14ce">app_events_allowed_set</a>(app, filter);</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_adc5437bcc40f73f818081b97c55a14ce"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#adc5437bcc40f73f818081b97c55a14ce">app_events_allowed_set</a></div><div class="ttdeci">static int app_events_allowed_set(struct stasis_app *app, struct ast_json *filter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01703">res/stasis/app.c:1703</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_aedc439af8e22cade71ea9be7d982cb5a"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#aedc439af8e22cade71ea9be7d982cb5a">app_events_disallowed_set</a></div><div class="ttdeci">static int app_events_disallowed_set(struct stasis_app *app, struct ast_json *filter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01708">res/stasis/app.c:1708</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a831e5cbdbab284329b5850ec86ea1c46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831e5cbdbab284329b5850ec86ea1c46">&#9670;&nbsp;</a></span>stasis_app_event_filter_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* stasis_app_event_filter_to_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td>
          <td class="paramname"><em>json</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert and add the app's event type filter(s) to the given json object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The application </td></tr>
    <tr><td class="paramname">json</td><td>The json object to add the filter data to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The given json object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01641">1641</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00352">ast_json_array_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">stasis_app::events_allowed</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">stasis_app::events_disallowed</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01866">stasis_app_object_to_json()</a>.</p>
<div class="fragment"><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;{</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;   <span class="keywordflow">if</span> (!app || !json) {</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <span class="keywordflow">return</span> json;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;   }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;events_allowed&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a> ?</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">events_allowed</a>) : <a class="code" href="../../d4/d05/json_8h.html#a48d874eed79fb2bbeb0557440e33ae67">ast_json_array_create</a>());</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;events_disallowed&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a> ?</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">events_disallowed</a>) : <a class="code" href="../../d4/d05/json_8h.html#a48d874eed79fb2bbeb0557440e33ae67">ast_json_array_create</a>());</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;   <span class="keywordflow">return</span> json;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;}</div><div class="ttc" id="structstasis__app_html_abb42ac1924e7ac90f40242af2910e77a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#abb42ac1924e7ac90f40242af2910e77a">stasis_app::events_allowed</a></div><div class="ttdeci">struct ast_json * events_allowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00069">res/stasis/app.c:69</a></div></div>
<div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="json_8h_html_a48d874eed79fb2bbeb0557440e33ae67"><div class="ttname"><a href="../../d4/d05/json_8h.html#a48d874eed79fb2bbeb0557440e33ae67">ast_json_array_create</a></div><div class="ttdeci">struct ast_json * ast_json_array_create(void)</div><div class="ttdoc">Create a empty JSON array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00352">json.c:352</a></div></div>
<div class="ttc" id="structstasis__app_html_a4cccc48d4928137be22d5599caa0bf08"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a4cccc48d4928137be22d5599caa0bf08">stasis_app::events_disallowed</a></div><div class="ttdeci">struct ast_json * events_disallowed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00071">res/stasis/app.c:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d9ee347f7e73966127369176bf1fd75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9ee347f7e73966127369176bf1fd75">&#9670;&nbsp;</a></span>stasis_app_get_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_get_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get debug status of an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The app to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The debug flag for the app || the global debug flag </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00863">863</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">global_debug</a>.</p>
<div class="fragment"><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;{</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">return</span> (app ? app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> : 0) || <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a518ccaffd69d0c08d89a722a2f6b55c3"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a></div><div class="ttdeci">int global_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">res/stasis/app.c:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af858fde8ee399c0f266e908e780daf0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af858fde8ee399c0f266e908e780daf0a">&#9670;&nbsp;</a></span>stasis_app_get_debug_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_app_get_debug_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get debug status of an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>The app_name to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The debug flag for the app || the global debug flag </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00868">868</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">global_debug</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">stasis_app_get_by_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dbc/res__ari_8c_source.html#l00885">ast_ari_callback()</a>, and <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00079">stasis_app_message_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <span class="keywordtype">int</span> debug_enabled = 0;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a>) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      debug_enabled = 1;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">if</span> (app) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;         <span class="keywordflow">if</span> (app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            debug_enabled = 1;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;         }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(app, -1);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <span class="keywordflow">return</span> debug_enabled;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a3c7c67f73571bdd74cd792c3633b34ff"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a></div><div class="ttdeci">struct stasis_app * stasis_app_get_by_name(const char *name)</div><div class="ttdoc">Retrieve a handle to a Stasis application by its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01694">res_stasis.c:1694</a></div></div>
<div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a518ccaffd69d0c08d89a722a2f6b55c3"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a></div><div class="ttdeci">int global_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">res/stasis/app.c:45</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f04206486943b8208052323a7dfd101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f04206486943b8208052323a7dfd101">&#9670;&nbsp;</a></span>stasis_app_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stasis_app_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve an application's name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>An application</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the application. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01156">1156</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00208">app_compare()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00186">app_hash()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01083">app_send_end_msg()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02019">app_subscribe()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02064">app_unsubscribe()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01699">append_name()</a>, <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00377">ari_set_debug()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00142">bridge_stasis_push_peek()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00309">cleanup_cb()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00112">device_state_subscription_create()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00439">devices_to_json()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00140">find_device_state_subscription()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00991">send_start_msg_snapshots()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>, and <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00360">subscribe_device_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;{</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   <span class="keywordflow">return</span> app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div><div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6599f1f9ec81efa1150b8394c0903858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6599f1f9ec81efa1150b8394c0903858">&#9670;&nbsp;</a></span>stasis_app_register_event_sources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_register_event_sources </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register core event sources. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01627">1627</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01816">stasis_app_register_event_source()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02337">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;{</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a>);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a>);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a>);</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a710d1b2a19daeb01bc02848bc9f17ba6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a></div><div class="ttdeci">struct stasis_app_event_source bridge_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01523">res/stasis/app.c:1523</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ae04f4f3a6ef25fe9dbb77fc560258ace"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a></div><div class="ttdeci">struct stasis_app_event_source endpoint_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01619">res/stasis/app.c:1619</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_aa82f8cf6d2b72f1b1d0a6d8a5c623c94"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a></div><div class="ttdeci">struct stasis_app_event_source channel_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01420">res/stasis/app.c:1420</a></div></div>
<div class="ttc" id="stasis__app_8h_html_aad7e2e88b43d2044074a802ebd34409d"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#aad7e2e88b43d2044074a802ebd34409d">stasis_app_register_event_source</a></div><div class="ttdeci">void stasis_app_register_event_source(struct stasis_app_event_source *obj)</div><div class="ttdoc">Register an application event source. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01816">res_stasis.c:1816</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a021880a772de9d50853755f00f3e1715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021880a772de9d50853755f00f3e1715">&#9670;&nbsp;</a></span>stasis_app_set_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_set_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/disable request/response and event logging on an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The app to debug </td></tr>
    <tr><td class="paramname">debug</td><td>If non-zero, enable debugging. If zero, disable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00842">842</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00377">ari_set_debug()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00887">stasis_app_set_global_debug()</a>.</p>
<div class="fragment"><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> = <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;}</div><div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49a46dbc343b8338f76152e781349a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a46dbc343b8338f76152e781349a33">&#9670;&nbsp;</a></span>stasis_app_set_debug_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_set_debug_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/disable request/response and event logging on an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_name</td><td>The app name to debug </td></tr>
    <tr><td class="paramname">debug</td><td>If non-zero, enable debugging. If zero, disable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00851">851</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">stasis_app_get_by_name()</a>.</p>
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a>(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keywordflow">if</span> (!app) {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> = <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a3c7c67f73571bdd74cd792c3633b34ff"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a></div><div class="ttdeci">struct stasis_app * stasis_app_get_by_name(const char *name)</div><div class="ttdoc">Retrieve a handle to a Stasis application by its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01694">res_stasis.c:1694</a></div></div>
<div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a793181753c292309203d2bd578c2f489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a793181753c292309203d2bd578c2f489">&#9670;&nbsp;</a></span>stasis_app_set_global_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_set_global_debug </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/disable request/response and event logging on all applications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">debug</td><td>If non-zero, enable debugging. If zero, disable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00887">887</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00549">ao2_iterator_cleanup()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00463">app_name()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">global_debug</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01708">stasis_app_get_all()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01694">stasis_app_get_by_name()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00842">stasis_app_set_debug()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00377">ari_set_debug()</a>.</p>
<div class="fragment"><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;{</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a> = <a class="code" href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a>) {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *app_names = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a9dd5d5852231994902e0c5c67ead2fd6">stasis_app_get_all</a>();</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> it_app_names;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">if</span> (!app_names || !<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(app_names)) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app_names);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      it_app_names = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(app_names, 0);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">while</span> ((app_name = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;it_app_names))) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;         <span class="keywordflow">if</span> ((app = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a>(app_name))) {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a021880a772de9d50853755f00f3e1715">stasis_app_set_debug</a>(app, 0);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;         }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app_name);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      }</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a318d97aac22f53655de7c4754aedefba">ao2_iterator_cleanup</a>(&amp;it_app_names);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app_names);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a3c7c67f73571bdd74cd792c3633b34ff"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a3c7c67f73571bdd74cd792c3633b34ff">stasis_app_get_by_name</a></div><div class="ttdeci">struct stasis_app * stasis_app_get_by_name(const char *name)</div><div class="ttdoc">Retrieve a handle to a Stasis application by its name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01694">res_stasis.c:1694</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="res__xmpp_8c_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../dc/d6b/res__xmpp_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a></div><div class="ttdeci">static int debug</div><div class="ttdoc">Global debug status. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6b/res__xmpp_8c_source.html#l00435">res_xmpp.c:435</a></div></div>
<div class="ttc" id="astobj2_8h_html_a318d97aac22f53655de7c4754aedefba"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a318d97aac22f53655de7c4754aedefba">ao2_iterator_cleanup</a></div><div class="ttdeci">void ao2_iterator_cleanup(struct ao2_iterator *iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00549">astobj2_container.c:549</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a021880a772de9d50853755f00f3e1715"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a021880a772de9d50853755f00f3e1715">stasis_app_set_debug</a></div><div class="ttdeci">void stasis_app_set_debug(struct stasis_app *app, int debug)</div><div class="ttdoc">Enable/disable request/response and event logging on an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00842">res/stasis/app.c:842</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a518ccaffd69d0c08d89a722a2f6b55c3"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a518ccaffd69d0c08d89a722a2f6b55c3">global_debug</a></div><div class="ttdeci">int global_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">res/stasis/app.c:45</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a9dd5d5852231994902e0c5c67ead2fd6"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a9dd5d5852231994902e0c5c67ead2fd6">stasis_app_get_all</a></div><div class="ttdeci">struct ao2_container * stasis_app_get_all(void)</div><div class="ttdoc">Gets the names of all registered Stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01708">res_stasis.c:1708</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a846417e8ae7b7f9d9fe66904d7ae2bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a846417e8ae7b7f9d9fe66904d7ae2bcc">&#9670;&nbsp;</a></span>stasis_app_to_cli()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_to_cli </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump properties of a <code><a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a></code> to the CLI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>The application </td></tr>
    <tr><td class="paramname">a</td><td>The CLI arguments </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01173">1173</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00123">bridges</a>, <a class="el" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">stasis_app::debug</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">endpoints</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">FORWARD_BRIDGE</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">FORWARD_CHANNEL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">FORWARD_ENDPOINT</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01161">forwards_filter_by_type()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">app_forwards::id</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">app_forwards::interested</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../df/d5f/res_2stasis_2app_8h_source.html#l00049">STASIS_APP_SUBSCRIBE_ALL</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00065">stasis_app::subscription_model</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dfa/res_2ari_2cli_8c_source.html#l00343">ari_show_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;{</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *<a class="code" href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> *<a class="code" href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forward;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a>;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Name: %s\n&quot;</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="stringliteral">&quot;  Debug: %s\n&quot;</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="stringliteral">&quot;  Subscription Model: %s\n&quot;</span>,</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>,</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>,</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ad23d07cf45d277b6b988fee318432fd7">subscription_model</a> == <a class="code" href="../../df/d5f/res_2stasis_2app_8h.html#aed792ab54d9817f46bfcc787e2754dc8abb410559dd7f7ee3fbd477cc39d73afe">STASIS_APP_SUBSCRIBE_ALL</a> ?</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;         <span class="stringliteral">&quot;Global Resource Subscription&quot;</span> :</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;         <span class="stringliteral">&quot;Application/Explicit Resource Subscription&quot;</span>);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;  Subscriptions: %d\n&quot;</span>, <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>));</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;    Channels:\n&quot;</span>);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   forward_type = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   channels = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>,</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a>, &amp;forward_type);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <span class="keywordflow">if</span> (channels) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">while</span> ((forward = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(channels))) {</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;      %s (%d)\n&quot;</span>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forward, -1);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(channels);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;    Bridges:\n&quot;</span>);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   forward_type = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a>;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   bridges = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>,</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a>, &amp;forward_type);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;   <span class="keywordflow">if</span> (bridges) {</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keywordflow">while</span> ((forward = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(bridges))) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;      %s (%d)\n&quot;</span>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forward, -1);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(bridges);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;    Endpoints:\n&quot;</span>);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;   forward_type = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a>;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   endpoints = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>,</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a>, &amp;forward_type);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   <span class="keywordflow">if</span> (endpoints) {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">while</span> ((forward = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(endpoints))) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;      %s (%d)\n&quot;</span>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">id</a>, forward-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forward, -1);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      }</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(endpoints);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;   }</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div><div class="ttc" id="structapp__forwards_html_aa754553486730ec7ec2b2539aa4e1985"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#aa754553486730ec7ec2b2539aa4e1985">app_forwards::id</a></div><div class="ttdeci">char id[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00095">res/stasis/app.c:95</a></div></div>
<div class="ttc" id="structstasis__app_html_ac3e1795766a80ec63b157951b4b9a7d4"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ac3e1795766a80ec63b157951b4b9a7d4">stasis_app::debug</a></div><div class="ttdeci">int debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00067">res/stasis/app.c:67</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a05b060bca49eec569b5923526fef1cb4"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a05b060bca49eec569b5923526fef1cb4">forwards_filter_by_type</a></div><div class="ttdeci">static int forwards_filter_by_type(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01161">res/stasis/app.c:1161</a></div></div>
<div class="ttc" id="structapp__forwards_html_a0ebe65d4c1af116e2e32b97cfa46af8a"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">app_forwards::interested</a></div><div class="ttdeci">int interested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">res/stasis/app.c:85</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a2d33835630407256b44b09bde1f12f70">FORWARD_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00077">res/stasis/app.c:77</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="res_2stasis_2app_8h_html_aed792ab54d9817f46bfcc787e2754dc8abb410559dd7f7ee3fbd477cc39d73afe"><div class="ttname"><a href="../../df/d5f/res_2stasis_2app_8h.html#aed792ab54d9817f46bfcc787e2754dc8abb410559dd7f7ee3fbd477cc39d73afe">STASIS_APP_SUBSCRIBE_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/res_2stasis_2app_8h_source.html#l00049">res/stasis/app.h:49</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="main_2endpoints_8c_html_a0b6312c44448ff7ed80ac99b3077e438"><div class="ttname"><a href="../../d7/d4b/main_2endpoints_8c.html#a0b6312c44448ff7ed80ac99b3077e438">endpoints</a></div><div class="ttdeci">static struct ao2_container * endpoints</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00050">main/endpoints.c:50</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="codec__dahdi_8c_html_aea0622703055b62259903cdab213319b"><div class="ttname"><a href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a></div><div class="ttdeci">static struct channel_usage channels</div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="bridge_8c_html_aaa64e0df7082a1a31b65d0c956bc2534"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a></div><div class="ttdeci">static struct ao2_container * bridges</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00123">bridge.c:123</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663">forward_type</a></div><div class="ttdeci">forward_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00076">res/stasis/app.c:76</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a94e22266ef15628389bea86cdca8caef">FORWARD_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00078">res/stasis/app.c:78</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a2ecf07a317ee26b38344a67b3aee4663a361770260939c2a85fa65737ac69e6d8">FORWARD_ENDPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00079">res/stasis/app.c:79</a></div></div>
<div class="ttc" id="structstasis__app_html_ad23d07cf45d277b6b988fee318432fd7"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ad23d07cf45d277b6b988fee318432fd7">stasis_app::subscription_model</a></div><div class="ttdeci">enum stasis_app_subscription_model subscription_model</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00065">res/stasis/app.c:65</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31b48d94fdb79f3d0fc2bc10b229458e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31b48d94fdb79f3d0fc2bc10b229458e">&#9670;&nbsp;</a></span>stasis_app_unregister_event_sources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stasis_app_unregister_event_sources </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister core event sources. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01634">1634</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01823">stasis_app_unregister_event_source()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02195">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;{</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a>);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a>);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a>(&amp;<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a>);</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a710d1b2a19daeb01bc02848bc9f17ba6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a710d1b2a19daeb01bc02848bc9f17ba6">bridge_event_source</a></div><div class="ttdeci">struct stasis_app_event_source bridge_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01523">res/stasis/app.c:1523</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ae04f4f3a6ef25fe9dbb77fc560258ace"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae04f4f3a6ef25fe9dbb77fc560258ace">endpoint_event_source</a></div><div class="ttdeci">struct stasis_app_event_source endpoint_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01619">res/stasis/app.c:1619</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a6899b9113d6f268865efa52e88a425f3"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a6899b9113d6f268865efa52e88a425f3">stasis_app_unregister_event_source</a></div><div class="ttdeci">void stasis_app_unregister_event_source(struct stasis_app_event_source *obj)</div><div class="ttdoc">Unregister an application event source. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l01823">res_stasis.c:1823</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_aa82f8cf6d2b72f1b1d0a6d8a5c623c94"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">channel_event_source</a></div><div class="ttdeci">struct stasis_app_event_source channel_event_source</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01420">res/stasis/app.c:1420</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab4771e60b5ab6b5a3289806acc68aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab4771e60b5ab6b5a3289806acc68aaf">&#9670;&nbsp;</a></span>sub_bridge_update_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sub_bridge_update_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00682">682</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">app_send()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00268">ast_json_string_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00036">ast_bridge_snapshot_update::new_snapshot</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00035">ast_bridge_snapshot_update::old_snapshot</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00666">simple_bridge_event()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message_timestamp()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::uniqueid</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>, <a class="el" href="../../d0/d89/codec__g726_8c_source.html#l00367">update()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::video_source_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html">ast_bridge_snapshot_update</a> *<a class="code" href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span>timeval *tv;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   update = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   tv = <a class="code" href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a>(message);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="keywordflow">if</span> (!update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a300bfc6cec12facf0e5b203d670aa2d1">new_snapshot</a>) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      json = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a4e97858a88fce502b61b4ddfb29b0a1d">simple_bridge_event</a>(<span class="stringliteral">&quot;BridgeDestroyed&quot;</span>, update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">old_snapshot</a>, tv);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">old_snapshot</a>) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      json = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a4e97858a88fce502b61b4ddfb29b0a1d">simple_bridge_event</a>(<span class="stringliteral">&quot;BridgeCreated&quot;</span>, update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a300bfc6cec12facf0e5b203d670aa2d1">new_snapshot</a>, tv);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a300bfc6cec12facf0e5b203d670aa2d1">new_snapshot</a> &amp;&amp; update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">old_snapshot</a></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      &amp;&amp; strcmp(update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a300bfc6cec12facf0e5b203d670aa2d1">new_snapshot</a>-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">video_source_id</a>, update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">old_snapshot</a>-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">video_source_id</a>)) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      json = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a4e97858a88fce502b61b4ddfb29b0a1d">simple_bridge_event</a>(<span class="stringliteral">&quot;BridgeVideoSourceChanged&quot;</span>, update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a300bfc6cec12facf0e5b203d670aa2d1">new_snapshot</a>, tv);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">if</span> (json &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">old_snapshot</a>-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">video_source_id</a>)) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;old_video_source_id&quot;</span>,</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">old_snapshot</a>-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">video_source_id</a>));</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <span class="keywordflow">if</span> (json) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a>(app, json);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keywordflow">if</span> (!update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a300bfc6cec12facf0e5b203d670aa2d1">new_snapshot</a> &amp;&amp; update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">old_snapshot</a>) {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a>(app, <span class="stringliteral">&quot;bridge&quot;</span>, update-&gt;<a class="code" href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">old_snapshot</a>-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, 1);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div><div class="ttc" id="codec__g726_8c_html_a8c58a1d1fd9436ff5145385d3ef7a430"><div class="ttname"><a href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a></div><div class="ttdeci">static void update(int code_size, int y, int wi, int fi, int dq, int sr, int dqsez, struct g726_state *state_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/codec__g726_8c_source.html#l00367">codec_g726.c:367</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a54eb8725951c786429e4b86d7159309e"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">ast_bridge_snapshot::video_source_id</a></div><div class="ttdeci">const ast_string_field video_source_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__bridge__snapshot__update_html"><div class="ttname"><a href="../../d2/d33/structast__bridge__snapshot__update.html">ast_bridge_snapshot_update</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00034">stasis_bridges.h:34</a></div></div>
<div class="ttc" id="json_8h_html_adc52f8d76b7fdd0c8d12987981fd5bf5"><div class="ttname"><a href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a></div><div class="ttdeci">struct ast_json * ast_json_string_create(const char *value)</div><div class="ttdoc">Construct a JSON string from value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00268">json.c:268</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a4e97858a88fce502b61b4ddfb29b0a1d"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a4e97858a88fce502b61b4ddfb29b0a1d">simple_bridge_event</a></div><div class="ttdeci">static struct ast_json * simple_bridge_event(const char *type, struct ast_bridge_snapshot *snapshot, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00666">res/stasis/app.c:666</a></div></div>
<div class="ttc" id="stasis_8h_html_a0a9c10eadd9db34f8c0b19619752ea93"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a></div><div class="ttdeci">const struct timeval * stasis_message_timestamp(const struct stasis_message *msg)</div><div class="ttdoc">Get the time when a message was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message.c:203</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ae25c865e186eb0d4896afd416cb03ec9"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a></div><div class="ttdeci">static int unsubscribe(struct stasis_app *app, const char *kind, const char *id, int terminate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">res/stasis/app.c:1339</a></div></div>
<div class="ttc" id="structast__bridge__snapshot__update_html_a8fc4a6f90768c6d81351045201e6fd21"><div class="ttname"><a href="../../d2/d33/structast__bridge__snapshot__update.html#a8fc4a6f90768c6d81351045201e6fd21">ast_bridge_snapshot_update::old_snapshot</a></div><div class="ttdeci">struct ast_bridge_snapshot * old_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00035">stasis_bridges.h:35</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_afc2b5ef224bf880e5ef556a910f41a37"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a></div><div class="ttdeci">void app_send(struct stasis_app *app, struct ast_json *message)</div><div class="ttdoc">Send a message to the given application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">res/stasis/app.c:1038</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">ast_bridge_snapshot::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="structast__bridge__snapshot__update_html_a300bfc6cec12facf0e5b203d670aa2d1"><div class="ttname"><a href="../../d2/d33/structast__bridge__snapshot__update.html#a300bfc6cec12facf0e5b203d670aa2d1">ast_bridge_snapshot_update::new_snapshot</a></div><div class="ttdeci">struct ast_bridge_snapshot * new_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00036">stasis_bridges.h:36</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abac7a8471d743c59f9d8051afc4b8ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac7a8471d743c59f9d8051afc4b8ed9">&#9670;&nbsp;</a></span>sub_channel_update_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sub_channel_update_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00543">543</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">app_send()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01046">AST_FLAG_DEAD</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00146">ast_channel_snapshot::base</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00536">channel_monitors</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00155">ast_channel_snapshot::flags</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00175">ast_channel_snapshot_update::new_snapshot</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00174">ast_channel_snapshot_update::old_snapshot</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message_timestamp()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00112">ast_channel_snapshot_base::uniqueid</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>, and <a class="el" href="../../d0/d89/codec__g726_8c_source.html#l00367">update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a> *<a class="code" href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a> = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#acd2cb2d60f55c910531d8a33a64ba29f">channel_monitors</a>); ++i) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *msg;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      msg = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#acd2cb2d60f55c910531d8a33a64ba29f">channel_monitors</a>[i](update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">old_snapshot</a>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">new_snapshot</a>,</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;         <a class="code" href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a>(message));</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;         <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a>(app, msg);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(msg);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">new_snapshot</a>-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#aec78000b2897c094f68ed72559e18acd">flags</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a67415c9cab64152013f660deee6acef6">AST_FLAG_DEAD</a>)) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a>(app, <span class="stringliteral">&quot;channel&quot;</span>, update-&gt;<a class="code" href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">new_snapshot</a>-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, 1);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div><div class="ttc" id="structast__channel__snapshot_html_ab6103ad1bbc12922f93c0526204573cf"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">ast_channel_snapshot::base</a></div><div class="ttdeci">struct ast_channel_snapshot_base * base</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00146">stasis_channels.h:146</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="codec__g726_8c_html_a8c58a1d1fd9436ff5145385d3ef7a430"><div class="ttname"><a href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a></div><div class="ttdeci">static void update(int code_size, int y, int wi, int fi, int dq, int sr, int dqsez, struct g726_state *state_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/codec__g726_8c_source.html#l00367">codec_g726.c:367</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">ast_channel_snapshot_base::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00112">stasis_channels.h:112</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="structast__channel__snapshot__update_html"><div class="ttname"><a href="../../da/d33/structast__channel__snapshot__update.html">ast_channel_snapshot_update</a></div><div class="ttdoc">Structure representing a change of snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00173">stasis_channels.h:173</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_acd2cb2d60f55c910531d8a33a64ba29f"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#acd2cb2d60f55c910531d8a33a64ba29f">channel_monitors</a></div><div class="ttdeci">static channel_snapshot_monitor channel_monitors[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00536">res/stasis/app.c:536</a></div></div>
<div class="ttc" id="stasis_8h_html_a0a9c10eadd9db34f8c0b19619752ea93"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a></div><div class="ttdeci">const struct timeval * stasis_message_timestamp(const struct stasis_message *msg)</div><div class="ttdoc">Get the time when a message was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message.c:203</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ae25c865e186eb0d4896afd416cb03ec9"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a></div><div class="ttdeci">static int unsubscribe(struct stasis_app *app, const char *kind, const char *id, int terminate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">res/stasis/app.c:1339</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a67415c9cab64152013f660deee6acef6"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a67415c9cab64152013f660deee6acef6">AST_FLAG_DEAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01046">channel.h:1046</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_afc2b5ef224bf880e5ef556a910f41a37"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a></div><div class="ttdeci">void app_send(struct stasis_app *app, struct ast_json *message)</div><div class="ttdoc">Send a message to the given application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">res/stasis/app.c:1038</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structast__channel__snapshot__update_html_aab7bdfa0efe2821d545c39d3a67fec38"><div class="ttname"><a href="../../da/d33/structast__channel__snapshot__update.html#aab7bdfa0efe2821d545c39d3a67fec38">ast_channel_snapshot_update::new_snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * new_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00175">stasis_channels.h:175</a></div></div>
<div class="ttc" id="structast__channel__snapshot__update_html_a894e311c723d5b9288ec025689ae373f"><div class="ttname"><a href="../../da/d33/structast__channel__snapshot__update.html#a894e311c723d5b9288ec025689ae373f">ast_channel_snapshot_update::old_snapshot</a></div><div class="ttdeci">struct ast_channel_snapshot * old_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00174">stasis_channels.h:174</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_aec78000b2897c094f68ed72559e18acd"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#aec78000b2897c094f68ed72559e18acd">ast_channel_snapshot::flags</a></div><div class="ttdeci">struct ast_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00155">stasis_channels.h:155</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a687b2abb6bfcf3d33553ccff3215535d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a687b2abb6bfcf3d33553ccff3215535d">&#9670;&nbsp;</a></span>sub_default_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sub_default_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">347</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">app_send()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf2f12b95a707aaa2e0b9a5840686b081">ast_channel_dial_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00318">call_forwarded_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02264">stasis_app_get_sanitizer()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00229">stasis_message_to_json()</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message_type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <span class="comment">/* The dial type can be converted to JSON so it will always be passed</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">    * here.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a>(message) == <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf2f12b95a707aaa2e0b9a5840686b081">ast_channel_dial_type</a>()) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a5ce8178d1fdf1192f8de38ba5a08c56b">call_forwarded_handler</a>(app, message);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="comment">/* By default, send any message that has a JSON representation */</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   json = <a class="code" href="../../dd/d79/stasis_8h.html#a415493fbb3571cc6c9e7ac599309110f">stasis_message_to_json</a>(message, <a class="code" href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a>());</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keywordflow">if</span> (!json) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a>(app, json);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="stasis_8h_html_a9356e8a29344ca4eac93088198ccff89"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_message_type(const struct stasis_message *msg)</div><div class="ttdoc">Get the message type for a stasis_message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message.c:187</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="stasis_8h_html_a415493fbb3571cc6c9e7ac599309110f"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a415493fbb3571cc6c9e7ac599309110f">stasis_message_to_json</a></div><div class="ttdeci">struct ast_json * stasis_message_to_json(struct stasis_message *msg, struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build the JSON representation of the message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00229">stasis_message.c:229</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a5ce8178d1fdf1192f8de38ba5a08c56b"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a5ce8178d1fdf1192f8de38ba5a08c56b">call_forwarded_handler</a></div><div class="ttdeci">static void call_forwarded_handler(struct stasis_app *app, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00318">res/stasis/app.c:318</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_afc2b5ef224bf880e5ef556a910f41a37"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a></div><div class="ttdeci">void app_send(struct stasis_app *app, struct ast_json *message)</div><div class="ttdoc">Send a message to the given application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">res/stasis/app.c:1038</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a75e0d54649ef61d0ac78c70bf9ff58ec"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a75e0d54649ef61d0ac78c70bf9ff58ec">stasis_app_get_sanitizer</a></div><div class="ttdeci">struct stasis_message_sanitizer * stasis_app_get_sanitizer(void)</div><div class="ttdoc">Get the Stasis message sanitizer for app_stasis applications. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/res__stasis_8c_source.html#l02264">res_stasis.c:2264</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf2f12b95a707aaa2e0b9a5840686b081"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf2f12b95a707aaa2e0b9a5840686b081">ast_channel_dial_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_dial_type(void)</div><div class="ttdoc">Message type for when a channel dials another channel. </div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24dbf4e305ed6eb791452b12e3c04109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24dbf4e305ed6eb791452b12e3c04109">&#9670;&nbsp;</a></span>sub_endpoint_update_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sub_endpoint_update_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">628</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">app_send()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00053">ast_endpoint_snapshot::id</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00973">stasis_cache_update::new_snapshot</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00971">stasis_cache_update::old_snapshot</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00567">simple_endpoint_event()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab5d1a876f8f0cd0562fb5d5f94c06717">stasis_cache_update_type()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message_timestamp()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message_type()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00969">stasis_cache_update::type</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">unsubscribe()</a>, and <a class="el" href="../../d0/d89/codec__g726_8c_source.html#l00367">update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;{</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dfa/structstasis__cache__update.html">stasis_cache_update</a> *<a class="code" href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *new_snapshot;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *old_snapshot;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span>timeval *tv;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a>(message) == <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab5d1a876f8f0cd0562fb5d5f94c06717">stasis_cache_update_type</a>());</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   update = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(update-&gt;<a class="code" href="../../de/dfa/structstasis__cache__update.html#a39694abd1b80d3c9ef0619acf9d493aa">type</a> == <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a>());</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   new_snapshot = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(update-&gt;<a class="code" href="../../de/dfa/structstasis__cache__update.html#aae78adb4af9a7dedb7a77fc0d393076e">new_snapshot</a>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   old_snapshot = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(update-&gt;<a class="code" href="../../de/dfa/structstasis__cache__update.html#aa17fe414b5d7ef44223761c25a8047d4">old_snapshot</a>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <span class="keywordflow">if</span> (new_snapshot) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      tv = <a class="code" href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a>(update-&gt;<a class="code" href="../../de/dfa/structstasis__cache__update.html#aae78adb4af9a7dedb7a77fc0d393076e">new_snapshot</a>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      json = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ff54868b202bc8cdc51d54456d063ac">simple_endpoint_event</a>(<span class="stringliteral">&quot;EndpointStateChange&quot;</span>, new_snapshot, tv);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">if</span> (!json) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a>(app, json);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keywordflow">if</span> (!new_snapshot &amp;&amp; old_snapshot) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a>(app, <span class="stringliteral">&quot;endpoint&quot;</span>, old_snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a7f573636659429c505b8fa845bbb2dc8">id</a>, 1);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div><div class="ttc" id="structstasis__cache__update_html_aa17fe414b5d7ef44223761c25a8047d4"><div class="ttname"><a href="../../de/dfa/structstasis__cache__update.html#aa17fe414b5d7ef44223761c25a8047d4">stasis_cache_update::old_snapshot</a></div><div class="ttdeci">struct stasis_message * old_snapshot</div><div class="ttdoc">Old value from the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00971">stasis.h:971</a></div></div>
<div class="ttc" id="codec__g726_8c_html_a8c58a1d1fd9436ff5145385d3ef7a430"><div class="ttname"><a href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a></div><div class="ttdeci">static void update(int code_size, int y, int wi, int fi, int dq, int sr, int dqsez, struct g726_state *state_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/codec__g726_8c_source.html#l00367">codec_g726.c:367</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf23b8f5195f28ae2044eae71be431433"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_snapshot_type(void)</div><div class="ttdoc">Message type for ast_endpoint_snapshot. </div></div>
<div class="ttc" id="stasis_8h_html_a9356e8a29344ca4eac93088198ccff89"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_message_type(const struct stasis_message *msg)</div><div class="ttdoc">Get the message type for a stasis_message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00187">stasis_message.c:187</a></div></div>
<div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_a7f573636659429c505b8fa845bbb2dc8"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#a7f573636659429c505b8fa845bbb2dc8">ast_endpoint_snapshot::id</a></div><div class="ttdeci">const ast_string_field id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00053">stasis_endpoints.h:53</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="stasis_8h_html_a0a9c10eadd9db34f8c0b19619752ea93"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a></div><div class="ttdeci">const struct timeval * stasis_message_timestamp(const struct stasis_message *msg)</div><div class="ttdoc">Get the time when a message was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message.c:203</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab5d1a876f8f0cd0562fb5d5f94c06717"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab5d1a876f8f0cd0562fb5d5f94c06717">stasis_cache_update_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_cache_update_type(void)</div><div class="ttdoc">Message type for cache update messages. </div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ae25c865e186eb0d4896afd416cb03ec9"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ae25c865e186eb0d4896afd416cb03ec9">unsubscribe</a></div><div class="ttdeci">static int unsubscribe(struct stasis_app *app, const char *kind, const char *id, int terminate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">res/stasis/app.c:1339</a></div></div>
<div class="ttc" id="structstasis__cache__update_html"><div class="ttname"><a href="../../de/dfa/structstasis__cache__update.html">stasis_cache_update</a></div><div class="ttdoc">Cache update message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00967">stasis.h:967</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a></div><div class="ttdoc">A snapshot of an endpoint&amp;#39;s state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00048">stasis_endpoints.h:48</a></div></div>
<div class="ttc" id="structstasis__cache__update_html_aae78adb4af9a7dedb7a77fc0d393076e"><div class="ttname"><a href="../../de/dfa/structstasis__cache__update.html#aae78adb4af9a7dedb7a77fc0d393076e">stasis_cache_update::new_snapshot</a></div><div class="ttdeci">struct stasis_message * new_snapshot</div><div class="ttdoc">New value. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00973">stasis.h:973</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a9ff54868b202bc8cdc51d54456d063ac"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a9ff54868b202bc8cdc51d54456d063ac">simple_endpoint_event</a></div><div class="ttdeci">static struct ast_json * simple_endpoint_event(const char *type, struct ast_endpoint_snapshot *snapshot, const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00567">res/stasis/app.c:567</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_afc2b5ef224bf880e5ef556a910f41a37"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#afc2b5ef224bf880e5ef556a910f41a37">app_send</a></div><div class="ttdeci">void app_send(struct stasis_app *app, struct ast_json *message)</div><div class="ttdoc">Send a message to the given application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01038">res/stasis/app.c:1038</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structstasis__cache__update_html_a39694abd1b80d3c9ef0619acf9d493aa"><div class="ttname"><a href="../../de/dfa/structstasis__cache__update.html#a39694abd1b80d3c9ef0619acf9d493aa">stasis_cache_update::type</a></div><div class="ttdeci">struct stasis_message_type * type</div><div class="ttdoc">Convenience reference to snapshot type. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00969">stasis.h:969</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a677989a38a05fde4d3dc237294c8fdaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a677989a38a05fde4d3dc237294c8fdaf">&#9670;&nbsp;</a></span>sub_subscription_change_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sub_subscription_change_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/de4/structstasis__subscription.html">stasis_subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00337">337</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">stasis_app::data</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l01176">stasis_subscription_final_message()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/de3/structstasis__app.html">stasis_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d79/stasis_8h.html#a839350445aaa51cedf31f6daec933ee0">stasis_subscription_final_message</a>(sub, message)) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(app);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="ttc" id="structstasis__app_html"><div class="ttname"><a href="../../d4/de3/structstasis__app.html">stasis_app</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00049">res/stasis/app.c:49</a></div></div>
<div class="ttc" id="structstasis__app_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a735984d41155bc1032e09bece8f8d66d">stasis_app::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00063">res/stasis/app.c:63</a></div></div>
<div class="ttc" id="stasis_8h_html_a839350445aaa51cedf31f6daec933ee0"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a839350445aaa51cedf31f6daec933ee0">stasis_subscription_final_message</a></div><div class="ttdeci">int stasis_subscription_final_message(struct stasis_subscription *sub, struct stasis_message *msg)</div><div class="ttdoc">Determine whether a message is the final message to be received on a subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01176">stasis.c:1176</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09ad0612c4f5663f27ad6de707120330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ad0612c4f5663f27ad6de707120330">&#9670;&nbsp;</a></span>subscribe_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int subscribe_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01481">1481</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">app_subscribe_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;{</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a0c81b198af25100a727e3b42f6a6a5ab">app_subscribe_bridge</a>(app, obj);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a0c81b198af25100a727e3b42f6a6a5ab"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a0c81b198af25100a727e3b42f6a6a5ab">app_subscribe_bridge</a></div><div class="ttdeci">int app_subscribe_bridge(struct stasis_app *app, struct ast_bridge *bridge)</div><div class="ttdoc">Add a bridge subscription to an existing channel subscription. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01428">res/stasis/app.c:1428</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3030c3115aced3fe6495c3c770b81731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3030c3115aced3fe6495c3c770b81731">&#9670;&nbsp;</a></span>subscribe_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int subscribe_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01334">1334</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">app_subscribe_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;{</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a5b0dbc86b18101e9d9d48b350aeec489">app_subscribe_channel</a>(app, obj);</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a5b0dbc86b18101e9d9d48b350aeec489"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a5b0dbc86b18101e9d9d48b350aeec489">app_subscribe_channel</a></div><div class="ttdeci">int app_subscribe_channel(struct stasis_app *app, struct ast_channel *chan)</div><div class="ttdoc">Subscribes an application to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01281">res/stasis/app.c:1281</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd668d01d6ea2f07449f82f24cf719c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd668d01d6ea2f07449f82f24cf719c2">&#9670;&nbsp;</a></span>subscribe_endpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int subscribe_endpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01587">1587</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01531">app_subscribe_endpoint()</a>.</p>
<div class="fragment"><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;{</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a021ad5ebb8ff3d64b1df955eb887fbea">app_subscribe_endpoint</a>(app, obj);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;}</div><div class="ttc" id="res_2stasis_2app_8c_html_a021ad5ebb8ff3d64b1df955eb887fbea"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a021ad5ebb8ff3d64b1df955eb887fbea">app_subscribe_endpoint</a></div><div class="ttdeci">int app_subscribe_endpoint(struct stasis_app *app, struct ast_endpoint *endpoint)</div><div class="ttdoc">Subscribes an application to a endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01531">res/stasis/app.c:1531</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae25c865e186eb0d4896afd416cb03ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae25c865e186eb0d4896afd416cb03ec9">&#9670;&nbsp;</a></span>unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unsubscribe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/de3/structstasis__app.html">stasis_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>terminate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01339">1339</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">BRIDGE_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">CHANNEL_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">ENDPOINT_ALL</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">stasis_app::forwards</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00108">forwards_unsubscribe()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">app_forwards::interested</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00423">messaging_app_unsubscribe_endpoint()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">stasis_app::name</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01067">OBJ_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01495">app_unsubscribe_bridge_id()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01393">app_unsubscribe_channel_id()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01592">app_unsubscribe_endpoint_id()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00682">sub_bridge_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00543">sub_channel_update_handler()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;{</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/dc4/structapp__forwards.html">app_forwards</a> *forwards;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>) {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">if</span> (!strcmp(kind, <span class="stringliteral">&quot;bridge&quot;</span>)) {</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;         <span class="keywordtype">id</span> = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a>;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(kind, <span class="stringliteral">&quot;channel&quot;</span>)) {</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;         <span class="keywordtype">id</span> = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a>;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(kind, <span class="stringliteral">&quot;endpoint&quot;</span>)) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;         <span class="keywordtype">id</span> = <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a>;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown subscription kind &#39;%s&#39;\n&quot;</span>, kind);</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;   }</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   forwards = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, <span class="keywordtype">id</span>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a>);</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   <span class="keywordflow">if</span> (!forwards) {</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;App &#39;%s&#39; not subscribed to %s &#39;%s&#39;\n&quot;</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>, kind, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;   }</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;   forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>--;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s &#39;%s&#39;: is %d interested in %s\n&quot;</span>, kind, <span class="keywordtype">id</span>, forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;   <span class="keywordflow">if</span> (forwards-&gt;<a class="code" href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">interested</a> == 0 || terminate) {</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      <span class="comment">/* No one is interested any more; unsubscribe */</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s &#39;%s&#39; unsubscribed from %s\n&quot;</span>, kind, <span class="keywordtype">id</span>, app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <a class="code" href="../../d3/d5e/res_2stasis_2app_8c.html#ab5f535f64e0c1e0a134803071fae3770">forwards_unsubscribe</a>(forwards);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>, forwards,</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> |</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <span class="keywordflow">if</span> (!strcmp(kind, <span class="stringliteral">&quot;endpoint&quot;</span>)) {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;         <a class="code" href="../../db/d21/messaging_8c.html#a9cec558abbe64c84f74b34e51490ddce">messaging_app_unsubscribe_endpoint</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">name</a>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      }</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;   }</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(app-&gt;<a class="code" href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">forwards</a>);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(forwards, -1);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div><div class="ttc" id="structapp__forwards_html_a0ebe65d4c1af116e2e32b97cfa46af8a"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html#a0ebe65d4c1af116e2e32b97cfa46af8a">app_forwards::interested</a></div><div class="ttdeci">int interested</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00085">res/stasis/app.c:85</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a22bebb2d35ffb38b9bb202e88822d74c"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a22bebb2d35ffb38b9bb202e88822d74c">CHANNEL_ALL</a></div><div class="ttdeci">#define CHANNEL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00041">res/stasis/app.c:41</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="structapp__forwards_html"><div class="ttname"><a href="../../d1/dc4/structapp__forwards.html">app_forwards</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00083">res/stasis/app.c:83</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca52efdf13b66ae502e2e20a5f49f068de">OBJ_NOLOCK</a></div><div class="ttdoc">Assume that the ao2_container is already locked. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01067">astobj2.h:1067</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="structstasis__app_html_ab3fbf2247727e45606e989b9376cd60a"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#ab3fbf2247727e45606e989b9376cd60a">stasis_app::forwards</a></div><div class="ttdeci">struct ao2_container * forwards</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00059">res/stasis/app.c:59</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_ab5f535f64e0c1e0a134803071fae3770"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#ab5f535f64e0c1e0a134803071fae3770">forwards_unsubscribe</a></div><div class="ttdeci">static void forwards_unsubscribe(struct app_forwards *forwards)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00108">res/stasis/app.c:108</a></div></div>
<div class="ttc" id="structstasis__app_html_a635b950b2ddb0f18644a528dbdd60dfe"><div class="ttname"><a href="../../d4/de3/structstasis__app.html#a635b950b2ddb0f18644a528dbdd60dfe">stasis_app::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00073">res/stasis/app.c:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_a9ac9137d8506b8244b41486bf8e9d2a6"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#a9ac9137d8506b8244b41486bf8e9d2a6">BRIDGE_ALL</a></div><div class="ttdeci">#define BRIDGE_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00040">res/stasis/app.c:40</a></div></div>
<div class="ttc" id="messaging_8c_html_a9cec558abbe64c84f74b34e51490ddce"><div class="ttname"><a href="../../db/d21/messaging_8c.html#a9cec558abbe64c84f74b34e51490ddce">messaging_app_unsubscribe_endpoint</a></div><div class="ttdeci">void messaging_app_unsubscribe_endpoint(const char *app_name, const char *endpoint_id)</div><div class="ttdoc">Subscribe for messages from a particular endpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d21/messaging_8c_source.html#l00423">messaging.c:423</a></div></div>
<div class="ttc" id="res_2stasis_2app_8c_html_adb679c8c5450b8fdc65ef309ac078d76"><div class="ttname"><a href="../../d3/d5e/res_2stasis_2app_8c.html#adb679c8c5450b8fdc65ef309ac078d76">ENDPOINT_ALL</a></div><div class="ttdeci">#define ENDPOINT_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00042">res/stasis/app.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a710d1b2a19daeb01bc02848bc9f17ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710d1b2a19daeb01bc02848bc9f17ba6">&#9670;&nbsp;</a></span>bridge_event_source</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a> bridge_event_source</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01523">1523</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

</div>
</div>
<a id="aa82f8cf6d2b72f1b1d0a6d8a5c623c94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa82f8cf6d2b72f1b1d0a6d8a5c623c94">&#9670;&nbsp;</a></span>channel_event_source</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a> channel_event_source</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01420">1420</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

</div>
</div>
<a id="acd2cb2d60f55c910531d8a33a64ba29f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2cb2d60f55c910531d8a33a64ba29f">&#9670;&nbsp;</a></span>channel_monitors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d5e/res_2stasis_2app_8c.html#adce21d442a247829a8080aff1bd1a4d0">channel_snapshot_monitor</a> channel_monitors[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00536">536</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00543">sub_channel_update_handler()</a>.</p>

</div>
</div>
<a id="ae04f4f3a6ef25fe9dbb77fc560258ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae04f4f3a6ef25fe9dbb77fc560258ace">&#9670;&nbsp;</a></span>endpoint_event_source</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d3a/structstasis__app__event__source.html">stasis_app_event_source</a> endpoint_event_source</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l01619">1619</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

</div>
</div>
<a id="a518ccaffd69d0c08d89a722a2f6b55c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a518ccaffd69d0c08d89a722a2f6b55c3">&#9670;&nbsp;</a></span>global_debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int global_debug</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global debug flag. No need for locking </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00045">45</a> of file <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html">res/stasis/app.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00863">stasis_app_get_debug()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00868">stasis_app_get_debug_by_name()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00887">stasis_app_set_global_debug()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:29 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
