<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: Registration Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dd/d17/namespacesip__to__pjsip.html">sip_to_pjsip</a></li><li class="navelem"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html">Registration</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">Registration Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab981b2c33f0e70c95d06c560898332a1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#ab981b2c33f0e70c95d06c560898332a1">__init__</a> (self, line, <a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#ad0ca153af863abdfa5f12e9f7fd267d6">retry_interval</a>, <a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a6931e1ac4a6b0723d75a214e41ba5273">max_attempts</a>, <a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a2625ad39e6c18eadbe05c33c17cc48ea">outbound_proxy</a>)</td></tr>
<tr class="separator:ab981b2c33f0e70c95d06c560898332a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d24c938d20385a37d2c0628e586fed"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a13d24c938d20385a37d2c0628e586fed">parse</a> (self, line)</td></tr>
<tr class="separator:a13d24c938d20385a37d2c0628e586fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f524ebecc476bde3c43268e1db83a7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a13f524ebecc476bde3c43268e1db83a7">parse_host_part</a> (self, host_part)</td></tr>
<tr class="separator:a13f524ebecc476bde3c43268e1db83a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44f887cfb296a9950f864561c380866"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#ad44f887cfb296a9950f864561c380866">parse_user_part</a> (self, user_part)</td></tr>
<tr class="separator:ad44f887cfb296a9950f864561c380866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87cdb6d30344c11c4eaa943643e247a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#aa87cdb6d30344c11c4eaa943643e247a">write</a> (self, <a class="el" href="../../dd/d17/namespacesip__to__pjsip.html#a1d274d2c8196e43e69f288410b6da620">pjsip</a>, nmapped)</td></tr>
<tr class="separator:aa87cdb6d30344c11c4eaa943643e247a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a0cd72a329da85a9b11f22937cc03c2e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a0cd72a329da85a9b11f22937cc03c2e5">authuser</a></td></tr>
<tr class="separator:a0cd72a329da85a9b11f22937cc03c2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6287602630db6aeffcb6cf5787a216"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a8a6287602630db6aeffcb6cf5787a216">domain</a></td></tr>
<tr class="separator:a8a6287602630db6aeffcb6cf5787a216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c3bf1be0f349680c8d58807d763c83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#ac1c3bf1be0f349680c8d58807d763c83">expiry</a></td></tr>
<tr class="separator:ac1c3bf1be0f349680c8d58807d763c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae455e6a275e74741a0193b8cf59457c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#aae455e6a275e74741a0193b8cf59457c">extension</a></td></tr>
<tr class="separator:aae455e6a275e74741a0193b8cf59457c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6931e1ac4a6b0723d75a214e41ba5273"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a6931e1ac4a6b0723d75a214e41ba5273">max_attempts</a></td></tr>
<tr class="separator:a6931e1ac4a6b0723d75a214e41ba5273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2625ad39e6c18eadbe05c33c17cc48ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a2625ad39e6c18eadbe05c33c17cc48ea">outbound_proxy</a></td></tr>
<tr class="separator:a2625ad39e6c18eadbe05c33c17cc48ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c494215e4790a80ee48db4c305b387b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#a3c494215e4790a80ee48db4c305b387b">peer</a></td></tr>
<tr class="separator:a3c494215e4790a80ee48db4c305b387b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8fb0f45ee0195c7422a49e6a8d72369"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#af8fb0f45ee0195c7422a49e6a8d72369">port</a></td></tr>
<tr class="separator:af8fb0f45ee0195c7422a49e6a8d72369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2ec924c0f221790d7235ffb2e615cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#add2ec924c0f221790d7235ffb2e615cd">protocol</a></td></tr>
<tr class="separator:add2ec924c0f221790d7235ffb2e615cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0ca153af863abdfa5f12e9f7fd267d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#ad0ca153af863abdfa5f12e9f7fd267d6">retry_interval</a></td></tr>
<tr class="separator:ad0ca153af863abdfa5f12e9f7fd267d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98221bb33cb9193e00fc7ac1e0e02a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de1/classsip__to__pjsip_1_1Registration.html#ad98221bb33cb9193e00fc7ac1e0e02a9">secret</a></td></tr>
<tr class="separator:ad98221bb33cb9193e00fc7ac1e0e02a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Class for parsing and storing information in a register line in sip.conf.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00945">945</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab981b2c33f0e70c95d06c560898332a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab981b2c33f0e70c95d06c560898332a1">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>retry_interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_attempts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outbound_proxy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00949">949</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keyword">def </span>__init__(self, line, retry_interval, max_attempts, outbound_proxy):</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        self.retry_interval = retry_interval</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        self.max_attempts = max_attempts</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        self.outbound_proxy = outbound_proxy</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        self.parse(line)</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a13d24c938d20385a37d2c0628e586fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13d24c938d20385a37d2c0628e586fed">&#9670;&nbsp;</a></span>parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parse </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initial parsing routine for register lines in sip.conf.

This splits the line into the part before the host, and the part
after the '@' symbol. These two parts are then passed to their
own parsing routines
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00955">955</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00974">Registration.parse_host_part()</a>, and <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00986">Registration.parse_user_part()</a>.</p>
<div class="fragment"><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keyword">def </span><a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a>(self, line):</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="stringliteral">        Initial parsing routine for register lines in sip.conf.</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="stringliteral">        This splits the line into the part before the host, and the part</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="stringliteral">        after the &#39;@&#39; symbol. These two parts are then passed to their</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="stringliteral">        own parsing routines</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="comment"># register =&gt;</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="comment"># [peer?][transport://]user[@domain][:secret[:authuser]]@host[:port][/extension][~expiry]</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        prehost, at, host_part = line.rpartition(<span class="stringliteral">&#39;@&#39;</span>)</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> prehost:</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="keywordflow">raise</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        self.parse_host_part(host_part)</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        self.parse_user_part(prehost)</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="ttc" id="chan__mgcp_8c_html_a2e006acff60d9b3d65d7d60f975d6747"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a></div><div class="ttdeci">static void parse(struct mgcp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">chan_mgcp.c:1872</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a13f524ebecc476bde3c43268e1db83a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13f524ebecc476bde3c43268e1db83a7">&#9670;&nbsp;</a></span>parse_host_part()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parse_host_part </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>host_part</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parsing routine for the part after the final '@' in a register line.
The strategy is to use partition calls to peel away the data starting
from the right and working to the left.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00974">974</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00955">Registration.parse()</a>.</p>
<div class="fragment"><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keyword">def </span>parse_host_part(self, host_part):</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="stringliteral">        Parsing routine for the part after the final &#39;@&#39; in a register line.</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="stringliteral">        The strategy is to use partition calls to peel away the data starting</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="stringliteral">        from the right and working to the left.</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        pre_expiry, sep, expiry = host_part.partition(<span class="stringliteral">&#39;~&#39;</span>)</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        pre_extension, sep, self.extension = pre_expiry.partition(<span class="stringliteral">&#39;/&#39;</span>)</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        self.host, sep, self.port = pre_extension.partition(<span class="stringliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        self.expiry = expiry <span class="keywordflow">if</span> expiry <span class="keywordflow">else</span> <span class="stringliteral">&#39;120&#39;</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="ad44f887cfb296a9950f864561c380866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad44f887cfb296a9950f864561c380866">&#9670;&nbsp;</a></span>parse_user_part()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parse_user_part </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>user_part</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parsing routine for the part before the final '@' in a register line.
The only mandatory part of this line is the user portion. The strategy
here is to start by using partition calls to remove everything to
the right of the user, then finish by using rpartition calls to remove
everything to the left of the user.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00986">986</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00955">Registration.parse()</a>.</p>
<div class="fragment"><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keyword">def </span>parse_user_part(self, user_part):</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="stringliteral">        Parsing routine for the part before the final &#39;@&#39; in a register line.</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="stringliteral">        The only mandatory part of this line is the user portion. The strategy</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="stringliteral">        here is to start by using partition calls to remove everything to</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="stringliteral">        the right of the user, then finish by using rpartition calls to remove</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="stringliteral">        everything to the left of the user.</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        self.peer = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        self.protocol = <span class="stringliteral">&#39;udp&#39;</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        protocols = [<span class="stringliteral">&#39;udp&#39;</span>, <span class="stringliteral">&#39;tcp&#39;</span>, <span class="stringliteral">&#39;tls&#39;</span>]</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">for</span> protocol <span class="keywordflow">in</span> protocols:</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            position = user_part.find(protocol + <span class="stringliteral">&#39;://&#39;</span>)</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="keywordflow">if</span> -1 &lt; position:</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                post_transport = user_part[position + 6:]</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                self.peer, sep, self.protocol = user_part[:position + 3].rpartition(<span class="stringliteral">&#39;?&#39;</span>)</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                user_part = post_transport</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                <span class="keywordflow">break</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        colons = user_part.count(<span class="stringliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">if</span> (colons == 3):</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="comment"># :domainport:secret:authuser</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            pre_auth, sep, port_auth = user_part.partition(<span class="stringliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            self.domainport, sep, auth = port_auth.partition(<span class="stringliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            self.secret, sep, self.authuser = auth.partition(<span class="stringliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keywordflow">elif</span> (colons == 2):</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <span class="comment"># :secret:authuser</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            pre_auth, sep, auth = user_part.partition(<span class="stringliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            self.secret, sep, self.authuser = auth.partition(<span class="stringliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="keywordflow">elif</span> (colons == 1):</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <span class="comment"># :secret</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            pre_auth, sep, self.secret = user_part.partition(<span class="stringliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">elif</span> (colons == 0):</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <span class="comment"># No port, secret, or authuser</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            pre_auth = user_part</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <span class="comment"># Invalid setting</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="keywordflow">raise</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        self.user, sep, self.domain = pre_auth.partition(<span class="stringliteral">&#39;@&#39;</span>)</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="aa87cdb6d30344c11c4eaa943643e247a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87cdb6d30344c11c4eaa943643e247a">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def write </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pjsip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nmapped</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Write parsed registration data into a section in pjsip.conf

Most of the data in self will get written to a registration section.
However, there will also need to be an auth section created if a
secret or authuser is present.

General mapping of values:
A combination of self.host and self.port is server_uri
A combination of self.user, self.domain, and self.domainport is
  client_uri
self.expiry is expiration
self.extension is contact_user
self.protocol will map to one of the mapped transports
self.secret and self.authuser will result in a new auth section, and
  outbound_auth will point to that section.
XXX self.peer really doesn't map to anything :(
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">1027</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01010">Registration.authuser</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l01414">sip_registry.authuser</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l01461">sip_subscription_mwi.authuser</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l00602">minivm_account.domain</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l00889">domain.domain</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01025">Registration.domain</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l01063">sip_pvt.domain</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27228">blind_transfer_cb_data.domain</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00570">iax2_peer.expiry</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00767">chan_iax2_pvt.expiry</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00984">Registration.expiry</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01024">iax2_dpcache.expiry</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l01118">sip_pvt.expiry</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l01420">sip_registry.expiry</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00255">gosub_stack_frame.extension</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l00447">unistim_device.extension</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00981">Registration.extension</a>, <a class="el" href="../../d3/d13/uri_8c_source.html#l00036">ast_uri.host</a>, <a class="el" href="../../da/d22/test__dns__srv_8c_source.html#l00040">srv_record.host</a>, <a class="el" href="../../d6/d76/srv_8c_source.html#l00062">srv_entry.host</a>, <a class="el" href="../../d4/d07/dns__internal_8h_source.html#l00078">ast_dns_srv_record.host</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00106">ast_sip_transport_state.host</a>, <a class="el" href="../../d2/dcf/test__acl_8c_source.html#l00112">acl.host</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00135">cops_cmts.host</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00199">ast_sip_transport.host</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00214">ooh323_pvt.host</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00816">chan_iax2_pvt.host</a>, <a class="el" href="../../de/d4c/res__http__websocket_8c_source.html#l01193">websocket_client.host</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00951">Registration.max_attempts</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00952">Registration.outbound_proxy</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00062">iax_template.port</a>, <a class="el" href="../../d3/d6d/isdn__lib__intern_8h_source.html#l00126">misdn_stack.port</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00226">ooh323_pvt.port</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00298">ooh323_peer.port</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l00362">hold_info.port</a>, <a class="el" href="../../de/d26/isdn__lib_8h_source.html#l00370">misdn_bchannel.port</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l00380">open_receive_channel_ack_message_ip4.port</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l00387">open_receive_channel_ack_message_ip6.port</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l00621">robin_list.port</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00652">iax2_registry.port</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l00724">sip_proxy.port</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l00880">sip_via.port</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00982">Registration.port</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04766">parsed_dial_string.port</a>, <a class="el" href="../../d7/d81/app__sms_8c_source.html#l00274">sms_s.protocol</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l00876">sip_via.protocol</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00995">Registration.protocol</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00950">Registration.retry_interval</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00516">iax2_user.secret</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00554">iax2_peer.secret</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00643">iax2_registry.secret</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00816">chan_iax2_pvt.secret</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l00906">sip_auth.secret</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01017">Registration.secret</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l01306">sip_peer.secret</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l01414">sip_registry.secret</a>, <a class="el" href="../../d1/d94/sip_8h_source.html#l01461">sip_subscription_mwi.secret</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04597">create_addr_info.secret</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00053">sip_to_pjsip.set_value()</a>, <a class="el" href="../../d1/d8f/reqresp__parser_8h_source.html#l00028">uriparams.user</a>, <a class="el" href="../../d1/d8f/reqresp__parser_8h_source.html#l00038">contact.user</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00059">iax_template.user</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00062">icalendar_pvt.user</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00067">caldav_pvt.user</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00067">exchangecal_pvt.user</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00073">ast_calendar_tech.user</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00082">parking_limits_pvt.user</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00105">ewscal_pvt.user</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00205">ooh323_pvt.user</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00224">sip_outbound_publisher.user</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00326">http_route.user</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l00456">ast_xmpp_client_config.user</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02526">confbridge_hook_data.user</a>, and <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l02577">dtmf_menu_hook_pvt.user</a>.</p>
<div class="fragment"><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keyword">def </span>write(self, pjsip, nmapped):</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="stringliteral">        Write parsed registration data into a section in pjsip.conf</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="stringliteral">        Most of the data in self will get written to a registration section.</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="stringliteral">        However, there will also need to be an auth section created if a</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="stringliteral">        secret or authuser is present.</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="stringliteral">        General mapping of values:</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="stringliteral">        A combination of self.host and self.port is server_uri</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="stringliteral">        A combination of self.user, self.domain, and self.domainport is</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="stringliteral">          client_uri</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="stringliteral">        self.expiry is expiration</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="stringliteral">        self.extension is contact_user</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="stringliteral">        self.protocol will map to one of the mapped transports</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="stringliteral">        self.secret and self.authuser will result in a new auth section, and</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="stringliteral">          outbound_auth will point to that section.</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="stringliteral">        XXX self.peer really doesn&#39;t map to anything :(</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        section = <span class="stringliteral">&#39;reg_&#39;</span> + self.host</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;retry_interval&#39;</span>, self.retry_interval, section, pjsip,</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                  nmapped, <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;max_retries&#39;</span>, self.max_attempts, section, pjsip, nmapped,</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                  <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="keywordflow">if</span> self.extension:</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;contact_user&#39;</span>, self.extension, section, pjsip, nmapped,</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                      <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;expiration&#39;</span>, self.expiry, section, pjsip, nmapped,</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                  <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">if</span> self.protocol == <span class="stringliteral">&#39;udp&#39;</span>:</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;transport&#39;</span>, <span class="stringliteral">&#39;transport-udp&#39;</span>, section, pjsip, nmapped,</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                      <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="keywordflow">elif</span> self.protocol == <span class="stringliteral">&#39;tcp&#39;</span>:</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;transport&#39;</span>, <span class="stringliteral">&#39;transport-tcp&#39;</span>, section, pjsip, nmapped,</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                      <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="keywordflow">elif</span> self.protocol == <span class="stringliteral">&#39;tls&#39;</span>:</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;transport&#39;</span>, <span class="stringliteral">&#39;transport-tls&#39;</span>, section, pjsip, nmapped,</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                      <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        auth_section = <span class="stringliteral">&#39;auth_reg_&#39;</span> + self.host</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keywordflow">if</span> hasattr(self, <span class="stringliteral">&#39;secret&#39;</span>) <span class="keywordflow">and</span> self.secret:</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;password&#39;</span>, self.secret, auth_section, pjsip, nmapped,</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                      <span class="stringliteral">&#39;auth&#39;</span>)</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;username&#39;</span>, self.authuser <span class="keywordflow">if</span> hasattr(self, <span class="stringliteral">&#39;authuser&#39;</span>)</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                      <span class="keywordflow">else</span> self.user, auth_section, pjsip, nmapped, <span class="stringliteral">&#39;auth&#39;</span>)</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;outbound_auth&#39;</span>, auth_section, section, pjsip, nmapped,</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                      <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        client_uri = <span class="stringliteral">&quot;sip:%s@&quot;</span> % self.user</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">if</span> self.domain:</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            client_uri += self.domain</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            client_uri += self.host</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keywordflow">if</span> hasattr(self, <span class="stringliteral">&#39;domainport&#39;</span>) <span class="keywordflow">and</span> self.domainport:</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            client_uri += <span class="stringliteral">&quot;:&quot;</span> + self.domainport</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="keywordflow">elif</span> self.port:</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            client_uri += <span class="stringliteral">&quot;:&quot;</span> + self.port</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;client_uri&#39;</span>, client_uri, section, pjsip, nmapped,</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                  <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        server_uri = <span class="stringliteral">&quot;sip:%s&quot;</span> % self.host</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <span class="keywordflow">if</span> self.port:</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            server_uri += <span class="stringliteral">&quot;:&quot;</span> + self.port</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;server_uri&#39;</span>, server_uri, section, pjsip, nmapped,</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                  <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">if</span> self.outbound_proxy:</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">set_value</a>(<span class="stringliteral">&#39;outboundproxy&#39;</span>, self.outbound_proxy, section, pjsip,</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                      nmapped, <span class="stringliteral">&#39;registration&#39;</span>)</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="ttc" id="namespacesip__to__pjsip_html_a69fef42618e9ed3f275c590ddc9cb7bd"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#a69fef42618e9ed3f275c590ddc9cb7bd">sip_to_pjsip.set_value</a></div><div class="ttdeci">def set_value(key=None, val=None, section=None, pjsip=None, nmapped=None, type='endpoint')</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00053">sip_to_pjsip.py:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a0cd72a329da85a9b11f22937cc03c2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cd72a329da85a9b11f22937cc03c2e5">&#9670;&nbsp;</a></span>authuser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">authuser</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01010">1010</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="a8a6287602630db6aeffcb6cf5787a216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a6287602630db6aeffcb6cf5787a216">&#9670;&nbsp;</a></span>domain</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/structdomain.html">domain</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01025">1025</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="ac1c3bf1be0f349680c8d58807d763c83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c3bf1be0f349680c8d58807d763c83">&#9670;&nbsp;</a></span>expiry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">expiry</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00984">984</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="aae455e6a275e74741a0193b8cf59457c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae455e6a275e74741a0193b8cf59457c">&#9670;&nbsp;</a></span>extension</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d5a/structextension.html">extension</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00981">981</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="a6931e1ac4a6b0723d75a214e41ba5273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6931e1ac4a6b0723d75a214e41ba5273">&#9670;&nbsp;</a></span>max_attempts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">max_attempts</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00951">951</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="a2625ad39e6c18eadbe05c33c17cc48ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2625ad39e6c18eadbe05c33c17cc48ea">&#9670;&nbsp;</a></span>outbound_proxy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">outbound_proxy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00952">952</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="a3c494215e4790a80ee48db4c305b387b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c494215e4790a80ee48db4c305b387b">&#9670;&nbsp;</a></span>peer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">peer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00994">994</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

</div>
</div>
<a id="af8fb0f45ee0195c7422a49e6a8d72369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8fb0f45ee0195c7422a49e6a8d72369">&#9670;&nbsp;</a></span>port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">port</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00982">982</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="add2ec924c0f221790d7235ffb2e615cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add2ec924c0f221790d7235ffb2e615cd">&#9670;&nbsp;</a></span>protocol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protocol</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00995">995</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="ad0ca153af863abdfa5f12e9f7fd267d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0ca153af863abdfa5f12e9f7fd267d6">&#9670;&nbsp;</a></span>retry_interval</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">retry_interval</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l00950">950</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<a id="ad98221bb33cb9193e00fc7ac1e0e02a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98221bb33cb9193e00fc7ac1e0e02a9">&#9670;&nbsp;</a></span>secret</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">secret</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01017">1017</a> of file <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01027">Registration.write()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html">sip_to_pjsip.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:31 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
