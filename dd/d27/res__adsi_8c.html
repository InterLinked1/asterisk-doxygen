<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_adsi.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_adsi.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>ADSI support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="../../de/df7/time_8h_source.html">time.h</a>&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d4/dc2/ulaw_8h_source.html">asterisk/ulaw.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/db5/alaw_8h_source.html">asterisk/alaw.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/callerid_8h_source.html">asterisk/callerid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/dab/fskmodem_8h_source.html">asterisk/fskmodem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/de2/adsi_8h_source.html">asterisk/adsi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_adsi.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/da7/res__adsi_8c__incl.png" border="0" usemap="#res__adsi_8c" alt=""/></div>
<map name="res__adsi_8c" id="res__adsi_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="440,229,524,256"/>
<area shape="rect" id="node15" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1752,453,1815,480"/>
<area shape="rect" id="node19" href="../../d4/dc2/ulaw_8h.html" title="u&#45;Law to Signed linear conversion " alt="" coords="308,80,422,107"/>
<area shape="rect" id="node20" href="../../d6/db5/alaw_8h.html" title="A&#45;Law to Signed linear conversion. " alt="" coords="446,80,561,107"/>
<area shape="rect" id="node21" href="../../de/d47/callerid_8h.html" title="CallerID (and other GR30) management and generation Includes code and algorithms from the Zapata libr..." alt="" coords="252,155,385,181"/>
<area shape="rect" id="node23" href="../../dd/dab/fskmodem_8h.html" title="FSK Modem Support. " alt="" coords="35,80,191,107"/>
<area shape="rect" id="node25" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1486,80,1625,107"/>
<area shape="rect" id="node36" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2482,155,2608,181"/>
<area shape="rect" id="node45" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1742,80,1878,107"/>
<area shape="rect" id="node46" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="2516,80,2622,107"/>
<area shape="rect" id="node49" href="../../df/de2/adsi_8h.html" title="ADSI Support (built upon Caller*ID) " alt="" coords="636,80,750,107"/>
<area shape="rect" id="node50" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2646,80,2822,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="528,528,682,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1190,304,1327,331"/>
<area shape="rect" id="node14" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="507,304,642,331"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="532,603,678,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1586,453,1728,480"/>
<area shape="rect" id="node17" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="2102,528,2249,555"/>
<area shape="rect" id="node22" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="717,304,848,331"/>
<area shape="rect" id="node24" href="../../de/d7d/fskmodem__float_8h.html" title="FSK Modem Support. " alt="" coords="39,155,176,181"/>
<area shape="rect" id="node26" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="2212,155,2356,181"/>
<area shape="rect" id="node27" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2068,229,2182,256"/>
<area shape="rect" id="node28" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1727,379,1840,405"/>
<area shape="rect" id="node29" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2162,304,2320,331"/>
<area shape="rect" id="node30" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="600,229,759,256"/>
<area shape="rect" id="node31" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1332,229,1467,256"/>
<area shape="rect" id="node32" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1426,304,1576,331"/>
<area shape="rect" id="node33" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1071,155,1235,181"/>
<area shape="rect" id="node34" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="835,229,962,256"/>
<area shape="rect" id="node35" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1718,229,1865,256"/>
<area shape="rect" id="node37" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1593,155,1700,181"/>
<area shape="rect" id="node38" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1543,229,1694,256"/>
<area shape="rect" id="node39" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1775,155,1936,181"/>
<area shape="rect" id="node40" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="409,155,580,181"/>
<area shape="rect" id="node41" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="931,155,1047,181"/>
<area shape="rect" id="node42" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1260,155,1417,181"/>
<area shape="rect" id="node43" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2062,155,2188,181"/>
<area shape="rect" id="node44" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="756,155,907,181"/>
</map>
</div>
</div>
<p><a href="../../dd/d27/res__adsi_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2447f977e8fdc689f10e33b81d96311c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a2447f977e8fdc689f10e33b81d96311c">ADSI_FLAG_DATAMODE</a>&#160;&#160;&#160;(1 &lt;&lt; 8)</td></tr>
<tr class="separator:a2447f977e8fdc689f10e33b81d96311c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883381de25fae11725272776402f66ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a883381de25fae11725272776402f66ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811570484466fddfd91a3695c25a2aed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a811570484466fddfd91a3695c25a2aed">ADSI_MAX_SPEED_DIAL</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a811570484466fddfd91a3695c25a2aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7435fd1af44d9caec35b913e0d6dd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#aea7435fd1af44d9caec35b913e0d6dd1">ADSI_SPEED_DIAL</a>&#160;&#160;&#160;10	/* 10-15 are reserved for speed dial */</td></tr>
<tr class="separator:aea7435fd1af44d9caec35b913e0d6dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78e909f3afca606cb096d3e2aaeeddf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ae78e909f3afca606cb096d3e2aaeeddf">DEFAULT_ADSI_MAX_RETRIES</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ae78e909f3afca606cb096d3e2aaeeddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7960db0a226b9ee534e59e459ed228ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a7960db0a226b9ee534e59e459ed228ef">SPEEDDIAL_MAX_LEN</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a7960db0a226b9ee534e59e459ed228ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2efe248249d58ae6b4ffe4d535f9ab27"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a2efe248249d58ae6b4ffe4d535f9ab27">__adsi_transmit_messages</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char **msg, int *msglen, int *msgtype)</td></tr>
<tr class="separator:a2efe248249d58ae6b4ffe4d535f9ab27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff793fbef091ee16a6119c3649bec481"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#aff793fbef091ee16a6119c3649bec481">adsi_available</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:aff793fbef091ee16a6119c3649bec481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f414c4f51cb2b76288db7a24219daad"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a9f414c4f51cb2b76288db7a24219daad">adsi_begin_download</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char *<a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, unsigned char *fdn, unsigned char *sec, int <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a>)</td></tr>
<tr class="separator:a9f414c4f51cb2b76288db7a24219daad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d4b85bd5838855639db8c52fdf984d4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a7d4b85bd5838855639db8c52fdf984d4">adsi_careful_send</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, int *remain)</td></tr>
<tr class="separator:a7d4b85bd5838855639db8c52fdf984d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260af31d1bb6891b6e949cf92b822442"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a260af31d1bb6891b6e949cf92b822442">adsi_channel_restore</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a260af31d1bb6891b6e949cf92b822442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf19f1dcdd64abc7d931d6f7eab271e9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#abf19f1dcdd64abc7d931d6f7eab271e9">adsi_clear_screen</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:abf19f1dcdd64abc7d931d6f7eab271e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a965e46ac27d2e54c4cb7d20b7c71a24c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a965e46ac27d2e54c4cb7d20b7c71a24c">adsi_clear_soft_keys</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a965e46ac27d2e54c4cb7d20b7c71a24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb6366ce6f7ce947c25249951371f32"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a9eb6366ce6f7ce947c25249951371f32">adsi_connect_session</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned char *fdn, int ver)</td></tr>
<tr class="separator:a9eb6366ce6f7ce947c25249951371f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e6d976be75b3133eb7198646d92df3e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a6e6d976be75b3133eb7198646d92df3e">adsi_data_mode</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a6e6d976be75b3133eb7198646d92df3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a714642834491291d6887c767ceff2d6d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a714642834491291d6887c767ceff2d6d">adsi_disconnect_session</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a714642834491291d6887c767ceff2d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affdadadfca74733c54fb2fd9cee29c85"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#affdadadfca74733c54fb2fd9cee29c85">adsi_display</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int page, int line, int just, int wrap, char *col1, char *col2)</td></tr>
<tr class="separator:affdadadfca74733c54fb2fd9cee29c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c05f2f157281024a608746d8af3c67"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a77c05f2f157281024a608746d8af3c67">adsi_download_connect</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, char *<a class="el" href="../../d3/d5a/ccss_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, unsigned char *fdn, unsigned char *sec, int ver)</td></tr>
<tr class="separator:a77c05f2f157281024a608746d8af3c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1fb77a28e54065e3fc2bfbbb58e888"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a3d1fb77a28e54065e3fc2bfbbb58e888">adsi_download_disconnect</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a3d1fb77a28e54065e3fc2bfbbb58e888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a341292a6a38e8a6a231328fb542b27d0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a341292a6a38e8a6a231328fb542b27d0">adsi_end_download</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a341292a6a38e8a6a231328fb542b27d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adacdfe433a5e5057c078025dacae208a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#adacdfe433a5e5057c078025dacae208a">adsi_generate</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int msgtype, unsigned char *msg, int msglen, int msgnum, int <a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a>, struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *codec)</td></tr>
<tr class="separator:adacdfe433a5e5057c078025dacae208a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518a306aed61dffa502550f3e22357d8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a518a306aed61dffa502550f3e22357d8">adsi_get_cpeid</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *cpeid, int voice)</td></tr>
<tr class="separator:a518a306aed61dffa502550f3e22357d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e782b46143ba3641eaf2c9b6b1448d1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a8e782b46143ba3641eaf2c9b6b1448d1">adsi_get_cpeinfo</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, int *width, int *height, int *buttons, int voice)</td></tr>
<tr class="separator:a8e782b46143ba3641eaf2c9b6b1448d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c28734255e3f951fd95f8dea1a1bd1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a84c28734255e3f951fd95f8dea1a1bd1">adsi_input_control</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int page, int line, int display, int <a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, int just)</td></tr>
<tr class="separator:a84c28734255e3f951fd95f8dea1a1bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d56d60e2604be72aa7629f61bd71d20"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a0d56d60e2604be72aa7629f61bd71d20">adsi_input_format</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int num, int dir, int wrap, char *format1, char *format2)</td></tr>
<tr class="separator:a0d56d60e2604be72aa7629f61bd71d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc66d7b12a89c85738ac76ef774e2f82"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#abc66d7b12a89c85738ac76ef774e2f82">adsi_load</a> (int <a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>)</td></tr>
<tr class="separator:abc66d7b12a89c85738ac76ef774e2f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa450ad9f2e188ca53ef9fd8553a5c144"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#aa450ad9f2e188ca53ef9fd8553a5c144">adsi_load_session</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, int ver, int data)</td></tr>
<tr class="separator:aa450ad9f2e188ca53ef9fd8553a5c144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8137f9a37b959fe04e01e9eec953bf49"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a8137f9a37b959fe04e01e9eec953bf49">adsi_load_soft_key</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int key, const char *llabel, const char *slabel, char *ret, int data)</td></tr>
<tr class="separator:a8137f9a37b959fe04e01e9eec953bf49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42278222227fdc2a301077f0888bf17e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a42278222227fdc2a301077f0888bf17e">adsi_print</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char **<a class="el" href="../../df/d58/structlines.html">lines</a>, int *align, int voice)</td></tr>
<tr class="separator:a42278222227fdc2a301077f0888bf17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9079b6a9247eea5e22a6d162ef528f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a6f9079b6a9247eea5e22a6d162ef528f">adsi_query_cpeid</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a6f9079b6a9247eea5e22a6d162ef528f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a284b651ba9f045ca5ac9fcbb3b6eea98"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a284b651ba9f045ca5ac9fcbb3b6eea98">adsi_query_cpeinfo</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="separator:a284b651ba9f045ca5ac9fcbb3b6eea98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c105057664598a21dbbc13ab46bb891"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a1c105057664598a21dbbc13ab46bb891">adsi_read_encoded_dtmf</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int maxlen)</td></tr>
<tr class="separator:a1c105057664598a21dbbc13ab46bb891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0772fde63db673ce13348b83359d4ef1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a0772fde63db673ce13348b83359d4ef1">adsi_set_keys</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned char *<a class="el" href="../../d2/df1/structkeys.html">keys</a>)</td></tr>
<tr class="separator:a0772fde63db673ce13348b83359d4ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6462d4524f8618e5887a7a09b596860f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a6462d4524f8618e5887a7a09b596860f">adsi_set_line</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int page, int line)</td></tr>
<tr class="separator:a6462d4524f8618e5887a7a09b596860f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98a2fcf96e03835a2bdb17e78cc5ac8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ac98a2fcf96e03835a2bdb17e78cc5ac8">adsi_transmit_message</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *msg, int msglen, int msgtype)</td></tr>
<tr class="separator:ac98a2fcf96e03835a2bdb17e78cc5ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a830aa5838df400404aaa81d32e9b7a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</td></tr>
<tr class="separator:a9a830aa5838df400404aaa81d32e9b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e748115219a3e5843fbe0178d0ac96"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ab9e748115219a3e5843fbe0178d0ac96">adsi_unload_session</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:ab9e748115219a3e5843fbe0178d0ac96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25bf7ea329fd7199d185524b407a5bb8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a> (unsigned char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, int when)</td></tr>
<tr class="separator:a25bf7ea329fd7199d185524b407a5bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56f642b9fec346fb38ea1777bb8374f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a> (unsigned char *dst, const unsigned char *src, int <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>)</td></tr>
<tr class="separator:ae56f642b9fec346fb38ea1777bb8374f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83a81c0586755098baa52a61599a2b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ad83a81c0586755098baa52a61599a2b8">init_state</a> (void)</td></tr>
<tr class="separator:ad83a81c0586755098baa52a61599a2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1982509765f4870f1f63412a53ea668"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> (void)</td></tr>
<tr class="separator:ad1982509765f4870f1f63412a53ea668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc0c676ad5a60ff13f432a9c7359484e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#adc0c676ad5a60ff13f432a9c7359484e">str2align</a> (const char *s)</td></tr>
<tr class="separator:adc0c676ad5a60ff13f432a9c7359484e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;ADSI Resource&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_DEPRECATED, .load = load_module, .unload = unload_module, .reload = reload, .load_pri = AST_MODPRI_APP_DEPEND, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b537b1af8936fc6ca2eda76d70430f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a81b537b1af8936fc6ca2eda76d70430f">alignment</a> = 0</td></tr>
<tr class="separator:a81b537b1af8936fc6ca2eda76d70430f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0aea0124e427b4551cf369b176e731"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a3c0aea0124e427b4551cf369b176e731">aligns</a> [<a class="el" href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a>]</td></tr>
<tr class="separator:a3c0aea0124e427b4551cf369b176e731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f1985e4c8cb8439ac70ea293e819c7"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a> [<a class="el" href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a>][20]</td></tr>
<tr class="separator:ac5f1985e4c8cb8439ac70ea293e819c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35730743cfe5d3cb0971c186fb1788a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ac35730743cfe5d3cb0971c186fb1788a">maxretries</a> = <a class="el" href="../../dd/d27/res__adsi_8c.html#ae78e909f3afca606cb096d3e2aaeeddf">DEFAULT_ADSI_MAX_RETRIES</a></td></tr>
<tr class="separator:ac35730743cfe5d3cb0971c186fb1788a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1928f7553d65d4c2621fefff04824742"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/d41/structadsi__funcs.html">adsi_funcs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a1928f7553d65d4c2621fefff04824742">res_adsi_funcs</a></td></tr>
<tr class="separator:a1928f7553d65d4c2621fefff04824742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2a460cdc221724359c10c82ed56b3d"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a> [<a class="el" href="../../dd/d27/res__adsi_8c.html#a811570484466fddfd91a3695c25a2aed">ADSI_MAX_SPEED_DIAL</a>][3][<a class="el" href="../../dd/d27/res__adsi_8c.html#a7960db0a226b9ee534e59e459ed228ef">SPEEDDIAL_MAX_LEN</a>]</td></tr>
<tr class="separator:a9a2a460cdc221724359c10c82ed56b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08471dfaed9bfbf2ffbf72a52fe4fffb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#a08471dfaed9bfbf2ffbf72a52fe4fffb">speeds</a> = 0</td></tr>
<tr class="separator:a08471dfaed9bfbf2ffbf72a52fe4fffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7af894858cf396a219d632f40afdc8d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a> = 0</td></tr>
<tr class="separator:ac7af894858cf396a219d632f40afdc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ADSI support. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Spencer <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ks'+'ter'+'@d'+'igi'+'um'+'.co'+'m'; return false;">marks<span style="display: none;">.nosp@m.</span>ter@<span style="display: none;">.nosp@m.</span>digiu<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>this module is required by app_voicemail and app_getcpeid </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000082">Todo:</a></b></dt><dd><p class="startdd">Move app_getcpeid into this module </p>
<p class="enddd">Create a core layer so that app_voicemail does not require res_adsi to load </p>
</dd></dl>

<p class="definition">Definition in file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2447f977e8fdc689f10e33b81d96311c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2447f977e8fdc689f10e33b81d96311c">&#9670;&nbsp;</a></span>ADSI_FLAG_DATAMODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADSI_FLAG_DATAMODE&#160;&#160;&#160;(1 &lt;&lt; 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00058">58</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00229">__adsi_transmit_messages()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>.</p>

</div>
</div>
<a id="a883381de25fae11725272776402f66ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883381de25fae11725272776402f66ed">&#9670;&nbsp;</a></span>ADSI_MAX_INTRO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADSI_MAX_INTRO&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00055">55</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">init_state()</a>.</p>

</div>
</div>
<a id="a811570484466fddfd91a3695c25a2aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811570484466fddfd91a3695c25a2aed">&#9670;&nbsp;</a></span>ADSI_MAX_SPEED_DIAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADSI_MAX_SPEED_DIAL&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00056">56</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>.</p>

</div>
</div>
<a id="aea7435fd1af44d9caec35b913e0d6dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7435fd1af44d9caec35b913e0d6dd1">&#9670;&nbsp;</a></span>ADSI_SPEED_DIAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADSI_SPEED_DIAL&#160;&#160;&#160;10	/* 10-15 are reserved for speed dial */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00063">63</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00971">adsi_channel_restore()</a>.</p>

</div>
</div>
<a id="ae78e909f3afca606cb096d3e2aaeeddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae78e909f3afca606cb096d3e2aaeeddf">&#9670;&nbsp;</a></span>DEFAULT_ADSI_MAX_RETRIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_ADSI_MAX_RETRIES&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00053">53</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

</div>
</div>
<a id="a7960db0a226b9ee534e59e459ed228ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7960db0a226b9ee534e59e459ed228ef">&#9670;&nbsp;</a></span>SPEEDDIAL_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPEEDDIAL_MAX_LEN&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00068">68</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2efe248249d58ae6b4ffe4d535f9ab27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2efe248249d58ae6b4ffe4d535f9ab27">&#9670;&nbsp;</a></span>__adsi_transmit_messages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __adsi_transmit_messages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>msglen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>msgtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00229">229</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00152">adsi_careful_send()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00058">ADSI_FLAG_DATAMODE</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00102">adsi_generate()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00871">AST_ADSI_AVAILABLE</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00872">AST_ADSI_UNAVAILABLE</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00785">ast_channel_adsicpe_set()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01257">ast_channel_defer_dtmf()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01271">ast_channel_undefer_dtmf()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00086">ast_format_ulaw</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">AST_FRAME_DTMF</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../dc/dd5/callerid_8c_source.html#l00261">ast_gen_cas()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04302">ast_read()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06655">ast_readstring()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03171">ast_waitfor()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00060">maxretries</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <span class="comment">/* msglen must be no more than 256 bits, each */</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[24000 * 5];</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keywordtype">int</span> pos = 0, res, x, start = 0, retries = 0, waittime, rem = 0, def;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="keywordtype">char</span> ack[3];</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a>(chan) == <a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda5f0673b46cfdba3094393b3fbce084ff">AST_ADSI_UNAVAILABLE</a>) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="comment">/* Don&#39;t bother if we know they don&#39;t support ADSI */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = ENOSYS;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <span class="keywordflow">while</span> (retries &lt; <a class="code" href="../../dd/d27/res__adsi_8c.html#ac35730743cfe5d3cb0971c186fb1788a">maxretries</a>) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a>(chan) &amp; <a class="code" href="../../dd/d27/res__adsi_8c.html#a2447f977e8fdc689f10e33b81d96311c">ADSI_FLAG_DATAMODE</a>)) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;         <span class="comment">/* Generate CAS (no SAS) */</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;         <a class="code" href="../../de/d47/callerid_8h.html#a15f3552c543124863461eb0579ab28c2">ast_gen_cas</a>(buf, 0, 680, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;         <span class="comment">/* Send CAS */</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d27/res__adsi_8c.html#a7d4b85bd5838855639db8c52fdf984d4">adsi_careful_send</a>(chan, buf, 680, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to send CAS\n&quot;</span>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;         }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;         <span class="comment">/* Wait For DTMF result */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;         waittime = 500;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;         <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">if</span> (((res = <a class="code" href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a>(chan, waittime)) &lt; 1)) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;               <span class="comment">/* Didn&#39;t get back DTMF A in time */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;No ADSI CPE detected (%d)\n&quot;</span>, res);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;               <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a>(chan)) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                  <a class="code" href="../../d5/d7b/channel_8h.html#aed40a28831fcb5791cd63c1b8761d659">ast_channel_adsicpe_set</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda5f0673b46cfdba3094393b3fbce084ff">AST_ADSI_UNAVAILABLE</a>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;               }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;               <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = ENOSYS;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            waittime = res;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">if</span> (!(f = <a class="code" href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a>(chan))) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Hangup in ADSI\n&quot;</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;               <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <span class="charliteral">&#39;A&#39;</span>) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                  <span class="comment">/* Okay, this is an ADSI CPE.  Note this for future reference, too */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a>(chan)) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                     <a class="code" href="../../d5/d7b/channel_8h.html#aed40a28831fcb5791cd63c1b8761d659">ast_channel_adsicpe_set</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda760a7f7c7ffc838f278b34db7bb69e4d">AST_ADSI_AVAILABLE</a>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                  }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                  <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <span class="charliteral">&#39;D&#39;</span>) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                     <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Off-hook capable CPE only, not ADSI\n&quot;</span>);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                     <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown ADSI response &#39;%c&#39;\n&quot;</span>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a>(chan)) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                     <a class="code" href="../../d5/d7b/channel_8h.html#aed40a28831fcb5791cd63c1b8761d659">ast_channel_adsicpe_set</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda5f0673b46cfdba3094393b3fbce084ff">AST_ADSI_UNAVAILABLE</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                  }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                  <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> =  ENOSYS;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                  <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                  <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;               }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;         }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;ADSI Compatible CPE Detected\n&quot;</span>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Already in data mode\n&quot;</span>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      x = 0;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      pos = 0;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#if 1</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      def= <a class="code" href="../../d5/d7b/channel_8h.html#aeaeb784665c384163aefb975ddf8bbe8">ast_channel_defer_dtmf</a>(chan);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">while</span> ((x &lt; 6) &amp;&amp; msg[x]) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;         <span class="keywordflow">if</span> ((res = <a class="code" href="../../dd/d27/res__adsi_8c.html#adacdfe433a5e5057c078025dacae208a">adsi_generate</a>(buf + pos, msgtype[x], msg[x], msglen[x], x+1 - start, (x == 5) || !msg[x+1], <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>)) &lt; 0) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to generate ADSI message %d on channel %s\n&quot;</span>, x + 1, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;         }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Message %d, of %d input bytes, %d output bytes\n&quot;</span>, x + 1, msglen[x], res);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;         pos += res;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         x++;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      rem = 0;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      res = <a class="code" href="../../dd/d27/res__adsi_8c.html#a7d4b85bd5838855639db8c52fdf984d4">adsi_careful_send</a>(chan, buf, pos, &amp;rem);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">if</span> (!def) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a6e558e6f257935744c3c7f9cd79b169a">ast_channel_undefer_dtmf</a>(chan);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Sent total spill of %d bytes\n&quot;</span>, pos);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      memset(ack, 0, <span class="keyword">sizeof</span>(ack));</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="comment">/* Get real result and check for hangup */</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">if</span> ((res = <a class="code" href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a>(chan, ack, 2, 1000, 1000, <span class="stringliteral">&quot;&quot;</span>)) &lt; 0) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">if</span> (ack[0] == <span class="charliteral">&#39;D&#39;</span>) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Acked up to message %d\n&quot;</span>, atoi(ack + 1)); start += atoi(ack + 1);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         <span class="keywordflow">if</span> (start &gt;= x) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            retries++;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Retransmitting (%d), from %d\n&quot;</span>, retries, start + 1);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;         }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;         retries++;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected response to ack: %s (retry %d)\n&quot;</span>, ack, retries);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">if</span> (retries &gt;= <a class="code" href="../../dd/d27/res__adsi_8c.html#ac35730743cfe5d3cb0971c186fb1788a">maxretries</a>) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Maximum ADSI Retries (%d) exceeded\n&quot;</span>, <a class="code" href="../../dd/d27/res__adsi_8c.html#ac35730743cfe5d3cb0971c186fb1788a">maxretries</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = ETIMEDOUT;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="channel_8h_html_a828f537544a2ad2352c56c078390a0bda760a7f7c7ffc838f278b34db7bb69e4d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda760a7f7c7ffc838f278b34db7bb69e4d">AST_ADSI_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00871">channel.h:871</a></div></div>
<div class="ttc" id="channel_8h_html_a7ef6737309dc9e8b6c4a7cb4800638b1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a></div><div class="ttdeci">struct ast_frame * ast_read(struct ast_channel *chan)</div><div class="ttdoc">Reads a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04302">channel.c:4302</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a2447f977e8fdc689f10e33b81d96311c"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a2447f977e8fdc689f10e33b81d96311c">ADSI_FLAG_DATAMODE</a></div><div class="ttdeci">#define ADSI_FLAG_DATAMODE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00058">res_adsi.c:58</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a248afd6c02044259a386f6b7aee922a2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a></div><div class="ttdeci">#define AST_FRAME_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">include/asterisk/frame.h:139</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="channel_8h_html_aeaeb784665c384163aefb975ddf8bbe8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aeaeb784665c384163aefb975ddf8bbe8">ast_channel_defer_dtmf</a></div><div class="ttdeci">int ast_channel_defer_dtmf(struct ast_channel *chan)</div><div class="ttdoc">Defers DTMF so that you only read things like hangups and audio. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01257">channel.c:1257</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a6e558e6f257935744c3c7f9cd79b169a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6e558e6f257935744c3c7f9cd79b169a">ast_channel_undefer_dtmf</a></div><div class="ttdeci">void ast_channel_undefer_dtmf(struct ast_channel *chan)</div><div class="ttdoc">Unset defer DTMF flag on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01271">channel.c:1271</a></div></div>
<div class="ttc" id="channel_8h_html_aed40a28831fcb5791cd63c1b8761d659"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aed40a28831fcb5791cd63c1b8761d659">ast_channel_adsicpe_set</a></div><div class="ttdeci">void ast_channel_adsicpe_set(struct ast_channel *chan, enum ast_channel_adsicpe value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00785">channel_internal_api.c:785</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac35730743cfe5d3cb0971c186fb1788a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac35730743cfe5d3cb0971c186fb1788a">maxretries</a></div><div class="ttdeci">static int maxretries</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00060">res_adsi.c:60</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="channel_8h_html_a828f537544a2ad2352c56c078390a0bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a></div><div class="ttdeci">ast_channel_adsicpe</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00869">channel.h:869</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a7d4b85bd5838855639db8c52fdf984d4"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a7d4b85bd5838855639db8c52fdf984d4">adsi_careful_send</a></div><div class="ttdeci">static int adsi_careful_send(struct ast_channel *chan, unsigned char *buf, int len, int *remain)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00152">res_adsi.c:152</a></div></div>
<div class="ttc" id="channel_8h_html_a60e0bcaed001e8d5ed1ba0eb2644b3cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a></div><div class="ttdeci">int ast_waitfor(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for input on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03171">channel.c:3171</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="channel_8h_html_a828f537544a2ad2352c56c078390a0bda5f0673b46cfdba3094393b3fbce084ff"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda5f0673b46cfdba3094393b3fbce084ff">AST_ADSI_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00872">channel.h:872</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="channel_8h_html_ae68c6e4af7aba456ec08906cb9fb3140"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a></div><div class="ttdeci">int ast_readstring(struct ast_channel *c, char *s, int len, int timeout, int rtimeout, char *enders)</div><div class="ttdoc">Reads multiple digits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06655">channel.c:6655</a></div></div>
<div class="ttc" id="res__adsi_8c_html_adacdfe433a5e5057c078025dacae208a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#adacdfe433a5e5057c078025dacae208a">adsi_generate</a></div><div class="ttdeci">static int adsi_generate(unsigned char *buf, int msgtype, unsigned char *msg, int msglen, int msgnum, int last, struct ast_format *codec)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00102">res_adsi.c:102</a></div></div>
<div class="ttc" id="callerid_8h_html_a15f3552c543124863461eb0579ab28c2"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a15f3552c543124863461eb0579ab28c2">ast_gen_cas</a></div><div class="ttdeci">int ast_gen_cas(unsigned char *outbuf, int sas, int len, struct ast_format *codec)</div><div class="ttdoc">Generate a CAS (CPE Alert Signal) tone for &amp;#39;n&amp;#39; samples. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd5/callerid_8c_source.html#l00261">callerid.c:261</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01216">1216</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01216">1216</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

</div>
</div>
<a id="aff793fbef091ee16a6119c3649bec481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff793fbef091ee16a6119c3649bec481">&#9670;&nbsp;</a></span>adsi_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_available </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00809">809</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l00871">AST_ADSI_AVAILABLE</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l00870">AST_ADSI_UNKNOWN</a>.</p>
<div class="fragment"><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <span class="keywordtype">int</span> cpe = <a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a>(chan) &amp; 0xff;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <span class="keywordflow">if</span> ((cpe == <a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda760a7f7c7ffc838f278b34db7bb69e4d">AST_ADSI_AVAILABLE</a>) ||</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;       (cpe == <a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda163e3c7fdbfeb7a7bb55df3872546131">AST_ADSI_UNKNOWN</a>)) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div><div class="ttc" id="channel_8h_html_a828f537544a2ad2352c56c078390a0bda760a7f7c7ffc838f278b34db7bb69e4d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda760a7f7c7ffc838f278b34db7bb69e4d">AST_ADSI_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00871">channel.h:871</a></div></div>
<div class="ttc" id="channel_8h_html_a828f537544a2ad2352c56c078390a0bda163e3c7fdbfeb7a7bb55df3872546131"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bda163e3c7fdbfeb7a7bb55df3872546131">AST_ADSI_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00870">channel.h:870</a></div></div>
<div class="ttc" id="channel_8h_html_a828f537544a2ad2352c56c078390a0bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a></div><div class="ttdeci">ast_channel_adsicpe</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00869">channel.h:869</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f414c4f51cb2b76288db7a24219daad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f414c4f51cb2b76288db7a24219daad">&#9670;&nbsp;</a></span>adsi_begin_download()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_begin_download </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>fdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00352">352</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00545">adsi_download_connect()</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00033">ADSI_MSG_DOWNLOAD</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06655">ast_readstring()</a>, and <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256];</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordtype">char</span> ack[2];</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="comment">/* Setup the resident soft key stuff, a piece at a time */</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <span class="comment">/* Upload what scripts we can for voicemail ahead of time */</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a77c05f2f157281024a608746d8af3c67">adsi_download_connect</a>(buf + bytes, <a class="code" href="../../d5/dfe/chan__sip_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, fdn, sec, <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a2e0a51a5c3ebbb2933612622c37cd8e0">ADSI_MSG_DOWNLOAD</a>, 0)) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a>(chan, ack, 1, 10000, 10000, <span class="stringliteral">&quot;&quot;</span>)) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="keywordflow">if</span> (ack[0] == <span class="charliteral">&#39;B&#39;</span>) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Download was denied by CPE\n&quot;</span>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="chan__sip_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d5/dfe/chan__sip_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfe/chan__sip_8c_source.html#l00949">chan_sip.c:949</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a81b4b1c3c855fb371e7723b473f1ee78"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a81b4b1c3c855fb371e7723b473f1ee78">version</a></div><div class="ttdeci">static char version[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00391">chan_ooh323.c:391</a></div></div>
<div class="ttc" id="adsi_8h_html_a2e0a51a5c3ebbb2933612622c37cd8e0"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a2e0a51a5c3ebbb2933612622c37cd8e0">ADSI_MSG_DOWNLOAD</a></div><div class="ttdeci">#define ADSI_MSG_DOWNLOAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00033">adsi.h:33</a></div></div>
<div class="ttc" id="channel_8h_html_ae68c6e4af7aba456ec08906cb9fb3140"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a></div><div class="ttdeci">int ast_readstring(struct ast_channel *c, char *s, int len, int timeout, int rtimeout, char *enders)</div><div class="ttdoc">Reads multiple digits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06655">channel.c:6655</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a77c05f2f157281024a608746d8af3c67"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a77c05f2f157281024a608746d8af3c67">adsi_download_connect</a></div><div class="ttdeci">static int adsi_download_connect(unsigned char *buf, char *service, unsigned char *fdn, unsigned char *sec, int ver)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00545">res_adsi.c:545</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d4b85bd5838855639db8c52fdf984d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d4b85bd5838855639db8c52fdf984d4">&#9670;&nbsp;</a></span>adsi_careful_send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_careful_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>remain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00152">152</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/da6/format_8c_source.html#l00201">ast_format_cmp()</a>, <a class="el" href="../../d0/d0a/format_8h_source.html#l00036">AST_FORMAT_CMP_EQUAL</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00086">ast_format_ulaw</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04302">ast_read()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03171">ast_waitfor()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05189">ast_write()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">ast_frame_subclass::format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">ast_frame::samples</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00229">__adsi_transmit_messages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <span class="comment">/* Sends carefully on a full duplex channel by using reading for</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">      timing */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *inf;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> outf = {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      .<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>,</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      .subclass.format = <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      .data.ptr = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>,</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   };</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keywordtype">int</span> amt;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keywordflow">if</span> (remain &amp;&amp; *remain) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      amt = <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="comment">/* Send remainder if provided */</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">if</span> (amt &gt; *remain) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;         amt = *remain;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;         *remain = *remain - amt;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      outf.<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> = amt;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      outf.<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a> = amt;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61">ast_write</a>(chan, &amp;outf)) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to carefully write frame\n&quot;</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="comment">/* Update pointers and lengths */</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> += amt;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> -= amt;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      amt = <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="comment">/* If we don&#39;t get anything at all back in a second, forget</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">         about it */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a>(chan, 1000) &lt; 1) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="comment">/* Detect hangup */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span> (!(inf = <a class="code" href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a>(chan))) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="comment">/* Drop any frames that are not voice */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">if</span> (inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(inf);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a>(inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">format</a>, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>) != <a class="code" href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a>) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Channel not in ulaw?\n&quot;</span>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(inf);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="comment">/* Send no more than they sent us */</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">if</span> (amt &gt; inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a>) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;         amt = inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (remain) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         *remain = inf-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> - amt;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      outf.<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> = amt;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      outf.<a class="code" href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">samples</a> = amt;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61">ast_write</a>(chan, &amp;outf)) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to carefully write frame\n&quot;</span>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(inf);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="comment">/* Update pointers and lengths */</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> += amt;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> -= amt;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(inf);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="ttc" id="format_8h_html_a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a79bdf0b3c0616d9950d00cfeb62295c3ab1e8c1a0f8b4a1ecb6a2109992636859">AST_FORMAT_CMP_EQUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/format_8h_source.html#l00036">format.h:36</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="channel_8h_html_a7ef6737309dc9e8b6c4a7cb4800638b1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a></div><div class="ttdeci">struct ast_frame * ast_read(struct ast_channel *chan)</div><div class="ttdoc">Reads a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04302">channel.c:4302</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="format_8h_html_a738c58eca291b71de4422e95bff27400"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a738c58eca291b71de4422e95bff27400">ast_format_cmp</a></div><div class="ttdeci">enum ast_format_cmp_res ast_format_cmp(const struct ast_format *format1, const struct ast_format *format2)</div><div class="ttdoc">Compare two formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00201">format.c:201</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="channel_8h_html_a79c413d51b7135404d5cacf811649a61"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a79c413d51b7135404d5cacf811649a61">ast_write</a></div><div class="ttdeci">int ast_write(struct ast_channel *chan, struct ast_frame *frame)</div><div class="ttdoc">Write a frame to a channel This function writes the given frame to the indicated channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05189">channel.c:5189</a></div></div>
<div class="ttc" id="channel_8h_html_a60e0bcaed001e8d5ed1ba0eb2644b3cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a></div><div class="ttdeci">int ast_waitfor(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for input on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03171">channel.c:3171</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#ab425a484a0916077c5a30d9d7b229b44">ast_frame_subclass::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00155">include/asterisk/frame.h:155</a></div></div>
<div class="ttc" id="structast__frame_html_a37672e6b906143604cefd3e959777b31"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a37672e6b906143604cefd3e959777b31">ast_frame::samples</a></div><div class="ttdeci">int samples</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00173">include/asterisk/frame.h:173</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a260af31d1bb6891b6e949cf92b822442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a260af31d1bb6891b6e949cf92b822442">&#9670;&nbsp;</a></span>adsi_channel_restore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_channel_restore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00971">971</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00106">ADSI_INFO_PAGE</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00032">ADSI_MSG_DISPLAY</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00924">adsi_set_keys()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00940">adsi_set_line()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00063">ADSI_SPEED_DIAL</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00969">speeds</a>.</p>
<div class="fragment"><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;{</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> dsp[256] = <span class="stringliteral">&quot;&quot;</span>, keyd[6] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   <span class="keywordtype">int</span> bytes, x;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <span class="comment">/* Start with initial display setup */</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   bytes = 0;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a6462d4524f8618e5887a7a09b596860f">adsi_set_line</a>(dsp + bytes, <a class="code" href="../../df/de2/adsi_8h.html#a1024eb317e88742fde2143333130b0b6">ADSI_INFO_PAGE</a>, 1);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <span class="comment">/* Prepare key setup messages */</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d27/res__adsi_8c.html#a08471dfaed9bfbf2ffbf72a52fe4fffb">speeds</a>) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../dd/d27/res__adsi_8c.html#a08471dfaed9bfbf2ffbf72a52fe4fffb">speeds</a>; x++) {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;         keyd[x] = <a class="code" href="../../dd/d27/res__adsi_8c.html#aea7435fd1af44d9caec35b913e0d6dd1">ADSI_SPEED_DIAL</a> + x;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      }</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a0772fde63db673ce13348b83359d4ef1">adsi_set_keys</a>(dsp + bytes, keyd);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, dsp, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;}</div><div class="ttc" id="adsi_8h_html_a1024eb317e88742fde2143333130b0b6"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a1024eb317e88742fde2143333130b0b6">ADSI_INFO_PAGE</a></div><div class="ttdeci">#define ADSI_INFO_PAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00106">adsi.h:106</a></div></div>
<div class="ttc" id="adsi_8h_html_a5f65b445dd274af93d891153a82808cf"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a></div><div class="ttdeci">#define ADSI_MSG_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00032">adsi.h:32</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a0772fde63db673ce13348b83359d4ef1"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a0772fde63db673ce13348b83359d4ef1">adsi_set_keys</a></div><div class="ttdeci">static int adsi_set_keys(unsigned char *buf, unsigned char *keys)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00924">res_adsi.c:924</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a08471dfaed9bfbf2ffbf72a52fe4fffb"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a08471dfaed9bfbf2ffbf72a52fe4fffb">speeds</a></div><div class="ttdeci">static int speeds</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00969">res_adsi.c:969</a></div></div>
<div class="ttc" id="res__adsi_8c_html_aea7435fd1af44d9caec35b913e0d6dd1"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#aea7435fd1af44d9caec35b913e0d6dd1">ADSI_SPEED_DIAL</a></div><div class="ttdeci">#define ADSI_SPEED_DIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00063">res_adsi.c:63</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a6462d4524f8618e5887a7a09b596860f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a6462d4524f8618e5887a7a09b596860f">adsi_set_line</a></div><div class="ttdeci">static int adsi_set_line(unsigned char *buf, int page, int line)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00940">res_adsi.c:940</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf19f1dcdd64abc7d931d6f7eab271e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf19f1dcdd64abc7d931d6f7eab271e9">&#9670;&nbsp;</a></span>adsi_clear_screen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_clear_screen </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00777">777</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00056">ADSI_CLEAR_SCREEN</a>.</p>
<div class="fragment"><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;{</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#ab84213f96af4e9b0641cd2e8db2853a9">ADSI_CLEAR_SCREEN</a>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   bytes++;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_ab84213f96af4e9b0641cd2e8db2853a9"><div class="ttname"><a href="../../df/de2/adsi_8h.html#ab84213f96af4e9b0641cd2e8db2853a9">ADSI_CLEAR_SCREEN</a></div><div class="ttdeci">#define ADSI_CLEAR_SCREEN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00056">adsi.h:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a965e46ac27d2e54c4cb7d20b7c71a24c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965e46ac27d2e54c4cb7d20b7c71a24c">&#9670;&nbsp;</a></span>adsi_clear_soft_keys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_clear_soft_keys </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00762">762</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00044">ADSI_CLEAR_SOFTKEY</a>.</p>
<div class="fragment"><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;{</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a8a49d9035f2791f6928429799c52e62b">ADSI_CLEAR_SOFTKEY</a>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   bytes++;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_a8a49d9035f2791f6928429799c52e62b"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a8a49d9035f2791f6928429799c52e62b">ADSI_CLEAR_SOFTKEY</a></div><div class="ttdeci">#define ADSI_CLEAR_SOFTKEY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00044">adsi.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9eb6366ce6f7ce947c25249951371f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb6366ce6f7ce947c25249951371f32">&#9670;&nbsp;</a></span>adsi_connect_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_connect_session </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>fdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00521">521</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00050">ADSI_CONNECT_SESSION</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01013">adsi_load_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <span class="keywordtype">int</span> bytes = 0, x;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a394cd4ba355d88e199d43148907c38e9">ADSI_CONNECT_SESSION</a>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   bytes++;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   <span class="keywordflow">if</span> (fdn) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;         <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = fdn[x];</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">if</span> (ver &gt; -1) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = ver &amp; 0xff;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_a394cd4ba355d88e199d43148907c38e9"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a394cd4ba355d88e199d43148907c38e9">ADSI_CONNECT_SESSION</a></div><div class="ttdeci">#define ADSI_CONNECT_SESSION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00050">adsi.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e6d976be75b3133eb7198646d92df3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e6d976be75b3133eb7198646d92df3e">&#9670;&nbsp;</a></span>adsi_data_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_data_mode </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00747">747</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00042">ADSI_SWITCH_TO_DATA</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00649">adsi_get_cpeid()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00680">adsi_get_cpeinfo()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01013">adsi_load_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;{</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a16edf72296b754eb3050a925514e5668">ADSI_SWITCH_TO_DATA</a>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   bytes++;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_a16edf72296b754eb3050a925514e5668"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a16edf72296b754eb3050a925514e5668">ADSI_SWITCH_TO_DATA</a></div><div class="ttdeci">#define ADSI_SWITCH_TO_DATA</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00042">adsi.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a714642834491291d6887c767ceff2d6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a714642834491291d6887c767ceff2d6d">&#9670;&nbsp;</a></span>adsi_disconnect_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_disconnect_session </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00577">577</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00041">ADSI_DISC_SESSION</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01052">adsi_unload_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a1e7820db46b95b4a6760cd8c113c60fd">ADSI_DISC_SESSION</a>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   bytes++;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_a1e7820db46b95b4a6760cd8c113c60fd"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a1e7820db46b95b4a6760cd8c113c60fd">ADSI_DISC_SESSION</a></div><div class="ttdeci">#define ADSI_DISC_SESSION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00041">adsi.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="affdadadfca74733c54fb2fd9cee29c85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affdadadfca74733c54fb2fd9cee29c85">&#9670;&nbsp;</a></span>adsi_display()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="../../d1/dcb/structadsi__display.html">adsi_display</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>just</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>col1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>col2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00834">834</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00038">ADSI_LOAD_VIRTUAL_DISP</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00469">ccopy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00993">adsi_print()</a>.</p>
<div class="fragment"><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;{</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="comment">/* Sanity check line number */</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   <span class="keywordflow">if</span> (page) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keywordflow">if</span> (line &gt; 4) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">if</span> (line &gt; 33) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <span class="keywordflow">if</span> (line &lt; 1) {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="comment">/* Parameter type */</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#aeb401263fd5741a7ad1b6bee95eeebb5">ADSI_LOAD_VIRTUAL_DISP</a>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="comment">/* Reserve space for size */</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   bytes++;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <span class="comment">/* Page and wrap indicator */</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = ((page &amp; 0x1) &lt;&lt; 7) | ((wrap &amp; 0x1) &lt;&lt; 6) | (line &amp; 0x3f);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <span class="comment">/* Justification */</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = (just &amp; 0x3) &lt;&lt; 5;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   <span class="comment">/* Omit highlight mode definition */</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = 0xff;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="comment">/* Primary column */</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   bytes+= <a class="code" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> + bytes, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)col1, 20);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <span class="comment">/* Delimiter */</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = 0xff;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="comment">/* Secondary column */</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> + bytes, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)col2, 20);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="comment">/* Update length */</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ae56f642b9fec346fb38ea1777bb8374f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a></div><div class="ttdeci">static int ccopy(unsigned char *dst, const unsigned char *src, int max)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00469">res_adsi.c:469</a></div></div>
<div class="ttc" id="adsi_8h_html_aeb401263fd5741a7ad1b6bee95eeebb5"><div class="ttname"><a href="../../df/de2/adsi_8h.html#aeb401263fd5741a7ad1b6bee95eeebb5">ADSI_LOAD_VIRTUAL_DISP</a></div><div class="ttdeci">#define ADSI_LOAD_VIRTUAL_DISP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00038">adsi.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a77c05f2f157281024a608746d8af3c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c05f2f157281024a608746d8af3c67">&#9670;&nbsp;</a></span>adsi_download_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_download_connect </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>fdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00545">545</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00065">ADSI_DOWNLOAD_CONNECT</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00469">ccopy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00352">adsi_begin_download()</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordtype">int</span> bytes = 0, x;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a188c71e011cd5cd36351f43325c7c5c4">ADSI_DOWNLOAD_CONNECT</a>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   bytes++;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   <span class="comment">/* Primary column */</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   bytes+= <a class="code" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> + bytes, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="../../d5/dfe/chan__sip_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a>, 18);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <span class="comment">/* Delimiter */</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = 0xff;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = fdn[x];</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = sec[x];</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = ver &amp; 0xff;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="chan__sip_8c_html_a495cc24c1947d49a2b6de488a45c9d72"><div class="ttname"><a href="../../d5/dfe/chan__sip_8c.html#a495cc24c1947d49a2b6de488a45c9d72">service</a></div><div class="ttdeci">enum ast_cc_service_type service</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfe/chan__sip_8c_source.html#l00949">chan_sip.c:949</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ae56f642b9fec346fb38ea1777bb8374f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a></div><div class="ttdeci">static int ccopy(unsigned char *dst, const unsigned char *src, int max)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00469">res_adsi.c:469</a></div></div>
<div class="ttc" id="adsi_8h_html_a188c71e011cd5cd36351f43325c7c5c4"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a188c71e011cd5cd36351f43325c7c5c4">ADSI_DOWNLOAD_CONNECT</a></div><div class="ttdeci">#define ADSI_DOWNLOAD_CONNECT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00065">adsi.h:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d1fb77a28e54065e3fc2bfbbb58e888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d1fb77a28e54065e3fc2bfbbb58e888">&#9670;&nbsp;</a></span>adsi_download_disconnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_download_disconnect </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00819">819</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00066">ADSI_DOWNLOAD_DISC</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00374">adsi_end_download()</a>.</p>
<div class="fragment"><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a86fce3ce5951241b865ca665e8eb73f0">ADSI_DOWNLOAD_DISC</a>;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   bytes++;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_a86fce3ce5951241b865ca665e8eb73f0"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a86fce3ce5951241b865ca665e8eb73f0">ADSI_DOWNLOAD_DISC</a></div><div class="ttdeci">#define ADSI_DOWNLOAD_DISC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00066">adsi.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a341292a6a38e8a6a231328fb542b27d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a341292a6a38e8a6a231328fb542b27d0">&#9670;&nbsp;</a></span>adsi_end_download()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_end_download </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00374">374</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00819">adsi_download_disconnect()</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00033">ADSI_MSG_DOWNLOAD</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>, and <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>.</p>
<div class="fragment"><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;{</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256];</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="comment">/* Setup the resident soft key stuff, a piece at a time */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="comment">/* Upload what scripts we can for voicemail ahead of time */</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a3d1fb77a28e54065e3fc2bfbbb58e888">adsi_download_disconnect</a>(buf + bytes);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a2e0a51a5c3ebbb2933612622c37cd8e0">ADSI_MSG_DOWNLOAD</a>, 0)) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
<div class="ttc" id="adsi_8h_html_a2e0a51a5c3ebbb2933612622c37cd8e0"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a2e0a51a5c3ebbb2933612622c37cd8e0">ADSI_MSG_DOWNLOAD</a></div><div class="ttdeci">#define ADSI_MSG_DOWNLOAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00033">adsi.h:33</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a3d1fb77a28e54065e3fc2bfbbb58e888"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a3d1fb77a28e54065e3fc2bfbbb58e888">adsi_download_disconnect</a></div><div class="ttdeci">static int adsi_download_disconnect(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00819">res_adsi.c:819</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adacdfe433a5e5057c078025dacae208a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adacdfe433a5e5057c078025dacae208a">&#9670;&nbsp;</a></span>adsi_generate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_generate </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msglen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d98/structast__format.html">ast_format</a> *&#160;</td>
          <td class="paramname"><em>codec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00102">102</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d47/callerid_8h_source.html#l00304">PUT_CLID</a>, and <a class="el" href="../../de/d47/callerid_8h_source.html#l00289">PUT_CLID_MARKMS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00229">__adsi_transmit_messages()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <span class="keywordtype">int</span> sum, x, bytes = 0;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="comment">/* Initial carrier (imaginary) */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keywordtype">float</span> cr = 1.0, ci = 0.0, scont = 0.0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keywordflow">if</span> (msglen &gt; 255) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      msglen = 255;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <span class="comment">/* If first message, Send 150ms of MARK&#39;s */</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keywordflow">if</span> (msgnum == 1) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keywordflow">for</span> (x = 0; x &lt; 150; x++) { <span class="comment">/* was 150 */</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;         <a class="code" href="../../de/d47/callerid_8h.html#a7ce7cf8db165eb44e64e704c3ced9774">PUT_CLID_MARKMS</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="comment">/* Put message type */</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <a class="code" href="../../de/d47/callerid_8h.html#a02c7254b3ec648f815c15bd6f8cce39b">PUT_CLID</a>(msgtype);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   sum = msgtype;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="comment">/* Put message length (plus one for the message number) */</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   <a class="code" href="../../de/d47/callerid_8h.html#a02c7254b3ec648f815c15bd6f8cce39b">PUT_CLID</a>(msglen + 1);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   sum += msglen + 1;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="comment">/* Put message number */</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <a class="code" href="../../de/d47/callerid_8h.html#a02c7254b3ec648f815c15bd6f8cce39b">PUT_CLID</a>(msgnum);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   sum += msgnum;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <span class="comment">/* Put actual message */</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; msglen; x++) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="../../de/d47/callerid_8h.html#a02c7254b3ec648f815c15bd6f8cce39b">PUT_CLID</a>(msg[x]);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      sum += msg[x];</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="comment">/* Put 2&#39;s compliment of sum */</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <a class="code" href="../../de/d47/callerid_8h.html#a02c7254b3ec648f815c15bd6f8cce39b">PUT_CLID</a>(256-(sum &amp; 0xff));</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/d44/app__meetme_8c.html#ae9dd6bdb4c5c0529195a03583d0d4a8d">last</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="comment">/* Put trailing marks */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">for</span> (x = 0; x &lt; 50; x++) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;         <a class="code" href="../../de/d47/callerid_8h.html#a7ce7cf8db165eb44e64e704c3ced9774">PUT_CLID_MARKMS</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_ae9dd6bdb4c5c0529195a03583d0d4a8d"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#ae9dd6bdb4c5c0529195a03583d0d4a8d">last</a></div><div class="ttdeci">struct sla_ringing_trunk * last</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="callerid_8h_html_a02c7254b3ec648f815c15bd6f8cce39b"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a02c7254b3ec648f815c15bd6f8cce39b">PUT_CLID</a></div><div class="ttdeci">#define PUT_CLID(byte)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/callerid_8h_source.html#l00304">callerid.h:304</a></div></div>
<div class="ttc" id="callerid_8h_html_a7ce7cf8db165eb44e64e704c3ced9774"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a7ce7cf8db165eb44e64e704c3ced9774">PUT_CLID_MARKMS</a></div><div class="ttdeci">#define PUT_CLID_MARKMS</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/callerid_8h_source.html#l00289">callerid.h:289</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a518a306aed61dffa502550f3e22357d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a518a306aed61dffa502550f3e22357d8">&#9670;&nbsp;</a></span>adsi_get_cpeid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_get_cpeid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpeid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>voice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00649">649</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00747">adsi_data_mode()</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00032">ADSI_MSG_DISPLAY</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00592">adsi_query_cpeid()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00612">adsi_read_encoded_dtmf()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00792">adsi_voice_mode()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03184">ast_waitfordigit()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="keywordtype">int</span> bytes = 0, res;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a6e6d976be75b3133eb7198646d92df3e">adsi_data_mode</a>(buf);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   bytes = 0;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a6f9079b6a9247eea5e22a6d162ef528f">adsi_query_cpeid</a>(buf);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="comment">/* Get response */</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   res = <a class="code" href="../../dd/d27/res__adsi_8c.html#a1c105057664598a21dbbc13ab46bb891">adsi_read_encoded_dtmf</a>(chan, cpeid, 4);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   <span class="keywordflow">if</span> (res != 4) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got %d bytes back of encoded DTMF, expecting 4\n&quot;</span>, res);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      res = 0;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      res = 1;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <span class="keywordflow">if</span> (voice) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      bytes = 0;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a>(buf, 0);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="comment">/* Ignore the resulting DTMF B announcing it&#39;s in voice mode */</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a>(chan, 1000);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div><div class="ttc" id="adsi_8h_html_a5f65b445dd274af93d891153a82808cf"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a></div><div class="ttdeci">#define ADSI_MSG_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00032">adsi.h:32</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a1c105057664598a21dbbc13ab46bb891"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a1c105057664598a21dbbc13ab46bb891">adsi_read_encoded_dtmf</a></div><div class="ttdeci">static int adsi_read_encoded_dtmf(struct ast_channel *chan, unsigned char *buf, int maxlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00612">res_adsi.c:612</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a6e6d976be75b3133eb7198646d92df3e"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a6e6d976be75b3133eb7198646d92df3e">adsi_data_mode</a></div><div class="ttdeci">static int adsi_data_mode(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00747">res_adsi.c:747</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a25bf7ea329fd7199d185524b407a5bb8"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a></div><div class="ttdeci">static int adsi_voice_mode(unsigned char *buf, int when)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00792">res_adsi.c:792</a></div></div>
<div class="ttc" id="channel_8h_html_a050bec9a4abc1a599b6573a6091b080c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a></div><div class="ttdeci">int ast_waitfordigit(struct ast_channel *c, int ms)</div><div class="ttdoc">Waits for a digit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03184">channel.c:3184</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a6f9079b6a9247eea5e22a6d162ef528f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a6f9079b6a9247eea5e22a6d162ef528f">adsi_query_cpeid</a></div><div class="ttdeci">static int adsi_query_cpeid(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00592">res_adsi.c:592</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e782b46143ba3641eaf2c9b6b1448d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e782b46143ba3641eaf2c9b6b1448d1">&#9670;&nbsp;</a></span>adsi_get_cpeinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_get_cpeinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>buttons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>voice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00680">680</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00747">adsi_data_mode()</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00032">ADSI_MSG_DISPLAY</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00602">adsi_query_cpeinfo()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00792">adsi_voice_mode()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06655">ast_readstring()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03184">ast_waitfordigit()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>
<div class="fragment"><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;{</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="keywordtype">int</span> bytes = 0, res;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a6e6d976be75b3133eb7198646d92df3e">adsi_data_mode</a>(buf);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   bytes = 0;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a284b651ba9f045ca5ac9fcbb3b6eea98">adsi_query_cpeinfo</a>(buf);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <span class="comment">/* Get width */</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a>(chan, (<span class="keywordtype">char</span> *) buf, 2, 1000, 500, <span class="stringliteral">&quot;&quot;</span>)) &lt; 0) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <span class="keywordflow">if</span> (strlen((<span class="keywordtype">char</span> *) buf) != 2) {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got %d bytes of width, expecting 2\n&quot;</span>, res);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      res = 0;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      res = 1;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="keywordflow">if</span> (width) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      *width = atoi((<span class="keywordtype">char</span> *) buf);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="comment">/* Get height */</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   memset(buf, 0, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">if</span> ((res = <a class="code" href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a>(chan, (<span class="keywordtype">char</span> *) buf, 2, 1000, 500, <span class="stringliteral">&quot;&quot;</span>)) &lt; 0) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;         <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordflow">if</span> (strlen((<span class="keywordtype">char</span> *) buf) != 2) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got %d bytes of height, expecting 2\n&quot;</span>, res);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;         res = 0;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;         res = 1;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordflow">if</span> (height) {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;         *height = atoi((<span class="keywordtype">char</span> *) buf);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   <span class="comment">/* Get buttons */</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   memset(buf, 0, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="keywordflow">if</span> ((res = <a class="code" href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a>(chan, (<span class="keywordtype">char</span> *) buf, 1, 1000, 500, <span class="stringliteral">&quot;&quot;</span>)) &lt; 0) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;         <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">if</span> (strlen((<span class="keywordtype">char</span> *) buf) != 1) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Got %d bytes of buttons, expecting 1\n&quot;</span>, res);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;         res = 0;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         res = 1;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordflow">if</span> (buttons) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;         *buttons = atoi((<span class="keywordtype">char</span> *) buf);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="keywordflow">if</span> (voice) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      bytes = 0;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a>(buf, 0);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="comment">/* Ignore the resulting DTMF B announcing it&#39;s in voice mode */</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a>(chan, 1000);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;}</div><div class="ttc" id="res__adsi_8c_html_a284b651ba9f045ca5ac9fcbb3b6eea98"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a284b651ba9f045ca5ac9fcbb3b6eea98">adsi_query_cpeinfo</a></div><div class="ttdeci">static int adsi_query_cpeinfo(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00602">res_adsi.c:602</a></div></div>
<div class="ttc" id="adsi_8h_html_a5f65b445dd274af93d891153a82808cf"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a></div><div class="ttdeci">#define ADSI_MSG_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00032">adsi.h:32</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a6e6d976be75b3133eb7198646d92df3e"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a6e6d976be75b3133eb7198646d92df3e">adsi_data_mode</a></div><div class="ttdeci">static int adsi_data_mode(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00747">res_adsi.c:747</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a25bf7ea329fd7199d185524b407a5bb8"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a></div><div class="ttdeci">static int adsi_voice_mode(unsigned char *buf, int when)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00792">res_adsi.c:792</a></div></div>
<div class="ttc" id="channel_8h_html_a050bec9a4abc1a599b6573a6091b080c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a></div><div class="ttdeci">int ast_waitfordigit(struct ast_channel *c, int ms)</div><div class="ttdoc">Waits for a digit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03184">channel.c:3184</a></div></div>
<div class="ttc" id="channel_8h_html_ae68c6e4af7aba456ec08906cb9fb3140"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a></div><div class="ttdeci">int ast_readstring(struct ast_channel *c, char *s, int len, int timeout, int rtimeout, char *enders)</div><div class="ttdoc">Reads multiple digits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06655">channel.c:6655</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84c28734255e3f951fd95f8dea1a1bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c28734255e3f951fd95f8dea1a1bd1">&#9670;&nbsp;</a></span>adsi_input_control()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_input_control </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>display</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>just</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00881">881</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00045">ADSI_INPUT_CONTROL</a>.</p>
<div class="fragment"><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;{</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <span class="keywordflow">if</span> (page) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">if</span> (line &gt; 4) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">if</span> (line &gt; 33) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   <span class="keywordflow">if</span> (line &lt; 1) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a014a1cb303fccc438698ab8053de09a5">ADSI_INPUT_CONTROL</a>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   bytes++;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = ((page &amp; 1) &lt;&lt; 7) | (line &amp; 0x3f);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = ((display &amp; 1) &lt;&lt; 7) | ((just &amp; 0x3) &lt;&lt; 4) | (<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a> &amp; 0x7);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="adsi_8h_html_a014a1cb303fccc438698ab8053de09a5"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a014a1cb303fccc438698ab8053de09a5">ADSI_INPUT_CONTROL</a></div><div class="ttdeci">#define ADSI_INPUT_CONTROL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00045">adsi.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d56d60e2604be72aa7629f61bd71d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d56d60e2604be72aa7629f61bd71d20">&#9670;&nbsp;</a></span>adsi_input_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_input_format </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>format1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>format2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00904">904</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00046">ADSI_INPUT_FORMAT</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00469">ccopy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;{</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>((<span class="keywordtype">char</span> *) format1)) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#ae13ba15b81c0f47abfa2d5b227017f68">ADSI_INPUT_FORMAT</a>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;   bytes++;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = ((dir &amp; 1) &lt;&lt; 7) | ((wrap &amp; 1) &lt;&lt; 6) | (num &amp; 0x7);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> + bytes, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) format1, 20);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = 0xff;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(format2)) {</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> + bytes, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) format2, 20);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   }</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ae56f642b9fec346fb38ea1777bb8374f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a></div><div class="ttdeci">static int ccopy(unsigned char *dst, const unsigned char *src, int max)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00469">res_adsi.c:469</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="adsi_8h_html_ae13ba15b81c0f47abfa2d5b227017f68"><div class="ttname"><a href="../../df/de2/adsi_8h.html#ae13ba15b81c0f47abfa2d5b227017f68">ADSI_INPUT_FORMAT</a></div><div class="ttdeci">#define ADSI_INPUT_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00046">adsi.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc66d7b12a89c85738ac76ef774e2f82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc66d7b12a89c85738ac76ef774e2f82">&#9670;&nbsp;</a></span>adsi_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void adsi_load </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">1101</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00055">ADSI_MAX_INTRO</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00056">ADSI_MAX_SPEED_DIAL</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00071">alignment</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00066">aligns</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00058">CONFIG_STATUS_FILEMISSING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">CONFIG_STATUS_FILEUNCHANGED</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">init_state()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00065">intro</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00060">maxretries</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00069">speeddial</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00068">SPEEDDIAL_MAX_LEN</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00969">speeds</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01069">str2align()</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00968">total</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01196">load_module()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01158">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;{</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <span class="keywordtype">int</span> x = 0;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *<a class="code" href="../../d6/de8/structconf.html">conf</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { <a class="code" href="../../dd/d27/res__adsi_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> ? <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a> : 0 };</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, *sname;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#ad83a81c0586755098baa52a61599a2b8">init_state</a>();</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   conf = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(<span class="stringliteral">&quot;adsi.conf&quot;</span>, config_flags);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   <span class="keywordflow">if</span> (conf == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a39bacaabcacf47583204c7634e64a2a0">CONFIG_STATUS_FILEMISSING</a> || conf == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a> || conf == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;   }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;   <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(conf, <span class="stringliteral">&quot;intro&quot;</span>); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;alignment&quot;</span>)) {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;         <a class="code" href="../../dd/d27/res__adsi_8c.html#a81b537b1af8936fc6ca2eda76d70430f">alignment</a> = <a class="code" href="../../dd/d27/res__adsi_8c.html#adc0c676ad5a60ff13f432a9c7359484e">str2align</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;greeting&quot;</span>)) {</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;         <span class="keywordflow">if</span> (x &lt; <a class="code" href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a>) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            <a class="code" href="../../dd/d27/res__adsi_8c.html#a3c0aea0124e427b4551cf369b176e731">aligns</a>[x] = <a class="code" href="../../dd/d27/res__adsi_8c.html#a81b537b1af8936fc6ca2eda76d70430f">alignment</a>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[x], v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[x]));</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            x++;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;         }</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;maxretries&quot;</span>)) {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;         <span class="keywordflow">if</span> (atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>) &gt; 0) {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <a class="code" href="../../dd/d27/res__adsi_8c.html#ac35730743cfe5d3cb0971c186fb1788a">maxretries</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;         }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      }</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   <span class="keywordflow">if</span> (x) {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a> = x;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;   }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;   x = 0;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;   <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(conf, <span class="stringliteral">&quot;speeddial&quot;</span>); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[3 * <a class="code" href="../../dd/d27/res__adsi_8c.html#a7960db0a226b9ee534e59e459ed228ef">SPEEDDIAL_MAX_LEN</a>];</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordtype">char</span> *stringp = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(buf, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      name = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      sname = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <span class="keywordflow">if</span> (!sname) {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;         sname = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      }</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">if</span> (x &lt; <a class="code" href="../../dd/d27/res__adsi_8c.html#a811570484466fddfd91a3695c25a2aed">ADSI_MAX_SPEED_DIAL</a>) {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a>[x][0], v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a>[x][0]));</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a>[x][1], name, 18);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a>[x][2], sname, 7);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;         x++;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      }</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;   }</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   <span class="keywordflow">if</span> (x) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="../../dd/d27/res__adsi_8c.html#a08471dfaed9bfbf2ffbf72a52fe4fffb">speeds</a> = x;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(conf);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac5f1985e4c8cb8439ac70ea293e819c7"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a></div><div class="ttdeci">static char intro[ADSI_MAX_INTRO][20]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00065">res_adsi.c:65</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a3c0aea0124e427b4551cf369b176e731"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a3c0aea0124e427b4551cf369b176e731">aligns</a></div><div class="ttdeci">static int aligns[ADSI_MAX_INTRO]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00066">res_adsi.c:66</a></div></div>
<div class="ttc" id="structconf_html"><div class="ttname"><a href="../../d6/de8/structconf.html">conf</a></div><div class="ttdoc">All configuration options for statsd client. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0c/res__statsd_8c_source.html#l00095">res_statsd.c:95</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a08471dfaed9bfbf2ffbf72a52fe4fffb"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a08471dfaed9bfbf2ffbf72a52fe4fffb">speeds</a></div><div class="ttdeci">static int speeds</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00969">res_adsi.c:969</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a81b537b1af8936fc6ca2eda76d70430f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a81b537b1af8936fc6ca2eda76d70430f">alignment</a></div><div class="ttdeci">static int alignment</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00071">res_adsi.c:71</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="res__adsi_8c_html_adc0c676ad5a60ff13f432a9c7359484e"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#adc0c676ad5a60ff13f432a9c7359484e">str2align</a></div><div class="ttdeci">static int str2align(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l01069">res_adsi.c:1069</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a846844eb2c4eb44554445936b3770711"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEUNCHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">include/asterisk/config.h:59</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l01158">res_adsi.c:1158</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a811570484466fddfd91a3695c25a2aed"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a811570484466fddfd91a3695c25a2aed">ADSI_MAX_SPEED_DIAL</a></div><div class="ttdeci">#define ADSI_MAX_SPEED_DIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00056">res_adsi.c:56</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac35730743cfe5d3cb0971c186fb1788a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac35730743cfe5d3cb0971c186fb1788a">maxretries</a></div><div class="ttdeci">static int maxretries</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00060">res_adsi.c:60</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a2a460cdc221724359c10c82ed56b3d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a></div><div class="ttdeci">static char speeddial[ADSI_MAX_SPEED_DIAL][3][SPEEDDIAL_MAX_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00069">res_adsi.c:69</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a39bacaabcacf47583204c7634e64a2a0"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a39bacaabcacf47583204c7634e64a2a0">CONFIG_STATUS_FILEMISSING</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEMISSING</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00058">include/asterisk/config.h:58</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a></div><div class="ttdeci">static int total</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00968">res_adsi.c:968</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a883381de25fae11725272776402f66ed"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a></div><div class="ttdeci">#define ADSI_MAX_INTRO</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00055">res_adsi.c:55</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a7960db0a226b9ee534e59e459ed228ef"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a7960db0a226b9ee534e59e459ed228ef">SPEEDDIAL_MAX_LEN</a></div><div class="ttdeci">#define SPEEDDIAL_MAX_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00068">res_adsi.c:68</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ad83a81c0586755098baa52a61599a2b8"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ad83a81c0586755098baa52a61599a2b8">init_state</a></div><div class="ttdeci">static void init_state(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l01082">res_adsi.c:1082</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">include/asterisk/config.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa450ad9f2e188ca53ef9fd8553a5c144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa450ad9f2e188ca53ef9fd8553a5c144">&#9670;&nbsp;</a></span>adsi_load_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_load_session </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01013">1013</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00521">adsi_connect_session()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00747">adsi_data_mode()</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00032">ADSI_MSG_DISPLAY</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06655">ast_readstring()</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>
<div class="fragment"><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;{</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> dsp[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;   <span class="keywordtype">int</span> bytes = 0, res;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <span class="keywordtype">char</span> resp[2];</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="comment">/* Connect to session */</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a9eb6366ce6f7ce947c25249951371f32">adsi_connect_session</a>(dsp + bytes, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, ver);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <span class="keywordflow">if</span> (data) {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a6e6d976be75b3133eb7198646d92df3e">adsi_data_mode</a>(dsp + bytes);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   <span class="comment">/* Prepare key setup messages */</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, dsp, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0)) {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>) {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <span class="keywordflow">if</span> ((res = <a class="code" href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a>(chan, resp, 1, 1200, 1200, <span class="stringliteral">&quot;&quot;</span>)) &lt; 0) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      }</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;No response from CPE about version.  Assuming not there.\n&quot;</span>);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <span class="keywordflow">if</span> (!strcmp(resp, <span class="stringliteral">&quot;B&quot;</span>)) {</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;CPE has script &#39;%s&#39; version %d already loaded\n&quot;</span>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, ver);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(resp, <span class="stringliteral">&quot;A&quot;</span>)) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;CPE hasn&#39;t script &#39;%s&#39; version %d already loaded\n&quot;</span>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, ver);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected CPE response to script query: %s\n&quot;</span>, resp);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   } <span class="keywordflow">else</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;}</div><div class="ttc" id="adsi_8h_html_a5f65b445dd274af93d891153a82808cf"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a></div><div class="ttdeci">#define ADSI_MSG_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00032">adsi.h:32</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9eb6366ce6f7ce947c25249951371f32"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9eb6366ce6f7ce947c25249951371f32">adsi_connect_session</a></div><div class="ttdeci">static int adsi_connect_session(unsigned char *buf, unsigned char *fdn, int ver)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00521">res_adsi.c:521</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a6e6d976be75b3133eb7198646d92df3e"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a6e6d976be75b3133eb7198646d92df3e">adsi_data_mode</a></div><div class="ttdeci">static int adsi_data_mode(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00747">res_adsi.c:747</a></div></div>
<div class="ttc" id="channel_8h_html_ae68c6e4af7aba456ec08906cb9fb3140"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae68c6e4af7aba456ec08906cb9fb3140">ast_readstring</a></div><div class="ttdeci">int ast_readstring(struct ast_channel *c, char *s, int len, int timeout, int rtimeout, char *enders)</div><div class="ttdoc">Reads multiple digits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06655">channel.c:6655</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8137f9a37b959fe04e01e9eec953bf49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8137f9a37b959fe04e01e9eec953bf49">&#9670;&nbsp;</a></span>adsi_load_soft_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_load_soft_key </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>llabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>slabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00480">480</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00036">ADSI_LOAD_SOFTKEY</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00087">ADSI_SWITCH_TO_DATA2</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00469">ccopy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;{</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="comment">/* Abort if invalid key specified */</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="keywordflow">if</span> ((key &lt; 2) || (key &gt; 33)) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#aaf3c22fc852fbfb723a41e039f2293cc">ADSI_LOAD_SOFTKEY</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="comment">/* Reserve for length */</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   bytes++;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="comment">/* Which key */</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = key;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <span class="comment">/* Carefully copy long label */</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> + bytes, (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)llabel, 18);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <span class="comment">/* Place delimiter */</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = 0xff;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <span class="comment">/* Short label */</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> + bytes, (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)slabel, 7);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <span class="comment">/* If specified, copy return string */</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="comment">/* Place delimiter */</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = 0xff;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">if</span> (data) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;         <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#aaa4a2a29878b2604b340db4a297c3fb9">ADSI_SWITCH_TO_DATA2</a>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="comment">/* Carefully copy return string */</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> + bytes, (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)ret, 20);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="comment">/* Replace parameter length */</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_aaf3c22fc852fbfb723a41e039f2293cc"><div class="ttname"><a href="../../df/de2/adsi_8h.html#aaf3c22fc852fbfb723a41e039f2293cc">ADSI_LOAD_SOFTKEY</a></div><div class="ttdeci">#define ADSI_LOAD_SOFTKEY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00036">adsi.h:36</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ae56f642b9fec346fb38ea1777bb8374f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ae56f642b9fec346fb38ea1777bb8374f">ccopy</a></div><div class="ttdeci">static int ccopy(unsigned char *dst, const unsigned char *src, int max)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00469">res_adsi.c:469</a></div></div>
<div class="ttc" id="adsi_8h_html_aaa4a2a29878b2604b340db4a297c3fb9"><div class="ttname"><a href="../../df/de2/adsi_8h.html#aaa4a2a29878b2604b340db4a297c3fb9">ADSI_SWITCH_TO_DATA2</a></div><div class="ttdeci">#define ADSI_SWITCH_TO_DATA2</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00087">adsi.h:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42278222227fdc2a301077f0888bf17e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42278222227fdc2a301077f0888bf17e">&#9670;&nbsp;</a></span>adsi_print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_print </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>lines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>align</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>voice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00993">993</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00834">adsi_display()</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00106">ADSI_INFO_PAGE</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00032">ADSI_MSG_DISPLAY</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00940">adsi_set_line()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00792">adsi_voice_mode()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03184">ast_waitfordigit()</a>, and <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>.</p>
<div class="fragment"><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;{</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[4096];</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <span class="keywordtype">int</span> bytes = 0, res, x;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keywordflow">for</span> (x = 0; <a class="code" href="../../df/d58/structlines.html">lines</a>[x]; x++) {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#affdadadfca74733c54fb2fd9cee29c85">adsi_display</a>(buf + bytes, <a class="code" href="../../df/de2/adsi_8h.html#a1024eb317e88742fde2143333130b0b6">ADSI_INFO_PAGE</a>, x+1, alignments[x], 0, <a class="code" href="../../df/d58/structlines.html">lines</a>[x], <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;   }</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a6462d4524f8618e5887a7a09b596860f">adsi_set_line</a>(buf + bytes, <a class="code" href="../../df/de2/adsi_8h.html#a1024eb317e88742fde2143333130b0b6">ADSI_INFO_PAGE</a>, 1);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <span class="keywordflow">if</span> (voice) {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a>(buf + bytes, 0);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   res = <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, buf, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <span class="keywordflow">if</span> (voice) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <span class="comment">/* Ignore the resulting DTMF B announcing it&#39;s in voice mode */</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a>(chan, 1000);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div><div class="ttc" id="adsi_8h_html_a1024eb317e88742fde2143333130b0b6"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a1024eb317e88742fde2143333130b0b6">ADSI_INFO_PAGE</a></div><div class="ttdeci">#define ADSI_INFO_PAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00106">adsi.h:106</a></div></div>
<div class="ttc" id="adsi_8h_html_a5f65b445dd274af93d891153a82808cf"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a></div><div class="ttdeci">#define ADSI_MSG_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00032">adsi.h:32</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
<div class="ttc" id="structlines_html"><div class="ttname"><a href="../../df/d58/structlines.html">lines</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d80/chan__skinny_8c_source.html#l01499">chan_skinny.c:1499</a></div></div>
<div class="ttc" id="res__adsi_8c_html_affdadadfca74733c54fb2fd9cee29c85"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#affdadadfca74733c54fb2fd9cee29c85">adsi_display</a></div><div class="ttdeci">static int adsi_display(unsigned char *buf, int page, int line, int just, int wrap, char *col1, char *col2)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00834">res_adsi.c:834</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a25bf7ea329fd7199d185524b407a5bb8"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a></div><div class="ttdeci">static int adsi_voice_mode(unsigned char *buf, int when)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00792">res_adsi.c:792</a></div></div>
<div class="ttc" id="channel_8h_html_a050bec9a4abc1a599b6573a6091b080c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a></div><div class="ttdeci">int ast_waitfordigit(struct ast_channel *c, int ms)</div><div class="ttdoc">Waits for a digit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03184">channel.c:3184</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a6462d4524f8618e5887a7a09b596860f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a6462d4524f8618e5887a7a09b596860f">adsi_set_line</a></div><div class="ttdeci">static int adsi_set_line(unsigned char *buf, int page, int line)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00940">res_adsi.c:940</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f9079b6a9247eea5e22a6d162ef528f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f9079b6a9247eea5e22a6d162ef528f">&#9670;&nbsp;</a></span>adsi_query_cpeid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_query_cpeid </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00592">592</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00058">ADSI_QUERY_CPEID</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00649">adsi_get_cpeid()</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;{</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#aff99f9bf4e20af23cdb941f3088f71a2">ADSI_QUERY_CPEID</a>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   bytes++;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_aff99f9bf4e20af23cdb941f3088f71a2"><div class="ttname"><a href="../../df/de2/adsi_8h.html#aff99f9bf4e20af23cdb941f3088f71a2">ADSI_QUERY_CPEID</a></div><div class="ttdeci">#define ADSI_QUERY_CPEID</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00058">adsi.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a284b651ba9f045ca5ac9fcbb3b6eea98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a284b651ba9f045ca5ac9fcbb3b6eea98">&#9670;&nbsp;</a></span>adsi_query_cpeinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_query_cpeinfo </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00602">602</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00057">ADSI_QUERY_CONFIG</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00680">adsi_get_cpeinfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;{</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#af5a91ea1cf1c31009596aa6c1589f678">ADSI_QUERY_CONFIG</a>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   bytes++;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_af5a91ea1cf1c31009596aa6c1589f678"><div class="ttname"><a href="../../df/de2/adsi_8h.html#af5a91ea1cf1c31009596aa6c1589f678">ADSI_QUERY_CONFIG</a></div><div class="ttdeci">#define ADSI_QUERY_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00057">adsi.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c105057664598a21dbbc13ab46bb891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c105057664598a21dbbc13ab46bb891">&#9670;&nbsp;</a></span>adsi_read_encoded_dtmf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_read_encoded_dtmf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00612">612</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l03184">ast_waitfordigit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00649">adsi_get_cpeid()</a>.</p>
<div class="fragment"><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;{</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <span class="keywordtype">int</span> bytes = 0, res, gotstar = 0, pos = 0;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> current = 0;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   memset(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, 0, maxlen);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <span class="keywordflow">while</span> (bytes &lt;= maxlen) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="comment">/* Wait up to a second for a digit */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">if</span> (!(res = <a class="code" href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a>(chan, 1000))) {</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">if</span> (res == <span class="charliteral">&#39;*&#39;</span>) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;         gotstar = 1;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">/* Ignore anything other than a digit */</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="keywordflow">if</span> ((res &lt; <span class="charliteral">&#39;0&#39;</span>) || (res &gt; <span class="charliteral">&#39;9&#39;</span>)) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      res -= <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">if</span> (gotstar) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;         res += 9;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">if</span> (pos)  {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;         pos = 0;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;         <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = (res &lt;&lt; 4) | current;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;         pos = 1;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;         current = res;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      gotstar = 0;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="channel_8h_html_a050bec9a4abc1a599b6573a6091b080c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a></div><div class="ttdeci">int ast_waitfordigit(struct ast_channel *c, int ms)</div><div class="ttdoc">Waits for a digit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03184">channel.c:3184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0772fde63db673ce13348b83359d4ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0772fde63db673ce13348b83359d4ef1">&#9670;&nbsp;</a></span>adsi_set_keys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_set_keys </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>keys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00924">924</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00037">ADSI_INIT_SOFTKEY_LINE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00971">adsi_channel_restore()</a>.</p>
<div class="fragment"><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;{</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="keywordtype">int</span> bytes = 0, x;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#acfa6efe6ed2c08d62ae15d0837708f00">ADSI_INIT_SOFTKEY_LINE</a>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <span class="comment">/* Space for size */</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   bytes++;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <span class="comment">/* Key definitions */</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; 6; x++) {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = (<a class="code" href="../../d2/df1/structkeys.html">keys</a>[x] &amp; 0x3f) ? <a class="code" href="../../d2/df1/structkeys.html">keys</a>[x] : (<a class="code" href="../../d2/df1/structkeys.html">keys</a>[x] | 0x1);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   }</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structkeys_html"><div class="ttname"><a href="../../d2/df1/structkeys.html">keys</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbb/res__crypto_8c_source.html#l00094">res_crypto.c:94</a></div></div>
<div class="ttc" id="adsi_8h_html_acfa6efe6ed2c08d62ae15d0837708f00"><div class="ttname"><a href="../../df/de2/adsi_8h.html#acfa6efe6ed2c08d62ae15d0837708f00">ADSI_INIT_SOFTKEY_LINE</a></div><div class="ttdeci">#define ADSI_INIT_SOFTKEY_LINE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00037">adsi.h:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6462d4524f8618e5887a7a09b596860f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6462d4524f8618e5887a7a09b596860f">&#9670;&nbsp;</a></span>adsi_set_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_set_line </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00940">940</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00039">ADSI_LINE_CONTROL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00971">adsi_channel_restore()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00993">adsi_print()</a>.</p>
<div class="fragment"><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;{</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <span class="comment">/* Sanity check line number */</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   <span class="keywordflow">if</span> (page) {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">if</span> (line &gt; 4) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="keywordflow">if</span> (line &gt; 33) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <span class="keywordflow">if</span> (line &lt; 1) {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;   }</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   <span class="comment">/* Parameter type */</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a1f4532a53a8647e31ec86dd5bf303e11">ADSI_LINE_CONTROL</a>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <span class="comment">/* Reserve space for size */</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   bytes++;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   <span class="comment">/* Page and line */</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = ((page &amp; 0x1) &lt;&lt; 7) | (line &amp; 0x3f);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_a1f4532a53a8647e31ec86dd5bf303e11"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a1f4532a53a8647e31ec86dd5bf303e11">ADSI_LINE_CONTROL</a></div><div class="ttdeci">#define ADSI_LINE_CONTROL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00039">adsi.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac98a2fcf96e03835a2bdb17e78cc5ac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98a2fcf96e03835a2bdb17e78cc5ac8">&#9670;&nbsp;</a></span>adsi_transmit_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_transmit_message </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msglen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00464">464</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, msg, msglen, msgtype, 1);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div><div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a830aa5838df400404aaa81d32e9b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a830aa5838df400404aaa81d32e9b7a">&#9670;&nbsp;</a></span>adsi_transmit_message_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_transmit_message_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msglen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dowait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">388</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00229">__adsi_transmit_messages()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00058">ADSI_FLAG_DATAMODE</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00042">ADSI_SWITCH_TO_DATA</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00043">ADSI_SWITCH_TO_VOICE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00785">ast_channel_adsicpe_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00856">ast_channel_readformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00860">ast_channel_writeformat()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00334">ast_format_get_name()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00086">ast_format_ulaw</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01574">ast_safe_sleep()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05890">ast_set_write_format()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00187">ast_stopstream()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03184">ast_waitfordigit()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00352">adsi_begin_download()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00971">adsi_channel_restore()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00374">adsi_end_download()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00649">adsi_get_cpeid()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00680">adsi_get_cpeinfo()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01013">adsi_load_session()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00993">adsi_print()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00464">adsi_transmit_message()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01052">adsi_unload_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *msgs[5] = { <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, NULL };</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keywordtype">int</span> msglens[5], msgtypes[5], newdatamode = (<a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a>(chan) &amp; <a class="code" href="../../dd/d27/res__adsi_8c.html#a2447f977e8fdc689f10e33b81d96311c">ADSI_FLAG_DATAMODE</a>), res, x, waitforswitch = 0;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *, writeformat, NULL, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *, readformat, NULL, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; msglen; x += (msg[x+1]+2)) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">if</span> (msg[x] == <a class="code" href="../../df/de2/adsi_8h.html#a16edf72296b754eb3050a925514e5668">ADSI_SWITCH_TO_DATA</a>) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Switch to data is sent!\n&quot;</span>);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;         waitforswitch++;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         newdatamode = <a class="code" href="../../dd/d27/res__adsi_8c.html#a2447f977e8fdc689f10e33b81d96311c">ADSI_FLAG_DATAMODE</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="keywordflow">if</span> (msg[x] == <a class="code" href="../../df/de2/adsi_8h.html#a9b6de4f95cabfc85caa0feb7981da6e2">ADSI_SWITCH_TO_VOICE</a>) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Switch to voice is sent!\n&quot;</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;         waitforswitch++;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;         newdatamode = 0;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   msgs[0] = msg;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   msglens[0] = msglen;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   msgtypes[0] = msgtype;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="keywordflow">if</span> (msglen &gt; 253) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Can&#39;t send ADSI message of %d bytes, too large\n&quot;</span>, msglen);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   writeformat = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a>(chan));</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   readformat = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(chan));</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>)) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to set write format to ULAW\n&quot;</span>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a>)) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to set read format to ULAW\n&quot;</span>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">if</span> (writeformat) {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(chan, writeformat)) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to restore write format to %s\n&quot;</span>, <a class="code" href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a>(writeformat));</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;         }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   res = <a class="code" href="../../dd/d27/res__adsi_8c.html#a2efe248249d58ae6b4ffe4d535f9ab27">__adsi_transmit_messages</a>(chan, msgs, msglens, msgtypes);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <span class="keywordflow">if</span> (dowait) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Wait for switch is &#39;%d&#39;\n&quot;</span>, waitforswitch);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">while</span> (waitforswitch-- &amp;&amp; ((res = <a class="code" href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a>(chan, 1000)) &gt; 0)) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;         res = 0;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Waiting for &#39;B&#39;...\n&quot;</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aed40a28831fcb5791cd63c1b8761d659">ast_channel_adsicpe_set</a>(chan, (<a class="code" href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a>(chan) &amp; ~<a class="code" href="../../dd/d27/res__adsi_8c.html#a2447f977e8fdc689f10e33b81d96311c">ADSI_FLAG_DATAMODE</a>) | newdatamode);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keywordflow">if</span> (writeformat) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a>(chan, writeformat);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <span class="keywordflow">if</span> (readformat) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(chan, readformat);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      res = <a class="code" href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a>(chan, 100 );</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div><div class="ttc" id="channel_8h_html_af10e3bd01602095e1908d3926afc3b76"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af10e3bd01602095e1908d3926afc3b76">ast_safe_sleep</a></div><div class="ttdeci">int ast_safe_sleep(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for a specified amount of time, looking for hangups. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01574">channel.c:1574</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a2efe248249d58ae6b4ffe4d535f9ab27"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a2efe248249d58ae6b4ffe4d535f9ab27">__adsi_transmit_messages</a></div><div class="ttdeci">static int __adsi_transmit_messages(struct ast_channel *chan, unsigned char **msg, int *msglen, int *msgtype)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00229">res_adsi.c:229</a></div></div>
<div class="ttc" id="format__cache_8h_html_a568c3f5838b53c38f11996dbe5ff5785"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a568c3f5838b53c38f11996dbe5ff5785">ast_format_ulaw</a></div><div class="ttdeci">struct ast_format * ast_format_ulaw</div><div class="ttdoc">Built-in cached ulaw format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00086">format_cache.c:86</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__format_html"><div class="ttname"><a href="../../d0/d98/structast__format.html">ast_format</a></div><div class="ttdoc">Definition of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00043">format.c:43</a></div></div>
<div class="ttc" id="format_8h_html_a082f0fca94b18ba466f6e28d3ccb2fc8"><div class="ttname"><a href="../../d0/d0a/format_8h.html#a082f0fca94b18ba466f6e28d3ccb2fc8">ast_format_get_name</a></div><div class="ttdeci">const char * ast_format_get_name(const struct ast_format *format)</div><div class="ttdoc">Get the name associated with a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00334">format.c:334</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a2447f977e8fdc689f10e33b81d96311c"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a2447f977e8fdc689f10e33b81d96311c">ADSI_FLAG_DATAMODE</a></div><div class="ttdeci">#define ADSI_FLAG_DATAMODE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00058">res_adsi.c:58</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="channel_8h_html_abbdfb98077180544657b2d16c5d25f74"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abbdfb98077180544657b2d16c5d25f74">ast_set_write_format</a></div><div class="ttdeci">int ast_set_write_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets write format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05890">channel.c:5890</a></div></div>
<div class="ttc" id="channel_8h_html_aed40a28831fcb5791cd63c1b8761d659"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aed40a28831fcb5791cd63c1b8761d659">ast_channel_adsicpe_set</a></div><div class="ttdeci">void ast_channel_adsicpe_set(struct ast_channel *chan, enum ast_channel_adsicpe value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00785">channel_internal_api.c:785</a></div></div>
<div class="ttc" id="channel_8h_html_a828f537544a2ad2352c56c078390a0bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a828f537544a2ad2352c56c078390a0bd">ast_channel_adsicpe</a></div><div class="ttdeci">ast_channel_adsicpe</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00869">channel.h:869</a></div></div>
<div class="ttc" id="adsi_8h_html_a9b6de4f95cabfc85caa0feb7981da6e2"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a9b6de4f95cabfc85caa0feb7981da6e2">ADSI_SWITCH_TO_VOICE</a></div><div class="ttdeci">#define ADSI_SWITCH_TO_VOICE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00043">adsi.h:43</a></div></div>
<div class="ttc" id="channel_8h_html_a050bec9a4abc1a599b6573a6091b080c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a050bec9a4abc1a599b6573a6091b080c">ast_waitfordigit</a></div><div class="ttdeci">int ast_waitfordigit(struct ast_channel *c, int ms)</div><div class="ttdoc">Waits for a digit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03184">channel.c:3184</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="adsi_8h_html_a16edf72296b754eb3050a925514e5668"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a16edf72296b754eb3050a925514e5668">ADSI_SWITCH_TO_DATA</a></div><div class="ttdeci">#define ADSI_SWITCH_TO_DATA</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00042">adsi.h:42</a></div></div>
<div class="ttc" id="channel_8h_html_a1dc625bd14a7875b04bfe0c388858929"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1dc625bd14a7875b04bfe0c388858929">ast_channel_writeformat</a></div><div class="ttdeci">struct ast_format * ast_channel_writeformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00860">channel_internal_api.c:860</a></div></div>
<div class="ttc" id="file_8h_html_a3092bf11d4bba66f646562759608b1bc"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a></div><div class="ttdeci">int ast_stopstream(struct ast_channel *c)</div><div class="ttdoc">Stops a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00187">file.c:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9e748115219a3e5843fbe0178d0ac96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e748115219a3e5843fbe0178d0ac96">&#9670;&nbsp;</a></span>adsi_unload_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_unload_session </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01052">1052</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00577">adsi_disconnect_session()</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00032">ADSI_MSG_DISPLAY</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00388">adsi_transmit_message_full()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00792">adsi_voice_mode()</a>.</p>
<div class="fragment"><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;{</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> dsp[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <span class="comment">/* Connect to session */</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a714642834491291d6887c767ceff2d6d">adsi_disconnect_session</a>(dsp + bytes);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;   bytes += <a class="code" href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a>(dsp + bytes, 0);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;   <span class="comment">/* Prepare key setup messages */</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a>(chan, dsp, bytes, <a class="code" href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a>, 0)) {</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;   }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div><div class="ttc" id="res__adsi_8c_html_a714642834491291d6887c767ceff2d6d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a714642834491291d6887c767ceff2d6d">adsi_disconnect_session</a></div><div class="ttdeci">static int adsi_disconnect_session(unsigned char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00577">res_adsi.c:577</a></div></div>
<div class="ttc" id="adsi_8h_html_a5f65b445dd274af93d891153a82808cf"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a5f65b445dd274af93d891153a82808cf">ADSI_MSG_DISPLAY</a></div><div class="ttdeci">#define ADSI_MSG_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00032">adsi.h:32</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a830aa5838df400404aaa81d32e9b7a"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a830aa5838df400404aaa81d32e9b7a">adsi_transmit_message_full</a></div><div class="ttdeci">static int adsi_transmit_message_full(struct ast_channel *chan, unsigned char *msg, int msglen, int msgtype, int dowait)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00388">res_adsi.c:388</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a25bf7ea329fd7199d185524b407a5bb8"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a25bf7ea329fd7199d185524b407a5bb8">adsi_voice_mode</a></div><div class="ttdeci">static int adsi_voice_mode(unsigned char *buf, int when)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00792">res_adsi.c:792</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a25bf7ea329fd7199d185524b407a5bb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25bf7ea329fd7199d185524b407a5bb8">&#9670;&nbsp;</a></span>adsi_voice_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int adsi_voice_mode </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>when</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00792">792</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00043">ADSI_SWITCH_TO_VOICE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00649">adsi_get_cpeid()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00680">adsi_get_cpeinfo()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00993">adsi_print()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01052">adsi_unload_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;{</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <span class="keywordtype">int</span> bytes = 0;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   <span class="comment">/* Message type */</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = <a class="code" href="../../df/de2/adsi_8h.html#a9b6de4f95cabfc85caa0feb7981da6e2">ADSI_SWITCH_TO_VOICE</a>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   <span class="comment">/* Reserve space for length */</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   bytes++;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bytes++] = when &amp; 0x7f;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1] = bytes - 2;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   <span class="keywordflow">return</span> bytes;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="adsi_8h_html_a9b6de4f95cabfc85caa0feb7981da6e2"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a9b6de4f95cabfc85caa0feb7981da6e2">ADSI_SWITCH_TO_VOICE</a></div><div class="ttdeci">#define ADSI_SWITCH_TO_VOICE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00043">adsi.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01216">1216</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

</div>
</div>
<a id="ae56f642b9fec346fb38ea1777bb8374f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56f642b9fec346fb38ea1777bb8374f">&#9670;&nbsp;</a></span>ccopy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ccopy </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00469">469</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00834">adsi_display()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00545">adsi_download_connect()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00904">adsi_input_format()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00480">adsi_load_soft_key()</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordtype">int</span> x = 0;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="comment">/* Carefully copy the requested data */</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <span class="keywordflow">while</span> ((x &lt; <a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>) &amp;&amp; src[x] &amp;&amp; (src[x] != 0xff)) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      dst[x] = src[x];</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      x++;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <span class="keywordflow">return</span> x;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div><div class="ttc" id="f2c_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00198">f2c.h:198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad83a81c0586755098baa52a61599a2b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad83a81c0586755098baa52a61599a2b8">&#9670;&nbsp;</a></span>init_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_state </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">1082</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00114">ADSI_JUST_CENT</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00055">ADSI_MAX_INTRO</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00071">alignment</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00066">aligns</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00065">intro</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00069">speeddial</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00969">speeds</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00968">total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;{</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a>; x++) {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <a class="code" href="../../dd/d27/res__adsi_8c.html#a3c0aea0124e427b4551cf369b176e731">aligns</a>[x] = <a class="code" href="../../df/de2/adsi_8h.html#a518a772e38d00198d7570756559c0761">ADSI_JUST_CENT</a>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[0], <span class="stringliteral">&quot;Welcome to the&quot;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[0]));</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[1], <span class="stringliteral">&quot;Asterisk&quot;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[1]));</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[2], <span class="stringliteral">&quot;Open Source PBX&quot;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[2]));</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a> = 3;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#a08471dfaed9bfbf2ffbf72a52fe4fffb">speeds</a> = 0;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <span class="keywordflow">for</span> (x = 3; x &lt; <a class="code" href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a>; x++) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <a class="code" href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a>[x][0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;   memset(<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a>));</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#a81b537b1af8936fc6ca2eda76d70430f">alignment</a> = <a class="code" href="../../df/de2/adsi_8h.html#a518a772e38d00198d7570756559c0761">ADSI_JUST_CENT</a>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;}</div><div class="ttc" id="res__adsi_8c_html_ac5f1985e4c8cb8439ac70ea293e819c7"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac5f1985e4c8cb8439ac70ea293e819c7">intro</a></div><div class="ttdeci">static char intro[ADSI_MAX_INTRO][20]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00065">res_adsi.c:65</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a3c0aea0124e427b4551cf369b176e731"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a3c0aea0124e427b4551cf369b176e731">aligns</a></div><div class="ttdeci">static int aligns[ADSI_MAX_INTRO]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00066">res_adsi.c:66</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a08471dfaed9bfbf2ffbf72a52fe4fffb"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a08471dfaed9bfbf2ffbf72a52fe4fffb">speeds</a></div><div class="ttdeci">static int speeds</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00969">res_adsi.c:969</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a81b537b1af8936fc6ca2eda76d70430f"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a81b537b1af8936fc6ca2eda76d70430f">alignment</a></div><div class="ttdeci">static int alignment</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00071">res_adsi.c:71</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a9a2a460cdc221724359c10c82ed56b3d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a9a2a460cdc221724359c10c82ed56b3d">speeddial</a></div><div class="ttdeci">static char speeddial[ADSI_MAX_SPEED_DIAL][3][SPEEDDIAL_MAX_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00069">res_adsi.c:69</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a></div><div class="ttdeci">static int total</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00968">res_adsi.c:968</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a883381de25fae11725272776402f66ed"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a></div><div class="ttdeci">#define ADSI_MAX_INTRO</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00055">res_adsi.c:55</a></div></div>
<div class="ttc" id="adsi_8h_html_a518a772e38d00198d7570756559c0761"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a518a772e38d00198d7570756559c0761">ADSI_JUST_CENT</a></div><div class="ttdeci">#define ADSI_JUST_CENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00114">adsi.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01196">1196</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00340">ast_adsi_install_funcs()</a>, and <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01203">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;{</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#abc66d7b12a89c85738ac76ef774e2f82">adsi_load</a>(0);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <a class="code" href="../../df/de2/adsi_8h.html#a8875b715787b34237f48b5b4235f5672">ast_adsi_install_funcs</a>(&amp;<a class="code" href="../../dd/d27/res__adsi_8c.html#a1928f7553d65d4c2621fefff04824742">res_adsi_funcs</a>);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="res__adsi_8c_html_abc66d7b12a89c85738ac76ef774e2f82"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#abc66d7b12a89c85738ac76ef774e2f82">adsi_load</a></div><div class="ttdeci">static void adsi_load(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l01101">res_adsi.c:1101</a></div></div>
<div class="ttc" id="res__adsi_8c_html_a1928f7553d65d4c2621fefff04824742"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#a1928f7553d65d4c2621fefff04824742">res_adsi_funcs</a></div><div class="ttdeci">static struct adsi_funcs res_adsi_funcs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l01164">res_adsi.c:1164</a></div></div>
<div class="ttc" id="adsi_8h_html_a8875b715787b34237f48b5b4235f5672"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a8875b715787b34237f48b5b4235f5672">ast_adsi_install_funcs</a></div><div class="ttdeci">void ast_adsi_install_funcs(const struct adsi_funcs *funcs)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00340">adsi.c:340</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1982509765f4870f1f63412a53ea668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1982509765f4870f1f63412a53ea668">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01158">1158</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01203">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;{</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;   <a class="code" href="../../dd/d27/res__adsi_8c.html#abc66d7b12a89c85738ac76ef774e2f82">adsi_load</a>(1);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;}</div><div class="ttc" id="res__adsi_8c_html_abc66d7b12a89c85738ac76ef774e2f82"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#abc66d7b12a89c85738ac76ef774e2f82">adsi_load</a></div><div class="ttdeci">static void adsi_load(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l01101">res_adsi.c:1101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc0c676ad5a60ff13f432a9c7359484e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc0c676ad5a60ff13f432a9c7359484e">&#9670;&nbsp;</a></span>str2align()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int str2align </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01069">1069</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/de2/adsi_8h_source.html#l00114">ADSI_JUST_CENT</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00115">ADSI_JUST_IND</a>, <a class="el" href="../../df/de2/adsi_8h_source.html#l00112">ADSI_JUST_LEFT</a>, and <a class="el" href="../../df/de2/adsi_8h_source.html#l00113">ADSI_JUST_RIGHT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;{</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   <span class="keywordflow">if</span> (!strncasecmp(s, <span class="stringliteral">&quot;l&quot;</span>, 1)) {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/de2/adsi_8h.html#a730b24255e33ddaa2bc4e52b51220100">ADSI_JUST_LEFT</a>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(s, <span class="stringliteral">&quot;r&quot;</span>, 1)) {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/de2/adsi_8h.html#a245f8f8cfbe048c9878c7a87cfa8f346">ADSI_JUST_RIGHT</a>;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(s, <span class="stringliteral">&quot;i&quot;</span>, 1)) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/de2/adsi_8h.html#af033da31eb4860309432a42681bc41e3">ADSI_JUST_IND</a>;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/de2/adsi_8h.html#a518a772e38d00198d7570756559c0761">ADSI_JUST_CENT</a>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;}</div><div class="ttc" id="adsi_8h_html_a245f8f8cfbe048c9878c7a87cfa8f346"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a245f8f8cfbe048c9878c7a87cfa8f346">ADSI_JUST_RIGHT</a></div><div class="ttdeci">#define ADSI_JUST_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00113">adsi.h:113</a></div></div>
<div class="ttc" id="adsi_8h_html_a730b24255e33ddaa2bc4e52b51220100"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a730b24255e33ddaa2bc4e52b51220100">ADSI_JUST_LEFT</a></div><div class="ttdeci">#define ADSI_JUST_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00112">adsi.h:112</a></div></div>
<div class="ttc" id="adsi_8h_html_af033da31eb4860309432a42681bc41e3"><div class="ttname"><a href="../../df/de2/adsi_8h.html#af033da31eb4860309432a42681bc41e3">ADSI_JUST_IND</a></div><div class="ttdeci">#define ADSI_JUST_IND</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00115">adsi.h:115</a></div></div>
<div class="ttc" id="adsi_8h_html_a518a772e38d00198d7570756559c0761"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a518a772e38d00198d7570756559c0761">ADSI_JUST_CENT</a></div><div class="ttdeci">#define ADSI_JUST_CENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/adsi_8h_source.html#l00114">adsi.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01203">1203</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d78/adsi_8c_source.html#l00340">ast_adsi_install_funcs()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00328">AST_MODPRI_APP_DEPEND</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00123">AST_MODULE_SUPPORT_DEPRECATED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01196">load_module()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01158">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;{</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   <span class="comment">/* Can&#39;t unload this once we&#39;re loaded */</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   <a class="code" href="../../df/de2/adsi_8h.html#a8875b715787b34237f48b5b4235f5672">ast_adsi_install_funcs</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="adsi_8h_html_a8875b715787b34237f48b5b4235f5672"><div class="ttname"><a href="../../df/de2/adsi_8h.html#a8875b715787b34237f48b5b4235f5672">ast_adsi_install_funcs</a></div><div class="ttdeci">void ast_adsi_install_funcs(const struct adsi_funcs *funcs)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/adsi_8c_source.html#l00340">adsi.c:340</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;ADSI Resource&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_DEPRECATED, .load = load_module, .unload = unload_module, .reload = reload, .load_pri = AST_MODPRI_APP_DEPEND, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01216">1216</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

</div>
</div>
<a id="a81b537b1af8936fc6ca2eda76d70430f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b537b1af8936fc6ca2eda76d70430f">&#9670;&nbsp;</a></span>alignment</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int alignment = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00071">71</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">init_state()</a>.</p>

</div>
</div>
<a id="a3c0aea0124e427b4551cf369b176e731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c0aea0124e427b4551cf369b176e731">&#9670;&nbsp;</a></span>aligns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int aligns[<a class="el" href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00066">66</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">init_state()</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01216">1216</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

</div>
</div>
<a id="ac5f1985e4c8cb8439ac70ea293e819c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5f1985e4c8cb8439ac70ea293e819c7">&#9670;&nbsp;</a></span>intro</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char intro[<a class="el" href="../../dd/d27/res__adsi_8c.html#a883381de25fae11725272776402f66ed">ADSI_MAX_INTRO</a>][20]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00065">65</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">init_state()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l08843">play_message()</a>.</p>

</div>
</div>
<a id="ac35730743cfe5d3cb0971c186fb1788a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35730743cfe5d3cb0971c186fb1788a">&#9670;&nbsp;</a></span>maxretries</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int maxretries = <a class="el" href="../../dd/d27/res__adsi_8c.html#ae78e909f3afca606cb096d3e2aaeeddf">DEFAULT_ADSI_MAX_RETRIES</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a412">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00060">60</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00229">__adsi_transmit_messages()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02700">ast_ivr_menu_run_internal()</a>, and <a class="el" href="../../d7/d17/app__privacy_8c_source.html#l00087">privacy_exec()</a>.</p>

</div>
</div>
<a id="a1928f7553d65d4c2621fefff04824742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1928f7553d65d4c2621fefff04824742">&#9670;&nbsp;</a></span>res_adsi_funcs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/d41/structadsi__funcs.html">adsi_funcs</a> res_adsi_funcs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01164">1164</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

</div>
</div>
<a id="a9a2a460cdc221724359c10c82ed56b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a2a460cdc221724359c10c82ed56b3d">&#9670;&nbsp;</a></span>speeddial</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char speeddial[<a class="el" href="../../dd/d27/res__adsi_8c.html#a811570484466fddfd91a3695c25a2aed">ADSI_MAX_SPEED_DIAL</a>][3][<a class="el" href="../../dd/d27/res__adsi_8c.html#a7960db0a226b9ee534e59e459ed228ef">SPEEDDIAL_MAX_LEN</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00069">69</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">init_state()</a>.</p>

</div>
</div>
<a id="a08471dfaed9bfbf2ffbf72a52fe4fffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08471dfaed9bfbf2ffbf72a52fe4fffb">&#9670;&nbsp;</a></span>speeds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int speeds = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00969">969</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00971">adsi_channel_restore()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, and <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">init_state()</a>.</p>

</div>
</div>
<a id="ac7af894858cf396a219d632f40afdc8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7af894858cf396a219d632f40afdc8d">&#9670;&nbsp;</a></span>total</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int total = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00968">968</a> of file <a class="el" href="../../dd/d27/res__adsi_8c_source.html">res_adsi.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/dc1/rec__search_8c_source.html#l00064">__rec_search()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03869">action_confbridgelist()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l05521">action_meetmelist()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01101">adsi_load()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00286">all_bits_set()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03353">ast_cdr_serialize_variables()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00153">ast_hashtab_hash_string()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00181">ast_hashtab_hash_string_nocase()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00170">ast_hashtab_hash_string_sax()</a>, <a class="el" href="../../d3/d2b/test__heap_8c_source.html#l00117">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l00565">handle_show_threads()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00173">hash_string()</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00928">http_body_read_contents()</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l01082">init_state()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07245">manager_iax2_show_peers()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07369">manager_iax2_show_registry()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00309">manager_parking_status_all_lots()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00259">manager_parking_status_single_lot()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l20178">manager_show_registry()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l20231">manager_sip_show_peers()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l04159">manager_skinny_show_devices()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l04401">manager_skinny_show_lines()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01853">meetme_show_cmd()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00969">pbx_builtin_serialize_variables()</a>, and <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00181">query_set_test()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:19 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
