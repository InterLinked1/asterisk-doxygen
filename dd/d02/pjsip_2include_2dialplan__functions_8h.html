<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: dialplan_functions.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_9662a6a166de1dda18179da17db0f05a.html">channels</a></li><li class="navelem"><a class="el" href="../../dir_b7bb9a821da56a0bf6fed68a5a27cf8d.html">pjsip</a></li><li class="navelem"><a class="el" href="../../dir_e8a2291fde31829277d98e7fb707f738.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pjsip/include/dialplan_functions.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>PJSIP dialplan functions header file.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d30/pjsip_2include_2dialplan__functions_8h__dep__incl.png" border="0" usemap="#dialplan__functions_8hdep" alt=""/></div>
<map name="dialplan__functions_8hdep" id="dialplan__functions_8hdep">
<area shape="rect" id="node2" href="../../d0/d29/chan__pjsip_8c.html" title="PSJIP SIP Channel Driver. " alt="" coords="5,80,105,107"/>
<area shape="rect" id="node3" href="../../de/dfc/pjsip_2dialplan__functions_8c.html" title="PJSIP channel dialplan functions. " alt="" coords="130,80,277,107"/>
</map>
</div>
</div>
<p><a href="../../dd/d02/pjsip_2include_2dialplan__functions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab0f70fd6f89fe0625cb5204898eeaa7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#ab0f70fd6f89fe0625cb5204898eeaa7b">pjsip_acf_channel_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:ab0f70fd6f89fe0625cb5204898eeaa7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">CHANNEL function read callback.  <a href="#ab0f70fd6f89fe0625cb5204898eeaa7b">More...</a><br /></td></tr>
<tr class="separator:ab0f70fd6f89fe0625cb5204898eeaa7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa05a68b4619213ebc4458bc9a55693"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#acaa05a68b4619213ebc4458bc9a55693">pjsip_acf_dial_contacts_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:acaa05a68b4619213ebc4458bc9a55693"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_DIAL_CONTACTS function read callback.  <a href="#acaa05a68b4619213ebc4458bc9a55693">More...</a><br /></td></tr>
<tr class="separator:acaa05a68b4619213ebc4458bc9a55693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1352c8f2adaea44a67d5d82226c3d80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#ac1352c8f2adaea44a67d5d82226c3d80">pjsip_acf_dtmf_mode_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:ac1352c8f2adaea44a67d5d82226c3d80"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_DTMF_MODE function read callback.  <a href="#ac1352c8f2adaea44a67d5d82226c3d80">More...</a><br /></td></tr>
<tr class="separator:ac1352c8f2adaea44a67d5d82226c3d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3019dadb0ab8e5fa971c0f081e6d9f0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#a3019dadb0ab8e5fa971c0f081e6d9f0d">pjsip_acf_dtmf_mode_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a3019dadb0ab8e5fa971c0f081e6d9f0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_DTMF_MODE function write callback.  <a href="#a3019dadb0ab8e5fa971c0f081e6d9f0d">More...</a><br /></td></tr>
<tr class="separator:a3019dadb0ab8e5fa971c0f081e6d9f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f75938f1cd3e7813fabe5ff3ceb54b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#a04f75938f1cd3e7813fabe5ff3ceb54b">pjsip_acf_media_offer_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:a04f75938f1cd3e7813fabe5ff3ceb54b"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_MEDIA_OFFER function read callback.  <a href="#a04f75938f1cd3e7813fabe5ff3ceb54b">More...</a><br /></td></tr>
<tr class="separator:a04f75938f1cd3e7813fabe5ff3ceb54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e534df9849b51f6369459ca2124ba15"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#a0e534df9849b51f6369459ca2124ba15">pjsip_acf_media_offer_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a0e534df9849b51f6369459ca2124ba15"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_MEDIA_OFFER function write callback.  <a href="#a0e534df9849b51f6369459ca2124ba15">More...</a><br /></td></tr>
<tr class="separator:a0e534df9849b51f6369459ca2124ba15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04288afbb5bd0eaf46102d0da2c43cbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#a04288afbb5bd0eaf46102d0da2c43cbe">pjsip_acf_moh_passthrough_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:a04288afbb5bd0eaf46102d0da2c43cbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_MOH_PASSTHROUGH function read callback.  <a href="#a04288afbb5bd0eaf46102d0da2c43cbe">More...</a><br /></td></tr>
<tr class="separator:a04288afbb5bd0eaf46102d0da2c43cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c23eface5015785a06af3560a44ee77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#a7c23eface5015785a06af3560a44ee77">pjsip_acf_moh_passthrough_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a7c23eface5015785a06af3560a44ee77"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_MOH_PASSTHROUGH function write callback.  <a href="#a7c23eface5015785a06af3560a44ee77">More...</a><br /></td></tr>
<tr class="separator:a7c23eface5015785a06af3560a44ee77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff0f629a1ba97326cf5122a1010f3a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#acff0f629a1ba97326cf5122a1010f3a8">pjsip_acf_parse_uri_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:acff0f629a1ba97326cf5122a1010f3a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_PARSE_URI function read callback.  <a href="#acff0f629a1ba97326cf5122a1010f3a8">More...</a><br /></td></tr>
<tr class="separator:acff0f629a1ba97326cf5122a1010f3a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c320d347c60a6f3251ce2cd6ac6370"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h.html#a39c320d347c60a6f3251ce2cd6ac6370">pjsip_acf_session_refresh_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a39c320d347c60a6f3251ce2cd6ac6370"><td class="mdescLeft">&#160;</td><td class="mdescRight">PJSIP_SEND_SESSION_REFRESH function write callback.  <a href="#a39c320d347c60a6f3251ce2cd6ac6370">More...</a><br /></td></tr>
<tr class="separator:a39c320d347c60a6f3251ce2cd6ac6370"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PJSIP dialplan functions header file. </p>

<p class="definition">Definition in file <a class="el" href="../../dd/d02/pjsip_2include_2dialplan__functions_8h_source.html">pjsip/include/dialplan_functions.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab0f70fd6f89fe0625cb5204898eeaa7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0f70fd6f89fe0625cb5204898eeaa7b">&#9670;&nbsp;</a></span>pjsip_acf_channel_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_channel_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CHANNEL function read callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">buf</td><td>Out buffer that should be populated with the data </td></tr>
    <tr><td class="paramname">len</td><td>Size of the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00916">916</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05218">ast_sip_push_task_wait_serializer()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00856">pjsip_func_args::buf</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00855">pjsip_func_args::field</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00857">pjsip_func_args::len</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00853">pjsip_func_args::param</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">parse()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00862">read_pjsip()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00858">pjsip_func_args::ret</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">ast_sip_session::serializer</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">ast_sip_channel_pvt::session</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00852">pjsip_func_args::session</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00854">pjsip_func_args::type</a>.</p>
<div class="fragment"><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;{</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dd3/structpjsip__func__args.html">pjsip_func_args</a> <a class="code" href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a> = { 0, };</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(param);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(field);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   );</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <span class="comment">/* Check for zero arguments */</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(parse)) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Cannot call %s without arguments\n&quot;</span>, cmd);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, parse);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <span class="comment">/* Sanity check */</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot call %s on a non-PJSIP channel\n&quot;</span>, cmd);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   channel = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <span class="keywordflow">if</span> (!channel) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Channel %s has no pvt!\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   <span class="keywordflow">if</span> (!channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Channel %s has no session\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a47bd1bb949183a58a194970acaccffbd">session</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   memset(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, 0, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;   func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a88efdb1b00c349daff543f98da84dde8">param</a> = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.param;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a> = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.type;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a68e6a477618bd9acb2dd4136315d2ab1">field</a> = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a> = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a7360b55975153b822efc5217b7734e6a">len</a> = <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a>(func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>, <a class="code" href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a1b3b76caadc1a85e78102cd1b9cb3b6b">read_pjsip</a>, &amp;func_args)) {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to read properties of channel %s: failed to push task\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a47bd1bb949183a58a194970acaccffbd">session</a>, -1);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a47bd1bb949183a58a194970acaccffbd">session</a>, -1);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <span class="keywordflow">return</span> func_args.<a class="code" href="../../de/dd3/structpjsip__func__args.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structpjsip__func__args_html_a88efdb1b00c349daff543f98da84dde8"><div class="ttname"><a href="../../de/dd3/structpjsip__func__args.html#a88efdb1b00c349daff543f98da84dde8">pjsip_func_args::param</a></div><div class="ttdeci">const char * param</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00853">pjsip/dialplan_functions.c:853</a></div></div>
<div class="ttc" id="structpjsip__func__args_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../de/dd3/structpjsip__func__args.html#a763fd8db6bba8fbbbc113ca0d61c47c2">pjsip_func_args::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00854">pjsip/dialplan_functions.c:854</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="structpjsip__func__args_html_a6baa346e44f4c2158d2be4f9b77b8203"><div class="ttname"><a href="../../de/dd3/structpjsip__func__args.html#a6baa346e44f4c2158d2be4f9b77b8203">pjsip_func_args::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00858">pjsip/dialplan_functions.c:858</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="pjsip_2dialplan__functions_8c_html_a1b3b76caadc1a85e78102cd1b9cb3b6b"><div class="ttname"><a href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a1b3b76caadc1a85e78102cd1b9cb3b6b">read_pjsip</a></div><div class="ttdeci">static int read_pjsip(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00862">pjsip/dialplan_functions.c:862</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structpjsip__func__args_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="../../de/dd3/structpjsip__func__args.html#a7360b55975153b822efc5217b7734e6a">pjsip_func_args::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00857">pjsip/dialplan_functions.c:857</a></div></div>
<div class="ttc" id="structpjsip__func__args_html_a68e6a477618bd9acb2dd4136315d2ab1"><div class="ttname"><a href="../../de/dd3/structpjsip__func__args.html#a68e6a477618bd9acb2dd4136315d2ab1">pjsip_func_args::field</a></div><div class="ttdeci">const char * field</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00855">pjsip/dialplan_functions.c:855</a></div></div>
<div class="ttc" id="group__pjsip__threading_html_gac231880459dcf8feacf1bb272b60472a"><div class="ttname"><a href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a></div><div class="ttdeci">int ast_sip_push_task_wait_serializer(struct ast_taskprocessor *serializer, int(*sip_task)(void *), void *task_data)</div><div class="ttdoc">Push a task to the serializer and wait for it to complete. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05218">res_pjsip.c:5218</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a2d0f37f8baa5d6fcf93cf4fab6342c36"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a></div><div class="ttdeci">static char * func_args(char *function)</div><div class="ttdoc">return a pointer to the arguments of the function, and terminates the function name with &amp;#39;\0&amp;#39; ...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00448">pbx_functions.c:448</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structast__sip__session_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">ast_sip_session::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">res_pjsip_session.h:195</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a2e006acff60d9b3d65d7d60f975d6747"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a></div><div class="ttdeci">static void parse(struct mgcp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">chan_mgcp.c:1872</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structpjsip__func__args_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../de/dd3/structpjsip__func__args.html#a47bd1bb949183a58a194970acaccffbd">pjsip_func_args::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00852">pjsip/dialplan_functions.c:852</a></div></div>
<div class="ttc" id="structpjsip__func__args_html"><div class="ttname"><a href="../../de/dd3/structpjsip__func__args.html">pjsip_func_args</a></div><div class="ttdoc">Struct used to push function arguments to task processor. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00851">pjsip/dialplan_functions.c:851</a></div></div>
<div class="ttc" id="structpjsip__func__args_html_a1fe855c208bc17a51a4d34fefdb2d5b1"><div class="ttname"><a href="../../de/dd3/structpjsip__func__args.html#a1fe855c208bc17a51a4d34fefdb2d5b1">pjsip_func_args::buf</a></div><div class="ttdeci">char * buf</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00856">pjsip/dialplan_functions.c:856</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acaa05a68b4619213ebc4458bc9a55693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaa05a68b4619213ebc4458bc9a55693">&#9670;&nbsp;</a></span>pjsip_acf_dial_contacts_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_dial_contacts_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_DIAL_CONTACTS function read callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">buf</td><td>Out buffer that should be populated with the data </td></tr>
    <tr><td class="paramname">len</td><td>Size of the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l00983">983</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::aor</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l01009">AST_SIP_CONTACT_FILTER_REACHABLE</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00147">ast_sip_location_retrieve_aor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00252">ast_sip_location_retrieve_aor_contacts_filtered()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00688">ast_str_strlen()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00738">ast_str_truncate()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00219">ast_strip()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, and <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00303">ast_sip_contact::uri</a>.</p>
<div class="fragment"><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;{</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *, endpoint, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *, dial, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *aor_name;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   <span class="keywordtype">char</span> *rest;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(endpoint_name);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(aor_name);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(request_user);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   );</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, data);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.endpoint_name)) {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;An endpoint name must be specified when using the &#39;%s&#39; dialplan function\n&quot;</span>, cmd);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(endpoint = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>(), <span class="stringliteral">&quot;endpoint&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.endpoint_name))) {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Specified endpoint &#39;%s&#39; was not found\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.endpoint_name);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   aor_name = <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.aor_name, endpoint-&gt;aors);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(aor_name)) {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No AOR has been provided and no AORs are configured on endpoint &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.endpoint_name);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(dial = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>))) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not get enough buffer space for dialing contacts\n&quot;</span>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(rest = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(aor_name))) {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not duplicate provided AORs\n&quot;</span>);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="keywordflow">while</span> ((aor_name = <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;rest, <span class="stringliteral">&quot;,&quot;</span>)))) {</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a> *, aor, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a>(aor_name), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *, contacts, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> it_contacts;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a> *<a class="code" href="../../d9/d03/structcontact.html">contact</a>;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d8a/structast__sip__contact.html#a7d6a7c1f176fb54d59dd27ea307f44e6">aor</a>) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;         <span class="comment">/* If the AOR provided is not found skip it, there may be more */</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(contacts = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a9988373a3803c99249efaa6fccf72444">ast_sip_location_retrieve_aor_contacts_filtered</a>(<a class="code" href="../../d8/d8a/structast__sip__contact.html#a7d6a7c1f176fb54d59dd27ea307f44e6">aor</a>, <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea517c167e994d3131efdf30ef399c8e75">AST_SIP_CONTACT_FILTER_REACHABLE</a>))) {</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;         <span class="comment">/* No contacts are available, skip it as well */</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(contacts)) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;         <span class="comment">/* We were given a container but no contacts are in it... */</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      it_contacts = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(contacts, 0);</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      <span class="keywordflow">for</span> (; (contact = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;it_contacts)); <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(contact, -1)) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;dial, -1, <span class="stringliteral">&quot;PJSIP/&quot;</span>);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.request_user)) {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;dial, -1, <span class="stringliteral">&quot;%s@&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.request_user);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;         }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;dial, -1, <span class="stringliteral">&quot;%s/%s&amp;&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.endpoint_name, contact-&gt;<a class="code" href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">uri</a>);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;it_contacts);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   <span class="comment">/* Trim the &#39;&amp;&#39; at the end off */</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a0b9c195ff2235f7670358e1e37cf6b8d">ast_str_truncate</a>(dial, <a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(dial) - 1);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(dial), <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;}</div><div class="ttc" id="structast__sip__aor_html"><div class="ttname"><a href="../../d4/d03/structast__sip__aor.html">ast_sip_aor</a></div><div class="ttdoc">A SIP address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00361">res_pjsip.h:361</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="strings_8h_html_a0b9c195ff2235f7670358e1e37cf6b8d"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a0b9c195ff2235f7670358e1e37cf6b8d">ast_str_truncate</a></div><div class="ttdeci">char * ast_str_truncate(struct ast_str *buf, ssize_t len)</div><div class="ttdoc">Truncates the enclosed string to the given length. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00738">strings.h:738</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a></div><div class="ttdoc">An entity with which Asterisk communicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00812">res_pjsip.h:812</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a434c2d85dbd10a9453f6d409809330d5"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a434c2d85dbd10a9453f6d409809330d5">ast_sip_location_retrieve_aor</a></div><div class="ttdeci">struct ast_sip_aor * ast_sip_location_retrieve_aor(const char *aor_name)</div><div class="ttdoc">Retrieve a named AOR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00147">location.c:147</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__sip__contact_html"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html">ast_sip_contact</a></div><div class="ttdoc">Contact associated with an address of record. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00281">res_pjsip.h:281</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a7d6a7c1f176fb54d59dd27ea307f44e6"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a7d6a7c1f176fb54d59dd27ea307f44e6">ast_sip_contact::aor</a></div><div class="ttdeci">const ast_string_field aor</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a9988373a3803c99249efaa6fccf72444"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a9988373a3803c99249efaa6fccf72444">ast_sip_location_retrieve_aor_contacts_filtered</a></div><div class="ttdeci">struct ao2_container * ast_sip_location_retrieve_aor_contacts_filtered(const struct ast_sip_aor *aor, unsigned int flags)</div><div class="ttdoc">Retrieve all contacts currently available for an AOR and filter based on flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dad/location_8c_source.html#l00252">location.c:252</a></div></div>
<div class="ttc" id="structcontact_html"><div class="ttname"><a href="../../d9/d03/structcontact.html">contact</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/reqresp__parser_8h_source.html#l00035">reqresp_parser.h:35</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a8eecba6db028d0775d3208ed8b74926ea517c167e994d3131efdf30ef399c8e75"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a8eecba6db028d0775d3208ed8b74926ea517c167e994d3131efdf30ef399c8e75">AST_SIP_CONTACT_FILTER_REACHABLE</a></div><div class="ttdoc">Return only reachable or unknown contacts. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l01009">res_pjsip.h:1009</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="structast__sip__contact_html_a19ac71226fac09e87afe31acb4c99214"><div class="ttname"><a href="../../d8/d8a/structast__sip__contact.html#a19ac71226fac09e87afe31acb4c99214">ast_sip_contact::uri</a></div><div class="ttdeci">const ast_string_field uri</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00303">res_pjsip.h:303</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1352c8f2adaea44a67d5d82226c3d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1352c8f2adaea44a67d5d82226c3d80">&#9670;&nbsp;</a></span>pjsip_acf_dtmf_mode_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_dtmf_mode_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_DTMF_MODE function read callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">buf</td><td>Out buffer that should be populated with the data </td></tr>
    <tr><td class="paramname">len</td><td>Size of the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01429">1429</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05484">ast_sip_dtmf_to_str()</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00233">ast_sip_session::dtmf</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">ast_sip_channel_pvt::session</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>
<div class="fragment"><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;{</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   }</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot call %s on a non-PJSIP channel\n&quot;</span>, cmd);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;   }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;   channel = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8c/res__pjsip_8h.html#a70a5c3ffebc2d2aaf9a3c5f661d2287c">ast_sip_dtmf_to_str</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>) &lt; 0) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown DTMF mode %d on PJSIP channel %s\n&quot;</span>, channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;   }</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a70a5c3ffebc2d2aaf9a3c5f661d2287c"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a70a5c3ffebc2d2aaf9a3c5f661d2287c">ast_sip_dtmf_to_str</a></div><div class="ttdeci">int ast_sip_dtmf_to_str(const enum ast_sip_dtmf_mode dtmf, char *buf, size_t buf_len)</div><div class="ttdoc">Convert the DTMF mode enum value into a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05484">res_pjsip.c:5484</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__sip__session_html_abb7c899dc9afe319240163be2b213813"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">ast_sip_session::dtmf</a></div><div class="ttdeci">enum ast_sip_dtmf_mode dtmf</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00233">res_pjsip_session.h:233</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3019dadb0ab8e5fa971c0f081e6d9f0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3019dadb0ab8e5fa971c0f081e6d9f0d">&#9670;&nbsp;</a></span>pjsip_acf_dtmf_mode_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_dtmf_mode_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_DTMF_MODE function write callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">value</td><td>Value to be set by the function</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01530">1530</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00209">ast_sip_session::active_media_state</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01770">ast_dsp_free()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01764">ast_dsp_get_features()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01745">ast_dsp_new()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01755">ast_dsp_set_features()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00032">AST_MEDIA_TYPE_AUDIO</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00154">AST_RTP_DTMF_MODE_INBAND</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00150">AST_RTP_DTMF_MODE_NONE</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00152">AST_RTP_DTMF_MODE_RFC2833</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02137">ast_rtp_instance_dtmf_mode_get()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02123">ast_rtp_instance_dtmf_mode_set()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00705">ast_rtp_instance_set_prop()</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00117">AST_RTP_PROPERTY_DTMF</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00419">AST_SIP_DTMF_AUTO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00421">AST_SIP_DTMF_AUTO_INFO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00415">AST_SIP_DTMF_INBAND</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00417">AST_SIP_DTMF_INFO</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00410">AST_SIP_DTMF_NONE</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00413">AST_SIP_DTMF_RFC_4733</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05218">ast_sip_push_task_wait_serializer()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00486">AST_SIP_SESSION_REFRESH_METHOD_INVITE</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05513">ast_sip_str_to_dtmf()</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00151">ast_sip_session_media_state::default_session</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00213">ast_sip_session::dsp</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00028">DSP_FEATURE_DIGIT_DETECT</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00233">ast_sip_session::dtmf</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01513">dtmf_mode_refresh_cb()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01487">refresh_data::method</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00077">ast_sip_session_media::rtp</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">ast_sip_session::serializer</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">ast_sip_channel_pvt::session</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01486">refresh_data::session</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>
<div class="fragment"><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;{</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d23/structast__sip__session__media.html">ast_sip_session_media</a> *media;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;   <span class="keywordtype">int</span> dsp_features = 0;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   <span class="keywordtype">int</span> dtmf = -1;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/ded/structrefresh__data.html">refresh_data</a> rdata = {</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;         .<a class="code" href="../../d7/ded/structrefresh__data.html#a711cafaf124bf68c50f8af637b5146ff">method</a> = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc">AST_SIP_SESSION_REFRESH_METHOD_INVITE</a>,</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      };</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;   }</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot call %s on a non-PJSIP channel\n&quot;</span>, cmd);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   }</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;   channel = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;   rdata.<a class="code" href="../../d7/ded/structrefresh__data.html#a47bd1bb949183a58a194970acaccffbd">session</a> = channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;   dtmf = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#acca3189197cd95ee5ba26bb695fd6078">ast_sip_str_to_dtmf</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   <span class="keywordflow">if</span> (dtmf == -1) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot set DTMF mode to &#39;%s&#39; on channel &#39;%s&#39; as value is invalid.\n&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>,</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;   }</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;   <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == dtmf) {</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <span class="comment">/* DTMF mode unchanged, nothing to do! */</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;   }</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> = dtmf;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;   media = channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#a88e7edbcbdea0569dc8ff0b74129c5f7">active_media_state</a>-&gt;<a class="code" href="../../de/dd5/structast__sip__session__media__state.html#a8ce77d5f41c03bf330b7699e41fac6c3">default_session</a>[<a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a>];</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   <span class="keywordflow">if</span> (media &amp;&amp; media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) {</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a>) {</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a>, 1);</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3514f29b438a855f44f440c7cb8d2800">ast_rtp_instance_dtmf_mode_set</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eea628d544911ab92fd7fc062b3ba184346">AST_RTP_DTMF_MODE_RFC2833</a>);</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a>) {</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a>, 0);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3514f29b438a855f44f440c7cb8d2800">ast_rtp_instance_dtmf_mode_set</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eeac94ec266b1a57ac6e4001a3e79e02f14">AST_RTP_DTMF_MODE_NONE</a>);</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a>) {</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a>, 0);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3514f29b438a855f44f440c7cb8d2800">ast_rtp_instance_dtmf_mode_set</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eea6fdbcc4d7df24cf9108a3f06bc771e83">AST_RTP_DTMF_MODE_INBAND</a>);</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a>) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a>, 0);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3514f29b438a855f44f440c7cb8d2800">ast_rtp_instance_dtmf_mode_set</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eeac94ec266b1a57ac6e4001a3e79e02f14">AST_RTP_DTMF_MODE_NONE</a>);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a>) {</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0cff5eb6a29ecb54fe5589a48556bfac">ast_rtp_instance_dtmf_mode_get</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eea628d544911ab92fd7fc062b3ba184346">AST_RTP_DTMF_MODE_RFC2833</a>) {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <span class="comment">/* no RFC4733 negotiated, enable inband */</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3514f29b438a855f44f440c7cb8d2800">ast_rtp_instance_dtmf_mode_set</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eea6fdbcc4d7df24cf9108a3f06bc771e83">AST_RTP_DTMF_MODE_INBAND</a>);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;         }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728">AST_SIP_DTMF_AUTO_INFO</a>) {</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a>, 0);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0cff5eb6a29ecb54fe5589a48556bfac">ast_rtp_instance_dtmf_mode_get</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>) == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eea6fdbcc4d7df24cf9108a3f06bc771e83">AST_RTP_DTMF_MODE_INBAND</a>) {</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            <span class="comment">/* if inband, switch to INFO */</span></div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;            <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3514f29b438a855f44f440c7cb8d2800">ast_rtp_instance_dtmf_mode_set</a>(media-&gt;<a class="code" href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">rtp</a>, <a class="code" href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eeac94ec266b1a57ac6e4001a3e79e02f14">AST_RTP_DTMF_MODE_NONE</a>);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;         }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      }</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;   }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;   <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">dsp</a>) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      dsp_features = <a class="code" href="../../d3/d08/dsp_8h.html#a92238c472ae51a2926b51599108ab071">ast_dsp_get_features</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">dsp</a>);</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;   }</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;   <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a> ||</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">dtmf</a> == <a class="code" href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a>) {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      dsp_features |= <a class="code" href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a>;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      dsp_features &amp;= ~<a class="code" href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a>;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;   }</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;   <span class="keywordflow">if</span> (dsp_features) {</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <span class="keywordflow">if</span> (!channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">dsp</a>) {</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;         <span class="keywordflow">if</span> (!(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">dsp</a> = <a class="code" href="../../d3/d08/dsp_8h.html#a0a60e93006c8e1ca8fda922ae0e0da2c">ast_dsp_new</a>())) {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;         }</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      }</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <a class="code" href="../../d3/d08/dsp_8h.html#aedc7fa20fba91e3c018f6989e95c714b">ast_dsp_set_features</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">dsp</a>, dsp_features);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">dsp</a>) {</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <a class="code" href="../../d3/d08/dsp_8h.html#a0a57a1e374549eb2705068688f4046db">ast_dsp_free</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">dsp</a>);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">dsp</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;   }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>, <a class="code" href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a86cf59333198be9c6cf32141ccc95f8f">dtmf_mode_refresh_cb</a>, &amp;rdata);</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc">AST_SIP_SESSION_REFRESH_METHOD_INVITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00486">res_pjsip.h:486</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1faacdd9acc98ab208a9f83724cc61f667d">AST_SIP_DTMF_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00417">res_pjsip.h:417</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a3514f29b438a855f44f440c7cb8d2800"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a3514f29b438a855f44f440c7cb8d2800">ast_rtp_instance_dtmf_mode_set</a></div><div class="ttdeci">int ast_rtp_instance_dtmf_mode_set(struct ast_rtp_instance *instance, enum ast_rtp_dtmf_mode dtmf_mode)</div><div class="ttdoc">Set the DTMF mode that should be used. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02123">rtp_engine.c:2123</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a9ff41b61938f3d4dc4c82db103e7914cad56f6f1132d2520c2ad2d593bb06dcad">AST_RTP_PROPERTY_DTMF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00117">rtp_engine.h:117</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="dsp_8h_html_a0a57a1e374549eb2705068688f4046db"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a0a57a1e374549eb2705068688f4046db">ast_dsp_free</a></div><div class="ttdeci">void ast_dsp_free(struct ast_dsp *dsp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01770">dsp.c:1770</a></div></div>
<div class="ttc" id="dsp_8h_html_a84818b360426bdd5f588cdca463e15be"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a84818b360426bdd5f588cdca463e15be">DSP_FEATURE_DIGIT_DETECT</a></div><div class="ttdeci">#define DSP_FEATURE_DIGIT_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00028">dsp.h:28</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="dsp_8h_html_a0a60e93006c8e1ca8fda922ae0e0da2c"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a0a60e93006c8e1ca8fda922ae0e0da2c">ast_dsp_new</a></div><div class="ttdeci">struct ast_dsp * ast_dsp_new(void)</div><div class="ttdoc">Allocates a new dsp, assumes 8khz for internal sample rate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01745">dsp.c:1745</a></div></div>
<div class="ttc" id="structast__sip__session__media__state_html_a8ce77d5f41c03bf330b7699e41fac6c3"><div class="ttname"><a href="../../de/dd5/structast__sip__session__media__state.html#a8ce77d5f41c03bf330b7699e41fac6c3">ast_sip_session_media_state::default_session</a></div><div class="ttdeci">struct ast_sip_session_media * default_session[AST_MEDIA_TYPE_END]</div><div class="ttdoc">Default media sessions for each type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00151">res_pjsip_session.h:151</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa30981f3f7f5452293dcd27ddc80e2728">AST_SIP_DTMF_AUTO_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00421">res_pjsip.h:421</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_acca3189197cd95ee5ba26bb695fd6078"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#acca3189197cd95ee5ba26bb695fd6078">ast_sip_str_to_dtmf</a></div><div class="ttdeci">int ast_sip_str_to_dtmf(const char *dtmf_mode)</div><div class="ttdoc">Convert the DTMF mode name into an enum. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05513">res_pjsip.c:5513</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structast__sip__session_html_a88e7edbcbdea0569dc8ff0b74129c5f7"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#a88e7edbcbdea0569dc8ff0b74129c5f7">ast_sip_session::active_media_state</a></div><div class="ttdeci">struct ast_sip_session_media_state * active_media_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00209">res_pjsip_session.h:209</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa5e869c7cc77a17055a0f4d14095b95f8">AST_SIP_DTMF_INBAND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00415">res_pjsip.h:415</a></div></div>
<div class="ttc" id="structrefresh__data_html_a711cafaf124bf68c50f8af637b5146ff"><div class="ttname"><a href="../../d7/ded/structrefresh__data.html#a711cafaf124bf68c50f8af637b5146ff">refresh_data::method</a></div><div class="ttdeci">enum ast_sip_session_refresh_method method</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01487">pjsip/dialplan_functions.c:1487</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a3054d1eb4ca6e3e9bfd97bc54ff6e6eea6fdbcc4d7df24cf9108a3f06bc771e83"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eea6fdbcc4d7df24cf9108a3f06bc771e83">AST_RTP_DTMF_MODE_INBAND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00154">rtp_engine.h:154</a></div></div>
<div class="ttc" id="structast__sip__session_html_ab9deccb020b39c3f7ac94b1af99cac5d"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#ab9deccb020b39c3f7ac94b1af99cac5d">ast_sip_session::dsp</a></div><div class="ttdeci">struct ast_dsp * dsp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00213">res_pjsip_session.h:213</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="dsp_8h_html_a92238c472ae51a2926b51599108ab071"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a92238c472ae51a2926b51599108ab071">ast_dsp_get_features</a></div><div class="ttdeci">int ast_dsp_get_features(struct ast_dsp *dsp)</div><div class="ttdoc">Get features. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01764">dsp.c:1764</a></div></div>
<div class="ttc" id="group__pjsip__threading_html_gac231880459dcf8feacf1bb272b60472a"><div class="ttname"><a href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a></div><div class="ttdeci">int ast_sip_push_task_wait_serializer(struct ast_taskprocessor *serializer, int(*sip_task)(void *), void *task_data)</div><div class="ttdoc">Push a task to the serializer and wait for it to complete. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05218">res_pjsip.c:5218</a></div></div>
<div class="ttc" id="structast__sip__session_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">ast_sip_session::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">res_pjsip_session.h:195</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a3054d1eb4ca6e3e9bfd97bc54ff6e6eea628d544911ab92fd7fc062b3ba184346"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eea628d544911ab92fd7fc062b3ba184346">AST_RTP_DTMF_MODE_RFC2833</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00152">rtp_engine.h:152</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00032">codec.h:32</a></div></div>
<div class="ttc" id="structast__sip__session_html_abb7c899dc9afe319240163be2b213813"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#abb7c899dc9afe319240163be2b213813">ast_sip_session::dtmf</a></div><div class="ttdeci">enum ast_sip_dtmf_mode dtmf</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00233">res_pjsip_session.h:233</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="dsp_8h_html_aedc7fa20fba91e3c018f6989e95c714b"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#aedc7fa20fba91e3c018f6989e95c714b">ast_dsp_set_features</a></div><div class="ttdeci">void ast_dsp_set_features(struct ast_dsp *dsp, int features)</div><div class="ttdoc">Select feature set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01755">dsp.c:1755</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa43325569e4e8a4e171dba3f532ff265b">AST_SIP_DTMF_AUTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00419">res_pjsip.h:419</a></div></div>
<div class="ttc" id="structrefresh__data_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d7/ded/structrefresh__data.html#a47bd1bb949183a58a194970acaccffbd">refresh_data::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01486">pjsip/dialplan_functions.c:1486</a></div></div>
<div class="ttc" id="pjsip_2dialplan__functions_8c_html_a86cf59333198be9c6cf32141ccc95f8f"><div class="ttname"><a href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a86cf59333198be9c6cf32141ccc95f8f">dtmf_mode_refresh_cb</a></div><div class="ttdeci">static int dtmf_mode_refresh_cb(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01513">pjsip/dialplan_functions.c:1513</a></div></div>
<div class="ttc" id="structast__sip__session__media_html"><div class="ttname"><a href="../../d0/d23/structast__sip__session__media.html">ast_sip_session_media</a></div><div class="ttdoc">A structure containing SIP session media information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00075">res_pjsip_session.h:75</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a3054d1eb4ca6e3e9bfd97bc54ff6e6eeac94ec266b1a57ac6e4001a3e79e02f14"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a3054d1eb4ca6e3e9bfd97bc54ff6e6eeac94ec266b1a57ac6e4001a3e79e02f14">AST_RTP_DTMF_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00150">rtp_engine.h:150</a></div></div>
<div class="ttc" id="structast__sip__session__media_html_a8adb8595b8127cbea2118fada1ef8782"><div class="ttname"><a href="../../d0/d23/structast__sip__session__media.html#a8adb8595b8127cbea2118fada1ef8782">ast_sip_session_media::rtp</a></div><div class="ttdeci">struct ast_rtp_instance * rtp</div><div class="ttdoc">RTP instance itself. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00077">res_pjsip_session.h:77</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fade86b10bcf03fc282a3fdccfc68203e2">AST_SIP_DTMF_RFC_4733</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00413">res_pjsip.h:413</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0cff5eb6a29ecb54fe5589a48556bfac"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0cff5eb6a29ecb54fe5589a48556bfac">ast_rtp_instance_dtmf_mode_get</a></div><div class="ttdeci">enum ast_rtp_dtmf_mode ast_rtp_instance_dtmf_mode_get(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the DTMF mode of an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02137">rtp_engine.c:2137</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a77f59605d15d7dfc53e0df12352b8235"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a77f59605d15d7dfc53e0df12352b8235">ast_rtp_instance_set_prop</a></div><div class="ttdeci">void ast_rtp_instance_set_prop(struct ast_rtp_instance *instance, enum ast_rtp_property property, int value)</div><div class="ttdoc">Set the value of an RTP instance property. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00705">rtp_engine.c:705</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#aa545d9a3491f89266f1218b7a07bab1fa0209e768577205ae53148593c9c33bbe">AST_SIP_DTMF_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00410">res_pjsip.h:410</a></div></div>
<div class="ttc" id="structrefresh__data_html"><div class="ttname"><a href="../../d7/ded/structrefresh__data.html">refresh_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01485">pjsip/dialplan_functions.c:1485</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a04f75938f1cd3e7813fabe5ff3ceb54b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f75938f1cd3e7813fabe5ff3ceb54b">&#9670;&nbsp;</a></span>pjsip_acf_media_offer_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_media_offer_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_MEDIA_OFFER function read callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">buf</td><td>Out buffer that should be populated with the data </td></tr>
    <tr><td class="paramname">len</td><td>Size of the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01372">1372</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00032">AST_MEDIA_TYPE_AUDIO</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00033">AST_MEDIA_TYPE_VIDEO</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01232">media_offer_read_av()</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">ast_sip_channel_pvt::session</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>
<div class="fragment"><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;{</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   }</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot call %s on a non-PJSIP channel\n&quot;</span>, cmd);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;   }</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   channel = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;   <span class="keywordflow">if</span> (!strcmp(data, <span class="stringliteral">&quot;audio&quot;</span>)) {</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a3d3614f9a51f068f8ed7168bd4da19ac">media_offer_read_av</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a>);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(data, <span class="stringliteral">&quot;video&quot;</span>)) {</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a3d3614f9a51f068f8ed7168bd4da19ac">media_offer_read_av</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99">AST_MEDIA_TYPE_VIDEO</a>);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="comment">/* Ensure that the buffer is empty */</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00032">codec.h:32</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99">AST_MEDIA_TYPE_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00033">codec.h:33</a></div></div>
<div class="ttc" id="pjsip_2dialplan__functions_8c_html_a3d3614f9a51f068f8ed7168bd4da19ac"><div class="ttname"><a href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a3d3614f9a51f068f8ed7168bd4da19ac">media_offer_read_av</a></div><div class="ttdeci">static int media_offer_read_av(struct ast_sip_session *session, char *buf, size_t len, enum ast_media_type media_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01232">pjsip/dialplan_functions.c:1232</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e534df9849b51f6369459ca2124ba15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e534df9849b51f6369459ca2124ba15">&#9670;&nbsp;</a></span>pjsip_acf_media_offer_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_media_offer_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_MEDIA_OFFER function write callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">value</td><td>Value to be set by the function</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01400">1400</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00032">AST_MEDIA_TYPE_AUDIO</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00033">AST_MEDIA_TYPE_VIDEO</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05218">ast_sip_push_task_wait_serializer()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01318">media_offer_write_av()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01314">media_offer_data::media_type</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">ast_sip_session::serializer</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">ast_sip_channel_pvt::session</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01313">media_offer_data::session</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01315">media_offer_data::value</a>.</p>
<div class="fragment"><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;{</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de7/structmedia__offer__data.html">media_offer_data</a> mdata = {</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      .<a class="code" href="../../dd/de7/structmedia__offer__data.html#a8556878012feffc9e0beb86cd78f424d">value</a> = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;   };</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;   }</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot call %s on a non-PJSIP channel\n&quot;</span>, cmd);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;   }</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;   channel = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   mdata.<a class="code" href="../../dd/de7/structmedia__offer__data.html#a47bd1bb949183a58a194970acaccffbd">session</a> = channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="keywordflow">if</span> (!strcmp(data, <span class="stringliteral">&quot;audio&quot;</span>)) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      mdata.<a class="code" href="../../dd/de7/structmedia__offer__data.html#a2822e1e283e7d8d395117d0d5f0436be">media_type</a> = <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a>;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(data, <span class="stringliteral">&quot;video&quot;</span>)) {</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      mdata.<a class="code" href="../../dd/de7/structmedia__offer__data.html#a2822e1e283e7d8d395117d0d5f0436be">media_type</a> = <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99">AST_MEDIA_TYPE_VIDEO</a>;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;   }</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>, <a class="code" href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a44f043f97183fd636515a883f1f62fe5">media_offer_write_av</a>, &amp;mdata);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structmedia__offer__data_html_a2822e1e283e7d8d395117d0d5f0436be"><div class="ttname"><a href="../../dd/de7/structmedia__offer__data.html#a2822e1e283e7d8d395117d0d5f0436be">media_offer_data::media_type</a></div><div class="ttdeci">enum ast_media_type media_type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01314">pjsip/dialplan_functions.c:1314</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="pjsip_2dialplan__functions_8c_html_a44f043f97183fd636515a883f1f62fe5"><div class="ttname"><a href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a44f043f97183fd636515a883f1f62fe5">media_offer_write_av</a></div><div class="ttdeci">static int media_offer_write_av(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01318">pjsip/dialplan_functions.c:1318</a></div></div>
<div class="ttc" id="structmedia__offer__data_html"><div class="ttname"><a href="../../dd/de7/structmedia__offer__data.html">media_offer_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01312">pjsip/dialplan_functions.c:1312</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structmedia__offer__data_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/de7/structmedia__offer__data.html#a8556878012feffc9e0beb86cd78f424d">media_offer_data::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01315">pjsip/dialplan_functions.c:1315</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="group__pjsip__threading_html_gac231880459dcf8feacf1bb272b60472a"><div class="ttname"><a href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a></div><div class="ttdeci">int ast_sip_push_task_wait_serializer(struct ast_taskprocessor *serializer, int(*sip_task)(void *), void *task_data)</div><div class="ttdoc">Push a task to the serializer and wait for it to complete. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05218">res_pjsip.c:5218</a></div></div>
<div class="ttc" id="structast__sip__session_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">ast_sip_session::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">res_pjsip_session.h:195</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00032">codec.h:32</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99">AST_MEDIA_TYPE_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00033">codec.h:33</a></div></div>
<div class="ttc" id="structmedia__offer__data_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../dd/de7/structmedia__offer__data.html#a47bd1bb949183a58a194970acaccffbd">media_offer_data::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01313">pjsip/dialplan_functions.c:1313</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a04288afbb5bd0eaf46102d0da2c43cbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04288afbb5bd0eaf46102d0da2c43cbe">&#9670;&nbsp;</a></span>pjsip_acf_moh_passthrough_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_moh_passthrough_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_MOH_PASSTHROUGH function read callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">buf</td><td>Out buffer that should be populated with the data </td></tr>
    <tr><td class="paramname">len</td><td>Size of the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01457">1457</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00139">AST_YESNO</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00231">ast_sip_session::moh_passthrough</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">ast_sip_channel_pvt::session</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>
<div class="fragment"><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;{</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;   }</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> &lt; 3) {</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s: buffer too small\n&quot;</span>, cmd);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   }</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot call %s on a non-PJSIP channel\n&quot;</span>, cmd);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;   }</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;   channel = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   strncpy(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d6/d90/strings_8h.html#ab7cad97bd640223a24b4bd60ef0e406f">AST_YESNO</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#a56458fcd1003f7554cee73c7f0346cbb">moh_passthrough</a>), <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="strings_8h_html_ab7cad97bd640223a24b4bd60ef0e406f"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ab7cad97bd640223a24b4bd60ef0e406f">AST_YESNO</a></div><div class="ttdeci">#define AST_YESNO(x)</div><div class="ttdoc">return Yes or No depending on the argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00139">strings.h:139</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
<div class="ttc" id="structast__sip__session_html_a56458fcd1003f7554cee73c7f0346cbb"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#a56458fcd1003f7554cee73c7f0346cbb">ast_sip_session::moh_passthrough</a></div><div class="ttdeci">unsigned int moh_passthrough</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00231">res_pjsip_session.h:231</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c23eface5015785a06af3560a44ee77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c23eface5015785a06af3560a44ee77">&#9670;&nbsp;</a></span>pjsip_acf_moh_passthrough_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_moh_passthrough_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_MOH_PASSTHROUGH function write callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">value</td><td>Value to be set by the function</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01628">1628</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00231">ast_sip_session::moh_passthrough</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">ast_sip_channel_pvt::session</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>
<div class="fragment"><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;{</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;   }</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot call %s on a non-PJSIP channel\n&quot;</span>, cmd);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;   }</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;   channel = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;   channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#a56458fcd1003f7554cee73c7f0346cbb">moh_passthrough</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
<div class="ttc" id="structast__sip__session_html_a56458fcd1003f7554cee73c7f0346cbb"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#a56458fcd1003f7554cee73c7f0346cbb">ast_sip_session::moh_passthrough</a></div><div class="ttdeci">unsigned int moh_passthrough</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00231">res_pjsip_session.h:231</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acff0f629a1ba97326cf5122a1010f3a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff0f629a1ba97326cf5122a1010f3a8">&#9670;&nbsp;</a></span>pjsip_acf_parse_uri_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_parse_uri_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_PARSE_URI function read callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>The name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">buf</td><td>Out buffer that should be populated with the data </td></tr>
    <tr><td class="paramname">len</td><td>Size of the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01197">1197</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05218">ast_sip_push_task_wait_serializer()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01115">parse_uri_args::buf</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01116">parse_uri_args::buflen</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01121">parse_uri_cb()</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01117">parse_uri_args::ret</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01114">parse_uri_args::type</a>, and <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01113">parse_uri_args::uri</a>.</p>
<div class="fragment"><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;{</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d60/structparse__uri__args.html">parse_uri_args</a> <a class="code" href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a> = { 0, };</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(uri_str);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   );</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, data);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.uri_str)) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;An URI must be specified when using the &#39;%s&#39; dialplan function\n&quot;</span>, cmd);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;   }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.type)) {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;A type part of the URI must be specified when using the &#39;%s&#39; dialplan function\n&quot;</span>, cmd);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;   }</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   memset(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, 0, <a class="code" href="../../dc/d60/structparse__uri__args.html#ad6994903b3c19997ffcfdccb4431d308">buflen</a>);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   func_args.<a class="code" href="../../dc/d60/structparse__uri__args.html#a69ec24fb2d0a5f5e532deb9adaab81d6">uri</a> = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.uri_str;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   func_args.<a class="code" href="../../dc/d60/structparse__uri__args.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a> = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.type;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   func_args.<a class="code" href="../../dc/d60/structparse__uri__args.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a> = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;   func_args.<a class="code" href="../../dc/d60/structparse__uri__args.html#ad6994903b3c19997ffcfdccb4431d308">buflen</a> = <a class="code" href="../../dc/d60/structparse__uri__args.html#ad6994903b3c19997ffcfdccb4431d308">buflen</a>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../de/dfc/pjsip_2dialplan__functions_8c.html#aeb9b52a26c688588c43b700a291e9c12">parse_uri_cb</a>, &amp;func_args)) {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to parse URI: failed to push task\n&quot;</span>);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;   <span class="keywordflow">return</span> func_args.<a class="code" href="../../dc/d60/structparse__uri__args.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structparse__uri__args_html"><div class="ttname"><a href="../../dc/d60/structparse__uri__args.html">parse_uri_args</a></div><div class="ttdoc">Struct used to push PJSIP_PARSE_URI function arguments to task processor. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01112">pjsip/dialplan_functions.c:1112</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="pjsip_2dialplan__functions_8c_html_aeb9b52a26c688588c43b700a291e9c12"><div class="ttname"><a href="../../de/dfc/pjsip_2dialplan__functions_8c.html#aeb9b52a26c688588c43b700a291e9c12">parse_uri_cb</a></div><div class="ttdeci">static int parse_uri_cb(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01121">pjsip/dialplan_functions.c:1121</a></div></div>
<div class="ttc" id="structparse__uri__args_html_a1fe855c208bc17a51a4d34fefdb2d5b1"><div class="ttname"><a href="../../dc/d60/structparse__uri__args.html#a1fe855c208bc17a51a4d34fefdb2d5b1">parse_uri_args::buf</a></div><div class="ttdeci">char * buf</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01115">pjsip/dialplan_functions.c:1115</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="group__pjsip__threading_html_gac231880459dcf8feacf1bb272b60472a"><div class="ttname"><a href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a></div><div class="ttdeci">int ast_sip_push_task_wait_serializer(struct ast_taskprocessor *serializer, int(*sip_task)(void *), void *task_data)</div><div class="ttdoc">Push a task to the serializer and wait for it to complete. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05218">res_pjsip.c:5218</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a2d0f37f8baa5d6fcf93cf4fab6342c36"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a></div><div class="ttdeci">static char * func_args(char *function)</div><div class="ttdoc">return a pointer to the arguments of the function, and terminates the function name with &amp;#39;\0&amp;#39; ...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00448">pbx_functions.c:448</a></div></div>
<div class="ttc" id="structparse__uri__args_html_a69ec24fb2d0a5f5e532deb9adaab81d6"><div class="ttname"><a href="../../dc/d60/structparse__uri__args.html#a69ec24fb2d0a5f5e532deb9adaab81d6">parse_uri_args::uri</a></div><div class="ttdeci">const char * uri</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01113">pjsip/dialplan_functions.c:1113</a></div></div>
<div class="ttc" id="structparse__uri__args_html_a6baa346e44f4c2158d2be4f9b77b8203"><div class="ttname"><a href="../../dc/d60/structparse__uri__args.html#a6baa346e44f4c2158d2be4f9b77b8203">parse_uri_args::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01117">pjsip/dialplan_functions.c:1117</a></div></div>
<div class="ttc" id="structparse__uri__args_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dc/d60/structparse__uri__args.html#a763fd8db6bba8fbbbc113ca0d61c47c2">parse_uri_args::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01114">pjsip/dialplan_functions.c:1114</a></div></div>
<div class="ttc" id="structparse__uri__args_html_ad6994903b3c19997ffcfdccb4431d308"><div class="ttname"><a href="../../dc/d60/structparse__uri__args.html#ad6994903b3c19997ffcfdccb4431d308">parse_uri_args::buflen</a></div><div class="ttdeci">size_t buflen</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01116">pjsip/dialplan_functions.c:1116</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a39c320d347c60a6f3251ce2cd6ac6370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39c320d347c60a6f3251ce2cd6ac6370">&#9670;&nbsp;</a></span>pjsip_acf_session_refresh_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pjsip_acf_session_refresh_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PJSIP_SEND_SESSION_REFRESH function write callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the function is called on </td></tr>
    <tr><td class="paramname">cmd</td><td>the Name of the function </td></tr>
    <tr><td class="paramname">data</td><td>Arguments passed to the function </td></tr>
    <tr><td class="paramname">value</td><td>Value to be set by the function</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01671">1671</a> of file <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html">pjsip/dialplan_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00565">ast_channel_tech_pvt()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05218">ast_sip_push_task_wait_serializer()</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00486">AST_SIP_SESSION_REFRESH_METHOD_INVITE</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00488">AST_SIP_SESSION_REFRESH_METHOD_UPDATE</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01487">refresh_data::method</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01652">refresh_write_cb()</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">ast_sip_session::serializer</a>, <a class="el" href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">ast_sip_channel_pvt::session</a>, <a class="el" href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01486">refresh_data::session</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>
<div class="fragment"><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;{</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a> *<a class="code" href="../../d4/d84/structchannel.html">channel</a>;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/ded/structrefresh__data.html">refresh_data</a> rdata = {</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      .<a class="code" href="../../d7/ded/structrefresh__data.html#a711cafaf124bf68c50f8af637b5146ff">method</a> = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc">AST_SIP_SESSION_REFRESH_METHOD_INVITE</a>,</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   };</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;&#39;%s&#39; not allowed on unanswered channel &#39;%s&#39;.\n&quot;</span>, cmd, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(chan)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="stringliteral">&quot;PJSIP&quot;</span>)) {</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot call %s on a non-PJSIP channel\n&quot;</span>, cmd);</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   }</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   channel = <a class="code" href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a>(chan);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   rdata.<a class="code" href="../../d7/ded/structrefresh__data.html#a47bd1bb949183a58a194970acaccffbd">session</a> = channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;invite&quot;</span>)) {</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      rdata.<a class="code" href="../../d7/ded/structrefresh__data.html#a711cafaf124bf68c50f8af637b5146ff">method</a> = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc">AST_SIP_SESSION_REFRESH_METHOD_INVITE</a>;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;update&quot;</span>)) {</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      rdata.<a class="code" href="../../d7/ded/structrefresh__data.html#a711cafaf124bf68c50f8af637b5146ff">method</a> = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0da02ccc9b52f326c27f7fd3ee072f4f6f1">AST_SIP_SESSION_REFRESH_METHOD_UPDATE</a>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   }</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a>(channel-&gt;<a class="code" href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">session</a>-&gt;<a class="code" href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">serializer</a>, <a class="code" href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a2f4285145230a6b213b77432c18fc2e1">refresh_write_cb</a>, &amp;rdata);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;}</div><div class="ttc" id="res__pjsip_8h_html_afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0dae9c19ba5b085de7f7cf9a0e1f278f8cc">AST_SIP_SESSION_REFRESH_METHOD_INVITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00486">res_pjsip.h:486</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="channel_8h_html_a3dc9d235c0e16ab0a6812b4aa6572cce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3dc9d235c0e16ab0a6812b4aa6572cce">ast_channel_tech_pvt</a></div><div class="ttdeci">void * ast_channel_tech_pvt(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00565">channel_internal_api.c:565</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html">ast_sip_channel_pvt</a></div><div class="ttdoc">A structure which contains a channel implementation and session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00466">res_pjsip_session.h:466</a></div></div>
<div class="ttc" id="structast__sip__channel__pvt_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d4/d51/structast__sip__channel__pvt.html#a47bd1bb949183a58a194970acaccffbd">ast_sip_channel_pvt::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdoc">Pointer to session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00470">res_pjsip_session.h:470</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_afb35a66aecb7cc6a143f8075c3992e0da02ccc9b52f326c27f7fd3ee072f4f6f1"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#afb35a66aecb7cc6a143f8075c3992e0da02ccc9b52f326c27f7fd3ee072f4f6f1">AST_SIP_SESSION_REFRESH_METHOD_UPDATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00488">res_pjsip.h:488</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structrefresh__data_html_a711cafaf124bf68c50f8af637b5146ff"><div class="ttname"><a href="../../d7/ded/structrefresh__data.html#a711cafaf124bf68c50f8af637b5146ff">refresh_data::method</a></div><div class="ttdeci">enum ast_sip_session_refresh_method method</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01487">pjsip/dialplan_functions.c:1487</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="group__pjsip__threading_html_gac231880459dcf8feacf1bb272b60472a"><div class="ttname"><a href="../../d7/dfa/group__pjsip__threading.html#gac231880459dcf8feacf1bb272b60472a">ast_sip_push_task_wait_serializer</a></div><div class="ttdeci">int ast_sip_push_task_wait_serializer(struct ast_taskprocessor *serializer, int(*sip_task)(void *), void *task_data)</div><div class="ttdoc">Push a task to the serializer and wait for it to complete. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d96/res__pjsip_8c_source.html#l05218">res_pjsip.c:5218</a></div></div>
<div class="ttc" id="structast__sip__session_html_ac23e23ba60f358de78a893d537c0afa4"><div class="ttname"><a href="../../d2/dec/structast__sip__session.html#ac23e23ba60f358de78a893d537c0afa4">ast_sip_session::serializer</a></div><div class="ttdeci">struct ast_taskprocessor * serializer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/res__pjsip__session_8h_source.html#l00195">res_pjsip_session.h:195</a></div></div>
<div class="ttc" id="structrefresh__data_html_a47bd1bb949183a58a194970acaccffbd"><div class="ttname"><a href="../../d7/ded/structrefresh__data.html#a47bd1bb949183a58a194970acaccffbd">refresh_data::session</a></div><div class="ttdeci">struct ast_sip_session * session</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01486">pjsip/dialplan_functions.c:1486</a></div></div>
<div class="ttc" id="pjsip_2dialplan__functions_8c_html_a2f4285145230a6b213b77432c18fc2e1"><div class="ttname"><a href="../../de/dfc/pjsip_2dialplan__functions_8c.html#a2f4285145230a6b213b77432c18fc2e1">refresh_write_cb</a></div><div class="ttdeci">static int refresh_write_cb(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01652">pjsip/dialplan_functions.c:1652</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structrefresh__data_html"><div class="ttname"><a href="../../d7/ded/structrefresh__data.html">refresh_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfc/pjsip_2dialplan__functions_8c_source.html#l01485">pjsip/dialplan_functions.c:1485</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:45:47 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
