<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: pbx_config.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b304eca70ab284d1e36606462b52a069.html">pbx</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pbx_config.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Populate and remember extensions from static config file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/callerid_8h_source.html">asterisk/callerid.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pbx_config.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d78/pbx__config_8c__incl.png" border="0" usemap="#pbx__config_8c" alt=""/></div>
<map name="pbx__config_8c" id="pbx__config_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="2423,453,2507,480"/>
<area shape="rect" id="node18" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="2461,80,2585,107"/>
<area shape="rect" id="node19" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1546,80,1657,107"/>
<area shape="rect" id="node20" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1037,155,1176,181"/>
<area shape="rect" id="node24" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="309,752,435,779"/>
<area shape="rect" id="node34" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="158,229,285,256"/>
<area shape="rect" id="node48" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="95,155,231,181"/>
<area shape="rect" id="node49" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="525,379,627,405"/>
<area shape="rect" id="node50" href="../../de/d47/callerid_8h.html" title="CallerID (and other GR30) management and generation Includes code and algorithms from the Zapata libr..." alt="" coords="1896,80,2029,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="2620,528,2775,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1801,603,1938,629"/>
<area shape="rect" id="node16" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="2410,528,2545,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="2624,603,2771,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1642,752,1785,779"/>
<area shape="rect" id="node25" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="716,453,873,480"/>
<area shape="rect" id="node30" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="2153,379,2284,405"/>
<area shape="rect" id="node33" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="2073,229,2220,256"/>
<area shape="rect" id="node40" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1633,304,1796,331"/>
<area shape="rect" id="node44" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="1831,155,1958,181"/>
<area shape="rect" id="node45" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="1242,155,1422,181"/>
<area shape="rect" id="node46" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="1625,603,1765,629"/>
<area shape="rect" id="node47" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="651,379,786,405"/>
<area shape="rect" id="node21" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="195,304,339,331"/>
<area shape="rect" id="node22" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="377,379,492,405"/>
<area shape="rect" id="node23" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1161,677,1274,704"/>
<area shape="rect" id="node27" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1807,528,1942,555"/>
<area shape="rect" id="node28" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1369,603,1519,629"/>
<area shape="rect" id="node29" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="2023,304,2182,331"/>
<area shape="rect" id="node31" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="665,229,829,256"/>
<area shape="rect" id="node32" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1482,304,1609,331"/>
<area shape="rect" id="node35" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="853,229,960,256"/>
<area shape="rect" id="node36" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1077,453,1227,480"/>
<area shape="rect" id="node37" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="985,229,1146,256"/>
<area shape="rect" id="node38" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1959,379,2129,405"/>
<area shape="rect" id="node39" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1781,229,1897,256"/>
<area shape="rect" id="node41" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1497,229,1655,256"/>
<area shape="rect" id="node42" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="363,304,488,331"/>
<area shape="rect" id="node43" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1170,229,1321,256"/>
<area shape="rect" id="node26" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="511,453,641,480"/>
</map>
</div>
</div>
<p><a href="../../dd/d9a/pbx__config_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a55bfac48d3e8cd6e4816f8b272e44dd0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a55bfac48d3e8cd6e4816f8b272e44dd0">AMI_EXTENSION_ADD</a>&#160;&#160;&#160;&quot;DialplanExtensionAdd&quot;</td></tr>
<tr class="separator:a55bfac48d3e8cd6e4816f8b272e44dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871d420b8e5ea5b60fa65157f8f3326c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a871d420b8e5ea5b60fa65157f8f3326c">AMI_EXTENSION_REMOVE</a>&#160;&#160;&#160;&quot;DialplanExtensionRemove&quot;</td></tr>
<tr class="separator:a871d420b8e5ea5b60fa65157f8f3326c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28cd0df7b3c5c030dd3c0ad12a1267e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ae28cd0df7b3c5c030dd3c0ad12a1267e">PUT_CTX_HDR</a></td></tr>
<tr class="separator:ae28cd0df7b3c5c030dd3c0ad12a1267e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08f3b0d3ed4074ddd8eb8ddcf88f28b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ad08f3b0d3ed4074ddd8eb8ddcf88f28b">append_interface</a> (char *iface, int maxlen, char *add)</td></tr>
<tr class="separator:ad08f3b0d3ed4074ddd8eb8ddcf88f28b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0813e753c67b53ef188c369766d84d74"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a0813e753c67b53ef188c369766d84d74">complete_dialplan_add_extension</a> (struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *)</td></tr>
<tr class="separator:a0813e753c67b53ef188c369766d84d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31bfc2065da6ed14289f8e2ec3b4e969"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a31bfc2065da6ed14289f8e2ec3b4e969">complete_dialplan_add_ignorepat</a> (struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *)</td></tr>
<tr class="separator:a31bfc2065da6ed14289f8e2ec3b4e969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132a75a03ace49314708e810c051cf55"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a132a75a03ace49314708e810c051cf55">complete_dialplan_add_include</a> (struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *)</td></tr>
<tr class="separator:a132a75a03ace49314708e810c051cf55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a83631a52027e1ae851eb0349082dd1"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a0a83631a52027e1ae851eb0349082dd1">complete_dialplan_remove_context</a> (struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *)</td></tr>
<tr class="separator:a0a83631a52027e1ae851eb0349082dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f01afe3a7ede66df729d467951bba6"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a01f01afe3a7ede66df729d467951bba6">complete_dialplan_remove_extension</a> (struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *)</td></tr>
<tr class="separator:a01f01afe3a7ede66df729d467951bba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d67e34cee0389f6001c664733be796"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ae7d67e34cee0389f6001c664733be796">complete_dialplan_remove_ignorepat</a> (struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *)</td></tr>
<tr class="separator:ae7d67e34cee0389f6001c664733be796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8e70395147056990aff851de16f283"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a9d8e70395147056990aff851de16f283">complete_dialplan_remove_include</a> (struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *)</td></tr>
<tr class="separator:a9d8e70395147056990aff851de16f283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1666c9eeb486a2b8475d926eddf0b7c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ae1666c9eeb486a2b8475d926eddf0b7c">handle_cli_dialplan_add_extension</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="memdesc:ae1666c9eeb486a2b8475d926eddf0b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADD EXTENSION command stuff.  <a href="#ae1666c9eeb486a2b8475d926eddf0b7c">More...</a><br /></td></tr>
<tr class="separator:ae1666c9eeb486a2b8475d926eddf0b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2785e550b1c651dcb87a4f4d4c23c0"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a0e2785e550b1c651dcb87a4f4d4c23c0">handle_cli_dialplan_add_ignorepat</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a0e2785e550b1c651dcb87a4f4d4c23c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36cd9454ed5a5342b0bfed2d40369480"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a36cd9454ed5a5342b0bfed2d40369480">handle_cli_dialplan_add_include</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a36cd9454ed5a5342b0bfed2d40369480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c2685430f267dd6610d1fa827848cb"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a19c2685430f267dd6610d1fa827848cb">handle_cli_dialplan_reload</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a19c2685430f267dd6610d1fa827848cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab17793ff0c5ad613615b4d3c5ed3d5"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a5ab17793ff0c5ad613615b4d3c5ed3d5">handle_cli_dialplan_remove_context</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a5ab17793ff0c5ad613615b4d3c5ed3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c53d064336cfa9201114eded4ab536b"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a7c53d064336cfa9201114eded4ab536b">handle_cli_dialplan_remove_extension</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a7c53d064336cfa9201114eded4ab536b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711bb65834560e8de3209ecc1c669520"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a711bb65834560e8de3209ecc1c669520">handle_cli_dialplan_remove_ignorepat</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a711bb65834560e8de3209ecc1c669520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c90bef28aacc0d9552be3b6ac28af65"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a3c90bef28aacc0d9552be3b6ac28af65">handle_cli_dialplan_remove_include</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a3c90bef28aacc0d9552be3b6ac28af65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c88cc0f438374eacdd9d1d00392dd2c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a7c88cc0f438374eacdd9d1d00392dd2c">handle_cli_dialplan_save</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="memdesc:a7c88cc0f438374eacdd9d1d00392dd2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">'save dialplan' CLI command implementation functions ...  <a href="#a7c88cc0f438374eacdd9d1d00392dd2c">More...</a><br /></td></tr>
<tr class="separator:a7c88cc0f438374eacdd9d1d00392dd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f5c70f51cd454cd6e1521ff4db0b71"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a59f5c70f51cd454cd6e1521ff4db0b71">lookup_c_ip</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a59f5c70f51cd454cd6e1521ff4db0b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">return true if 'name' is in the ignorepats for context c  <a href="#a59f5c70f51cd454cd6e1521ff4db0b71">More...</a><br /></td></tr>
<tr class="separator:a59f5c70f51cd454cd6e1521ff4db0b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd7b01012afac7881231edce7abe1eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#abd7b01012afac7881231edce7abe1eae">lookup_ci</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:abd7b01012afac7881231edce7abe1eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">return true if 'name' is included by context c  <a href="#abd7b01012afac7881231edce7abe1eae">More...</a><br /></td></tr>
<tr class="separator:abd7b01012afac7881231edce7abe1eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc30deb02f0fdbe7564dcb68412ee07"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a0bc30deb02f0fdbe7564dcb68412ee07">manager_dialplan_extension_add</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m)</td></tr>
<tr class="separator:a0bc30deb02f0fdbe7564dcb68412ee07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d372bd9db95d3c23b20512a7ce254f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#af3d372bd9db95d3c23b20512a7ce254f">manager_dialplan_extension_remove</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m)</td></tr>
<tr class="separator:af3d372bd9db95d3c23b20512a7ce254f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a47febba42ad736c85a10f00f792f0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a> (const char *s, const char *<a class="el" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, int <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:ae8a47febba42ad736c85a10f00f792f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">match the first 'len' chars of word. len==0 always succeeds  <a href="#ae8a47febba42ad736c85a10f00f792f0">More...</a><br /></td></tr>
<tr class="separator:ae8a47febba42ad736c85a10f00f792f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab852e40dd8f14855804301dc82ff08df"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ab852e40dd8f14855804301dc82ff08df">pbx_load_config</a> (const char *<a class="el" href="../../d8/d96/res__smdi_8c.html#abb961ff543844412d044d48e6163b3a8">config_file</a>)</td></tr>
<tr class="separator:ab852e40dd8f14855804301dc82ff08df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cded49ee99bdd58e2bb9f4f7ca3cb77"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a5cded49ee99bdd58e2bb9f4f7ca3cb77">pbx_load_module</a> (void)</td></tr>
<tr class="separator:a5cded49ee99bdd58e2bb9f4f7ca3cb77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107259a531ec907ee5c56fbb4448bc44"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a107259a531ec907ee5c56fbb4448bc44">pbx_load_users</a> (void)</td></tr>
<tr class="separator:a107259a531ec907ee5c56fbb4448bc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76db778b44c776c3b6719b8f19f01601"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a76db778b44c776c3b6719b8f19f01601">pbx_strsep</a> (char **destructible, const char *delim)</td></tr>
<tr class="separator:a76db778b44c776c3b6719b8f19f01601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1982509765f4870f1f63412a53ea668"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> (void)</td></tr>
<tr class="separator:ad1982509765f4870f1f63412a53ea668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77bc29b6dcf98ceb37fb182138a1ace"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a> (const char *p, int n)</td></tr>
<tr class="memdesc:aa77bc29b6dcf98ceb37fb182138a1ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">moves to the n-th word in the string, or empty string if none  <a href="#aa77bc29b6dcf98ceb37fb182138a1ace">More...</a><br /></td></tr>
<tr class="separator:aa77bc29b6dcf98ceb37fb182138a1ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c5570455969475bfb41e612c2eb37b1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a8c5570455969475bfb41e612c2eb37b1">split_ec</a> (const char *src, char **<a class="el" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>, char **const ctx, char **const cid)</td></tr>
<tr class="memdesc:a8c5570455969475bfb41e612c2eb37b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">split extension@context in two parts, return -1 on error. The return string is malloc'ed and pointed by *ext  <a href="#a8c5570455969475bfb41e612c2eb37b1">More...</a><br /></td></tr>
<tr class="separator:a8c5570455969475bfb41e612c2eb37b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;Text Extension Configuration&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7b81835c70c096f9e0e668189de837"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a2f7b81835c70c096f9e0e668189de837">autofallthrough_config</a> = 1</td></tr>
<tr class="separator:a2f7b81835c70c096f9e0e668189de837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a2a6b0ac568ababaf78190692d0b9d6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a> = 0</td></tr>
<tr class="separator:a8a2a6b0ac568ababaf78190692d0b9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a72af156eebdb47f94f66a35470ecb5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a3a72af156eebdb47f94f66a35470ecb5">cli_dialplan_save</a></td></tr>
<tr class="separator:a3a72af156eebdb47f94f66a35470ecb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1a455e6d10d06b7a729d347077c3b2"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a7d1a455e6d10d06b7a729d347077c3b2">cli_pbx_config</a> []</td></tr>
<tr class="separator:a7d1a455e6d10d06b7a729d347077c3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee8d742a1fbcff45f97842b92952610"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a> [] = &quot;extensions.conf&quot;</td></tr>
<tr class="separator:a9ee8d742a1fbcff45f97842b92952610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e23286ba72830f34d29d3b028c9624"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a23e23286ba72830f34d29d3b028c9624">extenpatternmatchnew_config</a> = 0</td></tr>
<tr class="separator:a23e23286ba72830f34d29d3b028c9624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71549c9ba7fb62eeb7c04b697e716543"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a71549c9ba7fb62eeb7c04b697e716543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef1908f65d352529fe334d22f9df25cb"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:aef1908f65d352529fe334d22f9df25cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3acbe66f257d6ec70a2c2e7bd7a1fa"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a1d3acbe66f257d6ec70a2c2e7bd7a1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13bf015e4a7d8565e759cc9a3bf8bc9b"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a> [] = &quot;pbx_config&quot;</td></tr>
<tr class="separator:a13bf015e4a7d8565e759cc9a3bf8bc9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22c70fa1f010e9d20f54e5a2ac4860d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ac22c70fa1f010e9d20f54e5a2ac4860d">reload_lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:ac22c70fa1f010e9d20f54e5a2ac4860d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad916c8366b5027888b762aae71fe0af6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#ad916c8366b5027888b762aae71fe0af6">save_dialplan_lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:ad916c8366b5027888b762aae71fe0af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf2e48579f22117914de9de6cfe9132"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#aacf2e48579f22117914de9de6cfe9132">static_config</a> = 0</td></tr>
<tr class="separator:aacf2e48579f22117914de9de6cfe9132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad7cf03f8da8d217a3f3e964eda3c263"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#aad7cf03f8da8d217a3f3e964eda3c263">userscontext</a> [<a class="el" href="../../d4/dc5/extconf_8c.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>] = &quot;default&quot;</td></tr>
<tr class="separator:aad7cf03f8da8d217a3f3e964eda3c263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa93406b234607b55f06119bfc160c8d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/pbx__config_8c.html#afa93406b234607b55f06119bfc160c8d">write_protect_config</a> = 1</td></tr>
<tr class="separator:afa93406b234607b55f06119bfc160c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Populate and remember extensions from static config file. </p>

<p class="definition">Definition in file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a55bfac48d3e8cd6e4816f8b272e44dd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55bfac48d3e8cd6e4816f8b272e44dd0">&#9670;&nbsp;</a></span>AMI_EXTENSION_ADD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMI_EXTENSION_ADD&#160;&#160;&#160;&quot;DialplanExtensionAdd&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01619">1619</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01625">unload_module()</a>.</p>

</div>
</div>
<a id="a871d420b8e5ea5b60fa65157f8f3326c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871d420b8e5ea5b60fa65157f8f3326c">&#9670;&nbsp;</a></span>AMI_EXTENSION_REMOVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMI_EXTENSION_REMOVE&#160;&#160;&#160;&quot;DialplanExtensionRemove&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01620">1620</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01625">unload_module()</a>.</p>

</div>
</div>
<a id="ae28cd0df7b3c5c030dd3c0ad12a1267e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28cd0df7b3c5c030dd3c0ad12a1267e">&#9670;&nbsp;</a></span>PUT_CTX_HDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PUT_CTX_HDR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02164">2164</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02164">2164</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

</div>
</div>
<a id="ad08f3b0d3ed4074ddd8eb8ddcf88f28b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08f3b0d3ed4074ddd8eb8ddcf88f28b">&#9670;&nbsp;</a></span>append_interface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void append_interface </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01965">1965</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01977">pbx_load_users()</a>.</p>
<div class="fragment"><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;{</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(iface);</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;   <span class="keywordflow">if</span> (strlen(add) + len &lt; maxlen - 2) {</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="keywordflow">if</span> (strlen(iface)) {</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;         iface[<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] = <span class="charliteral">&#39;&amp;&#39;</span>;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;         strcpy(iface + len + 1, add);</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;         strcpy(iface, add);</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;   }</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;}</div><div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02164">2164</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

</div>
</div>
<a id="a0813e753c67b53ef188c369766d84d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0813e753c67b53ef188c369766d84d74">&#9670;&nbsp;</a></span>complete_dialplan_add_extension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * complete_dialplan_add_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>dialplan add extension 6123,1,Dial,IAX/212.71.138.13/6123 into local </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01306">1306</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00251">partial_match()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01063">handle_cli_dialplan_add_extension()</a>.</p>
<div class="fragment"><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;{</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 4) {      <span class="comment">/* complete &#39;into&#39; word ... */</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">return</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a> == 0) ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;into&quot;</span>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 5) { <span class="comment">/* complete context */</span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="keywordtype">char</span> *res = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <span class="comment">/* try to lock contexts list ... */</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to lock contexts list\n&quot;</span>);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="comment">/* walk through all contexts */</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="keywordflow">while</span> ( !res &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)) )</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c), a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, len) &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>)</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c));</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 6) {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">return</span> a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a> == 0 ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;replace&quot;</span>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae8a47febba42ad736c85a10f00f792f0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a></div><div class="ttdeci">static int partial_match(const char *s, const char *word, int len)</div><div class="ttdoc">match the first &amp;#39;len&amp;#39; chars of word. len==0 always succeeds </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00251">pbx_config.c:251</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31bfc2065da6ed14289f8e2ec3b4e969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31bfc2065da6ed14289f8e2ec3b4e969">&#9670;&nbsp;</a></span>complete_dialplan_add_ignorepat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * complete_dialplan_add_ignorepat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">1392</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00162">ast_cli_args::line</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00212">lookup_c_ip()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00251">partial_match()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00236">skip_words()</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01338">handle_cli_dialplan_add_ignorepat()</a>.</p>
<div class="fragment"><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;{</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 4)</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keywordflow">return</span> a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a> == 0 ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;into&quot;</span>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 5) {</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <span class="keywordtype">char</span> *dupline, *ignorepat = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="comment">/* XXX skip first three words &#39;dialplan&#39; &#39;add&#39; &#39;ignorepat&#39; */</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      s = <a class="code" href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, 3);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="keywordflow">if</span> (s == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      dupline = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(s);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <span class="keywordflow">if</span> (!dupline) {</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Malloc failure\n&quot;</span>);</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      }</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      ignorepat = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;dupline, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock contexts list\n&quot;</span>);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      }</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordflow">for</span> (c = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; !ret &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c));) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;         <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c), a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>))</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;            <span class="keywordflow">continue</span>; <span class="comment">/* not mine */</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;         <span class="keywordflow">if</span> (ignorepat) <span class="comment">/* there must be one, right ? */</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            found = <a class="code" href="../../dd/d9a/pbx__config_8c.html#a59f5c70f51cd454cd6e1521ff4db0b71">lookup_c_ip</a>(c, ignorepat);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;         <span class="keywordflow">if</span> (!found &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>)</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c));</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(ignorepat);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;   }</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae8a47febba42ad736c85a10f00f792f0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a></div><div class="ttdeci">static int partial_match(const char *s, const char *word, int len)</div><div class="ttdoc">match the first &amp;#39;len&amp;#39; chars of word. len==0 always succeeds </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00251">pbx_config.c:251</a></div></div>
<div class="ttc" id="structast__cli__args_html_a2a7a1aa13a4f14075411123a4495593c"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">ast_cli_args::line</a></div><div class="ttdeci">const char * line</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00162">cli.h:162</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a59f5c70f51cd454cd6e1521ff4db0b71"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a59f5c70f51cd454cd6e1521ff4db0b71">lookup_c_ip</a></div><div class="ttdeci">static int lookup_c_ip(struct ast_context *c, const char *name)</div><div class="ttdoc">return true if &amp;#39;name&amp;#39; is in the ignorepats for context c </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00212">pbx_config.c:212</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aa77bc29b6dcf98ceb37fb182138a1ace"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a></div><div class="ttdeci">static const char * skip_words(const char *p, int n)</div><div class="ttdoc">moves to the n-th word in the string, or empty string if none </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00236">pbx_config.c:236</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a132a75a03ace49314708e810c051cf55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a132a75a03ace49314708e810c051cf55">&#9670;&nbsp;</a></span>complete_dialplan_add_include()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * complete_dialplan_add_include </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">744</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00162">ast_cli_args::line</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00188">lookup_ci()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00251">partial_match()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00236">skip_words()</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00674">handle_cli_dialplan_add_include()</a>.</p>
<div class="fragment"><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;{</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 3) {      <span class="comment">/* &#39;dialplan add include _X_&#39; (context) ... */</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock context list\n&quot;</span>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keywordflow">for</span> (c = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; !ret &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)); )</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c), a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>) &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c));</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 4) { <span class="comment">/* dialplan add include CTX _X_ */</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="comment">/* always complete  as &#39;into&#39; */</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">return</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a> == 0) ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;into&quot;</span>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 5) { <span class="comment">/* &#39;dialplan add include CTX into _X_&#39; (dst context) */</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, *dupline, *into;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <a class="code" href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, 3); <span class="comment">/* should not fail */</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      context = dupline = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(s);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">if</span> (!dupline) {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Out of free memory\n&quot;</span>);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;dupline, <span class="stringliteral">&quot; &quot;</span>); <span class="comment">/* skip context */</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      into = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;dupline, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="comment">/* error if missing context or fifth word is not &#39;into&#39; */</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">if</span> (!strlen(context) || strcmp(into, <span class="stringliteral">&quot;into&quot;</span>)) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;bad context %s or missing into %s\n&quot;</span>,</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            context, into);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;         <span class="keywordflow">goto</span> error3;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock context list\n&quot;</span>);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;         <span class="keywordflow">goto</span> error3;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordflow">for</span> (c = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; !ret &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)); ) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;         <span class="keywordflow">if</span> (!strcmp(context, <a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c)))</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="keywordflow">continue</span>; <span class="comment">/* skip ourselves */</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c), a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>) &amp;&amp;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;               !<a class="code" href="../../dd/d9a/pbx__config_8c.html#abd7b01012afac7881231edce7abe1eae">lookup_ci</a>(c, context) <span class="comment">/* not included yet */</span> &amp;&amp;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;               ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c));</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;         }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   error3:</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(context);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae8a47febba42ad736c85a10f00f792f0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a></div><div class="ttdeci">static int partial_match(const char *s, const char *word, int len)</div><div class="ttdoc">match the first &amp;#39;len&amp;#39; chars of word. len==0 always succeeds </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00251">pbx_config.c:251</a></div></div>
<div class="ttc" id="structast__cli__args_html_a2a7a1aa13a4f14075411123a4495593c"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">ast_cli_args::line</a></div><div class="ttdeci">const char * line</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00162">cli.h:162</a></div></div>
<div class="ttc" id="pbx__config_8c_html_abd7b01012afac7881231edce7abe1eae"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#abd7b01012afac7881231edce7abe1eae">lookup_ci</a></div><div class="ttdeci">static int lookup_ci(struct ast_context *c, const char *name)</div><div class="ttdoc">return true if &amp;#39;name&amp;#39; is included by context c </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00188">pbx_config.c:188</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aa77bc29b6dcf98ceb37fb182138a1ace"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a></div><div class="ttdeci">static const char * skip_words(const char *p, int n)</div><div class="ttdoc">moves to the n-th word in the string, or empty string if none </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00236">pbx_config.c:236</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a83631a52027e1ae851eb0349082dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a83631a52027e1ae851eb0349082dd1">&#9670;&nbsp;</a></span>complete_dialplan_remove_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * complete_dialplan_remove_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01277">1277</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00251">partial_match()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00132">handle_cli_dialplan_remove_context()</a>.</p>
<div class="fragment"><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;{</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   <span class="keywordtype">char</span> *res = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> != 3) {</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;   }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <span class="comment">/* try to lock contexts list ... */</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to lock contexts list\n&quot;</span>);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;   }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;   <span class="comment">/* walk through all contexts */</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <span class="keywordflow">while</span> ( !res &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)) ) {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c), a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, len) &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>) {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;         res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c));</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      }</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;   }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae8a47febba42ad736c85a10f00f792f0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a></div><div class="ttdeci">static int partial_match(const char *s, const char *word, int len)</div><div class="ttdoc">match the first &amp;#39;len&amp;#39; chars of word. len==0 always succeeds </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00251">pbx_config.c:251</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a01f01afe3a7ede66df729d467951bba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f01afe3a7ede66df729d467951bba6">&#9670;&nbsp;</a></span>complete_dialplan_remove_extension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * complete_dialplan_remove_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">550</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00269">ast_asprintf</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08591">ast_get_extension_cidmatch()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08586">ast_get_extension_matchcid()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08548">ast_get_extension_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08558">ast_get_extension_priority()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00427">ast_walk_context_extensions()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04063">ast_walk_extension_priorities()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00162">ast_cli_args::line</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00251">partial_match()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">priority</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00236">skip_words()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00259">split_ec()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00415">handle_cli_dialplan_remove_extension()</a>.</p>
<div class="fragment"><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;{</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 3) { <span class="comment">/* &#39;dialplan remove extension _X_&#39; (exten@context ... */</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *cid = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordtype">int</span> le = 0; <span class="comment">/* length of extension */</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordtype">int</span> lc = 0; <span class="comment">/* length of context */</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordtype">int</span> lcid = 0; <span class="comment">/* length of cid */</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      lc = <a class="code" href="../../dd/d9a/pbx__config_8c.html#a8c5570455969475bfb41e612c2eb37b1">split_ec</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, &amp;exten, &amp;context, &amp;cid);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <span class="keywordflow">if</span> (lc)  { <span class="comment">/* error */</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      le = strlen(exten);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      lc = strlen(context);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      lcid = cid ? strlen(cid) : -1;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock context list\n&quot;</span>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;         <span class="keywordflow">goto</span> error2;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="comment">/* find our context ... */</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keywordflow">while</span> ( (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)) ) { <span class="comment">/* match our context if any */</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *e = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;         <span class="comment">/* XXX locking ? */</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c), context, lc))</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">continue</span>;   <span class="comment">/* context not matched */</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;         <span class="keywordflow">while</span> ( (e = <a class="code" href="../../db/de0/pbx_8h.html#abb024cdd19b5c3bab7734c9708f121b8">ast_walk_context_extensions</a>(c, e)) ) { <span class="comment">/* try to complete extensions ... */</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> ( !strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;/&#39;</span>) ||</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                  (!strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;@&#39;</span>) &amp;&amp; <a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#aee004b6fcfccea3fa6acf9b7264f42c9">ast_get_extension_cidmatch</a>(e), cid, lcid)) ||</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                  (strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;@&#39;</span>) &amp;&amp; !strcmp(<a class="code" href="../../db/de0/pbx_8h.html#aee004b6fcfccea3fa6acf9b7264f42c9">ast_get_extension_cidmatch</a>(e), cid))) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;               <span class="keywordflow">if</span> ( ((strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;/&#39;</span>) || strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;@&#39;</span>)) &amp;&amp; !strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(e), exten)) ||</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                   (!strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;/&#39;</span>) &amp;&amp; !strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;@&#39;</span>) &amp;&amp; <a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(e), exten, le))) { <span class="comment">/* n-th match */</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                  <span class="keywordflow">if</span> (++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                     <span class="comment">/* If there is an extension then return exten@context. */</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                     <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a26c679c70c1a8dd0968579be0c1755ab">ast_get_extension_matchcid</a>(e) &amp;&amp; (!strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;@&#39;</span>) || strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(&amp;ret, <span class="stringliteral">&quot;%s/%s@%s&quot;</span>, <a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(e), <a class="code" href="../../db/de0/pbx_8h.html#aee004b6fcfccea3fa6acf9b7264f42c9">ast_get_extension_cidmatch</a>(e), <a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c)) &lt; 0) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                           ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                        }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a26c679c70c1a8dd0968579be0c1755ab">ast_get_extension_matchcid</a>(e) &amp;&amp; !strchr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a>(&amp;ret, <span class="stringliteral">&quot;%s@%s&quot;</span>, <a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(e), <a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c)) &lt; 0) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                           ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                        }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                     }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                  }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;               }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;         }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;         <span class="keywordflow">if</span> (e)   <span class="comment">/* got a match */</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   error2:</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(exten);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 4) { <span class="comment">/* &#39;dialplan remove extension EXT _X_&#39; (priority) */</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordtype">char</span> *exten = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, *cid, *p;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordtype">int</span> le, lc, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <a class="code" href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, 3); <span class="comment">/* skip &#39;dialplan&#39; &#39;remove&#39; &#39;extension&#39; */</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordtype">int</span> i = <a class="code" href="../../dd/d9a/pbx__config_8c.html#a8c5570455969475bfb41e612c2eb37b1">split_ec</a>(s, &amp;exten, &amp;context, &amp;cid); <span class="comment">/* parse ext@context */</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">if</span> (i)   <span class="comment">/* error */</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;         <span class="keywordflow">goto</span> error3;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keywordflow">if</span> ( (p = strchr(exten, <span class="charliteral">&#39; &#39;</span>)) ) <span class="comment">/* remove space after extension */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;         *p = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">if</span> ( (p = strchr(context, <span class="charliteral">&#39; &#39;</span>)) ) <span class="comment">/* remove space after context */</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;         *p = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      le = strlen(exten);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      lc = strlen(context);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      len = strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="keywordflow">if</span> (le == 0 || lc == 0)</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;         <span class="keywordflow">goto</span> error3;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock context list\n&quot;</span>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;         <span class="keywordflow">goto</span> error3;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="comment">/* walk contexts */</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      c = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordflow">while</span> ( (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)) ) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;         <span class="comment">/* XXX locking on c ? */</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *e;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;         <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c), context) != 0)</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;         <span class="comment">/* got it, we must match here */</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;         e = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;         <span class="keywordflow">while</span> ( (e = <a class="code" href="../../db/de0/pbx_8h.html#abb024cdd19b5c3bab7734c9708f121b8">ast_walk_context_extensions</a>(c, e)) ) {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordtype">char</span> buffer[10];</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="keywordflow">if</span> (cid &amp;&amp; strcmp(<a class="code" href="../../db/de0/pbx_8h.html#aee004b6fcfccea3fa6acf9b7264f42c9">ast_get_extension_cidmatch</a>(e), cid) != 0) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(e), exten) != 0)</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="comment">/* XXX lock e ? */</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            priority = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">while</span> ( !ret &amp;&amp; (priority = <a class="code" href="../../db/de0/pbx_8h.html#a84c0f2d77948217566a9fd4775879f84">ast_walk_extension_priorities</a>(e, priority)) ) {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;               snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../db/de0/pbx_8h.html#a1662981db35d4125afaf6de98b2ba52f">ast_get_extension_priority</a>(priority));</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;               <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(buffer, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, len) &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>) <span class="comment">/* n-th match */</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                  ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(buffer);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;         }</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   error3:</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(exten);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="pbx_8h_html_a1662981db35d4125afaf6de98b2ba52f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a1662981db35d4125afaf6de98b2ba52f">ast_get_extension_priority</a></div><div class="ttdeci">int ast_get_extension_priority(struct ast_exten *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08558">pbx.c:8558</a></div></div>
<div class="ttc" id="structast__exten_html"><div class="ttname"><a href="../../d7/d00/structast__exten.html">ast_exten</a></div><div class="ttdoc">ast_exten: An extension The dialplan is saved as a linked list with each context having it&amp;#39;s own link...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00237">pbx.c:237</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae8a47febba42ad736c85a10f00f792f0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a></div><div class="ttdeci">static int partial_match(const char *s, const char *word, int len)</div><div class="ttdoc">match the first &amp;#39;len&amp;#39; chars of word. len==0 always succeeds </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00251">pbx_config.c:251</a></div></div>
<div class="ttc" id="structast__cli__args_html_a2a7a1aa13a4f14075411123a4495593c"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">ast_cli_args::line</a></div><div class="ttdeci">const char * line</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00162">cli.h:162</a></div></div>
<div class="ttc" id="astmm_8h_html_ada667b6f84a08e6848cb37c5ffb94a5f"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ada667b6f84a08e6848cb37c5ffb94a5f">ast_asprintf</a></div><div class="ttdeci">#define ast_asprintf(ret, fmt,...)</div><div class="ttdoc">A wrapper for asprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00269">astmm.h:269</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="pbx_8h_html_aee004b6fcfccea3fa6acf9b7264f42c9"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aee004b6fcfccea3fa6acf9b7264f42c9">ast_get_extension_cidmatch</a></div><div class="ttdeci">const char * ast_get_extension_cidmatch(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08591">pbx.c:8591</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a8c5570455969475bfb41e612c2eb37b1"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a8c5570455969475bfb41e612c2eb37b1">split_ec</a></div><div class="ttdeci">static int split_ec(const char *src, char **ext, char **const ctx, char **const cid)</div><div class="ttdoc">split extension@context in two parts, return -1 on error. The return string is malloc&amp;#39;ed and pointed ...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00259">pbx_config.c:259</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="pbx_8h_html_a6fb940c1fd9c74b9d573e0a91bb23697"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a></div><div class="ttdeci">const char * ast_get_extension_name(struct ast_exten *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08548">pbx.c:8548</a></div></div>
<div class="ttc" id="pbx_8h_html_abb024cdd19b5c3bab7734c9708f121b8"><div class="ttname"><a href="../../db/de0/pbx_8h.html#abb024cdd19b5c3bab7734c9708f121b8">ast_walk_context_extensions</a></div><div class="ttdeci">struct ast_exten * ast_walk_context_extensions(struct ast_context *con, struct ast_exten *priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00427">ael_main.c:427</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="pbx_8h_html_a84c0f2d77948217566a9fd4775879f84"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a84c0f2d77948217566a9fd4775879f84">ast_walk_extension_priorities</a></div><div class="ttdeci">struct ast_exten * ast_walk_extension_priorities(struct ast_exten *exten, struct ast_exten *priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04063">extconf.c:4063</a></div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aa77bc29b6dcf98ceb37fb182138a1ace"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a></div><div class="ttdeci">static const char * skip_words(const char *p, int n)</div><div class="ttdoc">moves to the n-th word in the string, or empty string if none </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00236">pbx_config.c:236</a></div></div>
<div class="ttc" id="pbx_8h_html_a26c679c70c1a8dd0968579be0c1755ab"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a26c679c70c1a8dd0968579be0c1755ab">ast_get_extension_matchcid</a></div><div class="ttdeci">int ast_get_extension_matchcid(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08586">pbx.c:8586</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7d67e34cee0389f6001c664733be796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d67e34cee0389f6001c664733be796">&#9670;&nbsp;</a></span>complete_dialplan_remove_ignorepat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * complete_dialplan_remove_ignorepat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">1488</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08740">ast_context_ignorepats_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08745">ast_context_ignorepats_get()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">ast_get_ignorepat_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08525">ast_rdlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00162">ast_cli_args::line</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00212">lookup_c_ip()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00251">partial_match()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01439">handle_cli_dialplan_remove_ignorepat()</a>.</p>
<div class="fragment"><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;{</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 3) {</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>);</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to lock contexts list\n&quot;</span>);</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      }</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="keywordflow">for</span> (c = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; !ret &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c));) {</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;         <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a>(c)) <span class="comment">/* error, skip it */</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;         <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/de0/pbx_8h.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a>(c); idx++) {</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *ip = <a class="code" href="../../db/de0/pbx_8h.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a>(c, idx);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a>(ip), a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, len) &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>) {</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;               <span class="comment">/* n-th match */</span></div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;               <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *cw = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;               <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;               <span class="keywordflow">while</span> ( (cw = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(cw)) &amp;&amp; cw != c &amp;&amp; !found) {</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                  <span class="comment">/* XXX do i stop on c, or skip it ? */</span></div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                  found = <a class="code" href="../../dd/d9a/pbx__config_8c.html#a59f5c70f51cd454cd6e1521ff4db0b71">lookup_c_ip</a>(cw, <a class="code" href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a>(ip));</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;               }</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;               <span class="keywordflow">if</span> (!found)</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                  ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a>(ip));</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;         }</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(c);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      }</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 4) {</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;       <span class="keywordflow">return</span> a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a> == 0 ? <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;from&quot;</span>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 5) { <span class="comment">/* XXX check this */</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordtype">char</span> *dupline, *duplinet, *ignorepat;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <span class="keywordtype">int</span> len = strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>);</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      dupline = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>);</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">if</span> (!dupline) {</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Out of free memory\n&quot;</span>);</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      }</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      duplinet = dupline;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;duplinet, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;duplinet, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      ignorepat = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;duplinet, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="keywordflow">if</span> (!ignorepat) {</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(dupline);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      }</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to lock contexts list\n&quot;</span>);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(dupline);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      }</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">for</span> (c = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; !ret &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)); ) {</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a>(c)) {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="comment">/* fail, skip it */</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;         }</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c), a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)) {</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(c);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;         }</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#a59f5c70f51cd454cd6e1521ff4db0b71">lookup_c_ip</a>(c, ignorepat) &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>)</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c));</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(c);</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      }</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(dupline);</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae8a47febba42ad736c85a10f00f792f0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a></div><div class="ttdeci">static int partial_match(const char *s, const char *word, int len)</div><div class="ttdoc">match the first &amp;#39;len&amp;#39; chars of word. len==0 always succeeds </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00251">pbx_config.c:251</a></div></div>
<div class="ttc" id="structast__cli__args_html_a2a7a1aa13a4f14075411123a4495593c"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">ast_cli_args::line</a></div><div class="ttdeci">const char * line</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00162">cli.h:162</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="pbx_8h_html_ad40e50eea098e5c16ef7dd3ffbff1bba"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a></div><div class="ttdeci">const char * ast_get_ignorepat_name(const struct ast_ignorepat *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">pbx_ignorepat.c:42</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a59f5c70f51cd454cd6e1521ff4db0b71"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a59f5c70f51cd454cd6e1521ff4db0b71">lookup_c_ip</a></div><div class="ttdeci">static int lookup_c_ip(struct ast_context *c, const char *name)</div><div class="ttdoc">return true if &amp;#39;name&amp;#39; is in the ignorepats for context c </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00212">pbx_config.c:212</a></div></div>
<div class="ttc" id="structast__ignorepat_html"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a></div><div class="ttdoc">ast_ignorepat: Ignore patterns in dial plan </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00037">pbx_ignorepat.c:37</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="pbx_8h_html_aa780584a8327cbe41d566b91e119eb97"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a></div><div class="ttdeci">int ast_context_ignorepats_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08740">pbx.c:8740</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
<div class="ttc" id="pbx_8h_html_af1a624244a07626a8f70843005206c95"><div class="ttname"><a href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a></div><div class="ttdeci">int ast_rdlock_context(struct ast_context *con)</div><div class="ttdoc">Read locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08525">pbx.c:8525</a></div></div>
<div class="ttc" id="pbx_8h_html_a6fee17b9633bb84f0fce209d5d42fb0a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a></div><div class="ttdeci">const struct ast_ignorepat * ast_context_ignorepats_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08745">pbx.c:8745</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d8e70395147056990aff851de16f283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d8e70395147056990aff851de16f283">&#9670;&nbsp;</a></span>complete_dialplan_remove_include()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * complete_dialplan_remove_include </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">289</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">ast_context_includes_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08702">ast_context_includes_get()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00050">ast_get_include_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08525">ast_rdlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00162">ast_cli_args::line</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00188">lookup_ci()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00251">partial_match()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00236">skip_words()</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00160">handle_cli_dialplan_remove_include()</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordtype">char</span> *res = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>); <span class="comment">/* how many bytes to match */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 3) {      <span class="comment">/* &quot;dialplan remove include _X_&quot; */</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a>()) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock context list\n&quot;</span>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="comment">/* walk contexts and their includes, return the n-th match */</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">while</span> (!res &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c))) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;         <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a>(c)) <span class="comment">/* error ? skip this one */</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;         <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/de0/pbx_8h.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a>(c); idx++) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d5/db2/structast__include.html">ast_include</a> *i = <a class="code" href="../../db/de0/pbx_8h.html#afb93dec0c216cb07939fd15949baff2f">ast_context_includes_get</a>(c, idx);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *i_name = <a class="code" href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a>(i);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *nc = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordtype">int</span> already_served = 0;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(i_name, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, len))</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;               <span class="keywordflow">continue</span>;   <span class="comment">/* not matched */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="comment">/* check if this include is already served or not */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="comment">/* go through all contexts again till we reach actual</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">             * context or already_served = 1</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">while</span> ( (nc = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(nc)) &amp;&amp; nc != c &amp;&amp; !already_served)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;               already_served = <a class="code" href="../../dd/d9a/pbx__config_8c.html#abd7b01012afac7881231edce7abe1eae">lookup_ci</a>(nc, i_name);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">if</span> (!already_served &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;               res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(i_name);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(c);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 4) { <span class="comment">/* &quot;dialplan remove include CTX _X_&quot; */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">       * complete as &#39;from&#39;, but only if previous context is really</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">       * included somewhere</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, *dupline;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <a class="code" href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, 3); <span class="comment">/* skip &#39;dialplan&#39; &#39;remove&#39; &#39;include&#39; */</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a> &gt; 0)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      context = dupline = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(s);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">if</span> (!dupline) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Out of free memory\n&quot;</span>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;dupline, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock contexts list\n&quot;</span>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(context);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="comment">/* go through all contexts and check if is included ... */</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">while</span> (!res &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)))</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#abd7b01012afac7881231edce7abe1eae">lookup_ci</a>(c, context)) <span class="comment">/* context is really included, complete &quot;from&quot; command */</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;from&quot;</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordflow">if</span> (!res)</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s not included anywhere\n&quot;</span>, context);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(context);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> == 5) { <span class="comment">/* &quot;dialplan remove include CTX from _X_&quot; */</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">       * Context from which we removing include ...</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, *dupline, *from;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <a class="code" href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">line</a>, 3); <span class="comment">/* skip &#39;dialplan&#39; &#39;remove&#39; &#39;include&#39; */</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      context = dupline = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(s);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">if</span> (!dupline) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Out of free memory\n&quot;</span>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;dupline, <span class="stringliteral">&quot; &quot;</span>); <span class="comment">/* skip context */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="comment">/* fourth word must be &#39;from&#39; */</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      from = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;dupline, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">if</span> (!from || strcmp(from, <span class="stringliteral">&quot;from&quot;</span>)) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(context);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to lock context list\n&quot;</span>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(context);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="comment">/* walk through all contexts ... */</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      c = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">while</span> ( !res &amp;&amp; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c))) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> *c_name = <a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a>(c_name, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, len)) <span class="comment">/* not a good target */</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;         <span class="comment">/* walk through all includes and check if it is our context */</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#abd7b01012afac7881231edce7abe1eae">lookup_ci</a>(c, context) &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            res = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(c_name);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(context);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="ttc" id="structast__include_html"><div class="ttname"><a href="../../d5/db2/structast__include.html">ast_include</a></div><div class="ttdoc">ast_include: include= support in extensions.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00037">pbx_include.c:37</a></div></div>
<div class="ttc" id="pbx_8h_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="pbx_8h_html_a18c87dac5f7f4368c11b67d8026adc22"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a></div><div class="ttdeci">int ast_wrlock_contexts(void)</div><div class="ttdoc">Write locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08502">pbx.c:8502</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae8a47febba42ad736c85a10f00f792f0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae8a47febba42ad736c85a10f00f792f0">partial_match</a></div><div class="ttdeci">static int partial_match(const char *s, const char *word, int len)</div><div class="ttdoc">match the first &amp;#39;len&amp;#39; chars of word. len==0 always succeeds </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00251">pbx_config.c:251</a></div></div>
<div class="ttc" id="structast__cli__args_html_a2a7a1aa13a4f14075411123a4495593c"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a2a7a1aa13a4f14075411123a4495593c">ast_cli_args::line</a></div><div class="ttdeci">const char * line</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00162">cli.h:162</a></div></div>
<div class="ttc" id="pbx__config_8c_html_abd7b01012afac7881231edce7abe1eae"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#abd7b01012afac7881231edce7abe1eae">lookup_ci</a></div><div class="ttdeci">static int lookup_ci(struct ast_context *c, const char *name)</div><div class="ttdoc">return true if &amp;#39;name&amp;#39; is included by context c </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00188">pbx_config.c:188</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="pbx_8h_html_aec2e421fa0b10e14812d52c30ec7e744"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a></div><div class="ttdeci">int ast_context_includes_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08697">pbx.c:8697</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="pbx_8h_html_a1cf62f8cc1e47da88dae67f4ee623684"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a></div><div class="ttdeci">const char * ast_get_include_name(const struct ast_include *include)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00050">pbx_include.c:50</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aa77bc29b6dcf98ceb37fb182138a1ace"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aa77bc29b6dcf98ceb37fb182138a1ace">skip_words</a></div><div class="ttdeci">static const char * skip_words(const char *p, int n)</div><div class="ttdoc">moves to the n-th word in the string, or empty string if none </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00236">pbx_config.c:236</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
<div class="ttc" id="pbx_8h_html_afb93dec0c216cb07939fd15949baff2f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#afb93dec0c216cb07939fd15949baff2f">ast_context_includes_get</a></div><div class="ttdeci">const struct ast_include * ast_context_includes_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08702">pbx.c:8702</a></div></div>
<div class="ttc" id="pbx_8h_html_af1a624244a07626a8f70843005206c95"><div class="ttname"><a href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a></div><div class="ttdeci">int ast_rdlock_context(struct ast_context *con)</div><div class="ttdoc">Read locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08525">pbx.c:8525</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1666c9eeb486a2b8475d926eddf0b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1666c9eeb486a2b8475d926eddf0b7c">&#9670;&nbsp;</a></span>handle_cli_dialplan_add_extension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_add_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ADD EXTENSION command stuff. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01063">1063</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06970">ast_add_extension()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04174">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01306">complete_dialplan_add_extension()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;{</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   <span class="keywordtype">char</span> *whole_exten;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, *prior;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   <span class="keywordtype">int</span> iprior = -2;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <span class="keywordtype">char</span> *cidmatch, *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, *<a class="code" href="../../da/d37/structapp__data.html">app_data</a>;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;   <span class="keywordtype">char</span> *start, *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *into_context;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan add extension&quot;</span>;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan add extension &lt;exten&gt;,&lt;priority&gt;,&lt;app&gt; into &lt;context&gt; [replace]\n&quot;</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;         <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;         <span class="stringliteral">&quot;       app can be either:\n&quot;</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;         <span class="stringliteral">&quot;         app-name\n&quot;</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;         <span class="stringliteral">&quot;         app-name(app-data)\n&quot;</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;         <span class="stringliteral">&quot;         app-name,&lt;app-data&gt;\n&quot;</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;         <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;         <span class="stringliteral">&quot;       This command will add the new extension into &lt;context&gt;.  If\n&quot;</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;         <span class="stringliteral">&quot;       an extension with the same priority already exists and the\n&quot;</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;         <span class="stringliteral">&quot;       &#39;replace&#39; option is given we will replace the extension.\n&quot;</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;         <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;         <span class="stringliteral">&quot;Example: dialplan add extension 6123,1,Dial,IAX/216.207.245.56/6123 into local\n&quot;</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;         <span class="stringliteral">&quot;         Now, you can dial 6123 and talk to Markster :)\n&quot;</span>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/pbx__config_8c.html#a0813e753c67b53ef188c369766d84d74">complete_dialplan_add_extension</a>(a);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <span class="comment">/* check for arguments at first */</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 6 &amp;&amp; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 7)</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;   <span class="keywordflow">if</span> (strcmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], <span class="stringliteral">&quot;into&quot;</span>))</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 7)</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">if</span> (strcmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[6], <span class="stringliteral">&quot;replace&quot;</span>))</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   whole_exten = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   exten = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;whole_exten,<span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <span class="keywordflow">if</span> (strchr(exten, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      cidmatch = <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;cidmatch,<span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      cidmatch = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   prior = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;whole_exten,<span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;   <span class="keywordflow">if</span> (prior) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <span class="keywordflow">if</span> (!strcmp(prior, <span class="stringliteral">&quot;hint&quot;</span>)) {</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;         iprior = <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;         <span class="keywordflow">if</span> (sscanf(prior, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;iprior) != 1) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;&#39;%s&#39; is not a valid priority\n&quot;</span>, prior);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            prior = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;         }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      }</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   app = whole_exten;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;   <span class="keywordflow">if</span> (app) {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">if</span> ((start = strchr(app, <span class="charliteral">&#39;(&#39;</span>)) &amp;&amp; (end = strrchr(app, <span class="charliteral">&#39;)&#39;</span>))) {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;         *start = *end = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;         app_data = start + 1;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;         app_data = strchr(app, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;         <span class="keywordflow">if</span> (app_data) {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            *app_data++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;         }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      app_data = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;   }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   <span class="keywordflow">if</span> (!exten || !prior || !app) {</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   <span class="keywordflow">if</span> (!app_data) {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      app_data = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;   into_context = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5];</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a>(into_context)) {</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Context &#39;%s&#39; did not exist prior to add extension - the context will be created.\n&quot;</span>, into_context);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;   }</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, into_context, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to add &#39;%s,%s,%s(%s)&#39; extension into &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;         exten, prior, app, app_data, into_context);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a>(into_context, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 7 ? 1 : 0, exten, iprior, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cidmatch, app,</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(app_data), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>) {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="keywordflow">case</span> ENOMEM:</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Out of free memory\n&quot;</span>);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">case</span> EBUSY:</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to lock context(s) list, please try again later\n&quot;</span>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="keywordflow">case</span> ENOENT:</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;No existence of &#39;%s&#39; context\n&quot;</span>, into_context);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <span class="keywordflow">case</span> EEXIST:</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Extension %s@%s with priority %s already exists\n&quot;</span>,</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            exten, into_context, prior);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to add &#39;%s,%s,%s(%s)&#39; extension into &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;               exten, prior, app, app_data, into_context);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      }</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;   }</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 7) {</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Extension %s@%s (%s) replace by &#39;%s,%s,%s(%s)&#39;\n&quot;</span>,</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;         exten, into_context, prior, exten, prior, app, app_data);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Extension &#39;%s,%s,%s(%s)&#39; added into &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;         exten, prior, app, app_data, into_context);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a0813e753c67b53ef188c369766d84d74"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a0813e753c67b53ef188c369766d84d74">complete_dialplan_add_extension</a></div><div class="ttdeci">static char * complete_dialplan_add_extension(struct ast_cli_args *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01306">pbx_config.c:1306</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="pbx_8h_html_a2e3c5fe3db1ee8cd78f2bf58c9416aa4"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a></div><div class="ttdeci">struct ast_context * ast_context_find(const char *name)</div><div class="ttdoc">Find a context. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04174">extconf.c:4174</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structapp__data_html"><div class="ttname"><a href="../../da/d37/structapp__data.html">app_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d77/test__res__stasis_8c_source.html#l00062">test_res_stasis.c:62</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="pbx_8h_html_a07176e8d314eb68b3b50279fafa11390"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a></div><div class="ttdeci">int ast_add_extension(const char *context, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar)</div><div class="ttdoc">Add and extension to an extension context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06970">pbx.c:6970</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e2785e550b1c651dcb87a4f4d4c23c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2785e550b1c651dcb87a4f4d4c23c0">&#9670;&nbsp;</a></span>handle_cli_dialplan_add_ignorepat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_add_ignorepat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>IGNOREPAT CLI stuff </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01338">1338</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06877">ast_context_add_ignorepat()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">complete_dialplan_add_ignorepat()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;{</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan add ignorepat&quot;</span>;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan add ignorepat &lt;pattern&gt; into &lt;context&gt;\n&quot;</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;         <span class="stringliteral">&quot;       This command adds a new ignore pattern into context &lt;context&gt;\n&quot;</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;         <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;         <span class="stringliteral">&quot;Example: dialplan add ignorepat _3XX into local\n&quot;</span>;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/pbx__config_8c.html#a31bfc2065da6ed14289f8e2ec3b4e969">complete_dialplan_add_ignorepat</a>(a);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;   }</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 6)</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;   <span class="keywordflow">if</span> (strcmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], <span class="stringliteral">&quot;into&quot;</span>))</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a24d57cdfe3409c388e4b81b67ecdee70">ast_context_add_ignorepat</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>) {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="keywordflow">case</span> ENOMEM:</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Out of free memory\n&quot;</span>);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="keywordflow">case</span> ENOENT:</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;There is no existence of &#39;%s&#39; context\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">case</span> EEXIST:</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Ignore pattern &#39;%s&#39; already included in &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <span class="keywordflow">case</span> EBUSY:</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to lock context(s) list, please, try again later\n&quot;</span>);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to add ingore pattern &#39;%s&#39; into &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      }</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;   }</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Ignore pattern &#39;%s&#39; added into &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;}</div><div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="pbx_8h_html_a24d57cdfe3409c388e4b81b67ecdee70"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a24d57cdfe3409c388e4b81b67ecdee70">ast_context_add_ignorepat</a></div><div class="ttdeci">int ast_context_add_ignorepat(const char *context, const char *ignorepat, const char *registrar)</div><div class="ttdoc">Add an ignorepat. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06877">pbx.c:6877</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a31bfc2065da6ed14289f8e2ec3b4e969"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a31bfc2065da6ed14289f8e2ec3b4e969">complete_dialplan_add_ignorepat</a></div><div class="ttdeci">static char * complete_dialplan_add_ignorepat(struct ast_cli_args *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01392">pbx_config.c:1392</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a36cd9454ed5a5342b0bfed2d40369480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36cd9454ed5a5342b0bfed2d40369480">&#9670;&nbsp;</a></span>handle_cli_dialplan_add_include()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_add_include </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Include context ... </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00674">674</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06706">ast_context_add_include()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04174">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">complete_dialplan_add_include()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *into_context;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan add include&quot;</span>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan add include &lt;context&gt; into &lt;context&gt;\n&quot;</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         <span class="stringliteral">&quot;       Include a context in another context.\n&quot;</span>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/pbx__config_8c.html#a132a75a03ace49314708e810c051cf55">complete_dialplan_add_include</a>(a);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 6) <span class="comment">/* dialplan add include CTX in CTX */</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <span class="comment">/* fifth arg must be &#39;into&#39; ... */</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <span class="keywordflow">if</span> (strcmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], <span class="stringliteral">&quot;into&quot;</span>))</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   into_context = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5];</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a>(into_context)) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Context &#39;%s&#39; did not exist prior to add include - the context will be created.\n&quot;</span>, into_context);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, into_context, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;ast_context_find_or_create() failed\n&quot;</span>);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to include &#39;%s&#39; in &#39;%s&#39; context\n&quot;</span>,a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a3903111827b675ec313e56a28ac80cf9">ast_context_add_include</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="keywordflow">case</span> ENOMEM:</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Out of memory for context addition\n&quot;</span>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">case</span> EBUSY:</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to lock context(s) list, please try again later\n&quot;</span>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="keywordflow">case</span> EEXIST:</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Context &#39;%s&#39; already included in &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">case</span> ENOENT:</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="keywordflow">case</span> EINVAL:</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;There is no existence of context &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> == ENOENT ? a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5] : a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to include &#39;%s&#39; in &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   <span class="comment">/* show some info ... */</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Context &#39;%s&#39; included in &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div><div class="ttc" id="pbx__config_8c_html_a132a75a03ace49314708e810c051cf55"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a132a75a03ace49314708e810c051cf55">complete_dialplan_add_include</a></div><div class="ttdeci">static char * complete_dialplan_add_include(struct ast_cli_args *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00744">pbx_config.c:744</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="pbx_8h_html_a3903111827b675ec313e56a28ac80cf9"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a3903111827b675ec313e56a28ac80cf9">ast_context_add_include</a></div><div class="ttdeci">int ast_context_add_include(const char *context, const char *include, const char *registrar)</div><div class="ttdoc">Add a context include. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06706">pbx.c:6706</a></div></div>
<div class="ttc" id="pbx_8h_html_a2e3c5fe3db1ee8cd78f2bf58c9416aa4"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a></div><div class="ttdeci">struct ast_context * ast_context_find(const char *name)</div><div class="ttdoc">Find a context. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04174">extconf.c:4174</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19c2685430f267dd6610d1fa827848cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c2685430f267dd6610d1fa827848cb">&#9670;&nbsp;</a></span>handle_cli_dialplan_reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_reload </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01576">1576</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00103">clearglobalvars_config</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01191">pbx_builtin_clear_globals()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;{</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan reload&quot;</span>;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan reload\n&quot;</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;         <span class="stringliteral">&quot;       Reload extensions.conf without reloading any other\n&quot;</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;         <span class="stringliteral">&quot;       modules.  This command does not delete global variables\n&quot;</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;         <span class="stringliteral">&quot;       unless clearglobalvars is set to yes in extensions.conf\n&quot;</span>;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   }</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 2)</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a>)</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a92a606276589c513842f0cd7e455126b">pbx_builtin_clear_globals</a>();</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   <a class="code" href="../../dd/d9a/pbx__config_8c.html#a5cded49ee99bdd58e2bb9f4f7ca3cb77">pbx_load_module</a>();</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Dialplan reloaded.\n&quot;</span>);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div><div class="ttc" id="pbx__config_8c_html_a8a2a6b0ac568ababaf78190692d0b9d6"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a></div><div class="ttdeci">static int clearglobalvars_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00103">pbx_config.c:103</a></div></div>
<div class="ttc" id="pbx_8h_html_a92a606276589c513842f0cd7e455126b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a92a606276589c513842f0cd7e455126b">pbx_builtin_clear_globals</a></div><div class="ttdeci">void pbx_builtin_clear_globals(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01191">pbx_variables.c:1191</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a5cded49ee99bdd58e2bb9f4f7ca3cb77"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a5cded49ee99bdd58e2bb9f4f7ca3cb77">pbx_load_module</a></div><div class="ttdeci">static int pbx_load_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_config.c:2087</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ab17793ff0c5ad613615b4d3c5ed3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab17793ff0c5ad613615b4d3c5ed3d5">&#9670;&nbsp;</a></span>handle_cli_dialplan_remove_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_remove_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<ul>
<li>REMOVE context command stuff </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00132">132</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08244">ast_context_destroy_by_name()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01277">complete_dialplan_remove_context()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan remove context&quot;</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan remove context &lt;context&gt;\n&quot;</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;         <span class="stringliteral">&quot;       Removes all extensions from a specified context.\n&quot;</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/pbx__config_8c.html#a0a83631a52027e1ae851eb0349082dd1">complete_dialplan_remove_context</a>(a);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 4) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a08abc5aa22cce4a793000a796b791076">ast_context_destroy_by_name</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;There is no such context as &#39;%s&#39;\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Removed context &#39;%s&#39;\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="pbx__config_8c_html_a0a83631a52027e1ae851eb0349082dd1"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a0a83631a52027e1ae851eb0349082dd1">complete_dialplan_remove_context</a></div><div class="ttdeci">static char * complete_dialplan_remove_context(struct ast_cli_args *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01277">pbx_config.c:1277</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="pbx_8h_html_a08abc5aa22cce4a793000a796b791076"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a08abc5aa22cce4a793000a796b791076">ast_context_destroy_by_name</a></div><div class="ttdeci">int ast_context_destroy_by_name(const char *context, const char *registrar)</div><div class="ttdoc">Destroy a context by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08244">pbx.c:8244</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c53d064336cfa9201114eded4ab536b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c53d064336cfa9201114eded4ab536b">&#9670;&nbsp;</a></span>handle_cli_dialplan_remove_extension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_remove_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>REMOVE EXTENSION command stuff </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00415">415</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04957">ast_context_remove_extension_callerid()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00259">split_ec()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   <span class="keywordtype">int</span> removing_priority = 0;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, *cid;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan remove extension&quot;</span>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan remove extension exten[/cid]@context [priority]\n&quot;</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;         <span class="stringliteral">&quot;       Remove an extension from a given context. If a priority\n&quot;</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;         <span class="stringliteral">&quot;       is given, only that specific priority from the given extension\n&quot;</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;         <span class="stringliteral">&quot;       will be removed.\n&quot;</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/pbx__config_8c.html#a01f01afe3a7ede66df729d467951bba6">complete_dialplan_remove_extension</a>(a);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 5 &amp;&amp; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 4)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">    * Priority input checking ...</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 5) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4];</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="comment">/* check for digits in whole parameter for right priority ...</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">       * why? because atoi (strtol) returns 0 if any characters in</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">       * string and whole extension will be removed, it&#39;s not good</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<span class="stringliteral">&quot;hint&quot;</span>, c))</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;         removing_priority = <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;         <span class="keywordflow">while</span> (*c &amp;&amp; isdigit(*c))</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            c++;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;         <span class="keywordflow">if</span> (*c) { <span class="comment">/* non-digit in string */</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Invalid priority &#39;%s&#39;\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4]);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;         }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;         removing_priority = atoi(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4]);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">if</span> (removing_priority == 0) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;If you want to remove whole extension, please &quot;</span> \</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="stringliteral">&quot;omit priority argument\n&quot;</span>);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="comment">/* XXX original overwrote argv[3] */</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">    * Format exten@context checking ...</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#a8c5570455969475bfb41e612c2eb37b1">split_ec</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], &amp;exten, &amp;context, &amp;cid))</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>; <span class="comment">/* XXX malloc failure */</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="keywordflow">if</span> ((!strlen(exten)) || (!(strlen(context)))) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Missing extension or context name in third argument &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;         a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(exten);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a85ffdbb47cc54f8d125b4276d6bd3170">ast_context_remove_extension_callerid</a>(context, exten, removing_priority,</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;         <span class="comment">/* Do NOT substitute S_OR; it is NOT the same thing */</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;         cid ? cid : (removing_priority ? <span class="stringliteral">&quot;&quot;</span> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), cid ? 1 : 0, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordflow">if</span> (!removing_priority)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Whole extension %s@%s removed\n&quot;</span>,</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            exten, context);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Extension %s@%s with priority %d removed\n&quot;</span>,</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            exten, context, removing_priority);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      ret = <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">if</span> (cid) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to remove extension %s/%s@%s\n&quot;</span>, exten, cid, context);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to remove extension %s@%s\n&quot;</span>, exten, context);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      ret = <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(exten);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a8c5570455969475bfb41e612c2eb37b1"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a8c5570455969475bfb41e612c2eb37b1">split_ec</a></div><div class="ttdeci">static int split_ec(const char *src, char **ext, char **const ctx, char **const cid)</div><div class="ttdoc">split extension@context in two parts, return -1 on error. The return string is malloc&amp;#39;ed and pointed ...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00259">pbx_config.c:259</a></div></div>
<div class="ttc" id="pbx_8h_html_a85ffdbb47cc54f8d125b4276d6bd3170"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a85ffdbb47cc54f8d125b4276d6bd3170">ast_context_remove_extension_callerid</a></div><div class="ttdeci">int ast_context_remove_extension_callerid(const char *context, const char *extension, int priority, const char *callerid, int matchcid, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04957">pbx.c:4957</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a01f01afe3a7ede66df729d467951bba6"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a01f01afe3a7ede66df729d467951bba6">complete_dialplan_remove_extension</a></div><div class="ttdeci">static char * complete_dialplan_remove_extension(struct ast_cli_args *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00550">pbx_config.c:550</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a711bb65834560e8de3209ecc1c669520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a711bb65834560e8de3209ecc1c669520">&#9670;&nbsp;</a></span>handle_cli_dialplan_remove_ignorepat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_remove_ignorepat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01439">1439</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06837">ast_context_remove_ignorepat()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;{</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan remove ignorepat&quot;</span>;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan remove ignorepat &lt;pattern&gt; from &lt;context&gt;\n&quot;</span></div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;         <span class="stringliteral">&quot;       This command removes an ignore pattern from context &lt;context&gt;\n&quot;</span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;         <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;         <span class="stringliteral">&quot;Example: dialplan remove ignorepat _3XX from local\n&quot;</span>;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/pbx__config_8c.html#ae7d67e34cee0389f6001c664733be796">complete_dialplan_remove_ignorepat</a>(a);</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   }</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 6)</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   <span class="keywordflow">if</span> (strcmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], <span class="stringliteral">&quot;from&quot;</span>))</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a08e43dc093c586991af4e2f86fa14f2e">ast_context_remove_ignorepat</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>) {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="keywordflow">case</span> EBUSY:</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to lock context(s) list, please try again later\n&quot;</span>);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <span class="keywordflow">case</span> ENOENT:</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;There is no existence of &#39;%s&#39; context\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="keywordflow">case</span> EINVAL:</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;There is no existence of &#39;%s&#39; ignore pattern in &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;               a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to remove ignore pattern &#39;%s&#39; from &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;               a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      }</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;   }</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Ignore pattern &#39;%s&#39; removed from &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a08e43dc093c586991af4e2f86fa14f2e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a08e43dc093c586991af4e2f86fa14f2e">ast_context_remove_ignorepat</a></div><div class="ttdeci">int ast_context_remove_ignorepat(const char *context, const char *ignorepat, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06837">pbx.c:6837</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae7d67e34cee0389f6001c664733be796"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae7d67e34cee0389f6001c664733be796">complete_dialplan_remove_ignorepat</a></div><div class="ttdeci">static char * complete_dialplan_remove_ignorepat(struct ast_cli_args *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01488">pbx_config.c:1488</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c90bef28aacc0d9552be3b6ac28af65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c90bef28aacc0d9552be3b6ac28af65">&#9670;&nbsp;</a></span>handle_cli_dialplan_remove_include()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_remove_include </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>REMOVE INCLUDE command stuff </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00160">160</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04840">ast_context_remove_include()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan remove include&quot;</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan remove include &lt;context&gt; from &lt;context&gt;\n&quot;</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;         <span class="stringliteral">&quot;       Remove an included context from another context.\n&quot;</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/pbx__config_8c.html#a9d8e70395147056990aff851de16f283">complete_dialplan_remove_include</a>(a);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 6 || strcmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], <span class="stringliteral">&quot;from&quot;</span>))</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#acec5cab19e772712434bf03875b57e9a">ast_context_remove_include</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;We are not including &#39;%s&#39; into &#39;%s&#39; now\n&quot;</span>,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;         a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to remove &#39;%s&#39; include from &#39;%s&#39; context\n&quot;</span>,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="ttc" id="pbx_8h_html_acec5cab19e772712434bf03875b57e9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#acec5cab19e772712434bf03875b57e9a">ast_context_remove_include</a></div><div class="ttdeci">int ast_context_remove_include(const char *context, const char *include, const char *registrar)</div><div class="ttdoc">Remove a context include. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04840">pbx.c:4840</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a9d8e70395147056990aff851de16f283"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a9d8e70395147056990aff851de16f283">complete_dialplan_remove_include</a></div><div class="ttdeci">static char * complete_dialplan_remove_include(struct ast_cli_args *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00289">pbx_config.c:289</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c88cc0f438374eacdd9d1d00392dd2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c88cc0f438374eacdd9d1d00392dd2c">&#9670;&nbsp;</a></span>handle_cli_dialplan_save()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_dialplan_save </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>'save dialplan' CLI command implementation functions ... </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">809</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00151">ast_config_AST_CONFIG_DIR</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08740">ast_context_ignorepats_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08745">ast_context_ignorepats_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">ast_context_includes_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08702">ast_context_includes_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08652">ast_context_switches_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08657">ast_context_switches_get()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00665">ast_escape_semicolons()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08566">ast_get_context_registrar()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08596">ast_get_extension_app()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08601">ast_get_extension_app_data()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08591">ast_get_extension_cidmatch()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08553">ast_get_extension_label()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08586">ast_get_extension_matchcid()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08548">ast_get_extension_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08558">ast_get_extension_priority()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08571">ast_get_extension_registrar()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">ast_get_ignorepat_name()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00047">ast_get_ignorepat_registrar()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00050">ast_get_include_name()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00060">ast_get_include_registrar()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00053">ast_get_switch_data()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00048">ast_get_switch_name()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00063">ast_get_switch_registrar()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08525">ast_rdlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00427">ast_walk_context_extensions()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04063">ast_walk_extension_priorities()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00102">autofallthrough_config</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00103">clearglobalvars_config</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00096">config</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l00340">el</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00147">ext</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00104">extenpatternmatchnew_config</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00244">ast_exten::label</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00765">overrideswitch</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00105">overrideswitch_config</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, <a class="el" href="../../dd/d9a/pbx__config_8c.html#ae28cd0df7b3c5c030dd3c0ad12a1267e">PUT_CTX_HDR</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00107">save_dialplan_lock</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00100">static_config</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00101">write_protect_config</a>.</p>
<div class="fragment"><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <span class="keywordtype">char</span> filename[256], <a class="code" href="../../db/d94/pbx_8c.html#a8f600ca9999b2d9c3d64cbcdb503895c">overrideswitch</a>[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   <span class="keywordtype">int</span> incomplete = 0; <span class="comment">/* incomplete config write? */</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   FILE *output;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { 0 };</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *base, *slash;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;dialplan save&quot;</span>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;         <span class="stringliteral">&quot;Usage: dialplan save [/path/to/extension/file]\n&quot;</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;         <span class="stringliteral">&quot;       Save dialplan created by pbx_config module.\n&quot;</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;         <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;         <span class="stringliteral">&quot;Example: dialplan save                 (/etc/asterisk/extensions.conf)\n&quot;</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;         <span class="stringliteral">&quot;         dialplan save /home/markster  (/home/markster/extensions.conf)\n&quot;</span>;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="keywordflow">if</span> (! (<a class="code" href="../../dd/d9a/pbx__config_8c.html#aacf2e48579f22117914de9de6cfe9132">static_config</a> &amp;&amp; !<a class="code" href="../../dd/d9a/pbx__config_8c.html#afa93406b234607b55f06119bfc160c8d">write_protect_config</a>)) {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>,</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;         <span class="stringliteral">&quot;I can&#39;t save dialplan now, see &#39;%s&#39; example file.\n&quot;</span>,</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 2 &amp;&amp; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 3)</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ad916c8366b5027888b762aae71fe0af6">save_dialplan_lock</a>)) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>,</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;         <span class="stringliteral">&quot;Failed to lock dialplan saving (another proccess saving?)\n&quot;</span>);</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   <span class="comment">/* XXX the code here is quite loose, a pathname with .conf in it</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">    * is assumed to be a complete pathname</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 3) {  <span class="comment">/* have config path. Look for *.conf */</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      base = a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2];</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">if</span> (!strstr(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], <span class="stringliteral">&quot;.conf&quot;</span>)) { <span class="comment">/*no, this is assumed to be a pathname */</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;         <span class="comment">/* if filename ends with &#39;/&#39;, do not add one */</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;         slash = (*(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2] + strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2]) -1) == <span class="charliteral">&#39;/&#39;</span>) ? <span class="stringliteral">&quot;/&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">/* yes, complete file name */</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;         slash = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="comment">/* no config file, default one */</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      base = <a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      slash = <span class="stringliteral">&quot;/&quot;</span>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   snprintf(filename, <span class="keyword">sizeof</span>(filename), <span class="stringliteral">&quot;%s%s%s&quot;</span>, base, slash, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(<span class="stringliteral">&quot;extensions.conf&quot;</span>, config_flags);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to load extensions.conf\n&quot;</span>);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ad916c8366b5027888b762aae71fe0af6">save_dialplan_lock</a>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="comment">/* try to lock contexts list */</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>()) {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to lock contexts list\n&quot;</span>);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ad916c8366b5027888b762aae71fe0af6">save_dialplan_lock</a>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <span class="comment">/* create new file ... */</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <span class="keywordflow">if</span> (!(output = fopen(filename, <span class="stringliteral">&quot;wt&quot;</span>))) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to create file &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;         filename);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ad916c8366b5027888b762aae71fe0af6">save_dialplan_lock</a>);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <span class="comment">/* fireout general info */</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a>) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      snprintf(overrideswitch, <span class="keyword">sizeof</span>(overrideswitch), <span class="stringliteral">&quot;overrideswitch=%s\n&quot;</span>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a>);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   fprintf(output, <span class="stringliteral">&quot;[general]\nstatic=%s\nwriteprotect=%s\nautofallthrough=%s\nclearglobalvars=%s\n%sextenpatternmatchnew=%s\n\n&quot;</span>,</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <a class="code" href="../../dd/d9a/pbx__config_8c.html#aacf2e48579f22117914de9de6cfe9132">static_config</a> ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <a class="code" href="../../dd/d9a/pbx__config_8c.html#afa93406b234607b55f06119bfc160c8d">write_protect_config</a> ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <a class="code" href="../../dd/d9a/pbx__config_8c.html#a2f7b81835c70c096f9e0e668189de837">autofallthrough_config</a> ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <a class="code" href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a> ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a> ? overrideswitch : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <a class="code" href="../../dd/d9a/pbx__config_8c.html#a23e23286ba72830f34d29d3b028c9624">extenpatternmatchnew_config</a> ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   <span class="keywordflow">if</span> ((v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;globals&quot;</span>))) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      fprintf(output, <span class="stringliteral">&quot;[globals]\n&quot;</span>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="keywordflow">while</span>(v) {</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;         <span class="keywordtype">int</span> escaped_len = 2 * strlen(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>) + 1;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;         <span class="keywordtype">char</span> escaped[escaped_len];</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a73280c4c3636bb644afd1b5e49e73222">ast_escape_semicolons</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, escaped, escaped_len);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;         fprintf(output, <span class="stringliteral">&quot;%s =&gt; %s\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, escaped);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;         v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      fprintf(output, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="preprocessor">#define PUT_CTX_HDR  do { \</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="preprocessor">   if (!context_header_written) {   \</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="preprocessor">      fprintf(output, &quot;[%s]\n&quot;, ast_get_context_name(c));   \</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="preprocessor">      context_header_written = 1;   \</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor">   }  \</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="preprocessor">   } while (0)</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="comment">/* walk all contexts */</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <span class="keywordflow">for</span> (c = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; (c = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(c)); ) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="keywordtype">int</span> context_header_written = 0;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>, *last_written_e = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="comment">/* try to lock context and fireout all info */</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a>(c)) { <span class="comment">/* lock failure */</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;         incomplete = 1;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      }</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="comment">/* registered by this module? */</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="comment">/* XXX do we need this ? */</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a9df0a5d301454fe924172cf89c7165a4">ast_get_context_registrar</a>(c), <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;         fprintf(output, <span class="stringliteral">&quot;[%s]\n&quot;</span>, <a class="code" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a>(c));</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;         context_header_written = 1;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="comment">/* walk extensions ... */</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="keywordflow">for</span> (ext = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; (ext = <a class="code" href="../../db/de0/pbx_8h.html#abb024cdd19b5c3bab7734c9708f121b8">ast_walk_context_extensions</a>(c, ext)); ) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *p = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;         <span class="comment">/* fireout priorities */</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;         <span class="keywordflow">while</span> ( (p = <a class="code" href="../../db/de0/pbx_8h.html#a84c0f2d77948217566a9fd4775879f84">ast_walk_extension_priorities</a>(ext, p)) ) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a7f23f7c798d61e68c32b21d3e0cd15a2">ast_get_extension_registrar</a>(p), <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>) != 0) <span class="comment">/* not this source */</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="comment">/* make empty line between different extensions */</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <span class="keywordflow">if</span> (last_written_e != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                   strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(last_written_e),</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                      <a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(p)))</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;               fprintf(output, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            last_written_e = p;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <a class="code" href="../../dd/d9a/pbx__config_8c.html#ae28cd0df7b3c5c030dd3c0ad12a1267e">PUT_CTX_HDR</a>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a1662981db35d4125afaf6de98b2ba52f">ast_get_extension_priority</a>(p) == <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>) { <span class="comment">/* easy */</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;               fprintf(output, <span class="stringliteral">&quot;exten =&gt; %s,hint,%s\n&quot;</span>,</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                      <a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(p),</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                      <a class="code" href="../../db/de0/pbx_8h.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a>(p));</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;               <span class="keyword">const</span> <span class="keywordtype">char</span> *sep, *cid;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;               <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d5/d03/asterisk_8c.html#a617d1486ee651b4c894d02e1fe68fe04">el</a> = <a class="code" href="../../db/de0/pbx_8h.html#a266960fe6aa4db1066ed0b012fb7eb62">ast_get_extension_label</a>(p);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;               <span class="keywordtype">char</span> <a class="code" href="../../d7/d00/structast__exten.html#ad5d5c96b6acf265b9982ca93960b0d59">label</a>[128] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;               <span class="keywordtype">char</span> *appdata = <a class="code" href="../../db/de0/pbx_8h.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a>(p);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;               <span class="keywordtype">int</span> escaped_len = (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(appdata)) ? 2 * strlen(appdata) + 1 : 1;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;               <span class="keywordtype">char</span> escaped[escaped_len];</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;               <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a26c679c70c1a8dd0968579be0c1755ab">ast_get_extension_matchcid</a>(p)) {</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                  sep = <span class="stringliteral">&quot;/&quot;</span>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                  cid = <a class="code" href="../../db/de0/pbx_8h.html#aee004b6fcfccea3fa6acf9b7264f42c9">ast_get_extension_cidmatch</a>(p);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                  sep = cid = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;               }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;               <span class="keywordflow">if</span> (el &amp;&amp; (snprintf(label, <span class="keyword">sizeof</span>(label), <span class="stringliteral">&quot;(%s)&quot;</span>, el) != (strlen(el) + 2))) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                  incomplete = 1;   <span class="comment">/* error encountered or label &gt; 125 chars */</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;               }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;               <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(appdata)) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                  <a class="code" href="../../d5/d60/utils_8h.html#a73280c4c3636bb644afd1b5e49e73222">ast_escape_semicolons</a>(appdata, escaped, escaped_len);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                  escaped[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;               }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;               fprintf(output, <span class="stringliteral">&quot;exten =&gt; %s%s%s,%d%s,%s(%s)\n&quot;</span>,</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                   <a class="code" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a>(p), (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(sep) ? <span class="stringliteral">&quot;&quot;</span> : sep), (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cid) ? <span class="stringliteral">&quot;&quot;</span> : cid),</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                   <a class="code" href="../../db/de0/pbx_8h.html#a1662981db35d4125afaf6de98b2ba52f">ast_get_extension_priority</a>(p), label,</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                   <a class="code" href="../../db/de0/pbx_8h.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a>(p), escaped);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;         }</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="comment">/* written any extensions? ok, write space between exten &amp; inc */</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <span class="keywordflow">if</span> (last_written_e)</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;         fprintf(output, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="comment">/* walk through includes */</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/de0/pbx_8h.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a>(c); idx++) {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;         <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d5/db2/structast__include.html">ast_include</a> *i = <a class="code" href="../../db/de0/pbx_8h.html#afb93dec0c216cb07939fd15949baff2f">ast_context_includes_get</a>(c, idx);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;         <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a2bf7469cd4b7de5d4de43d58aeff46c5">ast_get_include_registrar</a>(i), <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>) != 0)</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keywordflow">continue</span>; <span class="comment">/* not mine */</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#ae28cd0df7b3c5c030dd3c0ad12a1267e">PUT_CTX_HDR</a>;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;         fprintf(output, <span class="stringliteral">&quot;include =&gt; %s\n&quot;</span>, <a class="code" href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a>(i));</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a>(c)) {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;         fprintf(output, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="comment">/* walk through switches */</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/de0/pbx_8h.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a>(c); idx++) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;         <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d3/def/structast__sw.html">ast_sw</a> *sw = <a class="code" href="../../db/de0/pbx_8h.html#a0161005b7a19bc949f2c8ebbf36a46eb">ast_context_switches_get</a>(c, idx);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;         <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a3d45d3b9bc79bf6ffb1540f3e815f677">ast_get_switch_registrar</a>(sw), <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>) != 0)</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <span class="keywordflow">continue</span>; <span class="comment">/* not mine */</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#ae28cd0df7b3c5c030dd3c0ad12a1267e">PUT_CTX_HDR</a>;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;         fprintf(output, <span class="stringliteral">&quot;switch =&gt; %s/%s\n&quot;</span>,</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                <a class="code" href="../../db/de0/pbx_8h.html#aa0ebd34e8d1605aa4b6e3fadea6adfb5">ast_get_switch_name</a>(sw), <a class="code" href="../../db/de0/pbx_8h.html#ad4f9fd5bd7afc28347c808ea295233e8">ast_get_switch_data</a>(sw));</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      }</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a>(c)) {</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;         fprintf(output, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="comment">/* fireout ignorepats ... */</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/de0/pbx_8h.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a>(c); idx++) {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;         <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *ip = <a class="code" href="../../db/de0/pbx_8h.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a>(c, idx);</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;         <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a8a6feb7cd8e08f18c9d0f4887d7f3d47">ast_get_ignorepat_registrar</a>(ip), <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>) != 0)</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            <span class="keywordflow">continue</span>; <span class="comment">/* not mine */</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#ae28cd0df7b3c5c030dd3c0ad12a1267e">PUT_CTX_HDR</a>;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;         fprintf(output, <span class="stringliteral">&quot;ignorepat =&gt; %s\n&quot;</span>,</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                  <a class="code" href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a>(ip));</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(c);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;   }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ad916c8366b5027888b762aae71fe0af6">save_dialplan_lock</a>);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   fclose(output);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;   <span class="keywordflow">if</span> (incomplete) {</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Saved dialplan is incomplete\n&quot;</span>);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;   }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Dialplan successfully saved into &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      filename);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div><div class="ttc" id="structast__exten_html_ad5d5c96b6acf265b9982ca93960b0d59"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ad5d5c96b6acf265b9982ca93960b0d59">ast_exten::label</a></div><div class="ttdeci">const char * label</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00244">pbx.c:244</a></div></div>
<div class="ttc" id="structast__include_html"><div class="ttname"><a href="../../d5/db2/structast__include.html">ast_include</a></div><div class="ttdoc">ast_include: include= support in extensions.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00037">pbx_include.c:37</a></div></div>
<div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a8a2a6b0ac568ababaf78190692d0b9d6"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a></div><div class="ttdeci">static int clearglobalvars_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00103">pbx_config.c:103</a></div></div>
<div class="ttc" id="pbx_8h_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="pbx_8h_html_aa0ebd34e8d1605aa4b6e3fadea6adfb5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa0ebd34e8d1605aa4b6e3fadea6adfb5">ast_get_switch_name</a></div><div class="ttdeci">const char * ast_get_switch_name(const struct ast_sw *sw)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00048">pbx_sw.c:48</a></div></div>
<div class="ttc" id="pbx_8h_html_a3d45d3b9bc79bf6ffb1540f3e815f677"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a3d45d3b9bc79bf6ffb1540f3e815f677">ast_get_switch_registrar</a></div><div class="ttdeci">const char * ast_get_switch_registrar(const struct ast_sw *sw)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00063">pbx_sw.c:63</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a2f7b81835c70c096f9e0e668189de837"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a2f7b81835c70c096f9e0e668189de837">autofallthrough_config</a></div><div class="ttdeci">static int autofallthrough_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00102">pbx_config.c:102</a></div></div>
<div class="ttc" id="pbx_8h_html_a1662981db35d4125afaf6de98b2ba52f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a1662981db35d4125afaf6de98b2ba52f">ast_get_extension_priority</a></div><div class="ttdeci">int ast_get_extension_priority(struct ast_exten *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08558">pbx.c:8558</a></div></div>
<div class="ttc" id="structast__exten_html"><div class="ttname"><a href="../../d7/d00/structast__exten.html">ast_exten</a></div><div class="ttdoc">ast_exten: An extension The dialplan is saved as a linked list with each context having it&amp;#39;s own link...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00237">pbx.c:237</a></div></div>
<div class="ttc" id="pbx_8h_html_a7f23f7c798d61e68c32b21d3e0cd15a2"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7f23f7c798d61e68c32b21d3e0cd15a2">ast_get_extension_registrar</a></div><div class="ttdeci">const char * ast_get_extension_registrar(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08571">pbx.c:8571</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a3d015c3048804b0c2a37413a14f11e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00421">ael_main.c:421</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aacf2e48579f22117914de9de6cfe9132"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aacf2e48579f22117914de9de6cfe9132">static_config</a></div><div class="ttdeci">static int static_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00100">pbx_config.c:100</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a6feb7cd8e08f18c9d0f4887d7f3d47"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a6feb7cd8e08f18c9d0f4887d7f3d47">ast_get_ignorepat_registrar</a></div><div class="ttdeci">const char * ast_get_ignorepat_registrar(const struct ast_ignorepat *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00047">pbx_ignorepat.c:47</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="pbx__config_8c_html_afa93406b234607b55f06119bfc160c8d"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#afa93406b234607b55f06119bfc160c8d">write_protect_config</a></div><div class="ttdeci">static int write_protect_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00101">pbx_config.c:101</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a23e23286ba72830f34d29d3b028c9624"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a23e23286ba72830f34d29d3b028c9624">extenpatternmatchnew_config</a></div><div class="ttdeci">static int extenpatternmatchnew_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00104">pbx_config.c:104</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="pbx_8h_html_ae8d2df08197cbd68d61419e6968baf27"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a></div><div class="ttdeci">int ast_context_switches_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08652">pbx.c:8652</a></div></div>
<div class="ttc" id="pbx_8h_html_a6594bb017b4d4fe1bc42370cc32ec974"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a></div><div class="ttdeci">const char * ast_get_extension_app(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08596">pbx.c:8596</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="asterisk_8c_html_a617d1486ee651b4c894d02e1fe68fe04"><div class="ttname"><a href="../../d5/d03/asterisk_8c.html#a617d1486ee651b4c894d02e1fe68fe04">el</a></div><div class="ttdeci">static EditLine * el</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00340">asterisk.c:340</a></div></div>
<div class="ttc" id="pbx_8h_html_ac0a6c0c39796f36864868365d8989f02"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a></div><div class="ttdeci">void * ast_get_extension_app_data(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08601">pbx.c:8601</a></div></div>
<div class="ttc" id="pbx_8h_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="pbx_8h_html_a266960fe6aa4db1066ed0b012fb7eb62"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a266960fe6aa4db1066ed0b012fb7eb62">ast_get_extension_label</a></div><div class="ttdeci">const char * ast_get_extension_label(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08553">pbx.c:8553</a></div></div>
<div class="ttc" id="pbx_8h_html_a2bf7469cd4b7de5d4de43d58aeff46c5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2bf7469cd4b7de5d4de43d58aeff46c5">ast_get_include_registrar</a></div><div class="ttdeci">const char * ast_get_include_registrar(const struct ast_include *i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00060">pbx_include.c:60</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="utils_8h_html_a73280c4c3636bb644afd1b5e49e73222"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a73280c4c3636bb644afd1b5e49e73222">ast_escape_semicolons</a></div><div class="ttdeci">char * ast_escape_semicolons(const char *string, char *outbuf, int buflen)</div><div class="ttdoc">Escape semicolons found in a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00665">main/utils.c:665</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx_8h_html_a9df0a5d301454fe924172cf89c7165a4"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a9df0a5d301454fe924172cf89c7165a4">ast_get_context_registrar</a></div><div class="ttdeci">const char * ast_get_context_registrar(struct ast_context *c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08566">pbx.c:8566</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="http_8c_html_af9b32121c4ad80b0887a3d73fd24de5f"><div class="ttname"><a href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a></div><div class="ttdeci">const char * ext</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00147">http.c:147</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="pbx_8h_html_a0161005b7a19bc949f2c8ebbf36a46eb"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0161005b7a19bc949f2c8ebbf36a46eb">ast_context_switches_get</a></div><div class="ttdeci">const struct ast_sw * ast_context_switches_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08657">pbx.c:8657</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="structast__sw_html"><div class="ttname"><a href="../../d3/def/structast__sw.html">ast_sw</a></div><div class="ttdoc">ast_sw: Switch statement in extensions.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00037">pbx_sw.c:37</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx_8h_html_aee004b6fcfccea3fa6acf9b7264f42c9"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aee004b6fcfccea3fa6acf9b7264f42c9">ast_get_extension_cidmatch</a></div><div class="ttdeci">const char * ast_get_extension_cidmatch(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08591">pbx.c:8591</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="pbx_8h_html_ad40e50eea098e5c16ef7dd3ffbff1bba"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a></div><div class="ttdeci">const char * ast_get_ignorepat_name(const struct ast_ignorepat *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">pbx_ignorepat.c:42</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a1d3acbe66f257d6ec70a2c2e7bd7a1fa"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a></div><div class="ttdeci">static char * overrideswitch_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00105">pbx_config.c:105</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="pbx_8h_html_aec2e421fa0b10e14812d52c30ec7e744"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a></div><div class="ttdeci">int ast_context_includes_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08697">pbx.c:8697</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="paths_8h_html_a7d3836e5581e433c9f5edd30300cc187"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_CONFIG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00151">options.c:151</a></div></div>
<div class="ttc" id="structast__ignorepat_html"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a></div><div class="ttdoc">ast_ignorepat: Ignore patterns in dial plan </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00037">pbx_ignorepat.c:37</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx_8h_html_a6fb940c1fd9c74b9d573e0a91bb23697"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a></div><div class="ttdeci">const char * ast_get_extension_name(struct ast_exten *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08548">pbx.c:8548</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="pbx_8h_html_abb024cdd19b5c3bab7734c9708f121b8"><div class="ttname"><a href="../../db/de0/pbx_8h.html#abb024cdd19b5c3bab7734c9708f121b8">ast_walk_context_extensions</a></div><div class="ttdeci">struct ast_exten * ast_walk_context_extensions(struct ast_context *con, struct ast_exten *priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00427">ael_main.c:427</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ae28cd0df7b3c5c030dd3c0ad12a1267e"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ae28cd0df7b3c5c030dd3c0ad12a1267e">PUT_CTX_HDR</a></div><div class="ttdeci">#define PUT_CTX_HDR</div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="pbx_8h_html_ad4f9fd5bd7afc28347c808ea295233e8"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad4f9fd5bd7afc28347c808ea295233e8">ast_get_switch_data</a></div><div class="ttdeci">const char * ast_get_switch_data(const struct ast_sw *sw)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00053">pbx_sw.c:53</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ad916c8366b5027888b762aae71fe0af6"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ad916c8366b5027888b762aae71fe0af6">save_dialplan_lock</a></div><div class="ttdeci">static ast_mutex_t save_dialplan_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00107">pbx_config.c:107</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a9ee8d742a1fbcff45f97842b92952610"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a></div><div class="ttdeci">static const char config[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00096">pbx_config.c:96</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="pbx_8h_html_a1cf62f8cc1e47da88dae67f4ee623684"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a></div><div class="ttdeci">const char * ast_get_include_name(const struct ast_include *include)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00050">pbx_include.c:50</a></div></div>
<div class="ttc" id="pbx_8h_html_a84c0f2d77948217566a9fd4775879f84"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a84c0f2d77948217566a9fd4775879f84">ast_walk_extension_priorities</a></div><div class="ttdeci">struct ast_exten * ast_walk_extension_priorities(struct ast_exten *exten, struct ast_exten *priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04063">extconf.c:4063</a></div></div>
<div class="ttc" id="pbx_8c_html_a8f600ca9999b2d9c3d64cbcdb503895c"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a8f600ca9999b2d9c3d64cbcdb503895c">overrideswitch</a></div><div class="ttdeci">static char * overrideswitch</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00765">pbx.c:765</a></div></div>
<div class="ttc" id="pbx_8h_html_aa780584a8327cbe41d566b91e119eb97"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a></div><div class="ttdeci">int ast_context_ignorepats_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08740">pbx.c:8740</a></div></div>
<div class="ttc" id="pbx_8h_html_a26c679c70c1a8dd0968579be0c1755ab"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a26c679c70c1a8dd0968579be0c1755ab">ast_get_extension_matchcid</a></div><div class="ttdeci">int ast_get_extension_matchcid(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08586">pbx.c:8586</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
<div class="ttc" id="pbx_8h_html_afb93dec0c216cb07939fd15949baff2f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#afb93dec0c216cb07939fd15949baff2f">ast_context_includes_get</a></div><div class="ttdeci">const struct ast_include * ast_context_includes_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08702">pbx.c:8702</a></div></div>
<div class="ttc" id="pbx_8h_html_af1a624244a07626a8f70843005206c95"><div class="ttname"><a href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a></div><div class="ttdeci">int ast_rdlock_context(struct ast_context *con)</div><div class="ttdoc">Read locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08525">pbx.c:8525</a></div></div>
<div class="ttc" id="pbx_8h_html_a6fee17b9633bb84f0fce209d5d42fb0a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a></div><div class="ttdeci">const struct ast_ignorepat * ast_context_ignorepats_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08745">pbx.c:8745</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">2126</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01619">AMI_EXTENSION_ADD</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01620">AMI_EXTENSION_REMOVE</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00256">ast_cli_register</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00186">ast_manager_register_xml</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00071">EVENT_FLAG_SYSTEM</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01195">manager_dialplan_extension_add()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00502">manager_dialplan_extension_remove()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00100">static_config</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01625">unload_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00101">write_protect_config</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02152">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;{</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#a5cded49ee99bdd58e2bb9f4f7ca3cb77">pbx_load_module</a>()) {</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      <a class="code" href="../../dd/d9a/pbx__config_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>();</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;   }</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#aacf2e48579f22117914de9de6cfe9132">static_config</a> &amp;&amp; !<a class="code" href="../../dd/d9a/pbx__config_8c.html#afa93406b234607b55f06119bfc160c8d">write_protect_config</a>)</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a38900310ddfb39aa5b4689ec66c616ee">ast_cli_register</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#a3a72af156eebdb47f94f66a35470ecb5">cli_dialplan_save</a>);</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a7d1a455e6d10d06b7a729d347077c3b2">cli_pbx_config</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a7d1a455e6d10d06b7a729d347077c3b2">cli_pbx_config</a>));</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;   res = <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a55bfac48d3e8cd6e4816f8b272e44dd0">AMI_EXTENSION_ADD</a>,</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a0bc30deb02f0fdbe7564dcb68412ee07">manager_dialplan_extension_add</a>);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;   res |= <a class="code" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a871d420b8e5ea5b60fa65157f8f3326c">AMI_EXTENSION_REMOVE</a>,</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#af3d372bd9db95d3c23b20512a7ce254f">manager_dialplan_extension_remove</a>);</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <a class="code" href="../../dd/d9a/pbx__config_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>();</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;   }</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;}</div><div class="ttc" id="pbx__config_8c_html_af3d372bd9db95d3c23b20512a7ce254f"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#af3d372bd9db95d3c23b20512a7ce254f">manager_dialplan_extension_remove</a></div><div class="ttdeci">static int manager_dialplan_extension_remove(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00502">pbx_config.c:502</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aacf2e48579f22117914de9de6cfe9132"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aacf2e48579f22117914de9de6cfe9132">static_config</a></div><div class="ttdeci">static int static_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00100">pbx_config.c:100</a></div></div>
<div class="ttc" id="pbx__config_8c_html_afa93406b234607b55f06119bfc160c8d"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#afa93406b234607b55f06119bfc160c8d">write_protect_config</a></div><div class="ttdeci">static int write_protect_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00101">pbx_config.c:101</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a871d420b8e5ea5b60fa65157f8f3326c"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a871d420b8e5ea5b60fa65157f8f3326c">AMI_EXTENSION_REMOVE</a></div><div class="ttdeci">#define AMI_EXTENSION_REMOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01620">pbx_config.c:1620</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a5cded49ee99bdd58e2bb9f4f7ca3cb77"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a5cded49ee99bdd58e2bb9f4f7ca3cb77">pbx_load_module</a></div><div class="ttdeci">static int pbx_load_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_config.c:2087</a></div></div>
<div class="ttc" id="cli_8h_html_a38900310ddfb39aa5b4689ec66c616ee"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a38900310ddfb39aa5b4689ec66c616ee">ast_cli_register</a></div><div class="ttdeci">#define ast_cli_register(e)</div><div class="ttdoc">Registers a command or an array of commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00256">cli.h:256</a></div></div>
<div class="ttc" id="manager_8h_html_a420f0f755e1c3378b45ca7f6f0669ffa"><div class="ttname"><a href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a></div><div class="ttdeci">#define EVENT_FLAG_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00071">manager.h:71</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a55bfac48d3e8cd6e4816f8b272e44dd0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a55bfac48d3e8cd6e4816f8b272e44dd0">AMI_EXTENSION_ADD</a></div><div class="ttdeci">#define AMI_EXTENSION_ADD</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01619">pbx_config.c:1619</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a3a72af156eebdb47f94f66a35470ecb5"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a3a72af156eebdb47f94f66a35470ecb5">cli_dialplan_save</a></div><div class="ttdeci">static struct ast_cli_entry cli_dialplan_save</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01616">pbx_config.c:1616</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ad09fa931f468002152a3cc2d5ce25eae"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a></div><div class="ttdeci">static int unload_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01625">pbx_config.c:1625</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a7d1a455e6d10d06b7a729d347077c3b2"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a7d1a455e6d10d06b7a729d347077c3b2">cli_pbx_config</a></div><div class="ttdeci">static struct ast_cli_entry cli_pbx_config[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01605">pbx_config.c:1605</a></div></div>
<div class="ttc" id="manager_8h_html_a5b63b8a8faede2d852e071e1f7b31c11"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a></div><div class="ttdeci">#define ast_manager_register_xml(action, authority, func)</div><div class="ttdoc">Register a manager callback using XML documentation to describe the manager. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00186">manager.h:186</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a0bc30deb02f0fdbe7564dcb68412ee07"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a0bc30deb02f0fdbe7564dcb68412ee07">manager_dialplan_extension_add</a></div><div class="ttdeci">static int manager_dialplan_extension_add(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01195">pbx_config.c:1195</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59f5c70f51cd454cd6e1521ff4db0b71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f5c70f51cd454cd6e1521ff4db0b71">&#9670;&nbsp;</a></span>lookup_c_ip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lookup_c_ip </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return true if 'name' is in the ignorepats for context c </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00212">212</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08740">ast_context_ignorepats_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08745">ast_context_ignorepats_get()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">ast_get_ignorepat_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08525">ast_rdlock_context()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">complete_dialplan_add_ignorepat()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a>(c)) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">/* error, skip */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/de0/pbx_8h.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a>(c); idx++) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *ip = <a class="code" href="../../db/de0/pbx_8h.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a>(c, idx);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a>(ip))) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;         ret = -1;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(c);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="pbx_8h_html_ad40e50eea098e5c16ef7dd3ffbff1bba"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a></div><div class="ttdeci">const char * ast_get_ignorepat_name(const struct ast_ignorepat *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">pbx_ignorepat.c:42</a></div></div>
<div class="ttc" id="structast__ignorepat_html"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a></div><div class="ttdoc">ast_ignorepat: Ignore patterns in dial plan </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00037">pbx_ignorepat.c:37</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="pbx_8h_html_aa780584a8327cbe41d566b91e119eb97"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a></div><div class="ttdeci">int ast_context_ignorepats_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08740">pbx.c:8740</a></div></div>
<div class="ttc" id="pbx_8h_html_af1a624244a07626a8f70843005206c95"><div class="ttname"><a href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a></div><div class="ttdeci">int ast_rdlock_context(struct ast_context *con)</div><div class="ttdoc">Read locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08525">pbx.c:8525</a></div></div>
<div class="ttc" id="pbx_8h_html_a6fee17b9633bb84f0fce209d5d42fb0a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a></div><div class="ttdeci">const struct ast_ignorepat * ast_context_ignorepats_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08745">pbx.c:8745</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd7b01012afac7881231edce7abe1eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd7b01012afac7881231edce7abe1eae">&#9670;&nbsp;</a></span>lookup_ci()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lookup_ci </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return true if 'name' is included by context c </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00188">188</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">ast_context_includes_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08702">ast_context_includes_get()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00050">ast_get_include_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08525">ast_rdlock_context()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">complete_dialplan_add_include()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a>(c)) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="comment">/* error, skip */</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/de0/pbx_8h.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a>(c); idx++) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d5/db2/structast__include.html">ast_include</a> *i = <a class="code" href="../../db/de0/pbx_8h.html#afb93dec0c216cb07939fd15949baff2f">ast_context_includes_get</a>(c, idx);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a>(i))) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;         ret = -1;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(c);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="ttc" id="structast__include_html"><div class="ttname"><a href="../../d5/db2/structast__include.html">ast_include</a></div><div class="ttdoc">ast_include: include= support in extensions.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00037">pbx_include.c:37</a></div></div>
<div class="ttc" id="pbx_8h_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="pbx_8h_html_aec2e421fa0b10e14812d52c30ec7e744"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a></div><div class="ttdeci">int ast_context_includes_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08697">pbx.c:8697</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="pbx_8h_html_a1cf62f8cc1e47da88dae67f4ee623684"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a></div><div class="ttdeci">const char * ast_get_include_name(const struct ast_include *include)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00050">pbx_include.c:50</a></div></div>
<div class="ttc" id="pbx_8h_html_afb93dec0c216cb07939fd15949baff2f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#afb93dec0c216cb07939fd15949baff2f">ast_context_includes_get</a></div><div class="ttdeci">const struct ast_include * ast_context_includes_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08702">pbx.c:8702</a></div></div>
<div class="ttc" id="pbx_8h_html_af1a624244a07626a8f70843005206c95"><div class="ttname"><a href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a></div><div class="ttdeci">int ast_rdlock_context(struct ast_context *con)</div><div class="ttdoc">Read locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08525">pbx.c:8525</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bc30deb02f0fdbe7564dcb68412ee07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc30deb02f0fdbe7564dcb68412ee07">&#9670;&nbsp;</a></span>manager_dialplan_extension_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int manager_dialplan_extension_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01195">1195</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l07299">ast_add_extension2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02820">astman_get_header()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03191">astman_send_ack()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03159">astman_send_error()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">priority</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00790">replace()</a>, and <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;{</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Context&quot;</span>);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d5a/structextension.html">extension</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Extension&quot;</span>);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Priority&quot;</span>);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *application = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Application&quot;</span>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *application_data = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;ApplicationData&quot;</span>);</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Replace&quot;</span>));</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   <span class="keywordtype">int</span> ipriority;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   <span class="keywordtype">char</span> *cidmatch = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *add_context;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(context) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(extension) ||</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(priority) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(application)) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Context, Extension, Priority, and &quot;</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;         <span class="stringliteral">&quot;Application must be defined for DialplanExtensionAdd.&quot;</span>);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;   <span class="comment">/* Priority conversion/validation */</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;   <span class="keywordflow">if</span> (!strcmp(priority, <span class="stringliteral">&quot;hint&quot;</span>)) {</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      ipriority = <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((sscanf(priority, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;ipriority) != 1) || (ipriority &lt; 0)) {</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;The priority specified was invalid.&quot;</span>);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   }</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;   <span class="comment">/* Split extension from cidmatch */</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;   exten = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(extension);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   <span class="keywordflow">if</span> (strchr(exten, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      cidmatch = <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;cidmatch, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;   }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a>()) {</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Failed to lock contexts list. Try again later.&quot;</span>);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   }</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   add_context = <a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, context, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>);</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keywordflow">if</span> (!add_context) {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Could not find or create context specified &quot;</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;         <span class="stringliteral">&quot;for the extension.&quot;</span>);</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a>(add_context, replace, exten, ipriority, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cidmatch,</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;         application, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(application_data), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)) {</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>) {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="keywordflow">case</span> ENOMEM:</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Out of Memory&quot;</span>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">case</span> EBUSY:</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Failed to lock context(s) list&quot;</span>);</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <span class="keywordflow">case</span> ENOENT:</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Context does not exist&quot;</span>);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="keywordflow">case</span> EEXIST:</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;That extension and priority already exist at that context&quot;</span>);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Failed to add extension&quot;</span>);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;   }</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a>(s, m, <span class="stringliteral">&quot;Added requested extension&quot;</span>);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga77315fa8e29950f0c88120501acda0a3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a></div><div class="ttdeci">void astman_send_ack(struct mansession *s, const struct message *m, char *msg)</div><div class="ttdoc">Send ack in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03191">manager.c:3191</a></div></div>
<div class="ttc" id="pbx_8h_html_a18c87dac5f7f4368c11b67d8026adc22"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a></div><div class="ttdeci">int ast_wrlock_contexts(void)</div><div class="ttdoc">Write locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08502">pbx.c:8502</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac6a9f3498f9afffecfd78c485af41556"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a></div><div class="ttdeci">const char * astman_get_header(const struct message *m, char *var)</div><div class="ttdoc">Get header from mananger transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02820">manager.c:2820</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="pbx_8h_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="func__strings_8c_html_a7f763283c27da5574f6f8d1b2a2b9288"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a></div><div class="ttdeci">static int replace(struct ast_channel *chan, const char *cmd, char *data, struct ast_str **buf, ssize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00790">func_strings.c:790</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="pbx_8h_html_a3be3741c204cd685110243af9daec104"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a></div><div class="ttdeci">int ast_add_extension2(struct ast_context *con, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar, const char *registrar_file, int registrar_line)</div><div class="ttdoc">Add an extension to an extension context, this time with an ast_context *. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07299">pbx.c:7299</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga31a02a7d3cc36aa66ebebdedfc574d1c"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a></div><div class="ttdeci">void astman_send_error(struct mansession *s, const struct message *m, char *error)</div><div class="ttdoc">Send error in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03159">manager.c:3159</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3d372bd9db95d3c23b20512a7ce254f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d372bd9db95d3c23b20512a7ce254f">&#9670;&nbsp;</a></span>manager_dialplan_extension_remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int manager_dialplan_extension_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00502">502</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04957">ast_context_remove_extension_callerid()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02820">astman_get_header()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03191">astman_send_ack()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03159">astman_send_error()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">priority</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, and <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Context&quot;</span>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d5a/structextension.html">extension</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Extension&quot;</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(m, <span class="stringliteral">&quot;Priority&quot;</span>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="keywordtype">int</span> ipriority;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="keywordtype">char</span> *cidmatch = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(context) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(extension)) {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Context and Extension must be provided &quot;</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;         <span class="stringliteral">&quot;for DialplanExtensionRemove&quot;</span>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   exten = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(extension);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <span class="keywordflow">if</span> (strchr(exten, <span class="charliteral">&#39;/&#39;</span>)) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      cidmatch = <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;cidmatch, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(priority)) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      ipriority = 0;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<span class="stringliteral">&quot;hint&quot;</span>, priority)) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      ipriority = <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((sscanf(priority, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;ipriority) != 1) || ipriority &lt;= 0) {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;The priority specified was invalid.&quot;</span>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/de0/pbx_8h.html#a85ffdbb47cc54f8d125b4276d6bd3170">ast_context_remove_extension_callerid</a>(context, exten, ipriority,</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;         <span class="comment">/* Do not substitute S_OR; it is not the same thing */</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cidmatch) ? cidmatch : (ipriority ? <span class="stringliteral">&quot;&quot;</span> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;         !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cidmatch) ? 1 : 0, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">if</span> (ipriority) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a>(s, m, <span class="stringliteral">&quot;Removed the requested priority from the extension&quot;</span>);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a>(s, m, <span class="stringliteral">&quot;Removed the requested extension&quot;</span>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(s, m, <span class="stringliteral">&quot;Failed to remove requested extension&quot;</span>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga77315fa8e29950f0c88120501acda0a3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a></div><div class="ttdeci">void astman_send_ack(struct mansession *s, const struct message *m, char *msg)</div><div class="ttdoc">Send ack in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03191">manager.c:3191</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac6a9f3498f9afffecfd78c485af41556"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a></div><div class="ttdeci">const char * astman_get_header(const struct message *m, char *var)</div><div class="ttdoc">Get header from mananger transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02820">manager.c:2820</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="pbx_8h_html_a85ffdbb47cc54f8d125b4276d6bd3170"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a85ffdbb47cc54f8d125b4276d6bd3170">ast_context_remove_extension_callerid</a></div><div class="ttdeci">int ast_context_remove_extension_callerid(const char *context, const char *extension, int priority, const char *callerid, int matchcid, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04957">pbx.c:4957</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga31a02a7d3cc36aa66ebebdedfc574d1c"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a></div><div class="ttdeci">void astman_send_error(struct mansession *s, const struct message *m, char *error)</div><div class="ttdoc">Send error in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03159">manager.c:3159</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8a47febba42ad736c85a10f00f792f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a47febba42ad736c85a10f00f792f0">&#9670;&nbsp;</a></span>partial_match()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int partial_match </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>match the first 'len' chars of word. len==0 always succeeds </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00251">251</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01306">complete_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">complete_dialplan_add_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">complete_dialplan_add_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01277">complete_dialplan_remove_context()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> == 0 || !strncmp(s, <a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>));</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div><div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab852e40dd8f14855804301dc82ff08df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab852e40dd8f14855804301dc82ff08df">&#9670;&nbsp;</a></span>pbx_load_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pbx_load_config </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>config_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">1674</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l07299">ast_add_extension2()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03328">ast_category_browse()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00348">ast_context_add_ignorepat2()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00359">ast_context_add_include2()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00370">ast_context_add_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06272">ast_context_set_autohints()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04978">ast_findlabel_extension2()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00125">ast_opt_dont_warn</a>, <a class="el" href="../../dc/dd5/callerid_8c_source.html#l00947">ast_shrink_phone_number()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00157">ast_skip_blanks()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00219">ast_strip()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00102">autofallthrough_config</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00103">clearglobalvars_config</a>, <a class="el" href="../../d8/d56/cdr__odbc_8c_source.html#l00057">config_file</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00147">ext</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00104">extenpatternmatchnew_config</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00093">ast_variable::file</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">ast_variable::lineno</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00105">overrideswitch_config</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01644">pbx_strsep()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00211">pbx_substitute_variables_helper()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00100">static_config</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00098">userscontext</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00101">write_protect_config</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;{</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;   <span class="keywordtype">char</span> *label;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="preprocessor">#ifdef LOW_MEMORY</span></div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;   <span class="keywordtype">char</span> realvalue[256];</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   <span class="keywordtype">char</span> realvalue[8192];</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;   <span class="keywordtype">int</span> lastpri = -2;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *con;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *cxt;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *aft;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *newpm, *ovsw;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { 0 };</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   <span class="keywordtype">char</span> lastextension[256];</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(<a class="code" href="../../d8/d56/cdr__odbc_8c.html#abb961ff543844412d044d48e6163b3a8">config_file</a>, config_flags);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <span class="keywordflow">if</span> (!cfg || cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>)</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   <span class="comment">/* Use existing config to populate the PBX table */</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   <a class="code" href="../../dd/d9a/pbx__config_8c.html#aacf2e48579f22117914de9de6cfe9132">static_config</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;static&quot;</span>));</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   <a class="code" href="../../dd/d9a/pbx__config_8c.html#afa93406b234607b55f06119bfc160c8d">write_protect_config</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;writeprotect&quot;</span>));</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;   <span class="keywordflow">if</span> ((aft = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;autofallthrough&quot;</span>)))</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      <a class="code" href="../../dd/d9a/pbx__config_8c.html#a2f7b81835c70c096f9e0e668189de837">autofallthrough_config</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(aft);</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;   <span class="keywordflow">if</span> ((newpm = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;extenpatternmatchnew&quot;</span>)))</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <a class="code" href="../../dd/d9a/pbx__config_8c.html#a23e23286ba72830f34d29d3b028c9624">extenpatternmatchnew_config</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(newpm);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;   <a class="code" href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;clearglobalvars&quot;</span>));</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   <span class="keywordflow">if</span> ((ovsw = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;overrideswitch&quot;</span>))) {</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a>) {</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a>);</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      }</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(ovsw)) {</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(ovsw);</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      }</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;   }</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#aad7cf03f8da8d217a3f3e964eda3c263">userscontext</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;userscontext&quot;</span>) ?: <span class="stringliteral">&quot;default&quot;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#aad7cf03f8da8d217a3f3e964eda3c263">userscontext</a>));</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;   <span class="comment">/* ast_variable_browse does not merge multiple [globals] sections */</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;   <span class="keywordflow">for</span> (cxt = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        cxt;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        cxt = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, cxt)) {</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(cxt, <span class="stringliteral">&quot;globals&quot;</span>)) {</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      }</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, cxt); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, realvalue, <span class="keyword">sizeof</span>(realvalue) - 1);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, realvalue);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      }</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;   }</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   <span class="keywordflow">for</span> (cxt = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        cxt;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        cxt = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, cxt)) {</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <span class="comment">/* All categories but &quot;general&quot; or &quot;globals&quot; are considered contexts */</span></div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(cxt, <span class="stringliteral">&quot;general&quot;</span>) || !strcasecmp(cxt, <span class="stringliteral">&quot;globals&quot;</span>)) {</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      }</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      <span class="keywordflow">if</span> (!(con = <a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a>, cxt, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>))) {</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      }</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      <span class="comment">/* Reset continuation items at the beginning of each context */</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      lastextension[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      lastpri = -2;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, cxt); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;         <span class="keywordtype">char</span> *tc = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;         <span class="keywordtype">char</span> realext[256] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;         <span class="keywordtype">char</span> *stringp, *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> *vfile;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;         <span class="comment">/* get filename for error reporting from top level or an #include */</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;         vfile = !*v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a> ? <a class="code" href="../../d8/d56/cdr__odbc_8c.html#abb961ff543844412d044d48e6163b3a8">config_file</a> : v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;         <span class="keywordflow">if</span> (!strncasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;same&quot;</span>, 4)) {</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(lastextension)) {</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                  <span class="stringliteral">&quot;No previous pattern in the first entry of context &#39;%s&#39; to match &#39;%s&#39; at line %d of %s!\n&quot;</span>,</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                  cxt, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            }</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <span class="keywordflow">if</span> ((stringp = tc = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>))) {</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(realext, lastextension, <span class="keyword">sizeof</span>(realext));</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;               <span class="keywordflow">goto</span> process_extension;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;            }</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;exten&quot;</span>)) {</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            <span class="keywordtype">int</span> ipri;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            <span class="keywordtype">char</span> *plus;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            <span class="keywordtype">char</span> *pri, *appl, *data, *cidmatch;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            <span class="keywordflow">if</span> (!(stringp = tc = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>))) {</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            }</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            ext = <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a76db778b44c776c3b6719b8f19f01601">pbx_strsep</a>(&amp;stringp, <span class="stringliteral">&quot;,&quot;</span>), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ext, realext, <span class="keyword">sizeof</span>(realext) - 1);</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(lastextension, realext, <span class="keyword">sizeof</span>(lastextension));</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;process_extension:</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            ipri = -2;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            <span class="keywordflow">if</span> ((cidmatch = strchr(realext, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;               *cidmatch++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;               <a class="code" href="../../de/d47/callerid_8h.html#a6a61669b28d0f994e44db5e3baab6ef2">ast_shrink_phone_number</a>(cidmatch);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            }</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            pri = <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;,&quot;</span>), <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <span class="keywordflow">if</span> ((label = strchr(pri, <span class="charliteral">&#39;(&#39;</span>))) {</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;               *label++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;               <span class="keywordflow">if</span> ((end = strchr(label, <span class="charliteral">&#39;)&#39;</span>))) {</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                  *end = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                     <span class="stringliteral">&quot;Label missing trailing &#39;)&#39; at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                     v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                  <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tc);</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;               }</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            }</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="keywordflow">if</span> ((plus = strchr(pri, <span class="charliteral">&#39;+&#39;</span>))) {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;               *plus++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            }</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            <span class="keywordflow">if</span> (!strcmp(pri,<span class="stringliteral">&quot;hint&quot;</span>)) {</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;               ipri = <a class="code" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(pri, <span class="stringliteral">&quot;next&quot;</span>) || !strcmp(pri, <span class="stringliteral">&quot;n&quot;</span>)) {</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;               <span class="keywordflow">if</span> (lastpri &gt; -2) {</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                  ipri = lastpri + 1;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                     <span class="stringliteral">&quot;Can&#39;t use &#39;next&#39; priority on the first entry at line %d of %s!\n&quot;</span>,</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                     v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                  <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tc);</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;               }</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(pri, <span class="stringliteral">&quot;same&quot;</span>) || !strcmp(pri, <span class="stringliteral">&quot;s&quot;</span>)) {</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;               <span class="keywordflow">if</span> (lastpri &gt; -2) {</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                  ipri = lastpri;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                     <span class="stringliteral">&quot;Can&#39;t use &#39;same&#39; priority on the first entry at line %d of %s!\n&quot;</span>,</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                     v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                  <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tc);</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;               }</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(pri, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;ipri) != 1 &amp;&amp;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                  (ipri = <a class="code" href="../../db/de0/pbx_8h.html#ac9aa64ca24f5c3dc193eddf594599668">ast_findlabel_extension2</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, con, realext, pri, cidmatch)) &lt; 1) {</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                  <span class="stringliteral">&quot;Invalid priority/label &#39;%s&#39; at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                  pri, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;               ipri = 0;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;               <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tc);</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ipri &lt; 1) {</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid priority &#39;%s&#39; at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                  pri, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;               <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tc);</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            }</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            appl = <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(stringp, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            <span class="comment">/* Find the first occurrence of &#39;(&#39; */</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            <span class="keywordflow">if</span> (!strchr(appl, <span class="charliteral">&#39;(&#39;</span>)) {</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;               <span class="comment">/* No arguments */</span></div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;               data = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;               <span class="keywordtype">char</span> *orig_appl = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(appl);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;               <span class="keywordflow">if</span> (!orig_appl) {</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                  <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tc);</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;               }</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;               appl = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;(&quot;</span>);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;               <span class="comment">/* check if there are variables or expressions without an application, like: exten =&gt; 100,hint,DAHDI/g0/${GLOBAL(var)}  */</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;               <span class="keywordflow">if</span> (strstr(appl, <span class="stringliteral">&quot;${&quot;</span>) || strstr(appl, <span class="stringliteral">&quot;$[&quot;</span>)){</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                  <span class="comment">/* set appl to original one */</span></div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                  strcpy(appl, orig_appl);</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                  <span class="comment">/* set no data */</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                  data = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;               <span class="comment">/* no variable before application found -&gt; go ahead */</span></div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                  data = <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(stringp, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                  <span class="keywordflow">if</span> ((end = strrchr(data, <span class="charliteral">&#39;)&#39;</span>))) {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                     *end = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                     <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                        <span class="stringliteral">&quot;No closing parenthesis found? &#39;%s(%s&#39; at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                        appl, data, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                  }</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;               }</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;               <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(orig_appl);</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            }</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            appl = <a class="code" href="../../d6/d90/strings_8h.html#af5693da955fa3bc73bc49c47b601fc7a">ast_skip_blanks</a>(appl);</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <span class="keywordflow">if</span> (ipri) {</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;               <span class="keyword">const</span> <span class="keywordtype">char</span> *registrar_file;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;               <span class="keywordflow">if</span> (plus) {</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                  ipri += atoi(plus);</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;               }</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;               lastpri = ipri;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;               <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d5b/options_8h.html#a5240f07b6ff8003ff47b856d44ef7226">ast_opt_dont_warn</a> &amp;&amp; (!strcmp(realext, <span class="stringliteral">&quot;_.&quot;</span>) || !strcmp(realext, <span class="stringliteral">&quot;_!&quot;</span>))) {</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                     <span class="stringliteral">&quot;The use of &#39;%s&#39; for an extension is strongly discouraged and can have unexpected behavior.  Please use &#39;_X%c&#39; instead at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                     realext, realext[1], v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;               }</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;               <span class="comment">/* Don&#39;t include full path if the configuration file includes slashes */</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;               registrar_file = strrchr(vfile, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;               <span class="keywordflow">if</span> (!registrar_file) {</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                  registrar_file = vfile;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                  registrar_file++; <span class="comment">/* Skip past the end slash */</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;               }</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;               <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a>(con, 0, realext, ipri, label, cidmatch, appl, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(data), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>, registrar_file, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>)) {</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                     <span class="stringliteral">&quot;Unable to register extension at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                     v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;               }</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            }</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tc);</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;include&quot;</span>)) {</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, realvalue, <span class="keyword">sizeof</span>(realvalue) - 1);</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a6bb6a0e021750b75dd126b3ab67b590e">ast_context_add_include2</a>(con, realvalue, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;               <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>) {</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;               <span class="keywordflow">case</span> ENOMEM:</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Out of memory for context addition\n&quot;</span>);</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;               <span class="keywordflow">case</span> EBUSY:</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to lock context(s) list, please try again later\n&quot;</span>);</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;               <span class="keywordflow">case</span> EEXIST:</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                     <span class="stringliteral">&quot;Context &#39;%s&#39; already included in &#39;%s&#39; context on include at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                     v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, cxt, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;               <span class="keywordflow">case</span> ENOENT:</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;               <span class="keywordflow">case</span> EINVAL:</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                     <span class="stringliteral">&quot;There is no existence of context &#39;%s&#39; included at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                     <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> == ENOENT ? v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a> : cxt, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;               <span class="keywordflow">default</span>:</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                     <span class="stringliteral">&quot;Failed to include &#39;%s&#39; in &#39;%s&#39; context at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                     v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, cxt, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;               }</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            }</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;ignorepat&quot;</span>)) {</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, realvalue, <span class="keyword">sizeof</span>(realvalue) - 1);</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#a4ab6344140ca2699e060d29a1ee79bd8">ast_context_add_ignorepat2</a>(con, realvalue, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                  <span class="stringliteral">&quot;Unable to include ignorepat &#39;%s&#39; in context &#39;%s&#39; at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                  v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, cxt, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            }</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;switch&quot;</span>) || !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;lswitch&quot;</span>) || !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;eswitch&quot;</span>)) {</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            <span class="keywordtype">char</span> *appl, *data;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            stringp = realvalue;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;switch&quot;</span>)) {</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;               <a class="code" href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, realvalue, <span class="keyword">sizeof</span>(realvalue) - 1);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(realvalue, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="keyword">sizeof</span>(realvalue));</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;            }</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;            appl = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            data = <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(stringp, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/de0/pbx_8h.html#aa9ee3f64aa47d58dd55633aa8ea30175">ast_context_add_switch2</a>(con, appl, data, !strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;eswitch&quot;</span>), <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>)) {</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                  <span class="stringliteral">&quot;Unable to include switch &#39;%s&#39; in context &#39;%s&#39; at line %d of %s\n&quot;</span>,</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                  v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, cxt, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            }</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;autohints&quot;</span>)) {</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a2002365371f1915bdfda9ae2c039604b">ast_context_set_autohints</a>(con, <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>));</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;               <span class="stringliteral">&quot;==!!== Unknown directive: %s at line %d of %s -- IGNORING!!!\n&quot;</span>,</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;               v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, vfile);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;         }</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      }</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;   }</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a8a2a6b0ac568ababaf78190692d0b9d6"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a></div><div class="ttdeci">static int clearglobalvars_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00103">pbx_config.c:103</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a2f7b81835c70c096f9e0e668189de837"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a2f7b81835c70c096f9e0e668189de837">autofallthrough_config</a></div><div class="ttdeci">static int autofallthrough_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00102">pbx_config.c:102</a></div></div>
<div class="ttc" id="cdr__odbc_8c_html_abb961ff543844412d044d48e6163b3a8"><div class="ttname"><a href="../../d8/d56/cdr__odbc_8c.html#abb961ff543844412d044d48e6163b3a8">config_file</a></div><div class="ttdeci">static const char config_file[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d56/cdr__odbc_8c_source.html#l00057">cdr_odbc.c:57</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aacf2e48579f22117914de9de6cfe9132"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aacf2e48579f22117914de9de6cfe9132">static_config</a></div><div class="ttdeci">static int static_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00100">pbx_config.c:100</a></div></div>
<div class="ttc" id="pbx_8h_html_ac9aa64ca24f5c3dc193eddf594599668"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ac9aa64ca24f5c3dc193eddf594599668">ast_findlabel_extension2</a></div><div class="ttdeci">int ast_findlabel_extension2(struct ast_channel *c, struct ast_context *con, const char *exten, const char *label, const char *callerid)</div><div class="ttdoc">Find the priority of an extension that has the specified label. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04978">extconf.c:4978</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="pbx__config_8c_html_afa93406b234607b55f06119bfc160c8d"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#afa93406b234607b55f06119bfc160c8d">write_protect_config</a></div><div class="ttdeci">static int write_protect_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00101">pbx_config.c:101</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a23e23286ba72830f34d29d3b028c9624"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a23e23286ba72830f34d29d3b028c9624">extenpatternmatchnew_config</a></div><div class="ttdeci">static int extenpatternmatchnew_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00104">pbx_config.c:104</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="structast__variable_html_a501b314f49b3a9ff6e7be599d94686ee"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">ast_variable::lineno</a></div><div class="ttdeci">int lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">include/asterisk/config.h:95</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="pbx_8h_html_aa9ee3f64aa47d58dd55633aa8ea30175"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa9ee3f64aa47d58dd55633aa8ea30175">ast_context_add_switch2</a></div><div class="ttdeci">int ast_context_add_switch2(struct ast_context *con, const char *sw, const char *data, int eval, const char *registrar)</div><div class="ttdoc">Adds a switch (first param is a ast_context) </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00370">ael_main.c:370</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aad7cf03f8da8d217a3f3e964eda3c263"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aad7cf03f8da8d217a3f3e964eda3c263">userscontext</a></div><div class="ttdeci">static char userscontext[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00098">pbx_config.c:98</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1e5e3d08eff5e2357e75c01e127e7922"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a></div><div class="ttdeci">char * ast_category_browse(struct ast_config *config, const char *prev_name)</div><div class="ttdoc">Browse categories. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03328">extconf.c:3328</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="http_8c_html_af9b32121c4ad80b0887a3d73fd24de5f"><div class="ttname"><a href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a></div><div class="ttdeci">const char * ext</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00147">http.c:147</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="pbx_8h_html_a6bb6a0e021750b75dd126b3ab67b590e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6bb6a0e021750b75dd126b3ab67b590e">ast_context_add_include2</a></div><div class="ttdeci">int ast_context_add_include2(struct ast_context *con, const char *include, const char *registrar)</div><div class="ttdoc">Add a context include. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00359">ael_main.c:359</a></div></div>
<div class="ttc" id="options_8h_html_a5240f07b6ff8003ff47b856d44ef7226"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a5240f07b6ff8003ff47b856d44ef7226">ast_opt_dont_warn</a></div><div class="ttdeci">#define ast_opt_dont_warn</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00125">options.h:125</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx_8h_html_ad2e753a683024fad0b34ece3b1aef83a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a></div><div class="ttdeci">#define PRIORITY_HINT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00054">pbx.h:54</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a1d3acbe66f257d6ec70a2c2e7bd7a1fa"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a></div><div class="ttdeci">static char * overrideswitch_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00105">pbx_config.c:105</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="structast__variable_html_af0baa3ccdd9d2a6adf03b72e2bea5789"><div class="ttname"><a href="../../dd/d02/structast__variable.html#af0baa3ccdd9d2a6adf03b72e2bea5789">ast_variable::file</a></div><div class="ttdeci">const char * file</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00093">include/asterisk/config.h:93</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="strings_8h_html_af5693da955fa3bc73bc49c47b601fc7a"><div class="ttname"><a href="../../d6/d90/strings_8h.html#af5693da955fa3bc73bc49c47b601fc7a">ast_skip_blanks</a></div><div class="ttdeci">char * ast_skip_blanks(const char *str)</div><div class="ttdoc">Gets a pointer to the first non-whitespace character in a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00157">strings.h:157</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a76db778b44c776c3b6719b8f19f01601"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a76db778b44c776c3b6719b8f19f01601">pbx_strsep</a></div><div class="ttdeci">static char * pbx_strsep(char **destructible, const char *delim)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01644">pbx_config.c:1644</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aef1908f65d352529fe334d22f9df25cb"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a></div><div class="ttdeci">static struct ast_hashtab * local_table</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00112">pbx_config.c:112</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="pbx_8h_html_a3be3741c204cd685110243af9daec104"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a></div><div class="ttdeci">int ast_add_extension2(struct ast_context *con, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar, const char *registrar_file, int registrar_line)</div><div class="ttdoc">Add an extension to an extension context, this time with an ast_context *. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07299">pbx.c:7299</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a71549c9ba7fb62eeb7c04b697e716543"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a></div><div class="ttdeci">static struct ast_context * local_contexts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00111">pbx_config.c:111</a></div></div>
<div class="ttc" id="pbx_8h_html_af5a13a9ab5aac5bb61e4f98ae7e8d296"><div class="ttname"><a href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a></div><div class="ttdeci">void pbx_substitute_variables_helper(struct ast_channel *c, const char *cp1, char *cp2, int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00211">ael_main.c:211</a></div></div>
<div class="ttc" id="pbx_8h_html_a4ab6344140ca2699e060d29a1ee79bd8"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a4ab6344140ca2699e060d29a1ee79bd8">ast_context_add_ignorepat2</a></div><div class="ttdeci">int ast_context_add_ignorepat2(struct ast_context *con, const char *ignorepat, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00348">ael_main.c:348</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
<div class="ttc" id="pbx_8h_html_a2002365371f1915bdfda9ae2c039604b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2002365371f1915bdfda9ae2c039604b">ast_context_set_autohints</a></div><div class="ttdeci">void ast_context_set_autohints(struct ast_context *con, int enabled)</div><div class="ttdoc">Enable or disable autohints support on a context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06272">pbx.c:6272</a></div></div>
<div class="ttc" id="callerid_8h_html_a6a61669b28d0f994e44db5e3baab6ef2"><div class="ttname"><a href="../../de/d47/callerid_8h.html#a6a61669b28d0f994e44db5e3baab6ef2">ast_shrink_phone_number</a></div><div class="ttdeci">void ast_shrink_phone_number(char *n)</div><div class="ttdoc">Shrink a phone number in place to just digits (more accurately it just removes ()&amp;#39;s, .&amp;#39;s, and -&amp;#39;s... </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd5/callerid_8c_source.html#l00947">callerid.c:947</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cded49ee99bdd58e2bb9f4f7ca3cb77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cded49ee99bdd58e2bb9f4f7ca3cb77">&#9670;&nbsp;</a></span>pbx_load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pbx_load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">2087</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00632">ast_context_verify_includes()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00589">ast_hashtab_compare_contexts()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00261">ast_hashtab_create</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00363">ast_hashtab_destroy()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00596">ast_hashtab_hash_contexts()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00127">ast_hashtab_newsize_java()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00084">ast_hashtab_resize_java()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00639">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00102">autofallthrough_config</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00096">config</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00104">extenpatternmatchnew_config</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00105">overrideswitch_config</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01977">pbx_load_users()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04774">pbx_set_autofallthrough()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04781">pbx_set_extenpatternmatchnew()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04788">pbx_set_overrideswitch()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00109">reload_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01576">handle_cli_dialplan_reload()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02152">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;{</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *con;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ac22c70fa1f010e9d20f54e5a2ac4860d">reload_lock</a>);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a>) {</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      <a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a> = <a class="code" href="../../d6/da0/hashtab_8h.html#ae4ca301bcfd289b81751c34e0c712847">ast_hashtab_create</a>(17, <a class="code" href="../../db/de0/pbx_8h.html#a20a2f5668173430437db02cdd0acc9f3">ast_hashtab_compare_contexts</a>, <a class="code" href="../../d6/da0/hashtab_8h.html#aef63906caa0b965e9c8d8561600038e9">ast_hashtab_resize_java</a>, <a class="code" href="../../d6/da0/hashtab_8h.html#a743bfd52a8c9eb5d939ff5944758d846">ast_hashtab_newsize_java</a>, <a class="code" href="../../db/de0/pbx_8h.html#a56461864a4e21b14e753b78f9ac7afb7">ast_hashtab_hash_contexts</a>, 0);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a>) {</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ac22c70fa1f010e9d20f54e5a2ac4860d">reload_lock</a>);</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;      }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;   }</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d9a/pbx__config_8c.html#ab852e40dd8f14855804301dc82ff08df">pbx_load_config</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a>)) {</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      <a class="code" href="../../d6/da0/hashtab_8h.html#a6103589badf8d9440a0cece2802c4c3a">ast_hashtab_destroy</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;      <a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ac22c70fa1f010e9d20f54e5a2ac4860d">reload_lock</a>);</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;   }</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;   <a class="code" href="../../dd/d9a/pbx__config_8c.html#a107259a531ec907ee5c56fbb4448bc44">pbx_load_users</a>();</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a833a703b21d8f6bcb9f68e57185bca67">ast_merge_contexts_and_delete</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>);</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;   <a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* the local table has been moved into the global one. */</span></div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;   <a class="code" href="../../dd/d9a/pbx__config_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#ac22c70fa1f010e9d20f54e5a2ac4860d">reload_lock</a>);</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;   <span class="keywordflow">for</span> (con = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; (con = <a class="code" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a>(con));)</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#aca6b16b4b7433a12e65103a2f1ab8028">ast_context_verify_includes</a>(con);</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7a46e2644221be6cb7ca7ba2723006cd">pbx_set_overrideswitch</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a>);</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#aeb0407c693573096981db1a00fab4eb8">pbx_set_autofallthrough</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a2f7b81835c70c096f9e0e668189de837">autofallthrough_config</a>);</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a86a7469073a22661d4db7086245c5b18">pbx_set_extenpatternmatchnew</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a23e23286ba72830f34d29d3b028c9624">extenpatternmatchnew_config</a>);</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a20a2f5668173430437db02cdd0acc9f3"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a20a2f5668173430437db02cdd0acc9f3">ast_hashtab_compare_contexts</a></div><div class="ttdeci">int ast_hashtab_compare_contexts(const void *ah_a, const void *ah_b)</div><div class="ttdoc">hashtable functions for contexts </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00589">ael_main.c:589</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ab852e40dd8f14855804301dc82ff08df"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ab852e40dd8f14855804301dc82ff08df">pbx_load_config</a></div><div class="ttdeci">static int pbx_load_config(const char *config_file)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_config.c:1674</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a2f7b81835c70c096f9e0e668189de837"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a2f7b81835c70c096f9e0e668189de837">autofallthrough_config</a></div><div class="ttdeci">static int autofallthrough_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00102">pbx_config.c:102</a></div></div>
<div class="ttc" id="hashtab_8h_html_a743bfd52a8c9eb5d939ff5944758d846"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#a743bfd52a8c9eb5d939ff5944758d846">ast_hashtab_newsize_java</a></div><div class="ttdeci">int ast_hashtab_newsize_java(struct ast_hashtab *tab)</div><div class="ttdoc">Create a prime number roughly 2x the current table size. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00127">hashtab.c:127</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a23e23286ba72830f34d29d3b028c9624"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a23e23286ba72830f34d29d3b028c9624">extenpatternmatchnew_config</a></div><div class="ttdeci">static int extenpatternmatchnew_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00104">pbx_config.c:104</a></div></div>
<div class="ttc" id="pbx_8h_html_a15961c7507a97d62c0a07c3c01bdc369"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a></div><div class="ttdeci">struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00618">conf2ael.c:618</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="hashtab_8h_html_aef63906caa0b965e9c8d8561600038e9"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#aef63906caa0b965e9c8d8561600038e9">ast_hashtab_resize_java</a></div><div class="ttdeci">int ast_hashtab_resize_java(struct ast_hashtab *tab)</div><div class="ttdoc">Determines if a table resize should occur using the Java algorithm (if the table load factor is 75% o...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00084">hashtab.c:84</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a107259a531ec907ee5c56fbb4448bc44"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a107259a531ec907ee5c56fbb4448bc44">pbx_load_users</a></div><div class="ttdeci">static void pbx_load_users(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01977">pbx_config.c:1977</a></div></div>
<div class="ttc" id="pbx_8h_html_a86a7469073a22661d4db7086245c5b18"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a86a7469073a22661d4db7086245c5b18">pbx_set_extenpatternmatchnew</a></div><div class="ttdeci">int pbx_set_extenpatternmatchnew(int newval)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04781">pbx.c:4781</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx_8h_html_aeb0407c693573096981db1a00fab4eb8"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aeb0407c693573096981db1a00fab4eb8">pbx_set_autofallthrough</a></div><div class="ttdeci">int pbx_set_autofallthrough(int newval)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04774">pbx.c:4774</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a1d3acbe66f257d6ec70a2c2e7bd7a1fa"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a></div><div class="ttdeci">static char * overrideswitch_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00105">pbx_config.c:105</a></div></div>
<div class="ttc" id="pbx_8h_html_a833a703b21d8f6bcb9f68e57185bca67"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a833a703b21d8f6bcb9f68e57185bca67">ast_merge_contexts_and_delete</a></div><div class="ttdeci">void ast_merge_contexts_and_delete(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *registrar)</div><div class="ttdoc">Merge the temporary contexts into a global contexts list and delete from the global list the ones tha...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00639">conf2ael.c:639</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ac22c70fa1f010e9d20f54e5a2ac4860d"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ac22c70fa1f010e9d20f54e5a2ac4860d">reload_lock</a></div><div class="ttdeci">static ast_mutex_t reload_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00109">pbx_config.c:109</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aef1908f65d352529fe334d22f9df25cb"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a></div><div class="ttdeci">static struct ast_hashtab * local_table</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00112">pbx_config.c:112</a></div></div>
<div class="ttc" id="pbx_8h_html_a56461864a4e21b14e753b78f9ac7afb7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a56461864a4e21b14e753b78f9ac7afb7">ast_hashtab_hash_contexts</a></div><div class="ttdeci">unsigned int ast_hashtab_hash_contexts(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00596">ael_main.c:596</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a9ee8d742a1fbcff45f97842b92952610"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a9ee8d742a1fbcff45f97842b92952610">config</a></div><div class="ttdeci">static const char config[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00096">pbx_config.c:96</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a71549c9ba7fb62eeb7c04b697e716543"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a></div><div class="ttdeci">static struct ast_context * local_contexts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00111">pbx_config.c:111</a></div></div>
<div class="ttc" id="pbx_8h_html_a7a46e2644221be6cb7ca7ba2723006cd"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7a46e2644221be6cb7ca7ba2723006cd">pbx_set_overrideswitch</a></div><div class="ttdeci">void pbx_set_overrideswitch(const char *newval)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04788">pbx.c:4788</a></div></div>
<div class="ttc" id="hashtab_8h_html_ae4ca301bcfd289b81751c34e0c712847"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#ae4ca301bcfd289b81751c34e0c712847">ast_hashtab_create</a></div><div class="ttdeci">#define ast_hashtab_create(initial_buckets, compare, resize, newsize, hash, do_locking)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00261">hashtab.h:261</a></div></div>
<div class="ttc" id="pbx_8h_html_aca6b16b4b7433a12e65103a2f1ab8028"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aca6b16b4b7433a12e65103a2f1ab8028">ast_context_verify_includes</a></div><div class="ttdeci">int ast_context_verify_includes(struct ast_context *con)</div><div class="ttdoc">Verifies includes in an ast_contect structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00632">conf2ael.c:632</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="hashtab_8h_html_a6103589badf8d9440a0cece2802c4c3a"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#a6103589badf8d9440a0cece2802c4c3a">ast_hashtab_destroy</a></div><div class="ttdeci">void ast_hashtab_destroy(struct ast_hashtab *tab, void(*objdestroyfunc)(void *obj))</div><div class="ttdoc">This func will free the hash table and all its memory. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00363">hashtab.c:363</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a107259a531ec907ee5c56fbb4448bc44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107259a531ec907ee5c56fbb4448bc44">&#9670;&nbsp;</a></span>pbx_load_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pbx_load_users </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01977">1977</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01965">append_interface()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07299">ast_add_extension2()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03328">ast_category_browse()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00684">ast_config_option()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00118">ast_opt_stdexten_macro</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00147">ext</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00098">userscontext</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;{</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;   <span class="keywordtype">char</span> *cat, *chan;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *dahdichan;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *hasexten, *altexts;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[256];</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;   <span class="keywordtype">char</span> iface[256];</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;   <span class="keywordtype">char</span> dahdicopy[256];</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a>, altcopy[256];</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   <span class="keywordtype">int</span> hasvoicemail;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;   <span class="keywordtype">int</span> start, finish, x;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *con = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { 0 };</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;   cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(<span class="stringliteral">&quot;users.conf&quot;</span>, config_flags);</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;   <span class="keywordflow">if</span> (!cfg)</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;   <span class="keywordflow">for</span> (cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); cat ; cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(cfg, cat)) {</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(cat, <span class="stringliteral">&quot;general&quot;</span>))</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      iface[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad9fd2625614158b152434e45acf1d78b">ast_config_option</a>(cfg, cat, <span class="stringliteral">&quot;hassip&quot;</span>))) {</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;         snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;SIP/%s&quot;</span>, cat);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#ad08f3b0d3ed4074ddd8eb8ddcf88f28b">append_interface</a>(iface, <span class="keyword">sizeof</span>(iface), tmp);</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      }</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad9fd2625614158b152434e45acf1d78b">ast_config_option</a>(cfg, cat, <span class="stringliteral">&quot;hasiax&quot;</span>))) {</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;         snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;IAX2/%s&quot;</span>, cat);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#ad08f3b0d3ed4074ddd8eb8ddcf88f28b">append_interface</a>(iface, <span class="keyword">sizeof</span>(iface), tmp);</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      }</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad9fd2625614158b152434e45acf1d78b">ast_config_option</a>(cfg, cat, <span class="stringliteral">&quot;hash323&quot;</span>))) {</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;         snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;H323/%s&quot;</span>, cat);</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;         <a class="code" href="../../dd/d9a/pbx__config_8c.html#ad08f3b0d3ed4074ddd8eb8ddcf88f28b">append_interface</a>(iface, <span class="keyword">sizeof</span>(iface), tmp);</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      }</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      hasexten = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad9fd2625614158b152434e45acf1d78b">ast_config_option</a>(cfg, cat, <span class="stringliteral">&quot;hasexten&quot;</span>);</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      <span class="keywordflow">if</span> (hasexten &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(hasexten))</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      hasvoicemail = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad9fd2625614158b152434e45acf1d78b">ast_config_option</a>(cfg, cat, <span class="stringliteral">&quot;hasvoicemail&quot;</span>));</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      dahdichan = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, cat, <span class="stringliteral">&quot;dahdichan&quot;</span>);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <span class="keywordflow">if</span> (!dahdichan)</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;         dahdichan = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;dahdichan&quot;</span>);</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dahdichan)) {</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(dahdicopy, dahdichan, <span class="keyword">sizeof</span>(dahdicopy));</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;         c = dahdicopy;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;         chan = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;c, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;         <span class="keywordflow">while</span> (chan) {</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            <span class="keywordflow">if</span> (sscanf(chan, <span class="stringliteral">&quot;%30d-%30d&quot;</span>, &amp;start, &amp;finish) == 2) {</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;               <span class="comment">/* Range */</span></div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(chan, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;start)) {</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;               <span class="comment">/* Just one */</span></div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;               finish = start;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;               start = 0; finish = 0;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;            }</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;            <span class="keywordflow">if</span> (finish &lt; start) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;               x = finish;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;               finish = start;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;               start = x;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            }</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            <span class="keywordflow">for</span> (x = start; x &lt;= finish; x++) {</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;               snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;DAHDI/%d&quot;</span>, x);</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;               <a class="code" href="../../dd/d9a/pbx__config_8c.html#ad08f3b0d3ed4074ddd8eb8ddcf88f28b">append_interface</a>(iface, <span class="keyword">sizeof</span>(iface), tmp);</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            }</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;            chan = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;c, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;         }</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      }</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(iface)) {</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;         <span class="comment">/* Only create a context here when it is really needed. Otherwise default empty context</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="comment">         created by pbx_config may conflict with the one explicitly created by pbx_ael */</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;         <span class="keywordflow">if</span> (!con)</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            con = <a class="code" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#aad7cf03f8da8d217a3f3e964eda3c263">userscontext</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>);</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;         <span class="keywordflow">if</span> (!con) {</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Can&#39;t find/create user context &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#aad7cf03f8da8d217a3f3e964eda3c263">userscontext</a>);</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;         }</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;         <span class="comment">/* Add hint */</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a>(con, 0, cat, -1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, iface, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;         <span class="comment">/* If voicemail, use &quot;stdexten&quot; else use plain old dial */</span></div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;         <span class="keywordflow">if</span> (hasvoicemail) {</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#a18103147d6d157816f0d2b12b5b1469b">ast_opt_stdexten_macro</a>) {</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;               <span class="comment">/* Use legacy stdexten macro method. */</span></div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;               snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;stdexten,%s,${HINT}&quot;</span>, cat);</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;               <a class="code" href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a>(con, 0, cat, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Macro&quot;</span>, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(tmp), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;               snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;%s,stdexten(${HINT})&quot;</span>, cat);</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;               <a class="code" href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a>(con, 0, cat, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Gosub&quot;</span>, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(tmp), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            }</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <a class="code" href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a>(con, 0, cat, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;${HINT}&quot;</span>), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;         }</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;         altexts = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, cat, <span class="stringliteral">&quot;alternateexts&quot;</span>);</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(altexts)) {</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;%s,1&quot;</span>, cat);</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(altcopy, altexts, <span class="keyword">sizeof</span>(altcopy));</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            c = altcopy;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            ext = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;c, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            <span class="keywordflow">while</span> (ext) {</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;               <a class="code" href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a>(con, 0, ext, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Goto&quot;</span>, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(tmp), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;               ext = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;c, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            }</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;         }</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      }</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;   }</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aad7cf03f8da8d217a3f3e964eda3c263"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aad7cf03f8da8d217a3f3e964eda3c263">userscontext</a></div><div class="ttdeci">static char userscontext[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00098">pbx_config.c:98</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1e5e3d08eff5e2357e75c01e127e7922"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a></div><div class="ttdeci">char * ast_category_browse(struct ast_config *config, const char *prev_name)</div><div class="ttdoc">Browse categories. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03328">extconf.c:3328</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="http_8c_html_af9b32121c4ad80b0887a3d73fd24de5f"><div class="ttname"><a href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a></div><div class="ttdeci">const char * ext</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00147">http.c:147</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="options_8h_html_a18103147d6d157816f0d2b12b5b1469b"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a18103147d6d157816f0d2b12b5b1469b">ast_opt_stdexten_macro</a></div><div class="ttdeci">#define ast_opt_stdexten_macro</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00118">options.h:118</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="pbx__config_8c_html_ad08f3b0d3ed4074ddd8eb8ddcf88f28b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#ad08f3b0d3ed4074ddd8eb8ddcf88f28b">append_interface</a></div><div class="ttdeci">static void append_interface(char *iface, int maxlen, char *add)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01965">pbx_config.c:1965</a></div></div>
<div class="ttc" id="pbx__config_8c_html_aef1908f65d352529fe334d22f9df25cb"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#aef1908f65d352529fe334d22f9df25cb">local_table</a></div><div class="ttdeci">static struct ast_hashtab * local_table</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00112">pbx_config.c:112</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="pbx_8h_html_a3be3741c204cd685110243af9daec104"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a></div><div class="ttdeci">int ast_add_extension2(struct ast_context *con, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar, const char *registrar_file, int registrar_line)</div><div class="ttdoc">Add an extension to an extension context, this time with an ast_context *. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07299">pbx.c:7299</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a71549c9ba7fb62eeb7c04b697e716543"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a></div><div class="ttdeci">static struct ast_context * local_contexts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00111">pbx_config.c:111</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad9fd2625614158b152434e45acf1d78b"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad9fd2625614158b152434e45acf1d78b">ast_config_option</a></div><div class="ttdeci">const char * ast_config_option(struct ast_config *cfg, const char *cat, const char *var)</div><div class="ttdoc">Retrieve a configuration variable within the configuration set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00684">main/config.c:684</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a07400b41b3302edf8aef9f53644698"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a></div><div class="ttdeci">struct ast_context * ast_context_find_or_create(struct ast_context **extcontexts, struct ast_hashtab *exttable, const char *name, const char *registrar)</div><div class="ttdoc">Register a new context or find an existing one. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06198">pbx.c:6198</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a76db778b44c776c3b6719b8f19f01601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76db778b44c776c3b6719b8f19f01601">&#9670;&nbsp;</a></span>pbx_strsep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pbx_strsep </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>destructible</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>delim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>Protect against misparsing based upon commas in the middle of fields like character classes. We've taken steps to permit pretty much every other printable character in a character class, so properly handling a comma at this level is a natural extension. This is almost like the standard application parser in app.c, except that it handles square brackets. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01644">1644</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;{</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;   <span class="keywordtype">int</span> square = 0;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <span class="keywordtype">char</span> *res;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;   <span class="keywordflow">if</span> (!destructible || !*destructible) {</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;   }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;   res = *destructible;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <span class="keywordflow">for</span> (; **destructible; (*destructible)++) {</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <span class="keywordflow">if</span> (**destructible == <span class="charliteral">&#39;[&#39;</span> &amp;&amp; !strchr(delim, <span class="charliteral">&#39;[&#39;</span>)) {</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;         square++;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (**destructible == <span class="charliteral">&#39;]&#39;</span> &amp;&amp; !strchr(delim, <span class="charliteral">&#39;]&#39;</span>)) {</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;         <span class="keywordflow">if</span> (square) {</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            square--;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;         }</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (**destructible == <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; !strchr(delim, <span class="charliteral">&#39;\\&#39;</span>)) {</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;         (*destructible)++;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strchr(delim, **destructible) &amp;&amp; !square) {</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;         **destructible = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;         (*destructible)++;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      }</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;   }</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   <span class="keywordflow">if</span> (**destructible == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      *destructible = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   }</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1982509765f4870f1f63412a53ea668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1982509765f4870f1f63412a53ea668">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02152">2152</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00315">AST_MODFLAG_DEFAULT</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00103">clearglobalvars_config</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01191">pbx_builtin_clear_globals()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01625">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;{</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a>)</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a92a606276589c513842f0cd7e455126b">pbx_builtin_clear_globals</a>();</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d9a/pbx__config_8c.html#a5cded49ee99bdd58e2bb9f4f7ca3cb77">pbx_load_module</a>();</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;}</div><div class="ttc" id="pbx__config_8c_html_a8a2a6b0ac568ababaf78190692d0b9d6"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a8a2a6b0ac568ababaf78190692d0b9d6">clearglobalvars_config</a></div><div class="ttdeci">static int clearglobalvars_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00103">pbx_config.c:103</a></div></div>
<div class="ttc" id="pbx_8h_html_a92a606276589c513842f0cd7e455126b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a92a606276589c513842f0cd7e455126b">pbx_builtin_clear_globals</a></div><div class="ttdeci">void pbx_builtin_clear_globals(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01191">pbx_variables.c:1191</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a5cded49ee99bdd58e2bb9f4f7ca3cb77"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a5cded49ee99bdd58e2bb9f4f7ca3cb77">pbx_load_module</a></div><div class="ttdeci">static int pbx_load_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_config.c:2087</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa77bc29b6dcf98ceb37fb182138a1ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa77bc29b6dcf98ceb37fb182138a1ace">&#9670;&nbsp;</a></span>skip_words()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* skip_words </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>moves to the n-th word in the string, or empty string if none </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00236">236</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">complete_dialplan_add_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">complete_dialplan_add_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordtype">int</span> in_blank = 0;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordflow">for</span> (;n &amp;&amp; *p; p++) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">if</span> (isblank(*p) <span class="comment">/* XXX order is important */</span> &amp;&amp; !in_blank) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;         n--;  <span class="comment">/* one word is gone */</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;         in_blank = 1;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="comment">/* !is_blank(*p), we know already, &amp;&amp; */</span> in_blank) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         in_blank = 0;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <span class="keywordflow">return</span> p;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a8c5570455969475bfb41e612c2eb37b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c5570455969475bfb41e612c2eb37b1">&#9670;&nbsp;</a></span>split_ec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int split_ec </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **const&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **const&#160;</td>
          <td class="paramname"><em>cid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>split extension@context in two parts, return -1 on error. The return string is malloc'ed and pointed by *ext </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00259">259</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00415">handle_cli_dialplan_remove_extension()</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keywordtype">char</span> *i, *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, *e = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(src); <span class="comment">/* now src is not used anymore */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keywordflow">if</span> (e == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span> -1;  <span class="comment">/* malloc error */</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="comment">/* now, parse values from &#39;exten@context&#39; */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a> = e;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   c = strchr(e, <span class="charliteral">&#39;@&#39;</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="keywordflow">if</span> (c == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <span class="comment">/* no context part */</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      *ctx = <span class="stringliteral">&quot;&quot;</span>;  <span class="comment">/* it is not overwritten, anyways */</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordflow">else</span> {   <span class="comment">/* found context, check for duplicity ... */</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      *c++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      *ctx = <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">if</span> (strchr(c, <span class="charliteral">&#39;@&#39;</span>)) { <span class="comment">/* two @, not allowed */</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(e);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">if</span> (cid &amp;&amp; (i = strchr(e, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      *i++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      *cid = i;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cid) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="comment">/* Signal none detected */</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      *cid = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="http_8c_html_af9b32121c4ad80b0887a3d73fd24de5f"><div class="ttname"><a href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a></div><div class="ttdeci">const char * ext</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00147">http.c:147</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Standard module functions ... </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01625">1625</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01619">AMI_EXTENSION_ADD</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01620">AMI_EXTENSION_REMOVE</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02397">ast_cli_unregister()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00625">ast_context_destroy()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07258">ast_manager_unregister()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00105">overrideswitch_config</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02152">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;{</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a3189e6720486808603d13f5d2b58daf4">ast_cli_unregister</a>(&amp;<a class="code" href="../../dd/d9a/pbx__config_8c.html#a3a72af156eebdb47f94f66a35470ecb5">cli_dialplan_save</a>);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a>);</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   <a class="code" href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a7d1a455e6d10d06b7a729d347077c3b2">cli_pbx_config</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a7d1a455e6d10d06b7a729d347077c3b2">cli_pbx_config</a>));</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a55bfac48d3e8cd6e4816f8b272e44dd0">AMI_EXTENSION_ADD</a>);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<a class="code" href="../../dd/d9a/pbx__config_8c.html#a871d420b8e5ea5b60fa65157f8f3326c">AMI_EXTENSION_REMOVE</a>);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a9546b830c22c693a2baed08e48569401">ast_context_destroy</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a>);</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="cli_8h_html_a3189e6720486808603d13f5d2b58daf4"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a3189e6720486808603d13f5d2b58daf4">ast_cli_unregister</a></div><div class="ttdeci">int ast_cli_unregister(struct ast_cli_entry *e)</div><div class="ttdoc">Unregisters a command or an array of commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/main_2cli_8c_source.html#l02397">main/cli.c:2397</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a871d420b8e5ea5b60fa65157f8f3326c"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a871d420b8e5ea5b60fa65157f8f3326c">AMI_EXTENSION_REMOVE</a></div><div class="ttdeci">#define AMI_EXTENSION_REMOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01620">pbx_config.c:1620</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a55bfac48d3e8cd6e4816f8b272e44dd0"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a55bfac48d3e8cd6e4816f8b272e44dd0">AMI_EXTENSION_ADD</a></div><div class="ttdeci">#define AMI_EXTENSION_ADD</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01619">pbx_config.c:1619</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a13bf015e4a7d8565e759cc9a3bf8bc9b"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a13bf015e4a7d8565e759cc9a3bf8bc9b">registrar</a></div><div class="ttdeci">static const char registrar[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00097">pbx_config.c:97</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a1d3acbe66f257d6ec70a2c2e7bd7a1fa"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">overrideswitch_config</a></div><div class="ttdeci">static char * overrideswitch_config</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00105">pbx_config.c:105</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gafadf012f66a9fd7ecf985ec5b9dee101"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a></div><div class="ttdeci">int ast_manager_unregister(const char *action)</div><div class="ttdoc">Unregister a registered manager command. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07258">manager.c:7258</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a3a72af156eebdb47f94f66a35470ecb5"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a3a72af156eebdb47f94f66a35470ecb5">cli_dialplan_save</a></div><div class="ttdeci">static struct ast_cli_entry cli_dialplan_save</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01616">pbx_config.c:1616</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="pbx__config_8c_html_a7d1a455e6d10d06b7a729d347077c3b2"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a7d1a455e6d10d06b7a729d347077c3b2">cli_pbx_config</a></div><div class="ttdeci">static struct ast_cli_entry cli_pbx_config[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l01605">pbx_config.c:1605</a></div></div>
<div class="ttc" id="pbx_8h_html_a9546b830c22c693a2baed08e48569401"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a9546b830c22c693a2baed08e48569401">ast_context_destroy</a></div><div class="ttdeci">void ast_context_destroy(struct ast_context *con, const char *registrar)</div><div class="ttdoc">Destroy a context (matches the specified context or ANY context if NULL) </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00625">conf2ael.c:625</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;Text Extension Configuration&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02164">2164</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02164">2164</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

</div>
</div>
<a id="a2f7b81835c70c096f9e0e668189de837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f7b81835c70c096f9e0e668189de837">&#9670;&nbsp;</a></span>autofallthrough_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int autofallthrough_config = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00102">102</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>

</div>
</div>
<a id="a8a2a6b0ac568ababaf78190692d0b9d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a2a6b0ac568ababaf78190692d0b9d6">&#9670;&nbsp;</a></span>clearglobalvars_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int clearglobalvars_config = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00103">103</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01576">handle_cli_dialplan_reload()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02152">reload()</a>.</p>

</div>
</div>
<a id="a3a72af156eebdb47f94f66a35470ecb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a72af156eebdb47f94f66a35470ecb5">&#9670;&nbsp;</a></span>cli_dialplan_save</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cli_dialplan_save</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">   { .handler =  <a class="code" href="../../dd/d9a/pbx__config_8c.html#a7c88cc0f438374eacdd9d1d00392dd2c">handle_cli_dialplan_save</a> , .summary =  <span class="stringliteral">&quot;Save current dialplan into a file&quot;</span> ,}</div><div class="ttc" id="pbx__config_8c_html_a7c88cc0f438374eacdd9d1d00392dd2c"><div class="ttname"><a href="../../dd/d9a/pbx__config_8c.html#a7c88cc0f438374eacdd9d1d00392dd2c">handle_cli_dialplan_save</a></div><div class="ttdeci">static char * handle_cli_dialplan_save(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdoc">&amp;#39;save dialplan&amp;#39; CLI command implementation functions ... </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9a/pbx__config_8c_source.html#l00809">pbx_config.c:809</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01616">1616</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

</div>
</div>
<a id="a7d1a455e6d10d06b7a729d347077c3b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d1a455e6d10d06b7a729d347077c3b2">&#9670;&nbsp;</a></span>cli_pbx_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cli_pbx_config[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>CLI entries for commands provided by this module </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01605">1605</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

</div>
</div>
<a id="a9ee8d742a1fbcff45f97842b92952610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ee8d742a1fbcff45f97842b92952610">&#9670;&nbsp;</a></span>config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char config[] = &quot;extensions.conf&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00096">96</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>

</div>
</div>
<a id="a23e23286ba72830f34d29d3b028c9624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23e23286ba72830f34d29d3b028c9624">&#9670;&nbsp;</a></span>extenpatternmatchnew_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int extenpatternmatchnew_config = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00104">104</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>

</div>
</div>
<a id="a71549c9ba7fb62eeb7c04b697e716543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71549c9ba7fb62eeb7c04b697e716543">&#9670;&nbsp;</a></span>local_contexts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a>* local_contexts = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00111">111</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

</div>
</div>
<a id="aef1908f65d352529fe334d22f9df25cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef1908f65d352529fe334d22f9df25cb">&#9670;&nbsp;</a></span>local_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a>* local_table = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00112">112</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00146">pbx_load_module()</a>.</p>

</div>
</div>
<a id="a1d3acbe66f257d6ec70a2c2e7bd7a1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3acbe66f257d6ec70a2c2e7bd7a1fa">&#9670;&nbsp;</a></span>overrideswitch_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* overrideswitch_config = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00105">105</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01625">unload_module()</a>.</p>

</div>
</div>
<a id="a13bf015e4a7d8565e759cc9a3bf8bc9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13bf015e4a7d8565e759cc9a3bf8bc9b">&#9670;&nbsp;</a></span>registrar</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char registrar[] = &quot;pbx_config&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00097">97</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01063">handle_cli_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01338">handle_cli_dialplan_add_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00674">handle_cli_dialplan_add_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00415">handle_cli_dialplan_remove_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01439">handle_cli_dialplan_remove_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00160">handle_cli_dialplan_remove_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01195">manager_dialplan_extension_add()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00502">manager_dialplan_extension_remove()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01977">pbx_load_users()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01625">unload_module()</a>.</p>

</div>
</div>
<a id="ac22c70fa1f010e9d20f54e5a2ac4860d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac22c70fa1f010e9d20f54e5a2ac4860d">&#9670;&nbsp;</a></span>reload_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> reload_lock = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00109">109</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>

</div>
</div>
<a id="ad916c8366b5027888b762aae71fe0af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad916c8366b5027888b762aae71fe0af6">&#9670;&nbsp;</a></span>save_dialplan_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> save_dialplan_lock = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00107">107</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>.</p>

</div>
</div>
<a id="aacf2e48579f22117914de9de6cfe9132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacf2e48579f22117914de9de6cfe9132">&#9670;&nbsp;</a></span>static_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int static_config = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00100">100</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>.</p>

</div>
</div>
<a id="aad7cf03f8da8d217a3f3e964eda3c263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad7cf03f8da8d217a3f3e964eda3c263">&#9670;&nbsp;</a></span>userscontext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char userscontext[<a class="el" href="../../d4/dc5/extconf_8c.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>] = &quot;default&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00098">98</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01977">pbx_load_users()</a>.</p>

</div>
</div>
<a id="afa93406b234607b55f06119bfc160c8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa93406b234607b55f06119bfc160c8d">&#9670;&nbsp;</a></span>write_protect_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int write_protect_config = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00101">101</a> of file <a class="el" href="../../dd/d9a/pbx__config_8c_source.html">pbx_config.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02126">load_module()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:13 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
