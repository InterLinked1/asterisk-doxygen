<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: bridge_roles.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bridge_roles.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Channel Bridging Roles API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/db6/datastore_8h_source.html">asterisk/datastore.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/dff/bridge__roles_8h_source.html">asterisk/bridge_roles.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d0f/stringfields_8h_source.html">asterisk/stringfields.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bridge_roles.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dc2/bridge__roles_8c__incl.png" border="0" usemap="#bridge__roles_8c" alt=""/></div>
<map name="bridge__roles_8c" id="bridge__roles_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="846,453,930,480"/>
<area shape="rect" id="node22" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="723,677,850,704"/>
<area shape="rect" id="node24" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1093,304,1232,331"/>
<area shape="rect" id="node29" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2312,528,2469,555"/>
<area shape="rect" id="node32" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="410,528,561,555"/>
<area shape="rect" id="node38" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="195,379,346,405"/>
<area shape="rect" id="node45" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="635,80,763,107"/>
<area shape="rect" id="node48" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="309,155,475,181"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="660,827,815,853"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1293,528,1430,555"/>
<area shape="rect" id="node20" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="585,528,719,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="664,901,811,928"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="874,677,1017,704"/>
<area shape="rect" id="node23" href="../../d7/d5b/options_8h.html" title="Options provided by main asterisk program. " alt="" coords="723,752,858,779"/>
<area shape="rect" id="node25" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="2068,379,2212,405"/>
<area shape="rect" id="node26" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2083,453,2197,480"/>
<area shape="rect" id="node27" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="730,603,843,629"/>
<area shape="rect" id="node30" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1142,379,1301,405"/>
<area shape="rect" id="node31" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1037,453,1171,480"/>
<area shape="rect" id="node33" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1653,528,1817,555"/>
<area shape="rect" id="node34" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="371,453,498,480"/>
<area shape="rect" id="node35" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="573,453,720,480"/>
<area shape="rect" id="node36" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2237,379,2363,405"/>
<area shape="rect" id="node37" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1376,379,1483,405"/>
<area shape="rect" id="node39" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1507,379,1669,405"/>
<area shape="rect" id="node40" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="896,379,1067,405"/>
<area shape="rect" id="node41" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="755,379,871,405"/>
<area shape="rect" id="node42" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="472,379,629,405"/>
<area shape="rect" id="node43" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1868,379,1993,405"/>
<area shape="rect" id="node44" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1693,379,1843,405"/>
<area shape="rect" id="node28" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="2127,677,2273,704"/>
<area shape="rect" id="node46" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="954,229,1142,256"/>
<area shape="rect" id="node47" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="690,155,875,181"/>
<area shape="rect" id="node49" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="899,155,1010,181"/>
<area shape="rect" id="node50" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="551,155,665,181"/>
</map>
</div>
</div>
<p><a href="../../dd/d13/bridge__roles_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af01f5cb3712ef0b120433da770f645ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#af01f5cb3712ef0b120433da770f645ab">ast_bridge_channel_clear_roles</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="memdesc:af01f5cb3712ef0b120433da770f645ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all roles from a bridge_channel's role list.  <a href="#af01f5cb3712ef0b120433da770f645ab">More...</a><br /></td></tr>
<tr class="separator:af01f5cb3712ef0b120433da770f645ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad449a795348a52aefe000f13a1d015f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#ad449a795348a52aefe000f13a1d015f8">ast_bridge_channel_establish_roles</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="memdesc:ad449a795348a52aefe000f13a1d015f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clone the roles from a bridge_channel's attached <a class="el" href="../../df/d3c/structast__channel.html" title="Main Channel structure associated with a channel. ">ast_channel</a> onto the bridge_channel's role list.  <a href="#ad449a795348a52aefe000f13a1d015f8">More...</a><br /></td></tr>
<tr class="separator:ad449a795348a52aefe000f13a1d015f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac114a541f2409bc882f142162391b6e7"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#ac114a541f2409bc882f142162391b6e7">ast_bridge_channel_get_role_option</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, const char *role_name, const char *option)</td></tr>
<tr class="memdesc:ac114a541f2409bc882f142162391b6e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the value of a requested role option from a bridge channel.  <a href="#ac114a541f2409bc882f142162391b6e7">More...</a><br /></td></tr>
<tr class="separator:ac114a541f2409bc882f142162391b6e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc192ffe6ffc292806e647e0fa9b775e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#abc192ffe6ffc292806e647e0fa9b775e">ast_bridge_channel_has_role</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, const char *role_name)</td></tr>
<tr class="memdesc:abc192ffe6ffc292806e647e0fa9b775e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if a bridge channel inherited a specific role from its channel.  <a href="#abc192ffe6ffc292806e647e0fa9b775e">More...</a><br /></td></tr>
<tr class="separator:abc192ffe6ffc292806e647e0fa9b775e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8511ad15a10f0b6269094ad307ba17a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a8511ad15a10f0b6269094ad307ba17a2">ast_channel_add_bridge_role</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *role_name)</td></tr>
<tr class="memdesc:a8511ad15a10f0b6269094ad307ba17a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a bridge role to a channel.  <a href="#a8511ad15a10f0b6269094ad307ba17a2">More...</a><br /></td></tr>
<tr class="separator:a8511ad15a10f0b6269094ad307ba17a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7bd18b68cbc66bd4ed574ffc3039d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a8f7bd18b68cbc66bd4ed574ffc3039d2">ast_channel_clear_bridge_roles</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a8f7bd18b68cbc66bd4ed574ffc3039d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all bridge roles currently on a channel.  <a href="#a8f7bd18b68cbc66bd4ed574ffc3039d2">More...</a><br /></td></tr>
<tr class="separator:a8f7bd18b68cbc66bd4ed574ffc3039d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c16dcfdabf78d468e98cfe919836bf3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a9c16dcfdabf78d468e98cfe919836bf3">ast_channel_get_role_option</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, const char *role_name, const char *option)</td></tr>
<tr class="memdesc:a9c16dcfdabf78d468e98cfe919836bf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the value of a requested role option from a channel.  <a href="#a9c16dcfdabf78d468e98cfe919836bf3">More...</a><br /></td></tr>
<tr class="separator:a9c16dcfdabf78d468e98cfe919836bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b856fa6db0d3de843aa5a1d89db1154"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a6b856fa6db0d3de843aa5a1d89db1154">ast_channel_has_role</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, const char *role_name)</td></tr>
<tr class="memdesc:a6b856fa6db0d3de843aa5a1d89db1154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a role exists on a channel.  <a href="#a6b856fa6db0d3de843aa5a1d89db1154">More...</a><br /></td></tr>
<tr class="separator:a6b856fa6db0d3de843aa5a1d89db1154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dce43ab7e058fda7576097ab7068ae2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a7dce43ab7e058fda7576097ab7068ae2">ast_channel_remove_bridge_role</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *role_name)</td></tr>
<tr class="memdesc:a7dce43ab7e058fda7576097ab7068ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a bridge role from a channel.  <a href="#a7dce43ab7e058fda7576097ab7068ae2">More...</a><br /></td></tr>
<tr class="separator:a7dce43ab7e058fda7576097ab7068ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c1bc5238aea4e2d19c9894c1b68a457"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, const char *role_name, const char *option, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a3c1bc5238aea4e2d19c9894c1b68a457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a role option on a channel.  <a href="#a3c1bc5238aea4e2d19c9894c1b68a457">More...</a><br /></td></tr>
<tr class="separator:a3c1bc5238aea4e2d19c9894c1b68a457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d1a214d2da9f04e9710592c1bfd316"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a37d1a214d2da9f04e9710592c1bfd316">bridge_role_datastore_destroy</a> (void *data)</td></tr>
<tr class="separator:a37d1a214d2da9f04e9710592c1bfd316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0277f4c1fdae96402e679310a48dce00"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a0277f4c1fdae96402e679310a48dce00">bridge_role_destroy</a> (struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a> *role)</td></tr>
<tr class="separator:a0277f4c1fdae96402e679310a48dce00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46488674ad92ba1e7ed3906413fd1f5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:af46488674ad92ba1e7ed3906413fd1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af15fdd0acdfa1c899439498ef9820021"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#af15fdd0acdfa1c899439498ef9820021">fetch_or_create_bridge_roles_datastore</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:af15fdd0acdfa1c899439498ef9820021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada095ba03be4d06760ab0c96fde6a4e9"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#ada095ba03be4d06760ab0c96fde6a4e9">get_role_from_channel</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, const char *role_name)</td></tr>
<tr class="separator:ada095ba03be4d06760ab0c96fde6a4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6040810d6d269a4234f5a65e1e2f981"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a> (struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore, const char *role_name)</td></tr>
<tr class="separator:af6040810d6d269a4234f5a65e1e2f981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a8f1927159d860393565cb5b9ca457"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a27a8f1927159d860393565cb5b9ca457">get_role_option</a> (struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a> *role, const char *option)</td></tr>
<tr class="separator:a27a8f1927159d860393565cb5b9ca457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92389bef650b27d3d5a9a5b1563bdad2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a92389bef650b27d3d5a9a5b1563bdad2">setup_bridge_role</a> (struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore, const char *role_name)</td></tr>
<tr class="separator:a92389bef650b27d3d5a9a5b1563bdad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1307916af3e510c85a761e3664e6e635"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a1307916af3e510c85a761e3664e6e635">setup_bridge_role_option</a> (struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a> *role, const char *option, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="separator:a1307916af3e510c85a761e3664e6e635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ebdb0757499b151d273bda733a8d821"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#a2ebdb0757499b151d273bda733a8d821">setup_bridge_roles_datastore</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a2ebdb0757499b151d273bda733a8d821"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af989d1f5688ff71c75bb48b841b692c8"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d13/bridge__roles_8c.html#af989d1f5688ff71c75bb48b841b692c8">bridge_role_info</a></td></tr>
<tr class="separator:af989d1f5688ff71c75bb48b841b692c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Channel Bridging Roles API. </p>
<dl class="section author"><dt>Author</dt><dd>Jonathan Rose <a href="#" onclick="location.href='mai'+'lto:'+'jro'+'se'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jrose<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af01f5cb3712ef0b120433da770f645ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af01f5cb3712ef0b120433da770f645ab">&#9670;&nbsp;</a></span>ast_bridge_channel_clear_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_channel_clear_roles </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear all roles from a bridge_channel's role list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>the bridge channel that we are scrubbing</td></tr>
  </table>
  </dd>
</dl>
<p>If roles are already established on a bridge channel, ast_bridge_channel_establish_roles will fail unconditionally without changing any roles. In order to update a bridge channel's roles, they must first be cleared from the bridge channel using this function.</p>
<dl class="section note"><dt>Note</dt><dd>ast_bridge_channel_clear_roles also serves as the destructor for the role list of a bridge channel. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00495">495</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00090">bridge_role_datastore_destroy()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00143">ast_bridge_channel::bridge_roles</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01738">agent_alert()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00447">ast_bridge_channel_establish_roles()</a>, and <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02178">bridge_channel_internal_pull()</a>.</p>
<div class="fragment"><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <a class="code" href="../../dd/d13/bridge__roles_8c.html#a37d1a214d2da9f04e9710592c1bfd316">bridge_role_datastore_destroy</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a37d1a214d2da9f04e9710592c1bfd316"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a37d1a214d2da9f04e9710592c1bfd316">bridge_role_datastore_destroy</a></div><div class="ttdeci">static void bridge_role_datastore_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00090">bridge_roles.c:90</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4730c4489878f1ffcb891c4f7b0f8989"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">ast_bridge_channel::bridge_roles</a></div><div class="ttdeci">struct bridge_roles_datastore * bridge_roles</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00143">bridge_channel.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad449a795348a52aefe000f13a1d015f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad449a795348a52aefe000f13a1d015f8">&#9670;&nbsp;</a></span>ast_bridge_channel_establish_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_channel_establish_roles </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clone the roles from a bridge_channel's attached <a class="el" href="../../df/d3c/structast__channel.html" title="Main Channel structure associated with a channel. ">ast_channel</a> onto the bridge_channel's role list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>The bridge channel that we are preparing</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>This function should always be called when the bridge_channel binds to an <a class="el" href="../../df/d3c/structast__channel.html" title="Main Channel structure associated with a channel. ">ast_channel</a> at some point before the bridge_channel joins or is imparted onto a bridge. Failure to do so will result in an empty role list. While the list remains established, changes to roles on the <a class="el" href="../../df/d3c/structast__channel.html" title="Main Channel structure associated with a channel. ">ast_channel</a> will not propogate to the bridge channel and roles can not be re-established on the bridge channel without first clearing the roles with ast_bridge_roles_bridge_channel_clear_roles. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00447">447</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00495">ast_bridge_channel_clear_roles()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00428">AST_LIST_LAST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00143">ast_bridge_channel::bridge_roles</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00148">fetch_bridge_roles_datastore()</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_role_option::option</a>, <a class="el" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, <a class="el" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00260">setup_bridge_role()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00291">setup_bridge_role_option()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_role_option::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01738">agent_alert()</a>, and <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02235">bridge_channel_internal_push_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a> *role_option;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Attempted to set roles on a bridge channel that has no associated channel. That&#39;s a bad idea.\n&quot;</span>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Attempted to reset roles while roles were already established. Purge existing roles first.\n&quot;</span>);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   roles_datastore = <a class="code" href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="keywordflow">if</span> (!roles_datastore) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="comment">/* No roles to establish. */</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordflow">if</span> (!(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>)))) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;roles_datastore-&gt;<a class="code" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">role_list</a>, role, <a class="code" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">list</a>) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *this_role_copy;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d13/bridge__roles_8c.html#a92389bef650b27d3d5a9a5b1563bdad2">setup_bridge_role</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>, role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>)) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         <span class="comment">/* We need to abandon the copy because we couldn&#39;t setup a role */</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;         <a class="code" href="../../dd/d13/bridge__roles_8c.html#af01f5cb3712ef0b120433da770f645ab">ast_bridge_channel_clear_roles</a>(bridge_channel);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      this_role_copy = <a class="code" href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a>(&amp;bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>-&gt;<a class="code" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">role_list</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">options</a>, role_option, <a class="code" href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">list</a>) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d13/bridge__roles_8c.html#a1307916af3e510c85a761e3664e6e635">setup_bridge_role_option</a>(this_role_copy, role_option-&gt;<a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>, role_option-&gt;<a class="code" href="../../d0/dbf/structbridge__role__option.html#ac835e96f4a17b5b7c61eef01a07670a8">value</a>)) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="comment">/* We need to abandon the copy because we couldn&#39;t setup a role option */</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <a class="code" href="../../dd/d13/bridge__roles_8c.html#af01f5cb3712ef0b120433da770f645ab">ast_bridge_channel_clear_roles</a>(bridge_channel);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;         }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div><div class="ttc" id="bridge__roles_8c_html_af01f5cb3712ef0b120433da770f645ab"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af01f5cb3712ef0b120433da770f645ab">ast_bridge_channel_clear_roles</a></div><div class="ttdeci">void ast_bridge_channel_clear_roles(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Clear all roles from a bridge_channel&amp;#39;s role list. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00495">bridge_roles.c:495</a></div></div>
<div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html_a108fbb06e816e911e60abef6aa3e14ec"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a></div><div class="ttdeci">struct bridge_roles_datastore::@358 role_list</div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_af46488674ad92ba1e7ed3906413fd1f5"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a></div><div class="ttdeci">static struct bridge_roles_datastore * fetch_bridge_roles_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00148">bridge_roles.c:148</a></div></div>
<div class="ttc" id="structbridge__role__option_html"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00044">bridge_roles.c:44</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00058">bridge_roles.c:58</a></div></div>
<div class="ttc" id="structbridge__role__option_html_ac835e96f4a17b5b7c61eef01a07670a8"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac835e96f4a17b5b7c61eef01a07670a8">bridge_role_option::value</a></div><div class="ttdeci">const ast_string_field value</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4730c4489878f1ffcb891c4f7b0f8989"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">ast_bridge_channel::bridge_roles</a></div><div class="ttdeci">struct bridge_roles_datastore * bridge_roles</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00143">bridge_channel.h:143</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a92389bef650b27d3d5a9a5b1563bdad2"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a92389bef650b27d3d5a9a5b1563bdad2">setup_bridge_role</a></div><div class="ttdeci">static int setup_bridge_role(struct bridge_roles_datastore *roles_datastore, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00260">bridge_roles.c:260</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a1e37109bb72d95999821eb45f28c261c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a></div><div class="ttdeci">#define AST_LIST_LAST(head)</div><div class="ttdoc">Returns the last entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00428">linkedlists.h:428</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structbridge__role_html_a1d09e1162d9743e7d53b752e264458cc"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a></div><div class="ttdeci">struct bridge_role::@357 options</div></div>
<div class="ttc" id="structbridge__role_html_a64e4bd0d52d2c8be49413055b7785f86"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">bridge_role::list</a></div><div class="ttdeci">struct bridge_role::@356 list</div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structbridge__role__option_html_ac1820bcac88da94da29266408aad8f62"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">bridge_role_option::option</a></div><div class="ttdeci">const ast_string_field option</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a1307916af3e510c85a761e3664e6e635"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a1307916af3e510c85a761e3664e6e635">setup_bridge_role_option</a></div><div class="ttdeci">static int setup_bridge_role_option(struct bridge_role *role, const char *option, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00291">bridge_roles.c:291</a></div></div>
<div class="ttc" id="structbridge__role__option_html_a07e6c294ac62613b82b37ef0821eca6d"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a></div><div class="ttdeci">struct bridge_role_option::@355 list</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac114a541f2409bc882f142162391b6e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac114a541f2409bc882f142162391b6e7">&#9670;&nbsp;</a></span>ast_bridge_channel_get_role_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_bridge_channel_get_role_option </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the value of a requested role option from a bridge channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>The bridge channel we are retrieving the option from </td></tr>
    <tr><td class="paramname">role_name</td><td>Name of the role the option will be retrieved from </td></tr>
    <tr><td class="paramname">option</td><td>Name of the option we are retrieving the value of</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>If either the role does not exist on the bridge_channel or the role does exist but the option has not been set </td></tr>
    <tr><td class="paramname">The</td><td>value of the option</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>See ast_channel_set_role_option note about the need to call ast_bridge_channel_establish_roles.</dd>
<dd>
The returned character pointer is only valid as long as the bridge_channel is guaranteed to be alive and hasn't had ast_bridge_channel_clear_roles called against it (as this will free all roles and role options in the bridge channel). If you need this value after one of these destruction events occurs, you must make a local copy while it is still valid. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00427">427</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00143">ast_bridge_channel::bridge_roles</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00197">get_role_from_datastore()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00238">get_role_option()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_role_option::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00188">participant_entertainment_start()</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00116">participant_idle_mode_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a> *role_option = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   role = <a class="code" href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>, role_name);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <span class="keywordflow">if</span> (!role) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   role_option = <a class="code" href="../../dd/d13/bridge__roles_8c.html#a27a8f1927159d860393565cb5b9ca457">get_role_option</a>(role, <a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="keywordflow">return</span> role_option ? role_option-&gt;<a class="code" href="../../d0/dbf/structbridge__role__option.html#ac835e96f4a17b5b7c61eef01a07670a8">value</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div><div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_af6040810d6d269a4234f5a65e1e2f981"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a></div><div class="ttdeci">static struct bridge_role * get_role_from_datastore(struct bridge_roles_datastore *roles_datastore, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00197">bridge_roles.c:197</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structbridge__role__option_html"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00044">bridge_roles.c:44</a></div></div>
<div class="ttc" id="structbridge__role__option_html_ac835e96f4a17b5b7c61eef01a07670a8"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac835e96f4a17b5b7c61eef01a07670a8">bridge_role_option::value</a></div><div class="ttdeci">const ast_string_field value</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4730c4489878f1ffcb891c4f7b0f8989"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">ast_bridge_channel::bridge_roles</a></div><div class="ttdeci">struct bridge_roles_datastore * bridge_roles</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00143">bridge_channel.h:143</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a27a8f1927159d860393565cb5b9ca457"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a27a8f1927159d860393565cb5b9ca457">get_role_option</a></div><div class="ttdeci">static struct bridge_role_option * get_role_option(struct bridge_role *role, const char *option)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00238">bridge_roles.c:238</a></div></div>
<div class="ttc" id="structbridge__role__option_html_ac1820bcac88da94da29266408aad8f62"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">bridge_role_option::option</a></div><div class="ttdeci">const ast_string_field option</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc192ffe6ffc292806e647e0fa9b775e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc192ffe6ffc292806e647e0fa9b775e">&#9670;&nbsp;</a></span>ast_bridge_channel_has_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_channel_has_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check to see if a bridge channel inherited a specific role from its channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>The bridge channel being checked </td></tr>
    <tr><td class="paramname">role_name</td><td>Name of the role being checked</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>The bridge channel does not have the requested role </td></tr>
    <tr><td class="paramname">1</td><td>The bridge channel does have the requested role</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Before a bridge_channel can effectively check roles against a bridge, ast_bridge_channel_establish_roles should be called on the bridge_channel so that roles and their respective role options can be copied from the channel datastore into the bridge_channel roles list. Otherwise this function will just return 0 because the list will be NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00418">418</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00143">ast_bridge_channel::bridge_roles</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00197">get_role_from_datastore()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, and <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00244">holding_bridge_join()</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">bridge_roles</a>, role_name) ? 1 : 0;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div><div class="ttc" id="bridge__roles_8c_html_af6040810d6d269a4234f5a65e1e2f981"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a></div><div class="ttdeci">static struct bridge_role * get_role_from_datastore(struct bridge_roles_datastore *roles_datastore, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00197">bridge_roles.c:197</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4730c4489878f1ffcb891c4f7b0f8989"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4730c4489878f1ffcb891c4f7b0f8989">ast_bridge_channel::bridge_roles</a></div><div class="ttdeci">struct bridge_roles_datastore * bridge_roles</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00143">bridge_channel.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8511ad15a10f0b6269094ad307ba17a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8511ad15a10f0b6269094ad307ba17a2">&#9670;&nbsp;</a></span>ast_channel_add_bridge_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_channel_add_bridge_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a bridge role to a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Acquirer of the requested role </td></tr>
    <tr><td class="paramname">role_name</td><td>Name of the role being attached</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00317">317</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00172">fetch_or_create_bridge_roles_datastore()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00197">get_role_from_datastore()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00260">setup_bridge_role()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">add_transferer_role()</a>, <a class="el" href="../../d8/d4f/conf__chan__announce_8c_source.html#l00079">announce_request()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00308">app_control_add_role()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01196">bridge_agent_hold_push()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00192">bridge_stasis_push()</a>, <a class="el" href="../../df/d0c/chan__bridge__media_8c_source.html#l00115">media_request_helper()</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00057">parking_channel_set_roles()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00268">process_options()</a>, and <a class="el" href="../../d9/d44/conf__chan__record_8c_source.html#l00057">rec_request()</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore = <a class="code" href="../../dd/d13/bridge__roles_8c.html#af15fdd0acdfa1c899439498ef9820021">fetch_or_create_bridge_roles_datastore</a>(chan);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keywordflow">if</span> (!roles_datastore) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to set up bridge role datastore on channel %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="comment">/* Check to make sure we aren&#39;t adding a redundant role */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a>(roles_datastore, role_name)) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge role %s is already applied to the channel %s\n&quot;</span>, role_name, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="comment">/* It wasn&#39;t already there, so we can just finish setting it up now. */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d13/bridge__roles_8c.html#a92389bef650b27d3d5a9a5b1563bdad2">setup_bridge_role</a>(roles_datastore, role_name);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="ttc" id="bridge__roles_8c_html_af6040810d6d269a4234f5a65e1e2f981"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a></div><div class="ttdeci">static struct bridge_role * get_role_from_datastore(struct bridge_roles_datastore *roles_datastore, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00197">bridge_roles.c:197</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_af15fdd0acdfa1c899439498ef9820021"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af15fdd0acdfa1c899439498ef9820021">fetch_or_create_bridge_roles_datastore</a></div><div class="ttdeci">static struct bridge_roles_datastore * fetch_or_create_bridge_roles_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00172">bridge_roles.c:172</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00058">bridge_roles.c:58</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a92389bef650b27d3d5a9a5b1563bdad2"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a92389bef650b27d3d5a9a5b1563bdad2">setup_bridge_role</a></div><div class="ttdeci">static int setup_bridge_role(struct bridge_roles_datastore *roles_datastore, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00260">bridge_roles.c:260</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f7bd18b68cbc66bd4ed574ffc3039d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7bd18b68cbc66bd4ed574ffc3039d2">&#9670;&nbsp;</a></span>ast_channel_clear_bridge_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_clear_bridge_roles </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes all bridge roles currently on a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel the roles are being removed from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00360">360</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00071">bridge_role_destroy()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00148">fetch_bridge_roles_datastore()</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, and <a class="el" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00330">app_control_clear_roles()</a>, and <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00284">bridge_stasis_pull()</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;{</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore = <a class="code" href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a>(chan);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="keywordflow">if</span> (!roles_datastore) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">/* The roles datastore didn&#39;t already exist, so there is no need to remove any roles */</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Roles did not exist on channel %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;roles_datastore-&gt;<a class="code" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">role_list</a>, role, <a class="code" href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">list</a>) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Removing bridge role %s from channel %s\n&quot;</span>, role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">list</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <a class="code" href="../../dd/d13/bridge__roles_8c.html#a0277f4c1fdae96402e679310a48dce00">bridge_role_destroy</a>(role);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div><div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html_a108fbb06e816e911e60abef6aa3e14ec"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a></div><div class="ttdeci">struct bridge_roles_datastore::@358 role_list</div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_af46488674ad92ba1e7ed3906413fd1f5"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a></div><div class="ttdeci">static struct bridge_roles_datastore * fetch_bridge_roles_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00148">bridge_roles.c:148</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00058">bridge_roles.c:58</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a0277f4c1fdae96402e679310a48dce00"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a0277f4c1fdae96402e679310a48dce00">bridge_role_destroy</a></div><div class="ttdeci">static void bridge_role_destroy(struct bridge_role *role)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00071">bridge_roles.c:71</a></div></div>
<div class="ttc" id="structbridge__role_html_a64e4bd0d52d2c8be49413055b7785f86"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">bridge_role::list</a></div><div class="ttdeci">struct bridge_role::@356 list</div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c16dcfdabf78d468e98cfe919836bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c16dcfdabf78d468e98cfe919836bf3">&#9670;&nbsp;</a></span>ast_channel_get_role_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_channel_get_role_option </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the value of a requested role option from a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The channel to retrieve the requested option from </td></tr>
    <tr><td class="paramname">role_name</td><td>The role to which the option belongs </td></tr>
    <tr><td class="paramname">option</td><td>The name of the option to retrieve</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>The option does not exist </td></tr>
    <tr><td class="paramname">non-NULL</td><td>The value of the option</td></tr>
  </table>
  </dd>
</dl>
<p>This is an alternative to <a class="el" href="../../dd/d13/bridge__roles_8c.html#ac114a541f2409bc882f142162391b6e7">ast_bridge_channel_get_role_option</a> that is useful if bridge roles have not yet been esstablished on a channel's bridge_channel. A possible example of when this could be used is in a bridge v_table's push() callback. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00403">403</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00221">get_role_from_channel()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00238">get_role_option()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_role_option::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a> *role_option;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   role = <a class="code" href="../../dd/d13/bridge__roles_8c.html#ada095ba03be4d06760ab0c96fde6a4e9">get_role_from_channel</a>(channel, role_name);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="keywordflow">if</span> (!role) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   role_option = <a class="code" href="../../dd/d13/bridge__roles_8c.html#a27a8f1927159d860393565cb5b9ca457">get_role_option</a>(role, <a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="keywordflow">return</span> role_option ? role_option-&gt;<a class="code" href="../../d0/dbf/structbridge__role__option.html#ac835e96f4a17b5b7c61eef01a07670a8">value</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_ada095ba03be4d06760ab0c96fde6a4e9"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#ada095ba03be4d06760ab0c96fde6a4e9">get_role_from_channel</a></div><div class="ttdeci">static struct bridge_role * get_role_from_channel(struct ast_channel *channel, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00221">bridge_roles.c:221</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structbridge__role__option_html"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00044">bridge_roles.c:44</a></div></div>
<div class="ttc" id="structbridge__role__option_html_ac835e96f4a17b5b7c61eef01a07670a8"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac835e96f4a17b5b7c61eef01a07670a8">bridge_role_option::value</a></div><div class="ttdeci">const ast_string_field value</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a27a8f1927159d860393565cb5b9ca457"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a27a8f1927159d860393565cb5b9ca457">get_role_option</a></div><div class="ttdeci">static struct bridge_role_option * get_role_option(struct bridge_role *role, const char *option)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00238">bridge_roles.c:238</a></div></div>
<div class="ttc" id="structbridge__role__option_html_ac1820bcac88da94da29266408aad8f62"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">bridge_role_option::option</a></div><div class="ttdeci">const ast_string_field option</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b856fa6db0d3de843aa5a1d89db1154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b856fa6db0d3de843aa5a1d89db1154">&#9670;&nbsp;</a></span>ast_channel_has_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_channel_has_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a role exists on a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The channel to check </td></tr>
    <tr><td class="paramname">role_name</td><td>The name of the role to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>The requested role does not exist on the channel </td></tr>
    <tr><td class="paramname">1</td><td>The requested role exists on the channel</td></tr>
  </table>
  </dd>
</dl>
<p>This is an alternative to <a class="el" href="../../dd/d13/bridge__roles_8c.html#abc192ffe6ffc292806e647e0fa9b775e">ast_bridge_channel_has_role</a> that is useful if bridge roles have not yet been established on a channel's bridge_channel. A possible example of when this could be used is in a bridge v_table's push() callback. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00398">398</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00221">get_role_from_channel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00192">bridge_stasis_push()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06398">handle_hangup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d13/bridge__roles_8c.html#ada095ba03be4d06760ab0c96fde6a4e9">get_role_from_channel</a>(channel, role_name) ? 1 : 0;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div><div class="ttc" id="bridge__roles_8c_html_ada095ba03be4d06760ab0c96fde6a4e9"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#ada095ba03be4d06760ab0c96fde6a4e9">get_role_from_channel</a></div><div class="ttdeci">static struct bridge_role * get_role_from_channel(struct ast_channel *channel, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00221">bridge_roles.c:221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7dce43ab7e058fda7576097ab7068ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dce43ab7e058fda7576097ab7068ae2">&#9670;&nbsp;</a></span>ast_channel_remove_bridge_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_channel_remove_bridge_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a bridge role from a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel the role is being removed from </td></tr>
    <tr><td class="paramname">role_name</td><td>Name of the role being removed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00336">336</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00071">bridge_role_destroy()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00148">fetch_bridge_roles_datastore()</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, and <a class="el" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01508">attended_transfer_properties_shutdown()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01369">bridge_agent_hold_pull()</a>, and <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01196">bridge_agent_hold_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore = <a class="code" href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a>(chan);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">if</span> (!roles_datastore) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="comment">/* The roles datastore didn&#39;t already exist, so there is no need to remove a role */</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Role %s did not exist on channel %s\n&quot;</span>, role_name, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;roles_datastore-&gt;<a class="code" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">role_list</a>, role, <a class="code" href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">list</a>) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">if</span> (!strcmp(role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>, role_name)) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Removing bridge role %s from channel %s\n&quot;</span>, role_name, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">list</a>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;         <a class="code" href="../../dd/d13/bridge__roles_8c.html#a0277f4c1fdae96402e679310a48dce00">bridge_role_destroy</a>(role);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Role %s did not exist on channel %s\n&quot;</span>, role_name, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div><div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html_a108fbb06e816e911e60abef6aa3e14ec"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a></div><div class="ttdeci">struct bridge_roles_datastore::@358 role_list</div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_af46488674ad92ba1e7ed3906413fd1f5"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a></div><div class="ttdeci">static struct bridge_roles_datastore * fetch_bridge_roles_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00148">bridge_roles.c:148</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00058">bridge_roles.c:58</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a0277f4c1fdae96402e679310a48dce00"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a0277f4c1fdae96402e679310a48dce00">bridge_role_destroy</a></div><div class="ttdeci">static void bridge_role_destroy(struct bridge_role *role)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00071">bridge_roles.c:71</a></div></div>
<div class="ttc" id="structbridge__role_html_a64e4bd0d52d2c8be49413055b7785f86"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">bridge_role::list</a></div><div class="ttdeci">struct bridge_role::@356 list</div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c1bc5238aea4e2d19c9894c1b68a457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c1bc5238aea4e2d19c9894c1b68a457">&#9670;&nbsp;</a></span>ast_channel_set_bridge_role_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_channel_set_bridge_role_option </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a role option on a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel receiving the role option </td></tr>
    <tr><td class="paramname">role_name</td><td>Role the role option is applied to </td></tr>
    <tr><td class="paramname">option</td><td>Name of the option </td></tr>
    <tr><td class="paramname">value</td><td>Value of the option</td></tr>
    <tr><td class="paramname">0</td><td>on success </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00379">379</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00221">get_role_from_channel()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00238">get_role_option()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00291">setup_bridge_role_option()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">add_transferer_role()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01738">agent_alert()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00241">apply_option_entertainment()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00236">apply_option_moh()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01196">bridge_agent_hold_push()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00192">bridge_stasis_push()</a>, and <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00057">parking_channel_set_roles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a> = <a class="code" href="../../dd/d13/bridge__roles_8c.html#ada095ba03be4d06760ab0c96fde6a4e9">get_role_from_channel</a>(channel, role_name);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a> *role_option;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <span class="keywordflow">if</span> (!role) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   role_option = <a class="code" href="../../dd/d13/bridge__roles_8c.html#a27a8f1927159d860393565cb5b9ca457">get_role_option</a>(role, <a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keywordflow">if</span> (role_option) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(role_option, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d13/bridge__roles_8c.html#a1307916af3e510c85a761e3664e6e635">setup_bridge_role_option</a>(role, <a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div><div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_ada095ba03be4d06760ab0c96fde6a4e9"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#ada095ba03be4d06760ab0c96fde6a4e9">get_role_from_channel</a></div><div class="ttdeci">static struct bridge_role * get_role_from_channel(struct ast_channel *channel, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00221">bridge_roles.c:221</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structbridge__role__option_html"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00044">bridge_roles.c:44</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a27a8f1927159d860393565cb5b9ca457"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a27a8f1927159d860393565cb5b9ca457">get_role_option</a></div><div class="ttdeci">static struct bridge_role_option * get_role_option(struct bridge_role *role, const char *option)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00238">bridge_roles.c:238</a></div></div>
<div class="ttc" id="structbridge__role__option_html_ac1820bcac88da94da29266408aad8f62"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">bridge_role_option::option</a></div><div class="ttdeci">const ast_string_field option</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a1307916af3e510c85a761e3664e6e635"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a1307916af3e510c85a761e3664e6e635">setup_bridge_role_option</a></div><div class="ttdeci">static int setup_bridge_role_option(struct bridge_role *role, const char *option, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00291">bridge_roles.c:291</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37d1a214d2da9f04e9710592c1bfd316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37d1a214d2da9f04e9710592c1bfd316">&#9670;&nbsp;</a></span>bridge_role_datastore_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_role_datastore_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00090">90</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00071">bridge_role_destroy()</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, and <a class="el" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00495">ast_bridge_channel_clear_roles()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore = data;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <span class="keywordflow">while</span> ((role = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;roles_datastore-&gt;<a class="code" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">role_list</a>, <a class="code" href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">list</a>))) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="../../dd/d13/bridge__roles_8c.html#a0277f4c1fdae96402e679310a48dce00">bridge_role_destroy</a>(role);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(roles_datastore);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html_a108fbb06e816e911e60abef6aa3e14ec"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a></div><div class="ttdeci">struct bridge_roles_datastore::@358 role_list</div></div>
<div class="ttc" id="structbridge__roles__datastore_html"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00058">bridge_roles.c:58</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a0277f4c1fdae96402e679310a48dce00"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a0277f4c1fdae96402e679310a48dce00">bridge_role_destroy</a></div><div class="ttdeci">static void bridge_role_destroy(struct bridge_role *role)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00071">bridge_roles.c:71</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structbridge__role_html_a64e4bd0d52d2c8be49413055b7785f86"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">bridge_role::list</a></div><div class="ttdeci">struct bridge_role::@356 list</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0277f4c1fdae96402e679310a48dce00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0277f4c1fdae96402e679310a48dce00">&#9670;&nbsp;</a></span>bridge_role_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_role_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a> *&#160;</td>
          <td class="paramname"><em>role</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00071">71</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, and <a class="el" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00360">ast_channel_clear_bridge_roles()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00336">ast_channel_remove_bridge_role()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00090">bridge_role_datastore_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a> *role_option;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   <span class="keywordflow">while</span> ((role_option = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">options</a>, <a class="code" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">list</a>))) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(role_option);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(role_option);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(role);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="ttc" id="structbridge__role__option_html"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00044">bridge_roles.c:44</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structbridge__role_html_a1d09e1162d9743e7d53b752e264458cc"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a></div><div class="ttdeci">struct bridge_role::@357 options</div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
<div class="ttc" id="structbridge__role__option_html_a07e6c294ac62613b82b37ef0821eca6d"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a></div><div class="ttdeci">struct bridge_role_option::@355 list</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af46488674ad92ba1e7ed3906413fd1f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46488674ad92ba1e7ed3906413fd1f5">&#9670;&nbsp;</a></span>fetch_bridge_roles_datastore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a>* fetch_bridge_roles_datastore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00148">148</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00447">ast_bridge_channel_establish_roles()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00360">ast_channel_clear_bridge_roles()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00336">ast_channel_remove_bridge_role()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00172">fetch_or_create_bridge_roles_datastore()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00221">get_role_from_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../dd/d13/bridge__roles_8c.html#af989d1f5688ff71c75bb48b841b692c8">bridge_role_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">return</span> datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_af989d1f5688ff71c75bb48b841b692c8"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af989d1f5688ff71c75bb48b841b692c8">bridge_role_info</a></div><div class="ttdeci">static const struct ast_datastore_info bridge_role_info</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00102">bridge_roles.c:102</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af15fdd0acdfa1c899439498ef9820021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af15fdd0acdfa1c899439498ef9820021">&#9670;&nbsp;</a></span>fetch_or_create_bridge_roles_datastore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a>* fetch_or_create_bridge_roles_datastore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00172">172</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00148">fetch_bridge_roles_datastore()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00117">setup_bridge_roles_datastore()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00317">ast_channel_add_bridge_role()</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   roles_datastore = <a class="code" href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a>(chan);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordflow">if</span> (!roles_datastore) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      roles_datastore = <a class="code" href="../../dd/d13/bridge__roles_8c.html#a2ebdb0757499b151d273bda733a8d821">setup_bridge_roles_datastore</a>(chan);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keywordflow">return</span> roles_datastore;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_af46488674ad92ba1e7ed3906413fd1f5"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a></div><div class="ttdeci">static struct bridge_roles_datastore * fetch_bridge_roles_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00148">bridge_roles.c:148</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00058">bridge_roles.c:58</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_a2ebdb0757499b151d273bda733a8d821"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a2ebdb0757499b151d273bda733a8d821">setup_bridge_roles_datastore</a></div><div class="ttdeci">static struct bridge_roles_datastore * setup_bridge_roles_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00117">bridge_roles.c:117</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ada095ba03be4d06760ab0c96fde6a4e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada095ba03be4d06760ab0c96fde6a4e9">&#9670;&nbsp;</a></span>get_role_from_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a>* get_role_from_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00221">221</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00148">fetch_bridge_roles_datastore()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00197">get_role_from_datastore()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00403">ast_channel_get_role_option()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00398">ast_channel_has_role()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00379">ast_channel_set_bridge_role_option()</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore = <a class="code" href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a>(channel);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   <span class="keywordflow">return</span> roles_datastore ? <a class="code" href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a>(roles_datastore, role_name) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div><div class="ttc" id="bridge__roles_8c_html_af6040810d6d269a4234f5a65e1e2f981"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af6040810d6d269a4234f5a65e1e2f981">get_role_from_datastore</a></div><div class="ttdeci">static struct bridge_role * get_role_from_datastore(struct bridge_roles_datastore *roles_datastore, const char *role_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00197">bridge_roles.c:197</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__roles_8c_html_af46488674ad92ba1e7ed3906413fd1f5"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af46488674ad92ba1e7ed3906413fd1f5">fetch_bridge_roles_datastore</a></div><div class="ttdeci">static struct bridge_roles_datastore * fetch_bridge_roles_datastore(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00148">bridge_roles.c:148</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00058">bridge_roles.c:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6040810d6d269a4234f5a65e1e2f981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6040810d6d269a4234f5a65e1e2f981">&#9670;&nbsp;</a></span>get_role_from_datastore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a>* get_role_from_datastore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *&#160;</td>
          <td class="paramname"><em>roles_datastore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00197">197</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, and <a class="el" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00427">ast_bridge_channel_get_role_option()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00418">ast_bridge_channel_has_role()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00317">ast_channel_add_bridge_role()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00221">get_role_from_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;roles_datastore-&gt;<a class="code" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">role_list</a>, role, <a class="code" href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">list</a>) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">if</span> (!strcmp(role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>, role_name)) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div><div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html_a108fbb06e816e911e60abef6aa3e14ec"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a></div><div class="ttdeci">struct bridge_roles_datastore::@358 role_list</div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structbridge__role_html_a64e4bd0d52d2c8be49413055b7785f86"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">bridge_role::list</a></div><div class="ttdeci">struct bridge_role::@356 list</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27a8f1927159d860393565cb5b9ca457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a8f1927159d860393565cb5b9ca457">&#9670;&nbsp;</a></span>get_role_option()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a>* get_role_option </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a> *&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00238">238</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_role_option::option</a>, and <a class="el" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00427">ast_bridge_channel_get_role_option()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00403">ast_channel_get_role_option()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00379">ast_channel_set_bridge_role_option()</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a> *role_option = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">options</a>, role_option, <a class="code" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">list</a>) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordflow">if</span> (!strcmp(role_option-&gt;<a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>, <a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>)) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;         <span class="keywordflow">return</span> role_option;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structbridge__role__option_html"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00044">bridge_roles.c:44</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structbridge__role_html_a1d09e1162d9743e7d53b752e264458cc"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a></div><div class="ttdeci">struct bridge_role::@357 options</div></div>
<div class="ttc" id="structbridge__role__option_html_ac1820bcac88da94da29266408aad8f62"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">bridge_role_option::option</a></div><div class="ttdeci">const ast_string_field option</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
<div class="ttc" id="structbridge__role__option_html_a07e6c294ac62613b82b37ef0821eca6d"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a></div><div class="ttdeci">struct bridge_role_option::@355 list</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92389bef650b27d3d5a9a5b1563bdad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92389bef650b27d3d5a9a5b1563bdad2">&#9670;&nbsp;</a></span>setup_bridge_role()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int setup_bridge_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *&#160;</td>
          <td class="paramname"><em>roles_datastore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>role_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00260">260</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, <a class="el" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_role::role</a>, and <a class="el" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00447">ast_bridge_channel_establish_roles()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00317">ast_channel_add_bridge_role()</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d66/structbridge__role.html">bridge_role</a> *<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   role = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*role));</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordflow">if</span> (!role) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">options</a>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>, role_name, <span class="keyword">sizeof</span>(role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">role</a>));</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;roles_datastore-&gt;<a class="code" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">role_list</a>, role, <a class="code" href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">list</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Set role &#39;%s&#39;\n&quot;</span>, role_name);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="ttc" id="structbridge__role_html_a8bc65efeeb9ecfa300b247197a7a6dd9"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a8bc65efeeb9ecfa300b247197a7a6dd9">bridge_role::role</a></div><div class="ttdeci">char role[AST_ROLE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00055">bridge_roles.c:55</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html_a108fbb06e816e911e60abef6aa3e14ec"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a></div><div class="ttdeci">struct bridge_roles_datastore::@358 role_list</div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structbridge__role_html"><div class="ttname"><a href="../../d4/d66/structbridge__role.html">bridge_role</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00052">bridge_roles.c:52</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structbridge__role_html_a1d09e1162d9743e7d53b752e264458cc"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a></div><div class="ttdeci">struct bridge_role::@357 options</div></div>
<div class="ttc" id="structbridge__role_html_a64e4bd0d52d2c8be49413055b7785f86"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a64e4bd0d52d2c8be49413055b7785f86">bridge_role::list</a></div><div class="ttdeci">struct bridge_role::@356 list</div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1307916af3e510c85a761e3664e6e635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1307916af3e510c85a761e3664e6e635">&#9670;&nbsp;</a></span>setup_bridge_role_option()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int setup_bridge_role_option </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d66/structbridge__role.html">bridge_role</a> *&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00291">291</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a>, and <a class="el" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00447">ast_bridge_channel_establish_roles()</a>, and <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00379">ast_channel_set_bridge_role_option()</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a> *role_option;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   role_option = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*role_option));</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordflow">if</span> (!role_option) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(role_option, 32)) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(role_option);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(role_option, <a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>, <a class="code" href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">option</a>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(role_option, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;role-&gt;<a class="code" href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">options</a>, role_option, <a class="code" href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">list</a>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div><div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structbridge__role__option_html"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html">bridge_role_option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00044">bridge_roles.c:44</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structbridge__role_html_a1d09e1162d9743e7d53b752e264458cc"><div class="ttname"><a href="../../d4/d66/structbridge__role.html#a1d09e1162d9743e7d53b752e264458cc">bridge_role::options</a></div><div class="ttdeci">struct bridge_role::@357 options</div></div>
<div class="ttc" id="structbridge__role__option_html_ac1820bcac88da94da29266408aad8f62"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#ac1820bcac88da94da29266408aad8f62">bridge_role_option::option</a></div><div class="ttdeci">const ast_string_field option</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00049">bridge_roles.c:49</a></div></div>
<div class="ttc" id="structbridge__role__option_html_a07e6c294ac62613b82b37ef0821eca6d"><div class="ttname"><a href="../../d0/dbf/structbridge__role__option.html#a07e6c294ac62613b82b37ef0821eca6d">bridge_role_option::list</a></div><div class="ttdeci">struct bridge_role_option::@355 list</div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ebdb0757499b151d273bda733a8d821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ebdb0757499b151d273bda733a8d821">&#9670;&nbsp;</a></span>setup_bridge_roles_datastore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a>* setup_bridge_roles_datastore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00117">117</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00172">fetch_or_create_bridge_roles_datastore()</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a> *roles_datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../dd/d13/bridge__roles_8c.html#af989d1f5688ff71c75bb48b841b692c8">bridge_role_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="keywordflow">if</span> (!(roles_datastore = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*roles_datastore)))) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;roles_datastore-&gt;<a class="code" href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">role_list</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = roles_datastore;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordflow">return</span> roles_datastore;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="ttc" id="bridge__roles_8c_html_af989d1f5688ff71c75bb48b841b692c8"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#af989d1f5688ff71c75bb48b841b692c8">bridge_role_info</a></div><div class="ttdeci">static const struct ast_datastore_info bridge_role_info</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00102">bridge_roles.c:102</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html_a108fbb06e816e911e60abef6aa3e14ec"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html#a108fbb06e816e911e60abef6aa3e14ec">bridge_roles_datastore::role_list</a></div><div class="ttdeci">struct bridge_roles_datastore::@358 role_list</div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="structbridge__roles__datastore_html"><div class="ttname"><a href="../../d8/d71/structbridge__roles__datastore.html">bridge_roles_datastore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00058">bridge_roles.c:58</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af989d1f5688ff71c75bb48b841b692c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af989d1f5688ff71c75bb48b841b692c8">&#9670;&nbsp;</a></span>bridge_role_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> bridge_role_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;bridge roles&quot;</span>,</div><div class="line">   .destroy = <a class="code" href="../../dd/d13/bridge__roles_8c.html#a37d1a214d2da9f04e9710592c1bfd316">bridge_role_datastore_destroy</a>,</div><div class="line">}</div><div class="ttc" id="bridge__roles_8c_html_a37d1a214d2da9f04e9710592c1bfd316"><div class="ttname"><a href="../../dd/d13/bridge__roles_8c.html#a37d1a214d2da9f04e9710592c1bfd316">bridge_role_datastore_destroy</a></div><div class="ttdeci">static void bridge_role_datastore_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00090">bridge_roles.c:90</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00102">102</a> of file <a class="el" href="../../dd/d13/bridge__roles_8c_source.html">bridge_roles.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:54 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
