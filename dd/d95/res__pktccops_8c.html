<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_pktccops.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_pktccops.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>PacketCable COPS.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../de/df7/time_8h_source.html">time.h</a>&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d5b/options_8h_source.html">asterisk/options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d79/pktccops_8h_source.html">asterisk/pktccops.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_pktccops.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dfd/res__pktccops_8c__incl.png" border="0" usemap="#res__pktccops_8c" alt=""/></div>
<map name="res__pktccops_8c" id="res__pktccops_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="2187,453,2271,480"/>
<area shape="rect" id="node15" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1355,528,1418,555"/>
<area shape="rect" id="node20" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="2761,80,2868,107"/>
<area shape="rect" id="node22" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="963,528,1090,555"/>
<area shape="rect" id="node23" href="../../d7/d5b/options_8h.html" title="Options provided by main asterisk program. " alt="" coords="959,603,1094,629"/>
<area shape="rect" id="node24" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="975,155,1113,181"/>
<area shape="rect" id="node27" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1166,453,1279,480"/>
<area shape="rect" id="node35" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1105,304,1231,331"/>
<area shape="rect" id="node45" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="606,80,717,107"/>
<area shape="rect" id="node48" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="2020,155,2156,181"/>
<area shape="rect" id="node49" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="776,155,877,181"/>
<area shape="rect" id="node50" href="../../dc/d79/pktccops_8h.html" title="PacketCable COPS. " alt="" coords="3198,80,3343,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1309,677,1464,704"/>
<area shape="rect" id="node4" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="2011,528,2149,555"/>
<area shape="rect" id="node11" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="2173,528,2307,555"/>
<area shape="rect" id="node17" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1149,603,1296,629"/>
<area shape="rect" id="node25" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1565,304,1709,331"/>
<area shape="rect" id="node26" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1412,379,1527,405"/>
<area shape="rect" id="node28" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="399,453,556,480"/>
<area shape="rect" id="node29" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1658,379,1817,405"/>
<area shape="rect" id="node30" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="946,304,1081,331"/>
<area shape="rect" id="node31" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="682,379,833,405"/>
<area shape="rect" id="node32" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1105,229,1269,256"/>
<area shape="rect" id="node33" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="795,304,922,331"/>
<area shape="rect" id="node34" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="195,229,341,256"/>
<area shape="rect" id="node36" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1293,229,1400,256"/>
<area shape="rect" id="node37" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="569,304,719,331"/>
<area shape="rect" id="node38" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1425,229,1586,256"/>
<area shape="rect" id="node39" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1985,379,2156,405"/>
<area shape="rect" id="node40" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1887,229,2003,256"/>
<area shape="rect" id="node42" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="619,229,776,256"/>
<area shape="rect" id="node43" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1307,304,1432,331"/>
<area shape="rect" id="node44" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1610,229,1761,256"/>
<area shape="rect" id="node41" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1892,304,2055,331"/>
<area shape="rect" id="node46" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="421,155,547,181"/>
<area shape="rect" id="node47" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="571,155,751,181"/>
</map>
</div>
</div>
<p><a href="../../dd/d95/res__pktccops_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d20/structcmts__list.html">cmts_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dae/structcops__cmts.html">cops_cmts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/structcops__ippool.html">cops_ippool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/ddd/structcopsmsg.html">copsmsg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d68/structgate__list.html">gate_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d88/structgatespec.html">gatespec</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddd/structippool__list.html">ippool_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d6b/structpktcobj.html">pktcobj</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a805616595a796949ade4a78edc628f99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a805616595a796949ade4a78edc628f99">AST_API_MODULE</a></td></tr>
<tr class="separator:a805616595a796949ade4a78edc628f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9687decc6b56be065e998ce4b7c5f93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ad9687decc6b56be065e998ce4b7c5f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309961418c0533b0141f06af04cc8ea3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a309961418c0533b0141f06af04cc8ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212347adec5e2951ca423d9fff98c7af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a212347adec5e2951ca423d9fff98c7af">DEFAULT_COPS_PORT</a>&#160;&#160;&#160;&quot;2126&quot;</td></tr>
<tr class="separator:a212347adec5e2951ca423d9fff98c7af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bafab75e815af26a31a45db6a452d58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a0bafab75e815af26a31a45db6a452d58">GATE_INFO_OBJ_SIZE</a>&#160;&#160;&#160;24</td></tr>
<tr class="separator:a0bafab75e815af26a31a45db6a452d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be4d61fe990ec0674ffdb3481b92279"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a5be4d61fe990ec0674ffdb3481b92279">GATE_SET_OBJ_SIZE</a>&#160;&#160;&#160;144</td></tr>
<tr class="separator:a5be4d61fe990ec0674ffdb3481b92279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae763f54c6bc8d21ffce7d04e403f103f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ae763f54c6bc8d21ffce7d04e403f103f">GATEID_OBJ_SIZE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ae763f54c6bc8d21ffce7d04e403f103f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837b9ad6c59c9e5b18eae647c32faa79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a837b9ad6c59c9e5b18eae647c32faa79">PKTCCOPS_DESTROY_CURRENT_GATE</a></td></tr>
<tr class="separator:a837b9ad6c59c9e5b18eae647c32faa79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bd5ff70af3f4daccdd0ba07ed8b403"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ae2bd5ff70af3f4daccdd0ba07ed8b403">PKTCCOPS_SCOMMAND_GATE_ALLOC</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ae2bd5ff70af3f4daccdd0ba07ed8b403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57183605128df3ff140fd35ff0e10a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#aa57183605128df3ff140fd35ff0e10a4">PKTCCOPS_SCOMMAND_GATE_ALLOC_ACK</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aa57183605128df3ff140fd35ff0e10a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70fa26e93bff69e056e9a6e2d2fd9d56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a70fa26e93bff69e056e9a6e2d2fd9d56">PKTCCOPS_SCOMMAND_GATE_ALLOC_ERR</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a70fa26e93bff69e056e9a6e2d2fd9d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac024f2afafad3055f066a0e76fc5e25d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ac024f2afafad3055f066a0e76fc5e25d">PKTCCOPS_SCOMMAND_GATE_CLOSE</a>&#160;&#160;&#160;14</td></tr>
<tr class="separator:ac024f2afafad3055f066a0e76fc5e25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17eb9d43434b24cd5ad9feaef5ec9a11"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a17eb9d43434b24cd5ad9feaef5ec9a11">PKTCCOPS_SCOMMAND_GATE_DELETE</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a17eb9d43434b24cd5ad9feaef5ec9a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e882b88e15345d5f9b173868b78336e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a8e882b88e15345d5f9b173868b78336e">PKTCCOPS_SCOMMAND_GATE_DELETE_ACK</a>&#160;&#160;&#160;11</td></tr>
<tr class="separator:a8e882b88e15345d5f9b173868b78336e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee6f237c0ebaa075e0e25d6b0659da8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a0ee6f237c0ebaa075e0e25d6b0659da8">PKTCCOPS_SCOMMAND_GATE_DELETE_ERR</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a0ee6f237c0ebaa075e0e25d6b0659da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe07e48307f55bc6e20c9b1f1ab7b3eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#afe07e48307f55bc6e20c9b1f1ab7b3eb">PKTCCOPS_SCOMMAND_GATE_INFO</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:afe07e48307f55bc6e20c9b1f1ab7b3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5025c883c4d60b7302348e1f3c01874"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ab5025c883c4d60b7302348e1f3c01874">PKTCCOPS_SCOMMAND_GATE_INFO_ACK</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ab5025c883c4d60b7302348e1f3c01874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05240eb7dbfe29c7dd6ff351d991c20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ad05240eb7dbfe29c7dd6ff351d991c20">PKTCCOPS_SCOMMAND_GATE_INFO_ERR</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:ad05240eb7dbfe29c7dd6ff351d991c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b12441f968f5875f3641fed26ae6f30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a5b12441f968f5875f3641fed26ae6f30">PKTCCOPS_SCOMMAND_GATE_OPEN</a>&#160;&#160;&#160;13</td></tr>
<tr class="separator:a5b12441f968f5875f3641fed26ae6f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5680e534dc6b5bd68cb0720a8a41a08d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a5680e534dc6b5bd68cb0720a8a41a08d">PKTCCOPS_SCOMMAND_GATE_SET</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a5680e534dc6b5bd68cb0720a8a41a08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa623eeb82076a14a15a48747e963bb78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#aa623eeb82076a14a15a48747e963bb78">PKTCCOPS_SCOMMAND_GATE_SET_ACK</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aa623eeb82076a14a15a48747e963bb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e986cb63dec812973ca08aaee4da559"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a3e986cb63dec812973ca08aaee4da559">PKTCCOPS_SCOMMAND_GATE_SET_ERR</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a3e986cb63dec812973ca08aaee4da559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdcb7a75bff682373cde821d5e0c1af1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#acdcb7a75bff682373cde821d5e0c1af1">SENDFLAGS</a>&#160;&#160;&#160;MSG_NOSIGNAL | MSG_DONTWAIT</td></tr>
<tr class="separator:acdcb7a75bff682373cde821d5e0c1af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9bcfd10c265586a081834456132412"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *<a class="el" href="../../df/d3c/optional__api_8h.html#abe6ec88934f99eb74444f6c4a92353ec">AST_OPTIONAL_API_NAME</a>()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#adf9bcfd10c265586a081834456132412">ast_pktccops_gate_alloc</a> (int cmd, struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate, uint32_t mta, uint32_t actcount, float bitrate, uint32_t psize, uint32_t ssip, uint16_t ssport, int(*const got_dq_gi)(struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate), int(*const gate_remove)(struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate))</td></tr>
<tr class="separator:adf9bcfd10c265586a081834456132412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2ff650b210c03f9713fe20057fc0a62"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ad2ff650b210c03f9713fe20057fc0a62">cops_connect</a> (char *<a class="el" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a>, char *port)</td></tr>
<tr class="separator:ad2ff650b210c03f9713fe20057fc0a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d61fa8d5856353ba6e4b2227d08c04"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#af8d61fa8d5856353ba6e4b2227d08c04">cops_construct_gate</a> (int cmd, char *p, uint16_t trid, uint32_t mtahost, uint32_t actcount, float rate, uint32_t psizegateid, uint32_t ssip, uint16_t ssport, uint32_t gateid, struct <a class="el" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *cmts)</td></tr>
<tr class="separator:af8d61fa8d5856353ba6e4b2227d08c04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0a47541277cb89dfe39e2049def8db"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a5e0a47541277cb89dfe39e2049def8db">cops_constructgatespec</a> (struct <a class="el" href="../../de/d88/structgatespec.html">gatespec</a> *gs, char *res)</td></tr>
<tr class="separator:a5e0a47541277cb89dfe39e2049def8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f1171973a38a84d5bcc5edfa5beb80"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a> (struct <a class="el" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> *p)</td></tr>
<tr class="separator:aa6f1171973a38a84d5bcc5edfa5beb80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2becc57e197b5c565aa7e8ecb5f1d4bf"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a> (int cmd, struct <a class="el" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *cmts, uint16_t trid, uint32_t mta, uint32_t actcount, float bitrate, uint32_t psize, uint32_t ssip, uint16_t ssport, struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate)</td></tr>
<tr class="separator:a2becc57e197b5c565aa7e8ecb5f1d4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a9e37fe49f341daea47eb45f76c09a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a15a9e37fe49f341daea47eb45f76c09a">cops_getmsg</a> (int sfd, struct <a class="el" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> *recmsg)</td></tr>
<tr class="separator:a15a9e37fe49f341daea47eb45f76c09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237d13455ad14b4dd53e792482d1a273"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a237d13455ad14b4dd53e792482d1a273">cops_sendmsg</a> (int sfd, struct <a class="el" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> *sendmsg)</td></tr>
<tr class="separator:a237d13455ad14b4dd53e792482d1a273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423fd5596304dbd1b9b4819c051394ac"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a423fd5596304dbd1b9b4819c051394ac">do_pktccops</a> (void *data)</td></tr>
<tr class="separator:a423fd5596304dbd1b9b4819c051394ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72572b3e361c1acb9e33c23a0f3bfba8"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a72572b3e361c1acb9e33c23a0f3bfba8">ftoieeef</a> (float n)</td></tr>
<tr class="separator:a72572b3e361c1acb9e33c23a0f3bfba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d703272e3b53988e4b90798122f5de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a34d703272e3b53988e4b90798122f5de">load_pktccops_config</a> (void)</td></tr>
<tr class="separator:a34d703272e3b53988e4b90798122f5de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46bde4268185f9608404aa3974bd2fd7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a46bde4268185f9608404aa3974bd2fd7">pktccops_add_ippool</a> (struct <a class="el" href="../../d7/d0a/structcops__ippool.html">cops_ippool</a> *ippool)</td></tr>
<tr class="separator:a46bde4268185f9608404aa3974bd2fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab388481347ed20d65d40e27fe64d357b"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ab388481347ed20d65d40e27fe64d357b">pktccops_debug</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ab388481347ed20d65d40e27fe64d357b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab584240392b16c09f89e38fc1ea02bf2"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ab584240392b16c09f89e38fc1ea02bf2">pktccops_gatedel</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ab584240392b16c09f89e38fc1ea02bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5402ed7b1fdded4088f04f7b1624b4"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#afa5402ed7b1fdded4088f04f7b1624b4">pktccops_gateset</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:afa5402ed7b1fdded4088f04f7b1624b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fdaf830755eb381edf0c171c986735a"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a0fdaf830755eb381edf0c171c986735a">pktccops_show_cmtses</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a0fdaf830755eb381edf0c171c986735a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c4a83e8caebefe1810b029fd3dc048"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ab4c4a83e8caebefe1810b029fd3dc048">pktccops_show_gates</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ab4c4a83e8caebefe1810b029fd3dc048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed74df81c11246497868fe0fd3a5b36"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#afed74df81c11246497868fe0fd3a5b36">pktccops_show_pools</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:afed74df81c11246497868fe0fd3a5b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71bcb3f574341a4ba85b714433a2ea7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#af71bcb3f574341a4ba85b714433a2ea7">pktccops_unregister_cmtses</a> (void)</td></tr>
<tr class="separator:af71bcb3f574341a4ba85b714433a2ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44680ef09261873584f0f46e6530da6e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a44680ef09261873584f0f46e6530da6e">pktccops_unregister_ippools</a> (void)</td></tr>
<tr class="separator:a44680ef09261873584f0f46e6530da6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6ac25ea7536c0bc9ed18cbcf917527"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a> (void)</td></tr>
<tr class="separator:a7c6ac25ea7536c0bc9ed18cbcf917527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a1170a7da979a6e528f76077183323"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#af7a1170a7da979a6e528f76077183323">restart_pktc_thread</a> (void)</td></tr>
<tr class="separator:af7a1170a7da979a6e528f76077183323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> , .description = &quot;PktcCOPS manager for MGCP&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800">AST_MODULE_SUPPORT_EXTENDED</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .<a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> = <a class="el" href="../../d6/d80/test__res__prometheus_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a>, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401756534bead2b1713a65cfcd0e3187"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a401756534bead2b1713a65cfcd0e3187">cli_pktccops</a> []</td></tr>
<tr class="separator:a401756534bead2b1713a65cfcd0e3187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91986b30de8897420eb12362f91143a8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d3/d20/structcmts__list.html">cmts_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a91986b30de8897420eb12362f91143a8">cmts_list</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a91986b30de8897420eb12362f91143a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac395ef2746c735b7ed4de6353c93ce9e"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a> = 0</td></tr>
<tr class="separator:ac395ef2746c735b7ed4de6353c93ce9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8792576edbae0aea0068d6d42712a7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/d68/structgate__list.html">gate_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a5c8792576edbae0aea0068d6d42712a7">gate_list</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a5c8792576edbae0aea0068d6d42712a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4af78c47e048f303a9e03fe61cf5a12"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#aa4af78c47e048f303a9e03fe61cf5a12">gateinfoperiod</a> = 60</td></tr>
<tr class="separator:aa4af78c47e048f303a9e03fe61cf5a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace919fd4851334c636df1e451500ac2d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ace919fd4851334c636df1e451500ac2d">gatetimeout</a> = 150</td></tr>
<tr class="separator:ace919fd4851334c636df1e451500ac2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc1d6a561b6c9272ee1a25dd258310c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/ddd/structippool__list.html">ippool_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a3dc1d6a561b6c9272ee1a25dd258310c">ippool_list</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a3dc1d6a561b6c9272ee1a25dd258310c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad95867633821ba629487d16e630e2fd6"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ad95867633821ba629487d16e630e2fd6">keepalive</a> = 60</td></tr>
<tr class="separator:ad95867633821ba629487d16e630e2fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76e2d013538949ad84385c03861ccef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:ac76e2d013538949ad84385c03861ccef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e759185eb86783f602cfb39f85e1eb"><td class="memItemLeft" align="right" valign="top">static pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a> = <a class="el" href="../../d4/dc5/extconf_8c.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></td></tr>
<tr class="separator:ac1e759185eb86783f602cfb39f85e1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1020c4cdb97b360a619f4c1263d916e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#ad1020c4cdb97b360a619f4c1263d916e">pktccopsdebug</a> = 0</td></tr>
<tr class="separator:ad1020c4cdb97b360a619f4c1263d916e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314addbf629dd26460fdf51ce7122e8e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a> = 0</td></tr>
<tr class="separator:a314addbf629dd26460fdf51ce7122e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc5ce172913ccabaada04d5c408dd85b"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#acc5ce172913ccabaada04d5c408dd85b">t1</a> = 250</td></tr>
<tr class="separator:acc5ce172913ccabaada04d5c408dd85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc6691d7c526d608dbf625bfac0e7be1"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#abc6691d7c526d608dbf625bfac0e7be1">t7</a> = 200</td></tr>
<tr class="separator:abc6691d7c526d608dbf625bfac0e7be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a186b02ba9cbbc9c5fa2a212e8381a518"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/res__pktccops_8c.html#a186b02ba9cbbc9c5fa2a212e8381a518">t8</a> = 300</td></tr>
<tr class="separator:a186b02ba9cbbc9c5fa2a212e8381a518"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PacketCable COPS. </p>
<dl class="section author"><dt>Author</dt><dd>Attila Domjan <a href="#" onclick="location.href='mai'+'lto:'+'att'+'il'+'a.d'+'om'+'jan'+'.h'+'u@g'+'ma'+'il.'+'co'+'m'; return false;">attil<span style="display: none;">.nosp@m.</span>a.do<span style="display: none;">.nosp@m.</span>mjan.<span style="display: none;">.nosp@m.</span>hu@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>This module is an add-on to chan_mgcp. It adds support for the PacketCable MGCP variation called NCS. Res_pktccops implements COPS (RFC 2748), a protocol used to manage dynamic bandwith allocation in CMTS's (HFC gateways). When you use NCS, you need to talk COPS with the CMTS to complete the calls. </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a805616595a796949ade4a78edc628f99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a805616595a796949ade4a78edc628f99">&#9670;&nbsp;</a></span>AST_API_MODULE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_API_MODULE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00062">62</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="ad9687decc6b56be065e998ce4b7c5f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9687decc6b56be065e998ce4b7c5f93">&#9670;&nbsp;</a></span>COPS_HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COPS_HEADER_SIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00067">67</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00323">cops_getmsg()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00388">cops_sendmsg()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="a309961418c0533b0141f06af04cc8ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309961418c0533b0141f06af04cc8ea3">&#9670;&nbsp;</a></span>COPS_OBJECT_HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COPS_OBJECT_HEADER_SIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00068">68</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00323">cops_getmsg()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="a212347adec5e2951ca423d9fff98c7af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a212347adec5e2951ca423d9fff98c7af">&#9670;&nbsp;</a></span>DEFAULT_COPS_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_COPS_PORT&#160;&#160;&#160;&quot;2126&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00065">65</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>.</p>

</div>
</div>
<a id="a0bafab75e815af26a31a45db6a452d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bafab75e815af26a31a45db6a452d58">&#9670;&nbsp;</a></span>GATE_INFO_OBJ_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATE_INFO_OBJ_SIZE&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00071">71</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>.</p>

</div>
</div>
<a id="a5be4d61fe990ec0674ffdb3481b92279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be4d61fe990ec0674ffdb3481b92279">&#9670;&nbsp;</a></span>GATE_SET_OBJ_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATE_SET_OBJ_SIZE&#160;&#160;&#160;144</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00069">69</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>.</p>

</div>
</div>
<a id="ae763f54c6bc8d21ffce7d04e403f103f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae763f54c6bc8d21ffce7d04e403f103f">&#9670;&nbsp;</a></span>GATEID_OBJ_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATEID_OBJ_SIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00070">70</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>.</p>

</div>
</div>
<a id="a837b9ad6c59c9e5b18eae647c32faa79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837b9ad6c59c9e5b18eae647c32faa79">&#9670;&nbsp;</a></span>PKTCCOPS_DESTROY_CURRENT_GATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_DESTROY_CURRENT_GATE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(list);  \</div><div class="line">      if (gate-&gt;gate_remove) {        \</div><div class="line">         gate-&gt;gate_remove(gate);    \</div><div class="line">      }                               \</div><div class="line">      ast_free(gate);</div><div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00692">692</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="ae2bd5ff70af3f4daccdd0ba07ed8b403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2bd5ff70af3f4daccdd0ba07ed8b403">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_ALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_ALLOC&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00073">73</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="aa57183605128df3ff140fd35ff0e10a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57183605128df3ff140fd35ff0e10a4">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_ALLOC_ACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_ALLOC_ACK&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00074">74</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="a70fa26e93bff69e056e9a6e2d2fd9d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70fa26e93bff69e056e9a6e2d2fd9d56">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_ALLOC_ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_ALLOC_ERR&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00075">75</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="ac024f2afafad3055f066a0e76fc5e25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac024f2afafad3055f066a0e76fc5e25d">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_CLOSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_CLOSE&#160;&#160;&#160;14</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00086">86</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="a17eb9d43434b24cd5ad9feaef5ec9a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17eb9d43434b24cd5ad9feaef5ec9a11">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_DELETE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_DELETE&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00082">82</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00221">cops_construct_gate()</a>.</p>

</div>
</div>
<a id="a8e882b88e15345d5f9b173868b78336e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e882b88e15345d5f9b173868b78336e">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_DELETE_ACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_DELETE_ACK&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00083">83</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="a0ee6f237c0ebaa075e0e25d6b0659da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee6f237c0ebaa075e0e25d6b0659da8">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_DELETE_ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_DELETE_ERR&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00084">84</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="afe07e48307f55bc6e20c9b1f1ab7b3eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe07e48307f55bc6e20c9b1f1ab7b3eb">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_INFO&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00079">79</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00221">cops_construct_gate()</a>.</p>

</div>
</div>
<a id="ab5025c883c4d60b7302348e1f3c01874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5025c883c4d60b7302348e1f3c01874">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_INFO_ACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_INFO_ACK&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00080">80</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="ad05240eb7dbfe29c7dd6ff351d991c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad05240eb7dbfe29c7dd6ff351d991c20">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_INFO_ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_INFO_ERR&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00081">81</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="a5b12441f968f5875f3641fed26ae6f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b12441f968f5875f3641fed26ae6f30">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_OPEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_OPEN&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00085">85</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="a5680e534dc6b5bd68cb0720a8a41a08d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5680e534dc6b5bd68cb0720a8a41a08d">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_SET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_SET&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00076">76</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00221">cops_construct_gate()</a>.</p>

</div>
</div>
<a id="aa623eeb82076a14a15a48747e963bb78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa623eeb82076a14a15a48747e963bb78">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_SET_ACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_SET_ACK&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00077">77</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="a3e986cb63dec812973ca08aaee4da559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e986cb63dec812973ca08aaee4da559">&#9670;&nbsp;</a></span>PKTCCOPS_SCOMMAND_GATE_SET_ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PKTCCOPS_SCOMMAND_GATE_SET_ERR&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00078">78</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>

</div>
</div>
<a id="acdcb7a75bff682373cde821d5e0c1af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdcb7a75bff682373cde821d5e0c1af1">&#9670;&nbsp;</a></span>SENDFLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENDFLAGS&#160;&#160;&#160;MSG_NOSIGNAL | MSG_DONTWAIT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00388">cops_sendmsg()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01516">1516</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01516">1516</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01516">1516</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="adf9bcfd10c265586a081834456132412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf9bcfd10c265586a081834456132412">&#9670;&nbsp;</a></span>ast_pktccops_gate_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a>* <a class="el" href="../../df/d3c/optional__api_8h.html#abe6ec88934f99eb74444f6c4a92353ec">AST_OPTIONAL_API_NAME</a>() ast_pktccops_gate_alloc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *&#160;</td>
          <td class="paramname"><em>gate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>actcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>bitrate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>psize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ssip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ssport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate)&#160;</td>
          <td class="paramname"><em>got_dq_gi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate)&#160;</td>
          <td class="paramname"><em>gate_remove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00468">468</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00090">cops_trid</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00065">cops_gate::gate_remove</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00038">GATE_SET_HAVE_GATEID</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00055">cops_gate::gateid</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00064">cops_gate::got_dq_gi</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00058">cops_gate::mta</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00162">pktcreload</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02448">mgcp_alloc_pktcgate()</a>, and <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00902">mgcp_hangup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a>) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      sched_yield();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordflow">if</span> (cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280">GATE_SET_HAVE_GATEID</a> &amp;&amp; gate) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;------- gate modify gateid 0x%x ssip: 0x%x\n&quot;</span>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>, ssip);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="comment">/* TODO implement it */</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Modify GateID not implemented\n&quot;</span>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordflow">if</span> ((gate = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a>(cmd, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a>++, mta, actcount, bitrate, psize, ssip, ssport, gate))) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: Allocating gate for mta: 0x%x\n&quot;</span>, mta);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">got_dq_gi</a> = got_dq_gi;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a9f9987701f8246b3ec9adaeb03a58e7d">gate_remove</a> = gate_remove;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">return</span>(gate);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: Couldn&#39;t allocate gate for mta: 0x%x\n&quot;</span>, mta);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a2becc57e197b5c565aa7e8ecb5f1d4bf"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a></div><div class="ttdeci">static struct cops_gate * cops_gate_cmd(int cmd, struct cops_cmts *cmts, uint16_t trid, uint32_t mta, uint32_t actcount, float bitrate, uint32_t psize, uint32_t ssip, uint16_t ssport, struct cops_gate *gate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00495">res_pktccops.c:495</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280">GATE_SET_HAVE_GATEID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00038">pktccops.h:38</a></div></div>
<div class="ttc" id="structcops__gate_html_a11c22f2d80c89994b4e0f259101a0d12"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">cops_gate::gateid</a></div><div class="ttdeci">uint32_t gateid</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00055">pktccops.h:55</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a314addbf629dd26460fdf51ce7122e8e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a></div><div class="ttdeci">static int pktcreload</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00162">res_pktccops.c:162</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ac395ef2746c735b7ed4de6353c93ce9e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a></div><div class="ttdeci">static uint16_t cops_trid</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00090">res_pktccops.c:90</a></div></div>
<div class="ttc" id="structcops__gate_html_a9f9987701f8246b3ec9adaeb03a58e7d"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a9f9987701f8246b3ec9adaeb03a58e7d">cops_gate::gate_remove</a></div><div class="ttdeci">int(* gate_remove)(struct cops_gate *gate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00065">pktccops.h:65</a></div></div>
<div class="ttc" id="structcops__gate_html_ac802b82a3e7c2c8f49d35a5fd6b4004d"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">cops_gate::got_dq_gi</a></div><div class="ttdeci">int(* got_dq_gi)(struct cops_gate *gate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00064">pktccops.h:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2ff650b210c03f9713fe20057fc0a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2ff650b210c03f9713fe20057fc0a62">&#9670;&nbsp;</a></span>cops_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cops_connect </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00649">649</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l01009">ast_fd_set_flags</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <span class="keywordtype">int</span> s, sfd = -1;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="keyword">struct </span>addrinfo <a class="code" href="../../de/d2c/structhints.html">hints</a>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   <span class="keyword">struct </span>addrinfo *rp;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   <span class="keyword">struct </span>addrinfo *<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="preprocessor">#ifdef HAVE_SO_NOSIGPIPE</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   <span class="keywordtype">int</span> trueval = 1;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   memset(&amp;<a class="code" href="../../de/d2c/structhints.html">hints</a>, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> addrinfo));</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <a class="code" href="../../de/d2c/structhints.html">hints</a>.ai_family = AF_UNSPEC;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   <a class="code" href="../../de/d2c/structhints.html">hints</a>.ai_socktype = SOCK_STREAM;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   <a class="code" href="../../de/d2c/structhints.html">hints</a>.ai_flags = 0;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <a class="code" href="../../de/d2c/structhints.html">hints</a>.ai_protocol = 0;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   s = getaddrinfo(<a class="code" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a>, port, &amp;<a class="code" href="../../de/d2c/structhints.html">hints</a>, &amp;result);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <span class="keywordflow">if</span> (s != 0) {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;COPS: getaddrinfo: %s\n&quot;</span>, gai_strerror(s));</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keywordflow">for</span> (rp = result; rp != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; rp = rp-&gt;ai_next) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      sfd = socket(rp-&gt;ai_family, rp-&gt;ai_socktype, rp-&gt;ai_protocol);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keywordflow">if</span> (sfd == -1) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed socket\n&quot;</span>);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a85392708ff0d7ed6fb86ff83f0e714c3">ast_fd_set_flags</a>(sfd, O_NONBLOCK);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">#ifdef HAVE_SO_NOSIGPIPE</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      setsockopt(sfd, SOL_SOCKET, SO_NOSIGPIPE, &amp;trueval, <span class="keyword">sizeof</span>(trueval));</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      connect(sfd, rp-&gt;ai_addr, rp-&gt;ai_addrlen);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">if</span> (sfd == -1) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed connect\n&quot;</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   freeaddrinfo(result);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Connecting to cmts:  %s:%s\n&quot;</span>, <a class="code" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a>, port);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <span class="keywordflow">return</span>(sfd);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a85392708ff0d7ed6fb86ff83f0e714c3"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a85392708ff0d7ed6fb86ff83f0e714c3">ast_fd_set_flags</a></div><div class="ttdeci">#define ast_fd_set_flags(fd, flags)</div><div class="ttdoc">Set flags on the given file descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l01009">utils.h:1009</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="muted_8c_html_a41c3a180b50c6b2ddcc1b6843a48f205"><div class="ttname"><a href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a></div><div class="ttdeci">static char host[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00077">muted.c:77</a></div></div>
<div class="ttc" id="structhints_html"><div class="ttname"><a href="../../de/d2c/structhints.html">hints</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03624">extconf.c:3624</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af8d61fa8d5856353ba6e4b2227d08c04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8d61fa8d5856353ba6e4b2227d08c04">&#9670;&nbsp;</a></span>cops_construct_gate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t cops_construct_gate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>trid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mtahost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>actcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>psizegateid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ssip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ssport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gateid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *&#160;</td>
          <td class="paramname"><em>cmts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00221">221</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00123">gatespec::b</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00182">cops_constructgatespec()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00118">gatespec::diffserv</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00110">gatespec::direction</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00115">gatespec::dstip</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00117">gatespec::dstp</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00112">gatespec::flags</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00175">ftoieeef()</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00039">GATE_DEL</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00037">GATE_INFO</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00038">GATE_SET_HAVE_GATEID</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00125">gatespec::m</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00126">gatespec::mm</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00124">gatespec::p</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00082">PKTCCOPS_SCOMMAND_GATE_DELETE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00079">PKTCCOPS_SCOMMAND_GATE_INFO</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00076">PKTCCOPS_SCOMMAND_GATE_SET</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00111">gatespec::protocolid</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00122">gatespec::r</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00127">gatespec::rate</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00128">gatespec::s</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00113">gatespec::sessionclass</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00114">gatespec::srcip</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00116">gatespec::srcp</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00119">gatespec::t1</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00137">cops_cmts::t1</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00120">gatespec::t7</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00138">cops_cmts::t7</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00121">gatespec::t8</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00139">cops_cmts::t8</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d88/structgatespec.html">gatespec</a> gs;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keywordtype">int</span> offset = 0;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;CMD: %d\n&quot;</span>, cmd);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="comment">/* Transaction Identifier 8 octets */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 0;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 8; <span class="comment">/* length */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 1; <span class="comment">/* snum */</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 1; <span class="comment">/* stype */</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   *((uint16_t *) (<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset)) = htons(trid);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   offset += 2;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 0;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = (cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>) ? <a class="code" href="../../dd/d95/res__pktccops_8c.html#a17eb9d43434b24cd5ad9feaef5ec9a11">PKTCCOPS_SCOMMAND_GATE_DELETE</a> : (cmd != <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a>) ? <a class="code" href="../../dd/d95/res__pktccops_8c.html#a5680e534dc6b5bd68cb0720a8a41a08d">PKTCCOPS_SCOMMAND_GATE_SET</a> : <a class="code" href="../../dd/d95/res__pktccops_8c.html#afe07e48307f55bc6e20c9b1f1ab7b3eb">PKTCCOPS_SCOMMAND_GATE_INFO</a>; <span class="comment">/* 4: GATE-SET, 7: GATE-INFO */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="comment">/*Subscriper Identifier 8 octets */</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 0;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 8; <span class="comment">/* length */</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 2; <span class="comment">/* snum */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 1; <span class="comment">/* stype */</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   *((uint32_t *) (<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset)) = htonl(mtahost);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   offset += 4;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keywordflow">if</span> (cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a> || cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280">GATE_SET_HAVE_GATEID</a> || cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="comment">/* Gate ID 8 Octets */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 0;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 8; <span class="comment">/* length */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 3; <span class="comment">/* snum */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 1; <span class="comment">/* stype */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      *((uint32_t *) (<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset)) = htonl(gateid);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      offset += 4;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a> || cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;         <span class="keywordflow">return</span> offset;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="comment">/* Activity Count 8 octets */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 0;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 8; <span class="comment">/* length */</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 4; <span class="comment">/* snum */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset++) = 1; <span class="comment">/* stype */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   *((uint32_t *) (<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset)) = htonl(actcount);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   offset += 4;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="comment">/* Gate Spec 2*60 Octets */</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   gs.direction = 0; <span class="comment">/* DS */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   gs.protocolid = 17; <span class="comment">/* UDP */</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   gs.flags = 0;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   gs.sessionclass = 1;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   gs.srcip = htonl(ssip);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   gs.dstip = htonl(mtahost);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   gs.srcp = htons(ssport);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   gs.dstp = 0;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">/* gs.diffserv = 0xa0;*/</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   gs.diffserv = 0;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   gs.t1 = htons(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#acc5ce172913ccabaada04d5c408dd85b">t1</a>);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   gs.t7 = htons(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#abc6691d7c526d608dbf625bfac0e7be1">t7</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   gs.t8 = htons(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a186b02ba9cbbc9c5fa2a212e8381a518">t8</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   gs.r = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a72572b3e361c1acb9e33c23a0f3bfba8">ftoieeef</a>(<a class="code" href="../../de/d88/structgatespec.html#a82e0b1311e54c51fa587134c4f9bad50">rate</a>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   gs.b = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a72572b3e361c1acb9e33c23a0f3bfba8">ftoieeef</a>(psizegateid);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   gs.p = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a72572b3e361c1acb9e33c23a0f3bfba8">ftoieeef</a>(<a class="code" href="../../de/d88/structgatespec.html#a82e0b1311e54c51fa587134c4f9bad50">rate</a>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   gs.m = htonl((uint32_t) psizegateid);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   gs.mm = htonl((uint32_t) psizegateid);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   gs.rate = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a72572b3e361c1acb9e33c23a0f3bfba8">ftoieeef</a>(<a class="code" href="../../de/d88/structgatespec.html#a82e0b1311e54c51fa587134c4f9bad50">rate</a>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   gs.s = htonl(800);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset) = 0;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   offset++;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset) = 60; <span class="comment">/* length */</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   offset++;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset) = 5; <span class="comment">/* snum */</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   offset++;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset) = 1; <span class="comment">/* stype */</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   offset++;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   offset += <a class="code" href="../../dd/d95/res__pktccops_8c.html#a5e0a47541277cb89dfe39e2049def8db">cops_constructgatespec</a>(&amp;gs, <a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   gs.direction = 1; <span class="comment">/* US */</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   gs.srcip = htonl(mtahost);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   gs.dstip = htonl(ssip);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   gs.srcp = 0;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   gs.dstp = htons(ssport);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset) = 0;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   offset++;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset) = 60; <span class="comment">/* length */</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   offset++;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset) = 5; <span class="comment">/* snum */</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   offset++;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   *(<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset) = 1; <span class="comment">/* stype */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   offset++;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   offset += <a class="code" href="../../dd/d95/res__pktccops_8c.html#a5e0a47541277cb89dfe39e2049def8db">cops_constructgatespec</a>(&amp;gs, <a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> + offset);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="keywordflow">return</span>(offset);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div><div class="ttc" id="res__pktccops_8c_html_a17eb9d43434b24cd5ad9feaef5ec9a11"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a17eb9d43434b24cd5ad9feaef5ec9a11">PKTCCOPS_SCOMMAND_GATE_DELETE</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_DELETE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00082">res_pktccops.c:82</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280">GATE_SET_HAVE_GATEID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00038">pktccops.h:38</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a72572b3e361c1acb9e33c23a0f3bfba8"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a72572b3e361c1acb9e33c23a0f3bfba8">ftoieeef</a></div><div class="ttdeci">static uint32_t ftoieeef(float n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00175">res_pktccops.c:175</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a5e0a47541277cb89dfe39e2049def8db"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a5e0a47541277cb89dfe39e2049def8db">cops_constructgatespec</a></div><div class="ttdeci">static uint16_t cops_constructgatespec(struct gatespec *gs, char *res)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00182">res_pktccops.c:182</a></div></div>
<div class="ttc" id="structcops__cmts_html_abc6691d7c526d608dbf625bfac0e7be1"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#abc6691d7c526d608dbf625bfac0e7be1">cops_cmts::t7</a></div><div class="ttdeci">uint16_t t7</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00138">res_pktccops.c:138</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a5680e534dc6b5bd68cb0720a8a41a08d"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a5680e534dc6b5bd68cb0720a8a41a08d">PKTCCOPS_SCOMMAND_GATE_SET</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_SET</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00076">res_pktccops.c:76</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00039">pktccops.h:39</a></div></div>
<div class="ttc" id="structcops__cmts_html_acc5ce172913ccabaada04d5c408dd85b"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#acc5ce172913ccabaada04d5c408dd85b">cops_cmts::t1</a></div><div class="ttdeci">uint16_t t1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00137">res_pktccops.c:137</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00037">pktccops.h:37</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_afe07e48307f55bc6e20c9b1f1ab7b3eb"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#afe07e48307f55bc6e20c9b1f1ab7b3eb">PKTCCOPS_SCOMMAND_GATE_INFO</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_INFO</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00079">res_pktccops.c:79</a></div></div>
<div class="ttc" id="structgatespec_html"><div class="ttname"><a href="../../de/d88/structgatespec.html">gatespec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00109">res_pktccops.c:109</a></div></div>
<div class="ttc" id="structcops__cmts_html_a186b02ba9cbbc9c5fa2a212e8381a518"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a186b02ba9cbbc9c5fa2a212e8381a518">cops_cmts::t8</a></div><div class="ttdeci">uint16_t t8</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00139">res_pktccops.c:139</a></div></div>
<div class="ttc" id="structgatespec_html_a93c7c40d4fc2b2a4e8fea0f75e81e856"><div class="ttname"><a href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">gatespec::p</a></div><div class="ttdeci">uint32_t p</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00124">res_pktccops.c:124</a></div></div>
<div class="ttc" id="structgatespec_html_a82e0b1311e54c51fa587134c4f9bad50"><div class="ttname"><a href="../../de/d88/structgatespec.html#a82e0b1311e54c51fa587134c4f9bad50">gatespec::rate</a></div><div class="ttdeci">uint32_t rate</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00127">res_pktccops.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e0a47541277cb89dfe39e2049def8db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0a47541277cb89dfe39e2049def8db">&#9670;&nbsp;</a></span>cops_constructgatespec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t cops_constructgatespec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d88/structgatespec.html">gatespec</a> *&#160;</td>
          <td class="paramname"><em>gs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00182">182</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00123">gatespec::b</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00118">gatespec::diffserv</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00110">gatespec::direction</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00115">gatespec::dstip</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00117">gatespec::dstp</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00112">gatespec::flags</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00125">gatespec::m</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00126">gatespec::mm</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00124">gatespec::p</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00111">gatespec::protocolid</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00122">gatespec::r</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00127">gatespec::rate</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00128">gatespec::s</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00113">gatespec::sessionclass</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00114">gatespec::srcip</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00116">gatespec::srcp</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00119">gatespec::t1</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00120">gatespec::t7</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00121">gatespec::t8</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00221">cops_construct_gate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordflow">if</span> (res == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   *res = (char) gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a886d551d5381dc3e53f17825ffc51641">direction</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   *(res + 1) = (char) gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a3457acc8d24f09a76a3d5270a5d690d3">protocolid</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   *(res + 2) = (char) gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   *(res + 3) = (char) gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#ab67a312dc7e694c0b1fa4a8be1e799a2">sessionclass</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   *((uint32_t *) (res + 4)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a60d13da21b78d8bbfc844cc87e482c73">srcip</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   *((uint32_t *) (res + 8)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a0163c34752a4cf6850d9a6dff33e8301">dstip</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   *((uint16_t *) (res + 12)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a12374ee436ea01c0dc5b9061a071ba42">srcp</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   *((uint16_t *) (res + 14)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#af80eec45549435c06430a371c3ed4798">dstp</a>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   *(res + 16) = (char) gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a1099a09caf3409ee0d1c441d091217c6">diffserv</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   *(res + 17) = 0; <span class="comment">/* reserved */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   *(res + 18) = 0; <span class="comment">/* reserved */</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   *(res + 19) = 0; <span class="comment">/* reserved */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   *((uint16_t *) (res + 20)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#acc5ce172913ccabaada04d5c408dd85b">t1</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   *(res + 22) = 0; <span class="comment">/* reserved */</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   *(res + 23) = 0; <span class="comment">/* reserved */</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   *((uint16_t *) (res + 24)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#abc6691d7c526d608dbf625bfac0e7be1">t7</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   *((uint16_t *) (res + 26)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a186b02ba9cbbc9c5fa2a212e8381a518">t8</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   *((uint32_t *) (res + 28)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#ae5055f8129c8292e7d97df6a7402d9ac">r</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   *((uint32_t *) (res + 32)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a2826644ea978cb49c4ee809b55e128d7">b</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   *((uint32_t *) (res + 36)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   *((uint32_t *) (res + 40)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a83bec4bfe2e87b57e8878a94b1c7a305">m</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   *((uint32_t *) (res + 44)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#abec34e2b0b7929244b2e6131f36830e2">mm</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   *((uint32_t *) (res + 48)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a82e0b1311e54c51fa587134c4f9bad50">rate</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   *((uint32_t *) (res + 52)) = gs-&gt;<a class="code" href="../../de/d88/structgatespec.html#a2dee666f0c1fe072c549ff86b1d0a8ab">s</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <span class="keywordflow">return</span> 56; <span class="comment">/* length */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;};</div><div class="ttc" id="structgatespec_html_a0163c34752a4cf6850d9a6dff33e8301"><div class="ttname"><a href="../../de/d88/structgatespec.html#a0163c34752a4cf6850d9a6dff33e8301">gatespec::dstip</a></div><div class="ttdeci">uint32_t dstip</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00115">res_pktccops.c:115</a></div></div>
<div class="ttc" id="structgatespec_html_a1099a09caf3409ee0d1c441d091217c6"><div class="ttname"><a href="../../de/d88/structgatespec.html#a1099a09caf3409ee0d1c441d091217c6">gatespec::diffserv</a></div><div class="ttdeci">int diffserv</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00118">res_pktccops.c:118</a></div></div>
<div class="ttc" id="structgatespec_html_abec34e2b0b7929244b2e6131f36830e2"><div class="ttname"><a href="../../de/d88/structgatespec.html#abec34e2b0b7929244b2e6131f36830e2">gatespec::mm</a></div><div class="ttdeci">uint32_t mm</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00126">res_pktccops.c:126</a></div></div>
<div class="ttc" id="structgatespec_html_acc5ce172913ccabaada04d5c408dd85b"><div class="ttname"><a href="../../de/d88/structgatespec.html#acc5ce172913ccabaada04d5c408dd85b">gatespec::t1</a></div><div class="ttdeci">uint16_t t1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00119">res_pktccops.c:119</a></div></div>
<div class="ttc" id="structgatespec_html_a83bec4bfe2e87b57e8878a94b1c7a305"><div class="ttname"><a href="../../de/d88/structgatespec.html#a83bec4bfe2e87b57e8878a94b1c7a305">gatespec::m</a></div><div class="ttdeci">uint32_t m</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00125">res_pktccops.c:125</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structgatespec_html_a12374ee436ea01c0dc5b9061a071ba42"><div class="ttname"><a href="../../de/d88/structgatespec.html#a12374ee436ea01c0dc5b9061a071ba42">gatespec::srcp</a></div><div class="ttdeci">uint16_t srcp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00116">res_pktccops.c:116</a></div></div>
<div class="ttc" id="structgatespec_html_abc6691d7c526d608dbf625bfac0e7be1"><div class="ttname"><a href="../../de/d88/structgatespec.html#abc6691d7c526d608dbf625bfac0e7be1">gatespec::t7</a></div><div class="ttdeci">uint16_t t7</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00120">res_pktccops.c:120</a></div></div>
<div class="ttc" id="structgatespec_html_a2dee666f0c1fe072c549ff86b1d0a8ab"><div class="ttname"><a href="../../de/d88/structgatespec.html#a2dee666f0c1fe072c549ff86b1d0a8ab">gatespec::s</a></div><div class="ttdeci">uint32_t s</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00128">res_pktccops.c:128</a></div></div>
<div class="ttc" id="structgatespec_html_a3457acc8d24f09a76a3d5270a5d690d3"><div class="ttname"><a href="../../de/d88/structgatespec.html#a3457acc8d24f09a76a3d5270a5d690d3">gatespec::protocolid</a></div><div class="ttdeci">int protocolid</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00111">res_pktccops.c:111</a></div></div>
<div class="ttc" id="structgatespec_html_a60d13da21b78d8bbfc844cc87e482c73"><div class="ttname"><a href="../../de/d88/structgatespec.html#a60d13da21b78d8bbfc844cc87e482c73">gatespec::srcip</a></div><div class="ttdeci">uint32_t srcip</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00114">res_pktccops.c:114</a></div></div>
<div class="ttc" id="structgatespec_html_ae5055f8129c8292e7d97df6a7402d9ac"><div class="ttname"><a href="../../de/d88/structgatespec.html#ae5055f8129c8292e7d97df6a7402d9ac">gatespec::r</a></div><div class="ttdeci">uint32_t r</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00122">res_pktccops.c:122</a></div></div>
<div class="ttc" id="structgatespec_html_ac8bf36fe0577cba66bccda3a6f7e80a4"><div class="ttname"><a href="../../de/d88/structgatespec.html#ac8bf36fe0577cba66bccda3a6f7e80a4">gatespec::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00112">res_pktccops.c:112</a></div></div>
<div class="ttc" id="structgatespec_html_a886d551d5381dc3e53f17825ffc51641"><div class="ttname"><a href="../../de/d88/structgatespec.html#a886d551d5381dc3e53f17825ffc51641">gatespec::direction</a></div><div class="ttdeci">int direction</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00110">res_pktccops.c:110</a></div></div>
<div class="ttc" id="structgatespec_html_ab67a312dc7e694c0b1fa4a8be1e799a2"><div class="ttname"><a href="../../de/d88/structgatespec.html#ab67a312dc7e694c0b1fa4a8be1e799a2">gatespec::sessionclass</a></div><div class="ttdeci">int sessionclass</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00113">res_pktccops.c:113</a></div></div>
<div class="ttc" id="structgatespec_html_a2826644ea978cb49c4ee809b55e128d7"><div class="ttname"><a href="../../de/d88/structgatespec.html#a2826644ea978cb49c4ee809b55e128d7">gatespec::b</a></div><div class="ttdeci">uint32_t b</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00123">res_pktccops.c:123</a></div></div>
<div class="ttc" id="structgatespec_html_a93c7c40d4fc2b2a4e8fea0f75e81e856"><div class="ttname"><a href="../../de/d88/structgatespec.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">gatespec::p</a></div><div class="ttdeci">uint32_t p</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00124">res_pktccops.c:124</a></div></div>
<div class="ttc" id="structgatespec_html_af80eec45549435c06430a371c3ed4798"><div class="ttname"><a href="../../de/d88/structgatespec.html#af80eec45549435c06430a371c3ed4798">gatespec::dstp</a></div><div class="ttdeci">uint16_t dstp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00117">res_pktccops.c:117</a></div></div>
<div class="ttc" id="structgatespec_html_a186b02ba9cbbc9c5fa2a212e8381a518"><div class="ttname"><a href="../../de/d88/structgatespec.html#a186b02ba9cbbc9c5fa2a212e8381a518">gatespec::t8</a></div><div class="ttdeci">uint16_t t8</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00121">res_pktccops.c:121</a></div></div>
<div class="ttc" id="structgatespec_html_a82e0b1311e54c51fa587134c4f9bad50"><div class="ttname"><a href="../../de/d88/structgatespec.html#a82e0b1311e54c51fa587134c4f9bad50">gatespec::rate</a></div><div class="ttdeci">uint32_t rate</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00127">res_pktccops.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6f1171973a38a84d5bcc5edfa5beb80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6f1171973a38a84d5bcc5edfa5beb80">&#9670;&nbsp;</a></span>cops_freemsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cops_freemsg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00453">453</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00096">pktcobj::contents</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00106">copsmsg::msg</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00097">pktcobj::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00105">copsmsg::object</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>
<div class="fragment"><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a> *pnext;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordflow">while</span> (p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;         pnext = p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;         p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> = pnext;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   p-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structpktcobj_html"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html">pktcobj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00092">res_pktccops.c:92</a></div></div>
<div class="ttc" id="structcopsmsg_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">copsmsg::msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00106">res_pktccops.c:106</a></div></div>
<div class="ttc" id="structpktcobj_html_a90428ca35ed3324ed2b73fb28ac4708a"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">pktcobj::contents</a></div><div class="ttdeci">char * contents</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00096">res_pktccops.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structpktcobj_html_ade38785a77dd72c26f50402fb849efe8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">pktcobj::next</a></div><div class="ttdeci">struct pktcobj * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00097">res_pktccops.c:97</a></div></div>
<div class="ttc" id="structcopsmsg_html_ad85b8af5a056e4764f919fcdf54d31a8"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">copsmsg::object</a></div><div class="ttdeci">struct pktcobj * object</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00105">res_pktccops.c:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2becc57e197b5c565aa7e8ecb5f1d4bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2becc57e197b5c565aa7e8ecb5f1d4bf">&#9670;&nbsp;</a></span>cops_gate_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> * cops_gate_cmd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *&#160;</td>
          <td class="paramname"><em>cmts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>trid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>actcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>bitrate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>psize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ssip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ssport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/da2/structcops__gate.html">cops_gate</a> *&#160;</td>
          <td class="paramname"><em>gate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">495</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00103">copsmsg::clienttype</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00063">cops_gate::cmts</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00154">cops_ippool::cmts</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00094">pktcobj::cnum</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00096">pktcobj::contents</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00221">cops_construct_gate()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00453">cops_freemsg()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00067">COPS_HEADER_SIZE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00068">COPS_OBJECT_HEADER_SIZE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00388">cops_sendmsg()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00095">pktcobj::ctype</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00044">GATE_ALLOC_PROGRESS</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00039">GATE_DEL</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00037">GATE_INFO</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00071">GATE_INFO_OBJ_SIZE</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00036">GATE_SET</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00038">GATE_SET_HAVE_GATEID</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00069">GATE_SET_OBJ_SIZE</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00055">cops_gate::gateid</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00070">GATEID_OBJ_SIZE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00142">cops_cmts::handle</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00057">cops_gate::in_transaction</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00093">pktcobj::length</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00104">copsmsg::length</a>, <a class="el" href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">cops_ippool::list</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00106">copsmsg::msg</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00134">cops_cmts::name</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00097">pktcobj::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00105">copsmsg::object</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00102">copsmsg::opcode</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00161">pktccopsdebug</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00146">cops_cmts::sfd</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00152">cops_ippool::start</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01096">stop</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00056">cops_gate::trid</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00101">copsmsg::verflag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00468">ast_pktccops_gate_alloc()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01266">pktccops_gatedel()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01326">pktccops_gateset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;{</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> *gateset;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structcops__gate.html">cops_gate</a> *<span class="keyword">new</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d0a/structcops__ippool.html">cops_ippool</a> *ippool;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">if</span> (cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">if</span> (gate == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;         cmts = gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <span class="keywordflow">if</span> (!cmts) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>, ippool, <a class="code" href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">list</a>) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;         <span class="keywordflow">if</span> (mta &gt;= ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">start</a> &amp;&amp; mta &lt;= ippool-&gt;<a class="code" href="../../df/d44/app__meetme_8c.html#a111277a0849f92b793ed6aa1efe54462">stop</a>) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            cmts = ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">if</span> (!cmts) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;COPS: couldn&#39;t find cmts for mta: 0x%x\n&quot;</span>, mta);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> &lt; 0) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;CMTS: %s not connected\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keywordflow">if</span> (cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182ad14032ad3e8d031f11b7eb1d020ef85d">GATE_SET</a>) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keyword">new</span> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*<span class="keyword">new</span>));</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keyword">new</span>-&gt;gateid = 0;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <span class="keyword">new</span>-&gt;trid = trid;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keyword">new</span>-&gt;mta = mta;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keyword">new</span>-&gt;state = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295aa4274953da0c77d43f4c3ad179af1978">GATE_ALLOC_PROGRESS</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keyword">new</span>-&gt;checked = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keyword">new</span>-&gt;allocated = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keyword">new</span>-&gt;cmts = <a class="code" href="../../d7/d0a/structcops__ippool.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keyword">new</span>-&gt;got_dq_gi = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keyword">new</span>-&gt;gate_remove = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keyword">new</span>-&gt;gate_open = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keyword">new</span>-&gt;tech_pvt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="keyword">new</span>-&gt;deltimer = 0;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>, <span class="keyword">new</span>, <a class="code" href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">list</a>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      gate = <span class="keyword">new</span>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordflow">if</span> (gate) {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;         gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a46afdee16c4257b8725b48c25efacae3">trid</a> = trid;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">in_transaction</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   <span class="keywordflow">if</span> (!(gateset = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d6/ddd/structcopsmsg.html">copsmsg</a>)))) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">verflag</a> = 0x10;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a> = 2; <span class="comment">/* Decision */</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">clienttype</a> = 0x8008; <span class="comment">/* =PacketCable */</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   <span class="comment">/* Handle object */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a>));</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keywordflow">if</span> (!gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a> + 4;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> = 1; <span class="comment">/* Handle */</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> = 1; <span class="comment">/* client */</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <span class="keywordflow">if</span> (!(gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(uint32_t)))) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   *((uint32_t *) gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>) = htonl(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#aa8bec03983fc2371ab6afa98ae6ddd45">handle</a>);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   <span class="comment">/* Context Object */</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <span class="keywordflow">if</span> (!(gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a>)))) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a> + 4;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> = 2; <span class="comment">/* Context */</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> = 1; <span class="comment">/* Context */</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="keywordflow">if</span> (!(gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(uint32_t)))) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   *((uint32_t *) gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>) = htonl(0x00080000); <span class="comment">/* R-Type = 8 configuration request, M-Type = 0 */</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <span class="comment">/* Decision Object: Flags */</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   <span class="keywordflow">if</span> (!(gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a>)))) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a> + 4;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> = 6; <span class="comment">/* Decision */</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> = 1; <span class="comment">/* Flags */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <span class="keywordflow">if</span> (!(gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(uint32_t)))) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   *((uint32_t *) gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>) = htonl(0x00010001); <span class="comment">/* Install, Trigger Error */</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <span class="comment">/* Decision Object: Data */</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <span class="keywordflow">if</span> (!(gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a>)))) {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a> + ((cmd != <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a> &amp;&amp; cmd != <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>) ? <a class="code" href="../../dd/d95/res__pktccops_8c.html#a5be4d61fe990ec0674ffdb3481b92279">GATE_SET_OBJ_SIZE</a> : <a class="code" href="../../dd/d95/res__pktccops_8c.html#a0bafab75e815af26a31a45db6a452d58">GATE_INFO_OBJ_SIZE</a>) + ((cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280">GATE_SET_HAVE_GATEID</a>) ? <a class="code" href="../../dd/d95/res__pktccops_8c.html#ae763f54c6bc8d21ffce7d04e403f103f">GATEID_OBJ_SIZE</a> : 0);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> = 6; <span class="comment">/* Decision */</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> = 4; <span class="comment">/* Decision Data */</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(((cmd != <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a> &amp;&amp; cmd != <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>) ? <a class="code" href="../../dd/d95/res__pktccops_8c.html#a5be4d61fe990ec0674ffdb3481b92279">GATE_SET_OBJ_SIZE</a> : <a class="code" href="../../dd/d95/res__pktccops_8c.html#a0bafab75e815af26a31a45db6a452d58">GATE_INFO_OBJ_SIZE</a>) + ((cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280">GATE_SET_HAVE_GATEID</a>) ? <a class="code" href="../../dd/d95/res__pktccops_8c.html#ae763f54c6bc8d21ffce7d04e403f103f">GATEID_OBJ_SIZE</a> : 0));</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <span class="keywordflow">if</span> (!gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a> + gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> + gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> + gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> + gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keywordflow">if</span> ((cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a> || cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280">GATE_SET_HAVE_GATEID</a> || cmd == <a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>) &amp;&amp; gate) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Construct gate with gateid: 0x%x\n&quot;</span>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#af8d61fa8d5856353ba6e4b2227d08c04">cops_construct_gate</a>(cmd, gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>, trid, mta, actcount, bitrate, psize, ssip, ssport, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>, cmts);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Construct new gate\n&quot;</span>);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#af8d61fa8d5856353ba6e4b2227d08c04">cops_construct_gate</a>(cmd, gateset-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>, trid, mta, actcount, bitrate, psize, ssip, ssport, 0, cmts);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d95/res__pktccops_8c.html#ad1020c4cdb97b360a619f4c1263d916e">pktccopsdebug</a>) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;send cmd\n&quot;</span>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#a237d13455ad14b4dd53e792482d1a273">cops_sendmsg</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>, gateset);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(gateset);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gateset);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="keywordflow">return</span> gate;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div><div class="ttc" id="structcopsmsg_html_aebb70c2aab3407a9f05334c47131a43b"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">copsmsg::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00104">res_pktccops.c:104</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a237d13455ad14b4dd53e792482d1a273"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a237d13455ad14b4dd53e792482d1a273">cops_sendmsg</a></div><div class="ttdeci">static int cops_sendmsg(int sfd, struct copsmsg *sendmsg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00388">res_pktccops.c:388</a></div></div>
<div class="ttc" id="structcopsmsg_html_a301ca4ffab46d5f6a4bc26a4cd0933d3"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">copsmsg::opcode</a></div><div class="ttdeci">unsigned char opcode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00102">res_pktccops.c:102</a></div></div>
<div class="ttc" id="structcops__ippool_html_a173b7482b048bca5dc39da90fb0e7e65"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">cops_ippool::list</a></div><div class="ttdeci">struct cops_ippool::@490 list</div></div>
<div class="ttc" id="res__pktccops_8c_html_aa6f1171973a38a84d5bcc5edfa5beb80"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a></div><div class="ttdeci">static void cops_freemsg(struct copsmsg *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00453">res_pktccops.c:453</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structippool__list_html"><div class="ttname"><a href="../../db/ddd/structippool__list.html">ippool_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00167">res_pktccops.c:167</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a111277a0849f92b793ed6aa1efe54462"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a111277a0849f92b793ed6aa1efe54462">stop</a></div><div class="ttdeci">unsigned int stop</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01096">app_meetme.c:1096</a></div></div>
<div class="ttc" id="structcops__cmts_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">cops_cmts::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00134">res_pktccops.c:134</a></div></div>
<div class="ttc" id="structcops__cmts_html_aa8bec03983fc2371ab6afa98ae6ddd45"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#aa8bec03983fc2371ab6afa98ae6ddd45">cops_cmts::handle</a></div><div class="ttdeci">uint32_t handle</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00142">res_pktccops.c:142</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad9687decc6b56be065e998ce4b7c5f93"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a></div><div class="ttdeci">#define COPS_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00067">res_pktccops.c:67</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structpktcobj_html"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html">pktcobj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00092">res_pktccops.c:92</a></div></div>
<div class="ttc" id="structcopsmsg_html"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html">copsmsg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00100">res_pktccops.c:100</a></div></div>
<div class="ttc" id="structcopsmsg_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">copsmsg::msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00106">res_pktccops.c:106</a></div></div>
<div class="ttc" id="structcops__ippool_html_a61eb63d26b2fa6c2971603ceccffb14b"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">cops_ippool::start</a></div><div class="ttdeci">uint32_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00152">res_pktccops.c:152</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295aa4274953da0c77d43f4c3ad179af1978"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295aa4274953da0c77d43f4c3ad179af1978">GATE_ALLOC_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00044">pktccops.h:44</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a5be4d61fe990ec0674ffdb3481b92279"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a5be4d61fe990ec0674ffdb3481b92279">GATE_SET_OBJ_SIZE</a></div><div class="ttdeci">#define GATE_SET_OBJ_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00069">res_pktccops.c:69</a></div></div>
<div class="ttc" id="structcops__gate_html"><div class="ttname"><a href="../../db/da2/structcops__gate.html">cops_gate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00053">pktccops.h:53</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182aa35d6487e803187631cd428b4f0ef280">GATE_SET_HAVE_GATEID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00038">pktccops.h:38</a></div></div>
<div class="ttc" id="structpktcobj_html_a90428ca35ed3324ed2b73fb28ac4708a"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">pktcobj::contents</a></div><div class="ttdeci">char * contents</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00096">res_pktccops.c:96</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a309961418c0533b0141f06af04cc8ea3"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a></div><div class="ttdeci">#define COPS_OBJECT_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00068">res_pktccops.c:68</a></div></div>
<div class="ttc" id="structcops__gate_html_a46afdee16c4257b8725b48c25efacae3"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a46afdee16c4257b8725b48c25efacae3">cops_gate::trid</a></div><div class="ttdeci">uint16_t trid</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00056">pktccops.h:56</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a0bafab75e815af26a31a45db6a452d58"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a0bafab75e815af26a31a45db6a452d58">GATE_INFO_OBJ_SIZE</a></div><div class="ttdeci">#define GATE_INFO_OBJ_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00071">res_pktccops.c:71</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182ad14032ad3e8d031f11b7eb1d020ef85d"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182ad14032ad3e8d031f11b7eb1d020ef85d">GATE_SET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00036">pktccops.h:36</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00039">pktccops.h:39</a></div></div>
<div class="ttc" id="structcops__gate_html_a69d643e8a1509670364e2fcca752f1cb"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">cops_gate::in_transaction</a></div><div class="ttdeci">time_t in_transaction</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00057">pktccops.h:57</a></div></div>
<div class="ttc" id="structpktcobj_html_a6c0482aef2443a1d575a5d8b794393b8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">pktcobj::ctype</a></div><div class="ttdeci">unsigned char ctype</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00095">res_pktccops.c:95</a></div></div>
<div class="ttc" id="structcops__gate_html_a11c22f2d80c89994b4e0f259101a0d12"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">cops_gate::gateid</a></div><div class="ttdeci">uint32_t gateid</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00055">pktccops.h:55</a></div></div>
<div class="ttc" id="structpktcobj_html_a1892eba2086d12ac2b09005aeb09ea3b"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">pktcobj::length</a></div><div class="ttdeci">uint16_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00093">res_pktccops.c:93</a></div></div>
<div class="ttc" id="structgate__list_html"><div class="ttname"><a href="../../db/d68/structgate__list.html">gate_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00168">res_pktccops.c:168</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00037">pktccops.h:37</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structcops__ippool_html_ab7f2963c6b54a07f395b0ccba991e655"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#ab7f2963c6b54a07f395b0ccba991e655">cops_ippool::cmts</a></div><div class="ttdeci">struct cops_cmts * cmts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00154">res_pktccops.c:154</a></div></div>
<div class="ttc" id="structpktcobj_html_ade38785a77dd72c26f50402fb849efe8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">pktcobj::next</a></div><div class="ttdeci">struct pktcobj * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00097">res_pktccops.c:97</a></div></div>
<div class="ttc" id="structcopsmsg_html_ad85b8af5a056e4764f919fcdf54d31a8"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">copsmsg::object</a></div><div class="ttdeci">struct pktcobj * object</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00105">res_pktccops.c:105</a></div></div>
<div class="ttc" id="structcops__ippool_html"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html">cops_ippool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00150">res_pktccops.c:150</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ae763f54c6bc8d21ffce7d04e403f103f"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ae763f54c6bc8d21ffce7d04e403f103f">GATEID_OBJ_SIZE</a></div><div class="ttdeci">#define GATEID_OBJ_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00070">res_pktccops.c:70</a></div></div>
<div class="ttc" id="structcops__cmts_html_af6e5ac0c98235f3942554b438a069736"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">cops_cmts::sfd</a></div><div class="ttdeci">int sfd</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00146">res_pktccops.c:146</a></div></div>
<div class="ttc" id="structcopsmsg_html_a947a08d41b891c19b003f509a62558a4"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">copsmsg::verflag</a></div><div class="ttdeci">unsigned char verflag</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00101">res_pktccops.c:101</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad1020c4cdb97b360a619f4c1263d916e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad1020c4cdb97b360a619f4c1263d916e">pktccopsdebug</a></div><div class="ttdeci">static int pktccopsdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00161">res_pktccops.c:161</a></div></div>
<div class="ttc" id="structcopsmsg_html_a5ce56f01a649c99d0ce8752385b813f2"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">copsmsg::clienttype</a></div><div class="ttdeci">uint16_t clienttype</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00103">res_pktccops.c:103</a></div></div>
<div class="ttc" id="structpktcobj_html_ab6a893c2293839ec4dc8d0a8b04fdefa"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">pktcobj::cnum</a></div><div class="ttdeci">unsigned char cnum</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00094">res_pktccops.c:94</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_af8d61fa8d5856353ba6e4b2227d08c04"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#af8d61fa8d5856353ba6e4b2227d08c04">cops_construct_gate</a></div><div class="ttdeci">static uint16_t cops_construct_gate(int cmd, char *p, uint16_t trid, uint32_t mtahost, uint32_t actcount, float rate, uint32_t psizegateid, uint32_t ssip, uint16_t ssport, uint32_t gateid, struct cops_cmts *cmts)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00221">res_pktccops.c:221</a></div></div>
<div class="ttc" id="structcops__gate_html_ab7f2963c6b54a07f395b0ccba991e655"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cops_gate::cmts</a></div><div class="ttdeci">struct cops_cmts * cmts</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00063">pktccops.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15a9e37fe49f341daea47eb45f76c09a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a9e37fe49f341daea47eb45f76c09a">&#9670;&nbsp;</a></span>cops_getmsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cops_getmsg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> *&#160;</td>
          <td class="paramname"><em>recmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00323">323</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00103">copsmsg::clienttype</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00094">pktcobj::cnum</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00096">pktcobj::contents</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00067">COPS_HEADER_SIZE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00068">COPS_OBJECT_HEADER_SIZE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00095">pktcobj::ctype</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00093">pktcobj::length</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00104">copsmsg::length</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00106">copsmsg::msg</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00097">pktcobj::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00105">copsmsg::object</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00102">copsmsg::opcode</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00101">copsmsg::verflag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, lent;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[<a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>];</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a> *pobject = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   uint16_t *ubuf = (uint16_t *) buf;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   len = recv(sfd, buf, <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>, MSG_DONTWAIT);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="keywordflow">if</span> (len &lt; <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">verflag</a> = *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a> = *(buf + 1);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">clienttype</a> = ntohs(*((uint16_t *) (buf + 2)));</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> = ntohl(*((uint32_t *) (buf + 4)));</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="comment">/* Eg KA msg*/</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keywordflow">if</span> (recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">clienttype</a> != 0x8008 ) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">if</span> (!(recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> - <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>))) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      lent = recv(sfd, recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>, recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> - <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>, MSG_DONTWAIT);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">if</span> (lent &lt; recmsg-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> - <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;         <span class="keywordflow">return</span> lent;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      len += <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="comment">/* PacketCable Objects */</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">while</span> (len &lt; recmsg-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;         <span class="keywordflow">if</span> (len == <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="comment">/* 1st round */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordflow">if</span> (!(recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a>)))) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            pobject = recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span> (!(pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a>)))) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            pobject = pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;         }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;         pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;         lent = recv(sfd, buf, <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a>, MSG_DONTWAIT);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;         <span class="keywordflow">if</span> (lent &lt; <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a>) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Too short object header len: %i\n&quot;</span>, lent);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">return</span> lent;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;         }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;         len += lent;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;         pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> = ntohs(*ubuf);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;         pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> = *(buf + 2);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> = *(buf + 3);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         <span class="keywordflow">if</span> (!(pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> - <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a>))) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;         }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         lent = recv(sfd, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> - <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a>, MSG_DONTWAIT);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;         <span class="keywordflow">if</span> (lent &lt; pobject-&gt;length - <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a>) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Too short object content len: %i\n&quot;</span>, lent);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">return</span> lent;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;         }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;         len += lent;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div><div class="ttc" id="structcopsmsg_html_aebb70c2aab3407a9f05334c47131a43b"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">copsmsg::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00104">res_pktccops.c:104</a></div></div>
<div class="ttc" id="structcopsmsg_html_a301ca4ffab46d5f6a4bc26a4cd0933d3"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">copsmsg::opcode</a></div><div class="ttdeci">unsigned char opcode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00102">res_pktccops.c:102</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad9687decc6b56be065e998ce4b7c5f93"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a></div><div class="ttdeci">#define COPS_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00067">res_pktccops.c:67</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structpktcobj_html"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html">pktcobj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00092">res_pktccops.c:92</a></div></div>
<div class="ttc" id="structcopsmsg_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">copsmsg::msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00106">res_pktccops.c:106</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structpktcobj_html_a90428ca35ed3324ed2b73fb28ac4708a"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">pktcobj::contents</a></div><div class="ttdeci">char * contents</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00096">res_pktccops.c:96</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a309961418c0533b0141f06af04cc8ea3"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a></div><div class="ttdeci">#define COPS_OBJECT_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00068">res_pktccops.c:68</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="structpktcobj_html_a6c0482aef2443a1d575a5d8b794393b8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">pktcobj::ctype</a></div><div class="ttdeci">unsigned char ctype</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00095">res_pktccops.c:95</a></div></div>
<div class="ttc" id="structpktcobj_html_a1892eba2086d12ac2b09005aeb09ea3b"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">pktcobj::length</a></div><div class="ttdeci">uint16_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00093">res_pktccops.c:93</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structpktcobj_html_ade38785a77dd72c26f50402fb849efe8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">pktcobj::next</a></div><div class="ttdeci">struct pktcobj * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00097">res_pktccops.c:97</a></div></div>
<div class="ttc" id="structcopsmsg_html_ad85b8af5a056e4764f919fcdf54d31a8"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">copsmsg::object</a></div><div class="ttdeci">struct pktcobj * object</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00105">res_pktccops.c:105</a></div></div>
<div class="ttc" id="structcopsmsg_html_a947a08d41b891c19b003f509a62558a4"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">copsmsg::verflag</a></div><div class="ttdeci">unsigned char verflag</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00101">res_pktccops.c:101</a></div></div>
<div class="ttc" id="structcopsmsg_html_a5ce56f01a649c99d0ce8752385b813f2"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">copsmsg::clienttype</a></div><div class="ttdeci">uint16_t clienttype</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00103">res_pktccops.c:103</a></div></div>
<div class="ttc" id="structpktcobj_html_ab6a893c2293839ec4dc8d0a8b04fdefa"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">pktcobj::cnum</a></div><div class="ttdeci">unsigned char cnum</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00094">res_pktccops.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a237d13455ad14b4dd53e792482d1a273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237d13455ad14b4dd53e792482d1a273">&#9670;&nbsp;</a></span>cops_sendmsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cops_sendmsg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> *&#160;</td>
          <td class="paramname"><em>sendmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00388">388</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00103">copsmsg::clienttype</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00094">pktcobj::cnum</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00096">pktcobj::contents</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00067">COPS_HEADER_SIZE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00095">pktcobj::ctype</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00093">pktcobj::length</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00104">copsmsg::length</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00106">copsmsg::msg</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00097">pktcobj::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00105">copsmsg::object</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00102">copsmsg::opcode</a>, <a class="el" href="../../dd/d95/res__pktccops_8c.html#acdcb7a75bff682373cde821d5e0c1af1">SENDFLAGS</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00101">copsmsg::verflag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keywordtype">int</span> bufpos;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a> *pobject;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   <span class="keywordflow">if</span> (sfd &lt; 0) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: sending opcode: %i len: %u\n&quot;</span>, sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a>, sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   <span class="keywordflow">if</span> (sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> &lt; <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;COPS: invalid msg size!!!\n&quot;</span>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keywordflow">if</span> (!(buf = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>((<span class="keywordtype">size_t</span>) sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>))) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   *buf = sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">verflag</a> ;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   *(buf + 1) = sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   *((uint16_t *)(buf + 2)) = htons(sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">clienttype</a>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   *((uint32_t *)(buf + 4)) = htonl(sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <span class="keywordflow">if</span> (sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      memcpy(buf + <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>, sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>, sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> - <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      bufpos = 8;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      pobject = sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">while</span>(pobject != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: Sending Object : cnum: %i ctype %i len: %i\n&quot;</span>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;         <span class="keywordflow">if</span> (sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> &lt; bufpos + pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;COPS: Invalid msg size len: %u objectlen: %i\n&quot;</span>, sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(buf);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;         }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;         *(uint16_t *) (buf + bufpos) = htons(pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;         *(buf + bufpos + 2) = pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;         *(buf + bufpos + 3) = pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;         <span class="keywordflow">if</span> (sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> &lt; pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> + bufpos) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;COPS: Error sum of object len more the msg len %u &lt; %i\n&quot;</span>, sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> + bufpos);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(buf);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;         }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;         memcpy((buf + bufpos + 4), pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> - 4);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;         bufpos += pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;         pobject = pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = 0;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#ifdef HAVE_MSG_NOSIGNAL</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor">#define  SENDFLAGS   MSG_NOSIGNAL | MSG_DONTWAIT</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor">#define  SENDFLAGS   MSG_DONTWAIT</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">if</span> (send(sfd, buf, sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>, <a class="code" href="../../dd/d95/res__pktccops_8c.html#acdcb7a75bff682373cde821d5e0c1af1">SENDFLAGS</a>) == -1) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;COPS: Send failed errno=%i\n&quot;</span>, <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(buf);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">return</span> -2;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">#undef SENDFLAGS</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(buf);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div><div class="ttc" id="structcopsmsg_html_aebb70c2aab3407a9f05334c47131a43b"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">copsmsg::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00104">res_pktccops.c:104</a></div></div>
<div class="ttc" id="structcopsmsg_html_a301ca4ffab46d5f6a4bc26a4cd0933d3"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">copsmsg::opcode</a></div><div class="ttdeci">unsigned char opcode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00102">res_pktccops.c:102</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad9687decc6b56be065e998ce4b7c5f93"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a></div><div class="ttdeci">#define COPS_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00067">res_pktccops.c:67</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structpktcobj_html"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html">pktcobj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00092">res_pktccops.c:92</a></div></div>
<div class="ttc" id="structcopsmsg_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">copsmsg::msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00106">res_pktccops.c:106</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structpktcobj_html_a90428ca35ed3324ed2b73fb28ac4708a"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">pktcobj::contents</a></div><div class="ttdeci">char * contents</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00096">res_pktccops.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="structpktcobj_html_a6c0482aef2443a1d575a5d8b794393b8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">pktcobj::ctype</a></div><div class="ttdeci">unsigned char ctype</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00095">res_pktccops.c:95</a></div></div>
<div class="ttc" id="structpktcobj_html_a1892eba2086d12ac2b09005aeb09ea3b"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">pktcobj::length</a></div><div class="ttdeci">uint16_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00093">res_pktccops.c:93</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structpktcobj_html_ade38785a77dd72c26f50402fb849efe8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">pktcobj::next</a></div><div class="ttdeci">struct pktcobj * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00097">res_pktccops.c:97</a></div></div>
<div class="ttc" id="structcopsmsg_html_ad85b8af5a056e4764f919fcdf54d31a8"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">copsmsg::object</a></div><div class="ttdeci">struct pktcobj * object</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00105">res_pktccops.c:105</a></div></div>
<div class="ttc" id="structcopsmsg_html_a947a08d41b891c19b003f509a62558a4"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">copsmsg::verflag</a></div><div class="ttdeci">unsigned char verflag</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00101">res_pktccops.c:101</a></div></div>
<div class="ttc" id="structcopsmsg_html_a5ce56f01a649c99d0ce8752385b813f2"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">copsmsg::clienttype</a></div><div class="ttdeci">uint16_t clienttype</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00103">res_pktccops.c:103</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_acdcb7a75bff682373cde821d5e0c1af1"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#acdcb7a75bff682373cde821d5e0c1af1">SENDFLAGS</a></div><div class="ttdeci">#define SENDFLAGS</div></div>
<div class="ttc" id="structpktcobj_html_ab6a893c2293839ec4dc8d0a8b04fdefa"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">pktcobj::cnum</a></div><div class="ttdeci">unsigned char cnum</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00094">res_pktccops.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a423fd5596304dbd1b9b4819c051394ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a423fd5596304dbd1b9b4819c051394ac">&#9670;&nbsp;</a></span>do_pktccops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* do_pktccops </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">699</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../d4/dfb/poll-compat_8h_source.html#l00088">ast_poll</a>, <a class="el" href="../../d4/dfb/poll-compat_8h_source.html#l00128">ast_poll_fd_index()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00228">ast_realloc</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00061">cops_gate::checked</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00103">copsmsg::clienttype</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00063">cops_gate::cmts</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00094">pktcobj::cnum</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00096">pktcobj::contents</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00649">cops_connect()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00453">cops_freemsg()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00323">cops_getmsg()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00067">COPS_HEADER_SIZE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00068">COPS_OBJECT_HEADER_SIZE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00388">cops_sendmsg()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00090">cops_trid</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00095">pktcobj::ctype</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00062">cops_gate::deltimer</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00043">GATE_ALLOC_FAILED</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00045">GATE_ALLOCATED</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00046">GATE_CLOSED</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00047">GATE_CLOSED_ERR</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00039">GATE_DEL</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00049">GATE_DELETED</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00037">GATE_INFO</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00048">GATE_OPEN</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00066">cops_gate::gate_open</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00050">GATE_TIMEOUT</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00055">cops_gate::gateid</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00163">gateinfoperiod</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00164">gatetimeout</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00064">cops_gate::got_dq_gi</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00142">cops_cmts::handle</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00135">cops_cmts::host</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00057">cops_gate::in_transaction</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00145">cops_cmts::katimer</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00140">cops_cmts::keepalive</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00093">pktcobj::length</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00104">copsmsg::length</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00106">copsmsg::msg</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00058">cops_gate::mta</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00134">cops_cmts::name</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00147">cops_cmts::need_delete</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00097">pktcobj::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00105">copsmsg::object</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00102">copsmsg::opcode</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00692">PKTCCOPS_DESTROY_CURRENT_GATE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00086">PKTCCOPS_SCOMMAND_GATE_CLOSE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00083">PKTCCOPS_SCOMMAND_GATE_DELETE_ACK</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00080">PKTCCOPS_SCOMMAND_GATE_INFO_ACK</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00081">PKTCCOPS_SCOMMAND_GATE_INFO_ERR</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00085">PKTCCOPS_SCOMMAND_GATE_OPEN</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00077">PKTCCOPS_SCOMMAND_GATE_SET_ACK</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00078">PKTCCOPS_SCOMMAND_GATE_SET_ERR</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01453">pktccops_unregister_ippools()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00162">pktcreload</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00136">cops_cmts::port</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00146">cops_cmts::sfd</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00059">cops_gate::state</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00143">cops_cmts::state</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00056">cops_gate::trid</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00101">copsmsg::verflag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">restart_pktc_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;{</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <span class="keywordtype">int</span> res, nfds, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> *recmsg, *sendmsg;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/ddd/structcopsmsg.html">copsmsg</a> recmsgb, sendmsgb;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   <span class="keyword">struct </span>pollfd *pfds = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a> *pobject;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *cmts;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <span class="keywordtype">char</span> *sobjp;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   uint16_t snst, sobjlen, scommand, recvtrid, actcount, reason, subreason;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   uint32_t <a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>, subscrid, pktcerror;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   time_t last_exec = 0;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   recmsg = &amp;recmsgb;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   sendmsg = &amp;sendmsgb;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: thread started\n&quot;</span>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(pfds);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      pfds = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      nfds = 0;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, list) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         <span class="keywordflow">if</span> (last_exec != time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> == 2 &amp;&amp; cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a12017905fc60ce8b447e07360386c0d2">katimer</a> + cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#ad95867633821ba629487d16e630e2fd6">keepalive</a> &lt; time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;KA timer (%us) expired cmts: %s\n&quot;</span>,  cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#ad95867633821ba629487d16e630e2fd6">keepalive</a>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;               cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> = 0;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;               cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a12017905fc60ce8b447e07360386c0d2">katimer</a> = -1;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;               close(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;               cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> = -1;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;         }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;         <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> &gt; 0) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#aa6bcdb74dc1508c22986f0adf171a0f2">ast_realloc</a>(pfds, (nfds + 1) * <span class="keyword">sizeof</span>(*pfds)))) {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            pfds = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            pfds[nfds].fd = cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            pfds[nfds].events = POLLIN;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            pfds[nfds].revents = 0;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            nfds++;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad2ff650b210c03f9713fe20057fc0a62">cops_connect</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#aec5a4b1ca5d90fb878c307ebfb5d0527">host</a>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">port</a>);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> &gt; 0) {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;               cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> = 1;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;               <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> &gt; 0) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                  <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#aa6bcdb74dc1508c22986f0adf171a0f2">ast_realloc</a>(pfds, (nfds + 1) * <span class="keyword">sizeof</span>(*pfds)))) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                     <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                  }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                  pfds = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                  pfds[nfds].fd = cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                  pfds[nfds].events = POLLIN;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                  pfds[nfds].revents = 0;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                  nfds++;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;               }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;         }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordflow">if</span> (last_exec != time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;         last_exec = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>, gate, list) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            <span class="keywordflow">if</span> (gate) {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;               <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a4f082e8e0dc78109d9a6e2a44b8973d2">deltimer</a> &amp;&amp; gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a4f082e8e0dc78109d9a6e2a44b8973d2">deltimer</a> &lt; time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                  gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a4f082e8e0dc78109d9a6e2a44b8973d2">deltimer</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) + 5;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                  gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a46afdee16c4257b8725b48c25efacae3">trid</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a>++;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                  <a class="code" href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a>(<a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a46afdee16c4257b8725b48c25efacae3">trid</a>, 0, 0, 0, 0, 0, 0, gate);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                  <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: requested Gate-Del: CMTS: %s gateid: 0x%x\n&quot;</span>, (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>) ? gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a> : <span class="stringliteral">&quot;null&quot;</span>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;               }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;               <span class="keywordflow">if</span> (time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) - gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ae342ea707ff4ac43baff44e6a180d050">checked</a> &gt; <a class="code" href="../../dd/d95/res__pktccops_8c.html#ace919fd4851334c636df1e451500ac2d">gatetimeout</a>) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                  <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: remove from list GATE, CMTS: %s gateid: 0x%x\n&quot;</span>, (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>) ? gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a> : <span class="stringliteral">&quot;null&quot;</span>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                  gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a456b4e9942e6a444d80acf172b781cdb">GATE_TIMEOUT</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                  <a class="code" href="../../dd/d95/res__pktccops_8c.html#a837b9ad6c59c9e5b18eae647c32faa79">PKTCCOPS_DESTROY_CURRENT_GATE</a>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;               } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) - gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ae342ea707ff4ac43baff44e6a180d050">checked</a> &gt; <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa4af78c47e048f303a9e03fe61cf5a12">gateinfoperiod</a> &amp;&amp; (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a5f0af02aff312a49e05fd440316ef57e">GATE_ALLOCATED</a> || gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a7c1d8f3079bdc2046f165d505674ce72">GATE_OPEN</a>)) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                  <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a> &amp;&amp; (!gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">in_transaction</a> || ( gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">in_transaction</a> + 5 ) &lt; time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                     gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a46afdee16c4257b8725b48c25efacae3">trid</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a>++;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                     <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: Gate-Info send to CMTS: %s gateid: 0x%x\n&quot;</span>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                     <a class="code" href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a>(<a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a46afdee16c4257b8725b48c25efacae3">trid</a>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ad4a0c437ed99ddae924ac228a19abc78">mta</a>, 0, 0, 0, 0, 0, gate);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                  }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;               }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;         }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a> == 2) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;         <a class="code" href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a> = 0;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">if</span> ((res = <a class="code" href="../../d4/dfb/poll-compat_8h.html#a5a0c58fa8311e94cd0ed34382aa822f9">ast_poll</a>(pfds, nfds, 1000))) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, list) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">if</span> ((idx = <a class="code" href="../../d4/dfb/poll-compat_8h.html#ace7ded8ab63508419b9363bc28eb9ffb">ast_poll_fd_index</a>(pfds, nfds, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>)) &gt; -1 &amp;&amp; (pfds[idx].revents &amp; POLLIN)) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;               len = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a15a9e37fe49f341daea47eb45f76c09a">cops_getmsg</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>, recmsg);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;               <span class="keywordflow">if</span> (len &gt; 0) {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                  <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: got from %s:\n Header: versflag=0x%02hhx opcode=%i clienttype=0x%04hx msglength=%u\n&quot;</span>,</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                     cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>, recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">verflag</a>,</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                     recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a>, recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">clienttype</a>, recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a>);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                  <span class="keywordflow">if</span> (recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                     pobject = recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                     <span class="keywordflow">while</span> (pobject != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                        <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot; OBJECT: length=%i cnum=%i ctype=%i\n&quot;</span>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a>, pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a>);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                        <span class="keywordflow">if</span> (recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a> == 1 &amp;&amp; pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> == 1 &amp;&amp; pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> == 1 ) {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                           cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#aa8bec03983fc2371ab6afa98ae6ddd45">handle</a> = ntohl(*((uint32_t *) pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>));</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                           <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;    REQ client handle: %u\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#aa8bec03983fc2371ab6afa98ae6ddd45">handle</a>);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                           cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> = 2;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                           cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a12017905fc60ce8b447e07360386c0d2">katimer</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> == 9 &amp;&amp; pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> == 1) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                           sobjp = pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                           subscrid = 0;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                           recvtrid = 0;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                           scommand = 0;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                           pktcerror = 0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                           actcount = 0;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                           gateid = 0;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                           reason = 0;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                           subreason = 0;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                           <span class="keywordflow">while</span> (sobjp &lt; (pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a> + pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> - 4)) {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                              sobjlen = ntohs(*((uint16_t *) sobjp));</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                              snst = ntohs(*((uint16_t *) (sobjp + 2)));</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                              <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;   S-Num S-type: 0x%.4x len: %i\n&quot;</span>, (<span class="keywordtype">unsigned</span>)snst, sobjlen);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                              <span class="keywordflow">if</span> (snst == 0x0101 ) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                                 recvtrid = ntohs(*((uint16_t *) (sobjp + 4)));</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                 scommand = ntohs(*((uint16_t *) (sobjp + 6)));</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                                 <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;     Transaction Identifier command: %i trid %i\n&quot;</span>, scommand, recvtrid);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (snst == 0x0201) {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                                 subscrid = ntohl(*((uint32_t *) (sobjp + 4)));</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                 <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;     Subscriber ID: 0x%.8x\n&quot;</span>, subscrid);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (snst == 0x0301) {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                                 gateid = ntohl(*((uint32_t *) (sobjp + 4)));</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                                 <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;      Gate ID: 0x%x 0x%.8x\n&quot;</span>, gateid, gateid);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (snst == 0x0401) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                 actcount = ntohs(*((uint16_t *) (sobjp + 6)));</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                                 <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;      Activity Count: %i\n&quot;</span>, actcount);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (snst == 0x0901) {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                                 pktcerror = ntohl(*((uint32_t *) (sobjp + 4)));</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                                 <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;      PKTC Error: 0x%.8x\n&quot;</span>, pktcerror);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (snst == 0x0d01) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                                 reason = ntohs(*((uint16_t *) (sobjp + 4)));</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                 subreason = ntohs(*((uint16_t *) (sobjp + 6)));</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                 <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;      Reason: %d Subreason: %d\n&quot;</span>, reason, subreason);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                              }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                              sobjp += sobjlen;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                              <span class="keywordflow">if</span> (!sobjlen)</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                                 <span class="keywordflow">break</span>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                           }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                           <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac024f2afafad3055f066a0e76fc5e25d">PKTCCOPS_SCOMMAND_GATE_CLOSE</a> || scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#a5b12441f968f5875f3641fed26ae6f30">PKTCCOPS_SCOMMAND_GATE_OPEN</a>) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                              <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                              <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>, gate, list) {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                                 <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a> == cmts &amp;&amp; gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a> == gateid) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                                    <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac024f2afafad3055f066a0e76fc5e25d">PKTCCOPS_SCOMMAND_GATE_CLOSE</a> &amp;&amp; gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> != <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ab188058b09f5c3f3fa103bf458ec4cae">GATE_CLOSED</a> &amp;&amp; gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> != <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a63c1fb497b0148bfb645ec2dfb7a5d13">GATE_CLOSED_ERR</a> ) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                                       <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS Gate Close Gate ID: 0x%x TrId: %i CMTS: %s\n&quot;</span>, gateid, recvtrid, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                       <span class="keywordflow">if</span> (subreason) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                          gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a63c1fb497b0148bfb645ec2dfb7a5d13">GATE_CLOSED_ERR</a>;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                                          <a class="code" href="../../dd/d95/res__pktccops_8c.html#a837b9ad6c59c9e5b18eae647c32faa79">PKTCCOPS_DESTROY_CURRENT_GATE</a>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                       } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                          gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ab188058b09f5c3f3fa103bf458ec4cae">GATE_CLOSED</a>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                          <a class="code" href="../../dd/d95/res__pktccops_8c.html#a837b9ad6c59c9e5b18eae647c32faa79">PKTCCOPS_DESTROY_CURRENT_GATE</a>;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                       }</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                                       <span class="keywordflow">break</span>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#a5b12441f968f5875f3641fed26ae6f30">PKTCCOPS_SCOMMAND_GATE_OPEN</a> &amp;&amp; gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a5f0af02aff312a49e05fd440316ef57e">GATE_ALLOCATED</a>) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                                       <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS Gate Open Gate ID: 0x%x TrId: %i CMTS: %s\n&quot;</span>, gateid, recvtrid, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                                       gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a7c1d8f3079bdc2046f165d505674ce72">GATE_OPEN</a>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                                       <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#affccd41640f9bef6111c0e1f1754e6ed">gate_open</a>) {</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                                          <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Calling GATE-OPEN callback function\n&quot;</span>);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                                          gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#affccd41640f9bef6111c0e1f1754e6ed">gate_open</a>(gate);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                                          gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#affccd41640f9bef6111c0e1f1754e6ed">gate_open</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                       }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                                       <span class="keywordflow">break</span>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                    }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                 }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                              }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                              <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                              <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                           } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa623eeb82076a14a15a48747e963bb78">PKTCCOPS_SCOMMAND_GATE_SET_ACK</a> || scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#a3e986cb63dec812973ca08aaee4da559">PKTCCOPS_SCOMMAND_GATE_SET_ERR</a> || scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#ab5025c883c4d60b7302348e1f3c01874">PKTCCOPS_SCOMMAND_GATE_INFO_ACK</a> || scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad05240eb7dbfe29c7dd6ff351d991c20">PKTCCOPS_SCOMMAND_GATE_INFO_ERR</a> || scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#a8e882b88e15345d5f9b173868b78336e">PKTCCOPS_SCOMMAND_GATE_DELETE_ACK</a>) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                              <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                              <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>, gate, list) {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                                 <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a> == cmts &amp;&amp; gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a46afdee16c4257b8725b48c25efacae3">trid</a> == recvtrid) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                                    gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a> = <a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                                    gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ae342ea707ff4ac43baff44e6a180d050">checked</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                                    <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa623eeb82076a14a15a48747e963bb78">PKTCCOPS_SCOMMAND_GATE_SET_ACK</a>) {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                       <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS Gate Set Ack Gate ID: 0x%x TrId: %i CMTS: %s\n&quot;</span>, gateid, recvtrid, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                       gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a5f0af02aff312a49e05fd440316ef57e">GATE_ALLOCATED</a>;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                                       <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">got_dq_gi</a>) {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                          gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">got_dq_gi</a>(gate);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                          gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">got_dq_gi</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                                       }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#a3e986cb63dec812973ca08aaee4da559">PKTCCOPS_SCOMMAND_GATE_SET_ERR</a>) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                                       <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS Gate Set Error TrId: %i ErrorCode: 0x%.8x CMTS: %s\n &quot;</span>, recvtrid, pktcerror, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                                       gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a8e47164429d4d3b74b06b7ab88ea6f16">GATE_ALLOC_FAILED</a>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                                       <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">got_dq_gi</a>) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                          gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">got_dq_gi</a>(gate);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                                          gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">got_dq_gi</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                                       }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                                       <a class="code" href="../../dd/d95/res__pktccops_8c.html#a837b9ad6c59c9e5b18eae647c32faa79">PKTCCOPS_DESTROY_CURRENT_GATE</a>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#ab5025c883c4d60b7302348e1f3c01874">PKTCCOPS_SCOMMAND_GATE_INFO_ACK</a>) {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                                       <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS Gate Info Ack Gate ID: 0x%x TrId: %i CMTS: %s\n&quot;</span>, gateid, recvtrid, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad05240eb7dbfe29c7dd6ff351d991c20">PKTCCOPS_SCOMMAND_GATE_INFO_ERR</a>) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                                       <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS Gate Info Error Gate ID: 0x%x TrId: %i CMTS: %s\n&quot;</span>, gateid, recvtrid, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                                       gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a8e47164429d4d3b74b06b7ab88ea6f16">GATE_ALLOC_FAILED</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                                       <a class="code" href="../../dd/d95/res__pktccops_8c.html#a837b9ad6c59c9e5b18eae647c32faa79">PKTCCOPS_DESTROY_CURRENT_GATE</a>;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scommand == <a class="code" href="../../dd/d95/res__pktccops_8c.html#a8e882b88e15345d5f9b173868b78336e">PKTCCOPS_SCOMMAND_GATE_DELETE_ACK</a>) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                                       <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS Gate Deleted Gate ID: 0x%x TrId: %i CMTS: %s\n&quot;</span>, gateid, recvtrid, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                                       gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> = <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ad1b374906b15ad970826a98acd5521dc">GATE_DELETED</a>;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                                       <a class="code" href="../../dd/d95/res__pktccops_8c.html#a837b9ad6c59c9e5b18eae647c32faa79">PKTCCOPS_DESTROY_CURRENT_GATE</a>;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                                    }</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                    gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">in_transaction</a> = 0;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                 }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                              }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                              <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                              <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                           }</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                        }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                        pobject = pobject-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                     }</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                  }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                  <span class="keywordflow">if</span> (recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a> == 6 &amp;&amp; recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> &amp;&amp; recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> == 11 &amp;&amp; recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> == 1) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                     <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: Client open %s\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">verflag</a> = 0x10;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a> = 7; <span class="comment">/* Client Accept */</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">clienttype</a> = 0x8008; <span class="comment">/* =PacketCable */</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">length</a> = <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a> + <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a> + 4;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d6b/structpktcobj.html">pktcobj</a>));</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> = 4 + <a class="code" href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a>;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">cnum</a> = 10; <span class="comment">/* keppalive timer*/</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">ctype</a> = 1;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(uint32_t));</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                     *((uint32_t *) sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">contents</a>) = htonl(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#ad95867633821ba629487d16e630e2fd6">keepalive</a> &amp; 0x0000ffff);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                     sendmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">object</a>-&gt;<a class="code" href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">next</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                     <a class="code" href="../../dd/d95/res__pktccops_8c.html#a237d13455ad14b4dd53e792482d1a273">cops_sendmsg</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>, sendmsg);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                     <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(sendmsg);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (recmsg-&gt;<a class="code" href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">opcode</a> == 9) {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                     <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: Keepalive Request got echoing back %s\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                     <a class="code" href="../../dd/d95/res__pktccops_8c.html#a237d13455ad14b4dd53e792482d1a273">cops_sendmsg</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>, recmsg);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                     cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> = 2;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                     cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a12017905fc60ce8b447e07360386c0d2">katimer</a> = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                  }</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;               }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;               <span class="keywordflow">if</span> (len &lt;= 0) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                  <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;COPS: lost connection to %s\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                  close(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                  cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> = -1;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                  cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> = 0;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;               }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;               <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a>(recmsg);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            }</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;         }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a>) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Reloading pktccops...\n&quot;</span>);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;         <a class="code" href="../../dd/d95/res__pktccops_8c.html#a44680ef09261873584f0f46e6530da6e">pktccops_unregister_ippools</a>();</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, list) {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a1eab48f6f3901ac508e05a6f9558e41f">need_delete</a> = 1;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;         }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;         <a class="code" href="../../dd/d95/res__pktccops_8c.html#a34d703272e3b53988e4b90798122f5de">load_pktccops_config</a>();</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, list) {</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="keywordflow">if</span> (cmts &amp;&amp; cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a1eab48f6f3901ac508e05a6f9558e41f">need_delete</a>) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>, gate, list) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                  <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a> == cmts) {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                     <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Null gate %s\n&quot;</span>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                     gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                  }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                  gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">in_transaction</a> = 0;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;               }</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;removing cmts: %s\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;               <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> &gt; 0) {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                  close(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;               }</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(list);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;               <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cmts);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;         }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;         <a class="code" href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a> = 2;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      pthread_testcancel();</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;}</div><div class="ttc" id="structcopsmsg_html_aebb70c2aab3407a9f05334c47131a43b"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#aebb70c2aab3407a9f05334c47131a43b">copsmsg::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00104">res_pktccops.c:104</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a5f0af02aff312a49e05fd440316ef57e"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a5f0af02aff312a49e05fd440316ef57e">GATE_ALLOCATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00045">pktccops.h:45</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="astmm_8h_html_aa6bcdb74dc1508c22986f0adf171a0f2"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aa6bcdb74dc1508c22986f0adf171a0f2">ast_realloc</a></div><div class="ttdeci">#define ast_realloc(p, len)</div><div class="ttdoc">A wrapper for realloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00228">astmm.h:228</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a237d13455ad14b4dd53e792482d1a273"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a237d13455ad14b4dd53e792482d1a273">cops_sendmsg</a></div><div class="ttdeci">static int cops_sendmsg(int sfd, struct copsmsg *sendmsg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00388">res_pktccops.c:388</a></div></div>
<div class="ttc" id="structcopsmsg_html_a301ca4ffab46d5f6a4bc26a4cd0933d3"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a301ca4ffab46d5f6a4bc26a4cd0933d3">copsmsg::opcode</a></div><div class="ttdeci">unsigned char opcode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00102">res_pktccops.c:102</a></div></div>
<div class="ttc" id="structcops__gate_html_a89f234133d3efe315836311cbf21c64b"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">cops_gate::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00059">pktccops.h:59</a></div></div>
<div class="ttc" id="structcops__cmts_html_a12017905fc60ce8b447e07360386c0d2"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a12017905fc60ce8b447e07360386c0d2">cops_cmts::katimer</a></div><div class="ttdeci">time_t katimer</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00145">res_pktccops.c:145</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ace919fd4851334c636df1e451500ac2d"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ace919fd4851334c636df1e451500ac2d">gatetimeout</a></div><div class="ttdeci">static int gatetimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00164">res_pktccops.c:164</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a3e986cb63dec812973ca08aaee4da559"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a3e986cb63dec812973ca08aaee4da559">PKTCCOPS_SCOMMAND_GATE_SET_ERR</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_SET_ERR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00078">res_pktccops.c:78</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad2ff650b210c03f9713fe20057fc0a62"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad2ff650b210c03f9713fe20057fc0a62">cops_connect</a></div><div class="ttdeci">static int cops_connect(char *host, char *port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00649">res_pktccops.c:649</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_aa4af78c47e048f303a9e03fe61cf5a12"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#aa4af78c47e048f303a9e03fe61cf5a12">gateinfoperiod</a></div><div class="ttdeci">static int gateinfoperiod</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00163">res_pktccops.c:163</a></div></div>
<div class="ttc" id="structcops__cmts_html_a89f234133d3efe315836311cbf21c64b"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">cops_cmts::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00143">res_pktccops.c:143</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_aa6f1171973a38a84d5bcc5edfa5beb80"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#aa6f1171973a38a84d5bcc5edfa5beb80">cops_freemsg</a></div><div class="ttdeci">static void cops_freemsg(struct copsmsg *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00453">res_pktccops.c:453</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295ab188058b09f5c3f3fa103bf458ec4cae"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ab188058b09f5c3f3fa103bf458ec4cae">GATE_CLOSED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00046">pktccops.h:46</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a837b9ad6c59c9e5b18eae647c32faa79"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a837b9ad6c59c9e5b18eae647c32faa79">PKTCCOPS_DESTROY_CURRENT_GATE</a></div><div class="ttdeci">#define PKTCCOPS_DESTROY_CURRENT_GATE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00692">res_pktccops.c:692</a></div></div>
<div class="ttc" id="structcops__gate_html_a4f082e8e0dc78109d9a6e2a44b8973d2"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a4f082e8e0dc78109d9a6e2a44b8973d2">cops_gate::deltimer</a></div><div class="ttdeci">time_t deltimer</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00062">pktccops.h:62</a></div></div>
<div class="ttc" id="structcops__cmts_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">cops_cmts::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00134">res_pktccops.c:134</a></div></div>
<div class="ttc" id="structcops__cmts_html_aa8bec03983fc2371ab6afa98ae6ddd45"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#aa8bec03983fc2371ab6afa98ae6ddd45">cops_cmts::handle</a></div><div class="ttdeci">uint32_t handle</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00142">res_pktccops.c:142</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ab5025c883c4d60b7302348e1f3c01874"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ab5025c883c4d60b7302348e1f3c01874">PKTCCOPS_SCOMMAND_GATE_INFO_ACK</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_INFO_ACK</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00080">res_pktccops.c:80</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad9687decc6b56be065e998ce4b7c5f93"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad9687decc6b56be065e998ce4b7c5f93">COPS_HEADER_SIZE</a></div><div class="ttdeci">#define COPS_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00067">res_pktccops.c:67</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structpktcobj_html"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html">pktcobj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00092">res_pktccops.c:92</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structcopsmsg_html"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html">copsmsg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00100">res_pktccops.c:100</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a2becc57e197b5c565aa7e8ecb5f1d4bf"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a></div><div class="ttdeci">static struct cops_gate * cops_gate_cmd(int cmd, struct cops_cmts *cmts, uint16_t trid, uint32_t mta, uint32_t actcount, float bitrate, uint32_t psize, uint32_t ssip, uint16_t ssport, struct cops_gate *gate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00495">res_pktccops.c:495</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad05240eb7dbfe29c7dd6ff351d991c20"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad05240eb7dbfe29c7dd6ff351d991c20">PKTCCOPS_SCOMMAND_GATE_INFO_ERR</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_INFO_ERR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00081">res_pktccops.c:81</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a8e882b88e15345d5f9b173868b78336e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a8e882b88e15345d5f9b173868b78336e">PKTCCOPS_SCOMMAND_GATE_DELETE_ACK</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_DELETE_ACK</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00083">res_pktccops.c:83</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a5b12441f968f5875f3641fed26ae6f30"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a5b12441f968f5875f3641fed26ae6f30">PKTCCOPS_SCOMMAND_GATE_OPEN</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00085">res_pktccops.c:85</a></div></div>
<div class="ttc" id="structcopsmsg_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a32d2f5216cddb59c7cc8fb2806a7e727">copsmsg::msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00106">res_pktccops.c:106</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structcops__gate_html"><div class="ttname"><a href="../../db/da2/structcops__gate.html">cops_gate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00053">pktccops.h:53</a></div></div>
<div class="ttc" id="structcops__cmts_html"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html">cops_cmts</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00132">res_pktccops.c:132</a></div></div>
<div class="ttc" id="structcops__gate_html_ae342ea707ff4ac43baff44e6a180d050"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ae342ea707ff4ac43baff44e6a180d050">cops_gate::checked</a></div><div class="ttdeci">time_t checked</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00061">pktccops.h:61</a></div></div>
<div class="ttc" id="poll-compat_8h_html_a5a0c58fa8311e94cd0ed34382aa822f9"><div class="ttname"><a href="../../d4/dfb/poll-compat_8h.html#a5a0c58fa8311e94cd0ed34382aa822f9">ast_poll</a></div><div class="ttdeci">#define ast_poll(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfb/poll-compat_8h_source.html#l00088">poll-compat.h:88</a></div></div>
<div class="ttc" id="structpktcobj_html_a90428ca35ed3324ed2b73fb28ac4708a"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a90428ca35ed3324ed2b73fb28ac4708a">pktcobj::contents</a></div><div class="ttdeci">char * contents</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00096">res_pktccops.c:96</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a309961418c0533b0141f06af04cc8ea3"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a309961418c0533b0141f06af04cc8ea3">COPS_OBJECT_HEADER_SIZE</a></div><div class="ttdeci">#define COPS_OBJECT_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00068">res_pktccops.c:68</a></div></div>
<div class="ttc" id="structcops__gate_html_a46afdee16c4257b8725b48c25efacae3"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a46afdee16c4257b8725b48c25efacae3">cops_gate::trid</a></div><div class="ttdeci">uint16_t trid</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00056">pktccops.h:56</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00039">pktccops.h:39</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a34d703272e3b53988e4b90798122f5de"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a34d703272e3b53988e4b90798122f5de">load_pktccops_config</a></div><div class="ttdeci">static int load_pktccops_config(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l01022">res_pktccops.c:1022</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a63c1fb497b0148bfb645ec2dfb7a5d13"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a63c1fb497b0148bfb645ec2dfb7a5d13">GATE_CLOSED_ERR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00047">pktccops.h:47</a></div></div>
<div class="ttc" id="structcops__gate_html_a69d643e8a1509670364e2fcca752f1cb"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">cops_gate::in_transaction</a></div><div class="ttdeci">time_t in_transaction</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00057">pktccops.h:57</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295ad1b374906b15ad970826a98acd5521dc"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ad1b374906b15ad970826a98acd5521dc">GATE_DELETED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00049">pktccops.h:49</a></div></div>
<div class="ttc" id="structpktcobj_html_a6c0482aef2443a1d575a5d8b794393b8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a6c0482aef2443a1d575a5d8b794393b8">pktcobj::ctype</a></div><div class="ttdeci">unsigned char ctype</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00095">res_pktccops.c:95</a></div></div>
<div class="ttc" id="structcops__gate_html_a11c22f2d80c89994b4e0f259101a0d12"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">cops_gate::gateid</a></div><div class="ttdeci">uint32_t gateid</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00055">pktccops.h:55</a></div></div>
<div class="ttc" id="structcops__cmts_html_a1eab48f6f3901ac508e05a6f9558e41f"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a1eab48f6f3901ac508e05a6f9558e41f">cops_cmts::need_delete</a></div><div class="ttdeci">int need_delete</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00147">res_pktccops.c:147</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_aa623eeb82076a14a15a48747e963bb78"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#aa623eeb82076a14a15a48747e963bb78">PKTCCOPS_SCOMMAND_GATE_SET_ACK</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_SET_ACK</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00077">res_pktccops.c:77</a></div></div>
<div class="ttc" id="structpktcobj_html_a1892eba2086d12ac2b09005aeb09ea3b"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#a1892eba2086d12ac2b09005aeb09ea3b">pktcobj::length</a></div><div class="ttdeci">uint16_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00093">res_pktccops.c:93</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="poll-compat_8h_html_ace7ded8ab63508419b9363bc28eb9ffb"><div class="ttname"><a href="../../d4/dfb/poll-compat_8h.html#ace7ded8ab63508419b9363bc28eb9ffb">ast_poll_fd_index</a></div><div class="ttdeci">static int ast_poll_fd_index(struct pollfd *haystack, int nfds, int needle)</div><div class="ttdoc">Shortcut for conversion of FD_ISSET to poll(2)-based. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfb/poll-compat_8h_source.html#l00128">poll-compat.h:128</a></div></div>
<div class="ttc" id="structgate__list_html"><div class="ttname"><a href="../../db/d68/structgate__list.html">gate_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00168">res_pktccops.c:168</a></div></div>
<div class="ttc" id="structcops__gate_html_affccd41640f9bef6111c0e1f1754e6ed"><div class="ttname"><a href="../../db/da2/structcops__gate.html#affccd41640f9bef6111c0e1f1754e6ed">cops_gate::gate_open</a></div><div class="ttdeci">int(* gate_open)(struct cops_gate *gate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00066">pktccops.h:66</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a314addbf629dd26460fdf51ce7122e8e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a></div><div class="ttdeci">static int pktcreload</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00162">res_pktccops.c:162</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ac395ef2746c735b7ed4de6353c93ce9e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a></div><div class="ttdeci">static uint16_t cops_trid</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00090">res_pktccops.c:90</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a453c4b92beab75f7978a12359df02328">GATE_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00037">pktccops.h:37</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structcmts__list_html"><div class="ttname"><a href="../../d3/d20/structcmts__list.html">cmts_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00166">res_pktccops.c:166</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a8e47164429d4d3b74b06b7ab88ea6f16"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a8e47164429d4d3b74b06b7ab88ea6f16">GATE_ALLOC_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00043">pktccops.h:43</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ac024f2afafad3055f066a0e76fc5e25d"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac024f2afafad3055f066a0e76fc5e25d">PKTCCOPS_SCOMMAND_GATE_CLOSE</a></div><div class="ttdeci">#define PKTCCOPS_SCOMMAND_GATE_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00086">res_pktccops.c:86</a></div></div>
<div class="ttc" id="structpktcobj_html_ade38785a77dd72c26f50402fb849efe8"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ade38785a77dd72c26f50402fb849efe8">pktcobj::next</a></div><div class="ttdeci">struct pktcobj * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00097">res_pktccops.c:97</a></div></div>
<div class="ttc" id="structcopsmsg_html_ad85b8af5a056e4764f919fcdf54d31a8"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#ad85b8af5a056e4764f919fcdf54d31a8">copsmsg::object</a></div><div class="ttdeci">struct pktcobj * object</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00105">res_pktccops.c:105</a></div></div>
<div class="ttc" id="structcops__cmts_html_ad95867633821ba629487d16e630e2fd6"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#ad95867633821ba629487d16e630e2fd6">cops_cmts::keepalive</a></div><div class="ttdeci">uint32_t keepalive</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00140">res_pktccops.c:140</a></div></div>
<div class="ttc" id="structcops__cmts_html_af6e5ac0c98235f3942554b438a069736"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">cops_cmts::sfd</a></div><div class="ttdeci">int sfd</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00146">res_pktccops.c:146</a></div></div>
<div class="ttc" id="structcopsmsg_html_a947a08d41b891c19b003f509a62558a4"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a947a08d41b891c19b003f509a62558a4">copsmsg::verflag</a></div><div class="ttdeci">unsigned char verflag</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00101">res_pktccops.c:101</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a456b4e9942e6a444d80acf172b781cdb"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a456b4e9942e6a444d80acf172b781cdb">GATE_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00050">pktccops.h:50</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a44680ef09261873584f0f46e6530da6e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a44680ef09261873584f0f46e6530da6e">pktccops_unregister_ippools</a></div><div class="ttdeci">static void pktccops_unregister_ippools(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l01453">res_pktccops.c:1453</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a7c1d8f3079bdc2046f165d505674ce72"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a7c1d8f3079bdc2046f165d505674ce72">GATE_OPEN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00048">pktccops.h:48</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a15a9e37fe49f341daea47eb45f76c09a"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a15a9e37fe49f341daea47eb45f76c09a">cops_getmsg</a></div><div class="ttdeci">static int cops_getmsg(int sfd, struct copsmsg *recmsg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00323">res_pktccops.c:323</a></div></div>
<div class="ttc" id="structcops__cmts_html_a693db8060033dde74d39a9c45e2c6e96"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">cops_cmts::port</a></div><div class="ttdeci">char port[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00136">res_pktccops.c:136</a></div></div>
<div class="ttc" id="structcopsmsg_html_a5ce56f01a649c99d0ce8752385b813f2"><div class="ttname"><a href="../../d6/ddd/structcopsmsg.html#a5ce56f01a649c99d0ce8752385b813f2">copsmsg::clienttype</a></div><div class="ttdeci">uint16_t clienttype</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00103">res_pktccops.c:103</a></div></div>
<div class="ttc" id="structcops__gate_html_ad4a0c437ed99ddae924ac228a19abc78"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ad4a0c437ed99ddae924ac228a19abc78">cops_gate::mta</a></div><div class="ttdeci">uint32_t mta</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00058">pktccops.h:58</a></div></div>
<div class="ttc" id="structcops__gate_html_ac802b82a3e7c2c8f49d35a5fd6b4004d"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ac802b82a3e7c2c8f49d35a5fd6b4004d">cops_gate::got_dq_gi</a></div><div class="ttdeci">int(* got_dq_gi)(struct cops_gate *gate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00064">pktccops.h:64</a></div></div>
<div class="ttc" id="structcops__cmts_html_aec5a4b1ca5d90fb878c307ebfb5d0527"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#aec5a4b1ca5d90fb878c307ebfb5d0527">cops_cmts::host</a></div><div class="ttdeci">char host[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00135">res_pktccops.c:135</a></div></div>
<div class="ttc" id="structpktcobj_html_ab6a893c2293839ec4dc8d0a8b04fdefa"><div class="ttname"><a href="../../d2/d6b/structpktcobj.html#ab6a893c2293839ec4dc8d0a8b04fdefa">pktcobj::cnum</a></div><div class="ttdeci">unsigned char cnum</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00094">res_pktccops.c:94</a></div></div>
<div class="ttc" id="structcops__gate_html_ab7f2963c6b54a07f395b0ccba991e655"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cops_gate::cmts</a></div><div class="ttdeci">struct cops_cmts * cmts</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00063">pktccops.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a72572b3e361c1acb9e33c23a0f3bfba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72572b3e361c1acb9e33c23a0f3bfba8">&#9670;&nbsp;</a></span>ftoieeef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t ftoieeef </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00175">175</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00221">cops_construct_gate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   uint32_t res;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   memcpy(&amp;res, &amp;n, 4);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordflow">return</span> htonl(res);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01463">1463</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">restart_pktc_thread()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01500">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;{</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   res = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a34d703272e3b53988e4b90798122f5de">load_pktccops_config</a>();</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   <span class="keywordflow">if</span> (res == -1) {</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;   }</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../dd/d95/res__pktccops_8c.html#a401756534bead2b1713a65cfcd0e3187">cli_pktccops</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d95/res__pktccops_8c.html#a401756534bead2b1713a65cfcd0e3187">cli_pktccops</a>) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>));</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#af7a1170a7da979a6e528f76077183323">restart_pktc_thread</a>();</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structast__cli__entry_html"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a></div><div class="ttdoc">descriptor for a cli entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00171">cli.h:171</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a401756534bead2b1713a65cfcd0e3187"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a401756534bead2b1713a65cfcd0e3187">cli_pktccops</a></div><div class="ttdeci">static struct ast_cli_entry cli_pktccops[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l01411">res_pktccops.c:1411</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a34d703272e3b53988e4b90798122f5de"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a34d703272e3b53988e4b90798122f5de">load_pktccops_config</a></div><div class="ttdeci">static int load_pktccops_config(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l01022">res_pktccops.c:1022</a></div></div>
<div class="ttc" id="structcmts__list_html"><div class="ttname"><a href="../../d3/d20/structcmts__list.html">cmts_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00166">res_pktccops.c:166</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_af7a1170a7da979a6e528f76077183323"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#af7a1170a7da979a6e528f76077183323">restart_pktc_thread</a></div><div class="ttdeci">static int restart_pktc_thread(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00993">res_pktccops.c:993</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a34d703272e3b53988e4b90798122f5de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34d703272e3b53988e4b90798122f5de">&#9670;&nbsp;</a></span>load_pktccops_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_pktccops_config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">1022</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">a</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03328">ast_category_browse()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">ast_config_load</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">b</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00154">cops_ippool::cmts</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00049">d</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00065">DEFAULT_COPS_PORT</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00163">gateinfoperiod</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00164">gatetimeout</a>, <a class="el" href="../../d0/d8a/muted_8c_source.html#l00077">host</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00135">cops_cmts::host</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00140">cops_cmts::keepalive</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00160">keepalive</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00134">cops_cmts::name</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00147">cops_cmts::need_delete</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01420">pktccops_add_ippool()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00136">cops_cmts::port</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00146">cops_cmts::sfd</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00152">cops_ippool::start</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00143">cops_cmts::state</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00153">cops_ippool::stop</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00137">cops_cmts::t1</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00157">t1</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00138">cops_cmts::t7</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00158">t7</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00139">cops_cmts::t8</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00159">t8</a>, <a class="el" href="../../d0/d89/codec__g726_8c_source.html#l00367">update()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01463">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;{</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   <span class="keyword">static</span> <span class="keywordtype">char</span> *cfg = <span class="stringliteral">&quot;res_pktccops.conf&quot;</span>;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *cmts;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d0a/structcops__ippool.html">cops_ippool</a> *new_ippool;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a>, *cat, *port;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   uint16_t t1_temp, t7_temp, t8_temp;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   uint32_t keepalive_temp;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>,<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>,<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>,<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>,e,f,g,h;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = {0};</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;   <span class="keywordflow">if</span> (!(config = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a>(cfg, config_flags))) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to load config file res_pktccops.conf\n&quot;</span>);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   }</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="keywordflow">for</span> (cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(config, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); cat; cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(config, cat)) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="keywordflow">if</span> (!strcmp(cat, <span class="stringliteral">&quot;general&quot;</span>)) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;         <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(config, cat); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t1&quot;</span>)) {</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;               <a class="code" href="../../dd/d95/res__pktccops_8c.html#acc5ce172913ccabaada04d5c408dd85b">t1</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t7&quot;</span>)) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;               <a class="code" href="../../dd/d95/res__pktccops_8c.html#abc6691d7c526d608dbf625bfac0e7be1">t7</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t8&quot;</span>)) {</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;               <a class="code" href="../../dd/d95/res__pktccops_8c.html#a186b02ba9cbbc9c5fa2a212e8381a518">t8</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;keepalive&quot;</span>)) {</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;               <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad95867633821ba629487d16e630e2fd6">keepalive</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;gateinfoperiod&quot;</span>)) {</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;               <a class="code" href="../../dd/d95/res__pktccops_8c.html#aa4af78c47e048f303a9e03fe61cf5a12">gateinfoperiod</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;gatetimeout&quot;</span>)) {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;               <a class="code" href="../../dd/d95/res__pktccops_8c.html#ace919fd4851334c636df1e451500ac2d">gatetimeout</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unkown option %s in general section of res_ptkccops.conf\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;         }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;         <span class="comment">/* Defaults */</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;         host = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;         port = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;         t1_temp = <a class="code" href="../../dd/d95/res__pktccops_8c.html#acc5ce172913ccabaada04d5c408dd85b">t1</a>;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;         t7_temp = <a class="code" href="../../dd/d95/res__pktccops_8c.html#abc6691d7c526d608dbf625bfac0e7be1">t7</a>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;         t8_temp = <a class="code" href="../../dd/d95/res__pktccops_8c.html#a186b02ba9cbbc9c5fa2a212e8381a518">t8</a>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;         keepalive_temp = <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad95867633821ba629487d16e630e2fd6">keepalive</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;         <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(config, cat); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;host&quot;</span>)) {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;               host = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;port&quot;</span>)) {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;               port = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t1&quot;</span>)) {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;               t1_temp = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t7&quot;</span>)) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;               t7_temp = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t8&quot;</span>)) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;               t8_temp = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;keepalive&quot;</span>)) {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;               keepalive_temp = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;pool&quot;</span>)) {</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;               <span class="comment">/* we weill parse it in 2nd round */</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unkown option %s in res_ptkccops.conf\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;         }</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;         update = 0;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, list) {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <span class="keywordflow">if</span> (!strcmp(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>, cat)) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;               update = 1;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;         }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;         <span class="keywordflow">if</span> (!update) {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            cmts = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*cmts));</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <span class="keywordflow">if</span> (!cmts) {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;               res = -1;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, list);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;         }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;         <span class="keywordflow">if</span> (cat) {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>, cat, <span class="keyword">sizeof</span>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>));</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;         }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;         <span class="keywordflow">if</span> (host) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#aec5a4b1ca5d90fb878c307ebfb5d0527">host</a>, host, <span class="keyword">sizeof</span>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#aec5a4b1ca5d90fb878c307ebfb5d0527">host</a>));</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;         }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;         <span class="keywordflow">if</span> (port) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">port</a>, port, <span class="keyword">sizeof</span>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">port</a>));</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">port</a>, <a class="code" href="../../dd/d95/res__pktccops_8c.html#a212347adec5e2951ca423d9fff98c7af">DEFAULT_COPS_PORT</a>, <span class="keyword">sizeof</span>(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">port</a>));</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;         }</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;         cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#acc5ce172913ccabaada04d5c408dd85b">t1</a> = t1_temp;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;         cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#abc6691d7c526d608dbf625bfac0e7be1">t7</a> = t7_temp;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;         cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a186b02ba9cbbc9c5fa2a212e8381a518">t8</a> = t8_temp;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;         cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#ad95867633821ba629487d16e630e2fd6">keepalive</a> = keepalive_temp;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;         <span class="keywordflow">if</span> (!update) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> = 0;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> = -1;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;         }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;         cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a1eab48f6f3901ac508e05a6f9558e41f">need_delete</a> = 0;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;         <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(config, cat); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            <span class="comment">/* parse ipppol when we have cmts ptr */</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;pool&quot;</span>)) {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;               <span class="keywordflow">if</span> (sscanf(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, <span class="stringliteral">&quot;%3u.%3u.%3u.%3u %3u.%3u.%3u.%3u&quot;</span>, &amp;a, &amp;b, &amp;c, &amp;d, &amp;e, &amp;f, &amp;g, &amp;h) == 8) {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                  new_ippool = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*new_ippool));</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                  <span class="keywordflow">if</span> (!new_ippool) {</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                     res = -1;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                     <span class="keywordflow">break</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                  }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                  new_ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">start</a> = a &lt;&lt; 24 | b &lt;&lt; 16 | c &lt;&lt; 8 | <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a>;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                  new_ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#ab62795d0dce17019b8037b19185c21b1">stop</a> = e &lt;&lt; 24 | f &lt;&lt; 16 | g &lt;&lt; 8 | h;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                  new_ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a> = cmts;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                  <a class="code" href="../../dd/d95/res__pktccops_8c.html#a46bde4268185f9608404aa3974bd2fd7">pktccops_add_ippool</a>(new_ippool);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid ip pool format in res_pktccops.conf\n&quot;</span>);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;               }</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            }</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;         }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      }</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(config);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a46bde4268185f9608404aa3974bd2fd7"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a46bde4268185f9608404aa3974bd2fd7">pktccops_add_ippool</a></div><div class="ttdeci">static int pktccops_add_ippool(struct cops_ippool *ippool)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l01420">res_pktccops.c:1420</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad95867633821ba629487d16e630e2fd6"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad95867633821ba629487d16e630e2fd6">keepalive</a></div><div class="ttdeci">static uint32_t keepalive</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00160">res_pktccops.c:160</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ace919fd4851334c636df1e451500ac2d"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ace919fd4851334c636df1e451500ac2d">gatetimeout</a></div><div class="ttdeci">static int gatetimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00164">res_pktccops.c:164</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="codec__g726_8c_html_a8c58a1d1fd9436ff5145385d3ef7a430"><div class="ttname"><a href="../../d0/d89/codec__g726_8c.html#a8c58a1d1fd9436ff5145385d3ef7a430">update</a></div><div class="ttdeci">static void update(int code_size, int y, int wi, int fi, int dq, int sr, int dqsez, struct g726_state *state_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/codec__g726_8c_source.html#l00367">codec_g726.c:367</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_aa4af78c47e048f303a9e03fe61cf5a12"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#aa4af78c47e048f303a9e03fe61cf5a12">gateinfoperiod</a></div><div class="ttdeci">static int gateinfoperiod</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00163">res_pktccops.c:163</a></div></div>
<div class="ttc" id="structcops__cmts_html_a89f234133d3efe315836311cbf21c64b"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">cops_cmts::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00143">res_pktccops.c:143</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a156f09c32102fa036620ad75c3ee4fbf"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a156f09c32102fa036620ad75c3ee4fbf">d</a></div><div class="ttdeci">static struct test_val d</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00049">test_linkedlists.c:49</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="structcops__cmts_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">cops_cmts::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00134">res_pktccops.c:134</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1e5e3d08eff5e2357e75c01e127e7922"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a></div><div class="ttdeci">char * ast_category_browse(struct ast_config *config, const char *prev_name)</div><div class="ttdoc">Browse categories. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03328">extconf.c:3328</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_abc6691d7c526d608dbf625bfac0e7be1"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#abc6691d7c526d608dbf625bfac0e7be1">t7</a></div><div class="ttdeci">static uint16_t t7</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00158">res_pktccops.c:158</a></div></div>
<div class="ttc" id="structcops__ippool_html_a61eb63d26b2fa6c2971603ceccffb14b"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">cops_ippool::start</a></div><div class="ttdeci">uint32_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00152">res_pktccops.c:152</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a0a07ddd6bbcf44485e01c14c96109482"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a0a07ddd6bbcf44485e01c14c96109482">ast_config_load</a></div><div class="ttdeci">#define ast_config_load(filename, flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00179">include/asterisk/config.h:179</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="muted_8c_html_a41c3a180b50c6b2ddcc1b6843a48f205"><div class="ttname"><a href="../../d0/d8a/muted_8c.html#a41c3a180b50c6b2ddcc1b6843a48f205">host</a></div><div class="ttdeci">static char host[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00077">muted.c:77</a></div></div>
<div class="ttc" id="structcops__cmts_html"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html">cops_cmts</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00132">res_pktccops.c:132</a></div></div>
<div class="ttc" id="structcops__cmts_html_abc6691d7c526d608dbf625bfac0e7be1"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#abc6691d7c526d608dbf625bfac0e7be1">cops_cmts::t7</a></div><div class="ttdeci">uint16_t t7</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00138">res_pktccops.c:138</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a186b02ba9cbbc9c5fa2a212e8381a518"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a186b02ba9cbbc9c5fa2a212e8381a518">t8</a></div><div class="ttdeci">static uint16_t t8</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00159">res_pktccops.c:159</a></div></div>
<div class="ttc" id="structcops__cmts_html_a1eab48f6f3901ac508e05a6f9558e41f"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a1eab48f6f3901ac508e05a6f9558e41f">cops_cmts::need_delete</a></div><div class="ttdeci">int need_delete</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00147">res_pktccops.c:147</a></div></div>
<div class="ttc" id="structcops__cmts_html_acc5ce172913ccabaada04d5c408dd85b"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#acc5ce172913ccabaada04d5c408dd85b">cops_cmts::t1</a></div><div class="ttdeci">uint16_t t1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00137">res_pktccops.c:137</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structcmts__list_html"><div class="ttname"><a href="../../d3/d20/structcmts__list.html">cmts_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00166">res_pktccops.c:166</a></div></div>
<div class="ttc" id="structcops__ippool_html_ab7f2963c6b54a07f395b0ccba991e655"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#ab7f2963c6b54a07f395b0ccba991e655">cops_ippool::cmts</a></div><div class="ttdeci">struct cops_cmts * cmts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00154">res_pktccops.c:154</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="structcops__cmts_html_ad95867633821ba629487d16e630e2fd6"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#ad95867633821ba629487d16e630e2fd6">cops_cmts::keepalive</a></div><div class="ttdeci">uint32_t keepalive</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00140">res_pktccops.c:140</a></div></div>
<div class="ttc" id="structcops__ippool_html"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html">cops_ippool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00150">res_pktccops.c:150</a></div></div>
<div class="ttc" id="structcops__cmts_html_af6e5ac0c98235f3942554b438a069736"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">cops_cmts::sfd</a></div><div class="ttdeci">int sfd</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00146">res_pktccops.c:146</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="structcops__ippool_html_ab62795d0dce17019b8037b19185c21b1"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#ab62795d0dce17019b8037b19185c21b1">cops_ippool::stop</a></div><div class="ttdeci">uint32_t stop</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00153">res_pktccops.c:153</a></div></div>
<div class="ttc" id="structcops__cmts_html_a186b02ba9cbbc9c5fa2a212e8381a518"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a186b02ba9cbbc9c5fa2a212e8381a518">cops_cmts::t8</a></div><div class="ttdeci">uint16_t t8</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00139">res_pktccops.c:139</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a212347adec5e2951ca423d9fff98c7af"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a212347adec5e2951ca423d9fff98c7af">DEFAULT_COPS_PORT</a></div><div class="ttdeci">#define DEFAULT_COPS_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00065">res_pktccops.c:65</a></div></div>
<div class="ttc" id="structcops__cmts_html_a693db8060033dde74d39a9c45e2c6e96"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">cops_cmts::port</a></div><div class="ttdeci">char port[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00136">res_pktccops.c:136</a></div></div>
<div class="ttc" id="structcops__cmts_html_aec5a4b1ca5d90fb878c307ebfb5d0527"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#aec5a4b1ca5d90fb878c307ebfb5d0527">cops_cmts::host</a></div><div class="ttdeci">char host[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00135">res_pktccops.c:135</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_acc5ce172913ccabaada04d5c408dd85b"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#acc5ce172913ccabaada04d5c408dd85b">t1</a></div><div class="ttdeci">static uint16_t t1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00157">res_pktccops.c:157</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a46bde4268185f9608404aa3974bd2fd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46bde4268185f9608404aa3974bd2fd7">&#9670;&nbsp;</a></span>pktccops_add_ippool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pktccops_add_ippool </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d0a/structcops__ippool.html">cops_ippool</a> *&#160;</td>
          <td class="paramname"><em>ippool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01420">1420</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d07/structast__cli__entry.html#a1796baba2b863257ad9a5b7aaa81df21">ast_cli_entry::list</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;{</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;   <span class="keywordflow">if</span> (ippool) {</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>);</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>, ippool, list);</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Attempted to register NULL ippool?\n&quot;</span>);</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;   }</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structippool__list_html"><div class="ttname"><a href="../../db/ddd/structippool__list.html">ippool_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00167">res_pktccops.c:167</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab388481347ed20d65d40e27fe64d357b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab388481347ed20d65d40e27fe64d357b">&#9670;&nbsp;</a></span>pktccops_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pktccops_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01383">1383</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00185">ast_cli_entry::args</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00161">pktccopsdebug</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;{</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pktccops set debug {on|off}&quot;</span>;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;         <span class="stringliteral">&quot;Usage: pktccops set debug {on|off}\n&quot;</span></div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;         <span class="stringliteral">&quot;  Turn on/off debuging\n&quot;</span>;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;   }</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a>)</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   <span class="keywordflow">if</span> (!strncasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a> - 1], <span class="stringliteral">&quot;on&quot;</span>, 2)) {</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad1020c4cdb97b360a619f4c1263d916e">pktccopsdebug</a> = 1;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;PktcCOPS Debugging Enabled\n&quot;</span>);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">args</a> - 1], <span class="stringliteral">&quot;off&quot;</span>, 2)) {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#ad1020c4cdb97b360a619f4c1263d916e">pktccopsdebug</a> = 0;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;PktcCOPS Debugging Disabled\n&quot;</span>);</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;   }</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;}</div><div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cli__entry_html_a1bd7a8575ca2650132d636d65dcda2f6"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#a1bd7a8575ca2650132d636d65dcda2f6">ast_cli_entry::args</a></div><div class="ttdeci">int args</div><div class="ttdoc">This gets set in ast_cli_register() </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00185">cli.h:185</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ad1020c4cdb97b360a619f4c1263d916e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ad1020c4cdb97b360a619f4c1263d916e">pktccopsdebug</a></div><div class="ttdeci">static int pktccopsdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00161">res_pktccops.c:161</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab584240392b16c09f89e38fc1ea02bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab584240392b16c09f89e38fc1ea02bf2">&#9670;&nbsp;</a></span>pktccops_gatedel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pktccops_gatedel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01266">1266</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00063">cops_gate::cmts</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00090">cops_trid</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00039">GATE_DEL</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00055">cops_gate::gateid</a>, <a class="el" href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">cops_cmts::list</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00134">cops_cmts::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;{</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;   <span class="keywordtype">int</span> trid;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   uint32_t gateid;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *cmts;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pktccops gatedel&quot;</span>;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;         <span class="stringliteral">&quot;Usage: pktccops gatedel &lt;cmts&gt; &lt;gateid&gt;\n&quot;</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;         <span class="stringliteral">&quot;       Send Gate-Del to cmts.\n&quot;</span>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;   }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 4)</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, <a class="code" href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">list</a>) {</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <span class="keywordflow">if</span> (!strcmp(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2])) {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Found cmts: %s\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;         found = 1;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      }</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;   }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   <span class="keywordflow">if</span> (!found)</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   trid = <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a>++;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   <span class="keywordflow">if</span> (!sscanf(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <span class="stringliteral">&quot;%x&quot;</span>, &amp;gateid)) {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;bad gate specification (%s)\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;   }</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;   found = 0;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>, gate, <a class="code" href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">list</a>) {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a> == gateid &amp;&amp; gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a> == cmts) {</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;         found = 1;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   <span class="keywordflow">if</span> (!found) {</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;gate not found: %s\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;   }</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a>(<a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a>, cmts, trid, 0, 0, 0, 0, 0, 0, gate);</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structcops__cmts_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">cops_cmts::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00134">res_pktccops.c:134</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a2becc57e197b5c565aa7e8ecb5f1d4bf"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a></div><div class="ttdeci">static struct cops_gate * cops_gate_cmd(int cmd, struct cops_cmts *cmts, uint16_t trid, uint32_t mta, uint32_t actcount, float bitrate, uint32_t psize, uint32_t ssip, uint16_t ssport, struct cops_gate *gate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00495">res_pktccops.c:495</a></div></div>
<div class="ttc" id="structcops__cmts_html_a61ec1af564f3abbf79205ff71db050d2"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">cops_cmts::list</a></div><div class="ttdeci">struct cops_cmts::@489 list</div></div>
<div class="ttc" id="structcops__gate_html"><div class="ttname"><a href="../../db/da2/structcops__gate.html">cops_gate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00053">pktccops.h:53</a></div></div>
<div class="ttc" id="structcops__cmts_html"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html">cops_cmts</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00132">res_pktccops.c:132</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182a84b1b90b2af99c71fdc3647327b3251a">GATE_DEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00039">pktccops.h:39</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="structcops__gate_html_a11c22f2d80c89994b4e0f259101a0d12"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">cops_gate::gateid</a></div><div class="ttdeci">uint32_t gateid</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00055">pktccops.h:55</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="structgate__list_html"><div class="ttname"><a href="../../db/d68/structgate__list.html">gate_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00168">res_pktccops.c:168</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ac395ef2746c735b7ed4de6353c93ce9e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a></div><div class="ttdeci">static uint16_t cops_trid</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00090">res_pktccops.c:90</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structcmts__list_html"><div class="ttname"><a href="../../d3/d20/structcmts__list.html">cmts_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00166">res_pktccops.c:166</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structcops__gate_html_ab7f2963c6b54a07f395b0ccba991e655"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cops_gate::cmts</a></div><div class="ttdeci">struct cops_cmts * cmts</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00063">pktccops.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa5402ed7b1fdded4088f04f7b1624b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa5402ed7b1fdded4088f04f7b1624b4">&#9670;&nbsp;</a></span>pktccops_gateset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pktccops_gateset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01326">1326</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00090">cops_trid</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00036">GATE_SET</a>, <a class="el" href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">cops_cmts::list</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00134">cops_cmts::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;{</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;   <span class="keywordtype">int</span> foundcmts = 0;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   <span class="keywordtype">int</span> trid;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> an,bn,cn,dn;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   uint32_t mta, ssip;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *cmts;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pktccops gateset&quot;</span>;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;         <span class="stringliteral">&quot;Usage: pktccops gateset &lt;cmts&gt; &lt;mta&gt; &lt;acctcount&gt; &lt;bitrate&gt; &lt;packet size&gt; &lt;switch ip&gt; &lt;switch port&gt;\n&quot;</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;         <span class="stringliteral">&quot;       Send Gate-Set to cmts.\n&quot;</span>;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   }</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 9)</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;   <span class="keywordflow">if</span> (!strcmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2], <span class="stringliteral">&quot;null&quot;</span>)) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      cmts = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, <a class="code" href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">list</a>) {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;         <span class="keywordflow">if</span> (!strcmp(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2])) {</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Found cmts: %s\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            foundcmts = 1;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;         }</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      }</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="keywordflow">if</span> (!foundcmts) {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;CMTS not found: %s\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2]);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;   }</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;   trid = <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a>++;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;   <span class="keywordflow">if</span> (sscanf(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <span class="stringliteral">&quot;%3u.%3u.%3u.%3u&quot;</span>, &amp;an, &amp;bn, &amp;cn, &amp;dn) != 4) {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;MTA specification (%s) does not look like an ipaddr\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;   }</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   mta = an &lt;&lt; 24 | bn &lt;&lt; 16 | cn &lt;&lt; 8 | dn;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   <span class="keywordflow">if</span> (sscanf(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[7], <span class="stringliteral">&quot;%3u.%3u.%3u.%3u&quot;</span>, &amp;an, &amp;bn, &amp;cn, &amp;dn) != 4) {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;SSIP specification (%s) does not look like an ipaddr\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[7]);</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;   }</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;   ssip = an &lt;&lt; 24 | bn &lt;&lt; 16 | cn &lt;&lt; 8 | dn;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a>(<a class="code" href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182ad14032ad3e8d031f11b7eb1d020ef85d">GATE_SET</a>, cmts, trid, mta, atoi(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4]), atof(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[5]), atoi(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[6]), ssip, atoi(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[8]), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structcops__cmts_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">cops_cmts::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00134">res_pktccops.c:134</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a2becc57e197b5c565aa7e8ecb5f1d4bf"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a2becc57e197b5c565aa7e8ecb5f1d4bf">cops_gate_cmd</a></div><div class="ttdeci">static struct cops_gate * cops_gate_cmd(int cmd, struct cops_cmts *cmts, uint16_t trid, uint32_t mta, uint32_t actcount, float bitrate, uint32_t psize, uint32_t ssip, uint16_t ssport, struct cops_gate *gate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00495">res_pktccops.c:495</a></div></div>
<div class="ttc" id="structcops__cmts_html_a61ec1af564f3abbf79205ff71db050d2"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">cops_cmts::list</a></div><div class="ttdeci">struct cops_cmts::@489 list</div></div>
<div class="ttc" id="structcops__cmts_html"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html">cops_cmts</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00132">res_pktccops.c:132</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="pktccops_8h_html_a7b1472d57861c1c16e0394cd0f614182ad14032ad3e8d031f11b7eb1d020ef85d"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#a7b1472d57861c1c16e0394cd0f614182ad14032ad3e8d031f11b7eb1d020ef85d">GATE_SET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00036">pktccops.h:36</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ac395ef2746c735b7ed4de6353c93ce9e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac395ef2746c735b7ed4de6353c93ce9e">cops_trid</a></div><div class="ttdeci">static uint16_t cops_trid</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00090">res_pktccops.c:90</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structcmts__list_html"><div class="ttname"><a href="../../d3/d20/structcmts__list.html">cmts_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00166">res_pktccops.c:166</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0fdaf830755eb381edf0c171c986735a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fdaf830755eb381edf0c171c986735a">&#9670;&nbsp;</a></span>pktccops_show_cmtses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pktccops_show_cmtses </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01150">1150</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00135">cops_cmts::host</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00145">cops_cmts::katimer</a>, <a class="el" href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">cops_cmts::list</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00134">cops_cmts::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00136">cops_cmts::port</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00143">cops_cmts::state</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;{</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *cmts;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;   <span class="keywordtype">char</span> statedesc[16];</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d8/dae/structcops__cmts.html#a12017905fc60ce8b447e07360386c0d2">katimer</a>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;   <span class="keywordflow">switch</span>(cmd) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pktccops show cmtses&quot;</span>;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;         <span class="stringliteral">&quot;Usage: pktccops show cmtses\n&quot;</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;         <span class="stringliteral">&quot;       List PacketCable COPS CMTSes.\n&quot;</span>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;   }</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s %-24s %-12s %7s\n&quot;</span>, <span class="stringliteral">&quot;Name        &quot;</span>, <span class="stringliteral">&quot;Host                &quot;</span>, <span class="stringliteral">&quot;Status    &quot;</span>, <span class="stringliteral">&quot;KA timer  &quot;</span>);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s %-24s %-12s %7s\n&quot;</span>, <span class="stringliteral">&quot;------------&quot;</span>, <span class="stringliteral">&quot;--------------------&quot;</span>, <span class="stringliteral">&quot;----------&quot;</span>, <span class="stringliteral">&quot;-----------&quot;</span>);</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, cmts, <a class="code" href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">list</a>) {</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      katimer = -1;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> == 2) {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(statedesc, <span class="stringliteral">&quot;Connected&quot;</span>, <span class="keyword">sizeof</span>(statedesc));</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;         katimer = (int) (time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) - cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a12017905fc60ce8b447e07360386c0d2">katimer</a>);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">state</a> == 1) {</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(statedesc, <span class="stringliteral">&quot;Connecting&quot;</span>, <span class="keyword">sizeof</span>(statedesc));</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(statedesc, <span class="stringliteral">&quot;N/A&quot;</span>, <span class="keyword">sizeof</span>(statedesc));</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      }</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s %-15s:%-8s %-12s %-7d\n&quot;</span>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#aec5a4b1ca5d90fb878c307ebfb5d0527">host</a>, cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">port</a>, statedesc, katimer);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;   }</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structcops__cmts_html_a12017905fc60ce8b447e07360386c0d2"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a12017905fc60ce8b447e07360386c0d2">cops_cmts::katimer</a></div><div class="ttdeci">time_t katimer</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00145">res_pktccops.c:145</a></div></div>
<div class="ttc" id="structcops__cmts_html_a89f234133d3efe315836311cbf21c64b"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a89f234133d3efe315836311cbf21c64b">cops_cmts::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00143">res_pktccops.c:143</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structcops__cmts_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">cops_cmts::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00134">res_pktccops.c:134</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structcops__cmts_html_a61ec1af564f3abbf79205ff71db050d2"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a61ec1af564f3abbf79205ff71db050d2">cops_cmts::list</a></div><div class="ttdeci">struct cops_cmts::@489 list</div></div>
<div class="ttc" id="structcops__cmts_html"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html">cops_cmts</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00132">res_pktccops.c:132</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structcmts__list_html"><div class="ttname"><a href="../../d3/d20/structcmts__list.html">cmts_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00166">res_pktccops.c:166</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structcops__cmts_html_a693db8060033dde74d39a9c45e2c6e96"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a693db8060033dde74d39a9c45e2c6e96">cops_cmts::port</a></div><div class="ttdeci">char port[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00136">res_pktccops.c:136</a></div></div>
<div class="ttc" id="structcops__cmts_html_aec5a4b1ca5d90fb878c307ebfb5d0527"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#aec5a4b1ca5d90fb878c307ebfb5d0527">cops_cmts::host</a></div><div class="ttdeci">char host[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00135">res_pktccops.c:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4c4a83e8caebefe1810b029fd3dc048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c4a83e8caebefe1810b029fd3dc048">&#9670;&nbsp;</a></span>pktccops_show_gates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pktccops_show_gates </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01187">1187</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00060">cops_gate::allocated</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00061">cops_gate::checked</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00063">cops_gate::cmts</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00043">GATE_ALLOC_FAILED</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00044">GATE_ALLOC_PROGRESS</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00045">GATE_ALLOCATED</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00046">GATE_CLOSED</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00047">GATE_CLOSED_ERR</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00049">GATE_DELETED</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00048">GATE_OPEN</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00055">cops_gate::gateid</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00057">cops_gate::in_transaction</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00058">cops_gate::mta</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00134">cops_cmts::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d79/pktccops_8h_source.html#l00059">cops_gate::state</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;{</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   <span class="keywordtype">char</span> state_desc[16];</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   <span class="keywordflow">switch</span>(cmd) {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pktccops show gates&quot;</span>;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;         <span class="stringliteral">&quot;Usage: pktccops show gates\n&quot;</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;         <span class="stringliteral">&quot;       List PacketCable COPS GATEs.\n&quot;</span>;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s %-12s %-12s %-10s %-10s %-10s\n&quot;</span> ,<span class="stringliteral">&quot;CMTS&quot;</span>, <span class="stringliteral">&quot;Gate-Id&quot;</span>,<span class="stringliteral">&quot;MTA&quot;</span>, <span class="stringliteral">&quot;Status&quot;</span>, <span class="stringliteral">&quot;AllocTime&quot;</span>, <span class="stringliteral">&quot;CheckTime&quot;</span>);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s %-12s %-12s %-10s %-10s %-10s\n&quot;</span> ,<span class="stringliteral">&quot;--------------&quot;</span> ,<span class="stringliteral">&quot;----------&quot;</span>, <span class="stringliteral">&quot;----------&quot;</span>, <span class="stringliteral">&quot;--------&quot;</span>, <span class="stringliteral">&quot;--------&quot;</span>, <span class="stringliteral">&quot;--------\n&quot;</span>);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>, gate, list) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a8e47164429d4d3b74b06b7ab88ea6f16">GATE_ALLOC_FAILED</a>) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(state_desc, <span class="stringliteral">&quot;Failed&quot;</span>, <span class="keyword">sizeof</span>(state_desc));</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295aa4274953da0c77d43f4c3ad179af1978">GATE_ALLOC_PROGRESS</a>) {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(state_desc, <span class="stringliteral">&quot;In Progress&quot;</span>, <span class="keyword">sizeof</span>(state_desc));</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a5f0af02aff312a49e05fd440316ef57e">GATE_ALLOCATED</a>) {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(state_desc, <span class="stringliteral">&quot;Allocated&quot;</span>, <span class="keyword">sizeof</span>(state_desc));</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ab188058b09f5c3f3fa103bf458ec4cae">GATE_CLOSED</a>) {</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(state_desc, <span class="stringliteral">&quot;Closed&quot;</span>, <span class="keyword">sizeof</span>(state_desc));</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a63c1fb497b0148bfb645ec2dfb7a5d13">GATE_CLOSED_ERR</a>) {</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(state_desc, <span class="stringliteral">&quot;ClosedErr&quot;</span>, <span class="keyword">sizeof</span>(state_desc));</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a7c1d8f3079bdc2046f165d505674ce72">GATE_OPEN</a>) {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(state_desc, <span class="stringliteral">&quot;Open&quot;</span>, <span class="keyword">sizeof</span>(state_desc));</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ad1b374906b15ad970826a98acd5521dc">GATE_DELETED</a>) {</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(state_desc, <span class="stringliteral">&quot;Deleted&quot;</span>, <span class="keyword">sizeof</span>(state_desc));</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(state_desc, <span class="stringliteral">&quot;N/A&quot;</span>, <span class="keyword">sizeof</span>(state_desc));</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      }</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s 0x%.8x   0x%08x   %-10s %10i %10i %u\n&quot;</span>, (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>) ? gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a> : <span class="stringliteral">&quot;null&quot;</span> , gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">gateid</a>, gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ad4a0c437ed99ddae924ac228a19abc78">mta</a>,</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;         state_desc, (<span class="keywordtype">int</span>) (time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) - gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a570ed260415063841f62779ce74de8b6">allocated</a>), (gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ae342ea707ff4ac43baff44e6a180d050">checked</a>) ? (<span class="keywordtype">int</span>) (time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) - gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#ae342ea707ff4ac43baff44e6a180d050">checked</a>) : 0, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) gate-&gt;<a class="code" href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">in_transaction</a>);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;   }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;}</div><div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a5f0af02aff312a49e05fd440316ef57e"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a5f0af02aff312a49e05fd440316ef57e">GATE_ALLOCATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00045">pktccops.h:45</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structcops__gate_html_a89f234133d3efe315836311cbf21c64b"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a89f234133d3efe315836311cbf21c64b">cops_gate::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00059">pktccops.h:59</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295ab188058b09f5c3f3fa103bf458ec4cae"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ab188058b09f5c3f3fa103bf458ec4cae">GATE_CLOSED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00046">pktccops.h:46</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structcops__cmts_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">cops_cmts::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00134">res_pktccops.c:134</a></div></div>
<div class="ttc" id="structcops__gate_html_a570ed260415063841f62779ce74de8b6"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a570ed260415063841f62779ce74de8b6">cops_gate::allocated</a></div><div class="ttdeci">time_t allocated</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00060">pktccops.h:60</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295aa4274953da0c77d43f4c3ad179af1978"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295aa4274953da0c77d43f4c3ad179af1978">GATE_ALLOC_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00044">pktccops.h:44</a></div></div>
<div class="ttc" id="structcops__gate_html"><div class="ttname"><a href="../../db/da2/structcops__gate.html">cops_gate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00053">pktccops.h:53</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structcops__gate_html_ae342ea707ff4ac43baff44e6a180d050"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ae342ea707ff4ac43baff44e6a180d050">cops_gate::checked</a></div><div class="ttdeci">time_t checked</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00061">pktccops.h:61</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a63c1fb497b0148bfb645ec2dfb7a5d13"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a63c1fb497b0148bfb645ec2dfb7a5d13">GATE_CLOSED_ERR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00047">pktccops.h:47</a></div></div>
<div class="ttc" id="structcops__gate_html_a69d643e8a1509670364e2fcca752f1cb"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a69d643e8a1509670364e2fcca752f1cb">cops_gate::in_transaction</a></div><div class="ttdeci">time_t in_transaction</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00057">pktccops.h:57</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295ad1b374906b15ad970826a98acd5521dc"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295ad1b374906b15ad970826a98acd5521dc">GATE_DELETED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00049">pktccops.h:49</a></div></div>
<div class="ttc" id="structcops__gate_html_a11c22f2d80c89994b4e0f259101a0d12"><div class="ttname"><a href="../../db/da2/structcops__gate.html#a11c22f2d80c89994b4e0f259101a0d12">cops_gate::gateid</a></div><div class="ttdeci">uint32_t gateid</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00055">pktccops.h:55</a></div></div>
<div class="ttc" id="structgate__list_html"><div class="ttname"><a href="../../db/d68/structgate__list.html">gate_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00168">res_pktccops.c:168</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structcmts__list_html"><div class="ttname"><a href="../../d3/d20/structcmts__list.html">cmts_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00166">res_pktccops.c:166</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a8e47164429d4d3b74b06b7ab88ea6f16"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a8e47164429d4d3b74b06b7ab88ea6f16">GATE_ALLOC_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00043">pktccops.h:43</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="pktccops_8h_html_ae91638596a8955da23581d7ad008e295a7c1d8f3079bdc2046f165d505674ce72"><div class="ttname"><a href="../../dc/d79/pktccops_8h.html#ae91638596a8955da23581d7ad008e295a7c1d8f3079bdc2046f165d505674ce72">GATE_OPEN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00048">pktccops.h:48</a></div></div>
<div class="ttc" id="structcops__gate_html_ad4a0c437ed99ddae924ac228a19abc78"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ad4a0c437ed99ddae924ac228a19abc78">cops_gate::mta</a></div><div class="ttdeci">uint32_t mta</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00058">pktccops.h:58</a></div></div>
<div class="ttc" id="structcops__gate_html_ab7f2963c6b54a07f395b0ccba991e655"><div class="ttname"><a href="../../db/da2/structcops__gate.html#ab7f2963c6b54a07f395b0ccba991e655">cops_gate::cmts</a></div><div class="ttdeci">struct cops_cmts * cmts</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00063">pktccops.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afed74df81c11246497868fe0fd3a5b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed74df81c11246497868fe0fd3a5b36">&#9670;&nbsp;</a></span>pktccops_show_pools()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* pktccops_show_pools </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01235">1235</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00154">cops_ippool::cmts</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">cops_ippool::list</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00134">cops_cmts::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00152">cops_ippool::start</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00153">cops_ippool::stop</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01096">stop</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;{</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d0a/structcops__ippool.html">cops_ippool</a> *ippool;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">start</a>[32];</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../df/d44/app__meetme_8c.html#a111277a0849f92b793ed6aa1efe54462">stop</a>[32];</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;   <span class="keywordflow">switch</span>(cmd) {</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;pktccops show pools&quot;</span>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;         <span class="stringliteral">&quot;Usage: pktccops show pools\n&quot;</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;         <span class="stringliteral">&quot;       List PacketCable COPS ip pools of MTAs.\n&quot;</span>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   }</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s %-18s %-7s\n&quot;</span>, <span class="stringliteral">&quot;Start     &quot;</span>, <span class="stringliteral">&quot;Stop      &quot;</span>, <span class="stringliteral">&quot;CMTS    &quot;</span>);</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s %-18s %-7s\n&quot;</span>, <span class="stringliteral">&quot;----------&quot;</span>, <span class="stringliteral">&quot;----------&quot;</span>, <span class="stringliteral">&quot;--------&quot;</span>);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>, ippool, <a class="code" href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">list</a>) {</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      snprintf(start, <span class="keyword">sizeof</span>(start), <span class="stringliteral">&quot;%3u.%3u.%3u.%3u&quot;</span>, ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">start</a> &gt;&gt; 24, (ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">start</a> &gt;&gt; 16) &amp; 0x000000ff, (ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">start</a> &gt;&gt; 8) &amp; 0x000000ff, ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">start</a> &amp; 0x000000ff);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      snprintf(stop, <span class="keyword">sizeof</span>(stop), <span class="stringliteral">&quot;%3u.%3u.%3u.%3u&quot;</span>, ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#ab62795d0dce17019b8037b19185c21b1">stop</a> &gt;&gt; 24, (ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#ab62795d0dce17019b8037b19185c21b1">stop</a> &gt;&gt; 16) &amp; 0x000000ff, (ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#ab62795d0dce17019b8037b19185c21b1">stop</a> &gt;&gt; 8) &amp; 0x000000ff, ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#ab62795d0dce17019b8037b19185c21b1">stop</a> &amp; 0x000000ff);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-16s %-18s %-16s\n&quot;</span>, start, stop, ippool-&gt;<a class="code" href="../../d7/d0a/structcops__ippool.html#ab7f2963c6b54a07f395b0ccba991e655">cmts</a>-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">name</a>);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   }</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structcops__ippool_html_a173b7482b048bca5dc39da90fb0e7e65"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">cops_ippool::list</a></div><div class="ttdeci">struct cops_ippool::@490 list</div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structippool__list_html"><div class="ttname"><a href="../../db/ddd/structippool__list.html">ippool_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00167">res_pktccops.c:167</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a111277a0849f92b793ed6aa1efe54462"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a111277a0849f92b793ed6aa1efe54462">stop</a></div><div class="ttdeci">unsigned int stop</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01096">app_meetme.c:1096</a></div></div>
<div class="ttc" id="structcops__cmts_html_a3777dbae63a15da001b2baa317a25149"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#a3777dbae63a15da001b2baa317a25149">cops_cmts::name</a></div><div class="ttdeci">char name[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00134">res_pktccops.c:134</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structcops__ippool_html_a61eb63d26b2fa6c2971603ceccffb14b"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#a61eb63d26b2fa6c2971603ceccffb14b">cops_ippool::start</a></div><div class="ttdeci">uint32_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00152">res_pktccops.c:152</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structcops__ippool_html_ab7f2963c6b54a07f395b0ccba991e655"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#ab7f2963c6b54a07f395b0ccba991e655">cops_ippool::cmts</a></div><div class="ttdeci">struct cops_cmts * cmts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00154">res_pktccops.c:154</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structcops__ippool_html"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html">cops_ippool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00150">res_pktccops.c:150</a></div></div>
<div class="ttc" id="structcops__ippool_html_ab62795d0dce17019b8037b19185c21b1"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#ab62795d0dce17019b8037b19185c21b1">cops_ippool::stop</a></div><div class="ttdeci">uint32_t stop</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00153">res_pktccops.c:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af71bcb3f574341a4ba85b714433a2ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71bcb3f574341a4ba85b714433a2ea7">&#9670;&nbsp;</a></span>pktccops_unregister_cmtses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pktccops_unregister_cmtses </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01433">1433</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00146">cops_cmts::sfd</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01478">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;{</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dae/structcops__cmts.html">cops_cmts</a> *cmts;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/da2/structcops__gate.html">cops_gate</a> *gate;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;   <span class="keywordflow">while</span> ((cmts = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>, list))) {</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordflow">if</span> (cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a> &gt; 0) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;         close(cmts-&gt;<a class="code" href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">sfd</a>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cmts);</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;   }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d20/structcmts__list.html">cmts_list</a>);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;   <span class="keywordflow">while</span> ((gate = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>, list))) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(gate);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   }</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d68/structgate__list.html">gate_list</a>);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structcops__gate_html"><div class="ttname"><a href="../../db/da2/structcops__gate.html">cops_gate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d79/pktccops_8h_source.html#l00053">pktccops.h:53</a></div></div>
<div class="ttc" id="structcops__cmts_html"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html">cops_cmts</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00132">res_pktccops.c:132</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structgate__list_html"><div class="ttname"><a href="../../db/d68/structgate__list.html">gate_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00168">res_pktccops.c:168</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structcmts__list_html"><div class="ttname"><a href="../../d3/d20/structcmts__list.html">cmts_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00166">res_pktccops.c:166</a></div></div>
<div class="ttc" id="structcops__cmts_html_af6e5ac0c98235f3942554b438a069736"><div class="ttname"><a href="../../d8/dae/structcops__cmts.html#af6e5ac0c98235f3942554b438a069736">cops_cmts::sfd</a></div><div class="ttdeci">int sfd</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00146">res_pktccops.c:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a44680ef09261873584f0f46e6530da6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44680ef09261873584f0f46e6530da6e">&#9670;&nbsp;</a></span>pktccops_unregister_ippools()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pktccops_unregister_ippools </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01453">1453</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, and <a class="el" href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">cops_ippool::list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01478">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;{</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d0a/structcops__ippool.html">cops_ippool</a> *ippool;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>);</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   <span class="keywordflow">while</span> ((ippool = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>, <a class="code" href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">list</a>))) {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(ippool);</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   }</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../db/ddd/structippool__list.html">ippool_list</a>);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structcops__ippool_html_a173b7482b048bca5dc39da90fb0e7e65"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html#a173b7482b048bca5dc39da90fb0e7e65">cops_ippool::list</a></div><div class="ttdeci">struct cops_ippool::@490 list</div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structippool__list_html"><div class="ttname"><a href="../../db/ddd/structippool__list.html">ippool_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00167">res_pktccops.c:167</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structcops__ippool_html"><div class="ttname"><a href="../../d7/d0a/structcops__ippool.html">cops_ippool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00150">res_pktccops.c:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c6ac25ea7536c0bc9ed18cbcf917527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6ac25ea7536c0bc9ed18cbcf917527">&#9670;&nbsp;</a></span>reload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01500">1500</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00122">AST_MODULE_SUPPORT_EXTENDED</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01463">load_module()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00162">pktcreload</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01478">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;{</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <span class="comment">/* Prohibit unloading */</span></div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a>) {</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Previous reload in progress, please wait!\n&quot;</span>);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;   }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a> = 1;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;}</div><div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a314addbf629dd26460fdf51ce7122e8e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a314addbf629dd26460fdf51ce7122e8e">pktcreload</a></div><div class="ttdeci">static int pktcreload</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00162">res_pktccops.c:162</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af7a1170a7da979a6e528f76077183323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a1170a7da979a6e528f76077183323">&#9670;&nbsp;</a></span>restart_pktc_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int restart_pktc_thread </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">993</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00567">ast_pthread_create_background</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00067">AST_PTHREADT_STOP</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00088">pktccops_lock</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00089">pktccops_thread</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01463">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;{</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a> == <a class="code" href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a>) {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   }</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a>)) {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to lock pktccops\n&quot;</span>);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a> == pthread_self()) {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a>);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot kill myself\n&quot;</span>);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a> != <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) {</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <span class="comment">/* Wake up the thread */</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      pthread_kill(<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a>, SIGURG);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="comment">/* Start a new monitor */</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a>(&amp;<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/d95/res__pktccops_8c.html#a423fd5596304dbd1b9b4819c051394ac">do_pktccops</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &lt; 0) {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a>);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to start monitor thread.\n&quot;</span>);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a>);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;}</div><div class="ttc" id="res__pktccops_8c_html_ac76e2d013538949ad84385c03861ccef"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a></div><div class="ttdeci">static ast_mutex_t pktccops_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00088">res_pktccops.c:88</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ac1e759185eb86783f602cfb39f85e1eb"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a></div><div class="ttdeci">static pthread_t pktccops_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00089">res_pktccops.c:89</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a595e2f8aa398f4bd21e381c3211235fe"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a></div><div class="ttdeci">#define ast_pthread_create_background(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00567">utils.h:567</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a423fd5596304dbd1b9b4819c051394ac"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a423fd5596304dbd1b9b4819c051394ac">do_pktccops</a></div><div class="ttdeci">static void * do_pktccops(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00699">res_pktccops.c:699</a></div></div>
<div class="ttc" id="lock_8h_html_a873a83eb8196323194aac2bea23d794e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a></div><div class="ttdeci">#define AST_PTHREADT_STOP</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00067">lock.h:67</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01478">1478</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00067">AST_PTHREADT_STOP</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00088">pktccops_lock</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00089">pktccops_thread</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01433">pktccops_unregister_cmtses()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01453">pktccops_unregister_ippools()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01500">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;{</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a>)) {</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a> != <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) &amp;&amp; (<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a> != <a class="code" href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a>)) {</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;         pthread_cancel(<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a>);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;         pthread_kill(<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a>, SIGURG);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;         pthread_join(<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      }</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a> = <a class="code" href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a>;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a>);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to lock the pktccops_thread\n&quot;</span>);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   }</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../dd/d95/res__pktccops_8c.html#a401756534bead2b1713a65cfcd0e3187">cli_pktccops</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d95/res__pktccops_8c.html#a401756534bead2b1713a65cfcd0e3187">cli_pktccops</a>) / <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>));</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#af71bcb3f574341a4ba85b714433a2ea7">pktccops_unregister_cmtses</a>();</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#a44680ef09261873584f0f46e6530da6e">pktccops_unregister_ippools</a>();</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;   <a class="code" href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a> = <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;}</div><div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ac76e2d013538949ad84385c03861ccef"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac76e2d013538949ad84385c03861ccef">pktccops_lock</a></div><div class="ttdeci">static ast_mutex_t pktccops_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00088">res_pktccops.c:88</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_ac1e759185eb86783f602cfb39f85e1eb"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#ac1e759185eb86783f602cfb39f85e1eb">pktccops_thread</a></div><div class="ttdeci">static pthread_t pktccops_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l00089">res_pktccops.c:89</a></div></div>
<div class="ttc" id="structast__cli__entry_html"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a></div><div class="ttdoc">descriptor for a cli entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00171">cli.h:171</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a401756534bead2b1713a65cfcd0e3187"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a401756534bead2b1713a65cfcd0e3187">cli_pktccops</a></div><div class="ttdeci">static struct ast_cli_entry cli_pktccops[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l01411">res_pktccops.c:1411</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="lock_8h_html_a873a83eb8196323194aac2bea23d794e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a></div><div class="ttdeci">#define AST_PTHREADT_STOP</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00067">lock.h:67</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_af71bcb3f574341a4ba85b714433a2ea7"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#af71bcb3f574341a4ba85b714433a2ea7">pktccops_unregister_cmtses</a></div><div class="ttdeci">static void pktccops_unregister_cmtses(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l01433">res_pktccops.c:1433</a></div></div>
<div class="ttc" id="res__pktccops_8c_html_a44680ef09261873584f0f46e6530da6e"><div class="ttname"><a href="../../dd/d95/res__pktccops_8c.html#a44680ef09261873584f0f46e6530da6e">pktccops_unregister_ippools</a></div><div class="ttdeci">static void pktccops_unregister_ippools(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d95/res__pktccops_8c_source.html#l01453">res_pktccops.c:1453</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> , .description = &quot;PktcCOPS manager for MGCP&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a9f8870a5687abe3d9a6b0b3fbc89a800">AST_MODULE_SUPPORT_EXTENDED</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .<a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> = <a class="el" href="../../d6/d80/test__res__prometheus_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a>, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01516">1516</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01516">1516</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="a401756534bead2b1713a65cfcd0e3187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a401756534bead2b1713a65cfcd0e3187">&#9670;&nbsp;</a></span>cli_pktccops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cli_pktccops[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01411">1411</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

</div>
</div>
<a id="a91986b30de8897420eb12362f91143a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91986b30de8897420eb12362f91143a8">&#9670;&nbsp;</a></span>cmts_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d20/structcmts__list.html">cmts_list</a>   <a class="el" href="../../d3/d20/structcmts__list.html">cmts_list</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac395ef2746c735b7ed4de6353c93ce9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac395ef2746c735b7ed4de6353c93ce9e">&#9670;&nbsp;</a></span>cops_trid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t cops_trid = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00090">90</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00468">ast_pktccops_gate_alloc()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01266">pktccops_gatedel()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01326">pktccops_gateset()</a>.</p>

</div>
</div>
<a id="a5c8792576edbae0aea0068d6d42712a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8792576edbae0aea0068d6d42712a7">&#9670;&nbsp;</a></span>gate_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/d68/structgate__list.html">gate_list</a>   <a class="el" href="../../db/d68/structgate__list.html">gate_list</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa4af78c47e048f303a9e03fe61cf5a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4af78c47e048f303a9e03fe61cf5a12">&#9670;&nbsp;</a></span>gateinfoperiod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gateinfoperiod = 60</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00163">163</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>.</p>

</div>
</div>
<a id="ace919fd4851334c636df1e451500ac2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace919fd4851334c636df1e451500ac2d">&#9670;&nbsp;</a></span>gatetimeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gatetimeout = 150</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00164">164</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>.</p>

</div>
</div>
<a id="a3dc1d6a561b6c9272ee1a25dd258310c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dc1d6a561b6c9272ee1a25dd258310c">&#9670;&nbsp;</a></span>ippool_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/ddd/structippool__list.html">ippool_list</a>   <a class="el" href="../../db/ddd/structippool__list.html">ippool_list</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad95867633821ba629487d16e630e2fd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad95867633821ba629487d16e630e2fd6">&#9670;&nbsp;</a></span>keepalive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t keepalive = 60</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00160">160</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29899">check_rtp_timeout()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>, <a class="el" href="../../d5/d82/res__pjsip__sdp__rtp_8c_source.html#l00071">send_keepalive()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30469">sip_send_keepalive()</a>.</p>

</div>
</div>
<a id="ac76e2d013538949ad84385c03861ccef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76e2d013538949ad84385c03861ccef">&#9670;&nbsp;</a></span>pktccops_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> pktccops_lock = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00088">88</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">restart_pktc_thread()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01478">unload_module()</a>.</p>

</div>
</div>
<a id="ac1e759185eb86783f602cfb39f85e1eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e759185eb86783f602cfb39f85e1eb">&#9670;&nbsp;</a></span>pktccops_thread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t pktccops_thread = <a class="el" href="../../d4/dc5/extconf_8c.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00089">89</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">restart_pktc_thread()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01478">unload_module()</a>.</p>

</div>
</div>
<a id="ad1020c4cdb97b360a619f4c1263d916e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1020c4cdb97b360a619f4c1263d916e">&#9670;&nbsp;</a></span>pktccopsdebug</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pktccopsdebug = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00161">161</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00495">cops_gate_cmd()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01383">pktccops_debug()</a>.</p>

</div>
</div>
<a id="a314addbf629dd26460fdf51ce7122e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314addbf629dd26460fdf51ce7122e8e">&#9670;&nbsp;</a></span>pktcreload</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pktcreload = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00162">162</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00468">ast_pktccops_gate_alloc()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00699">do_pktccops()</a>, and <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01500">reload_module()</a>.</p>

</div>
</div>
<a id="acc5ce172913ccabaada04d5c408dd85b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc5ce172913ccabaada04d5c408dd85b">&#9670;&nbsp;</a></span>t1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t t1 = 250</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00157">157</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l01756">create_match_char_tree()</a>, <a class="el" href="../../d7/dda/test__dlinklists_8c_source.html#l00101">destroy_test_container()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00844">differ_by_repeat()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02266">is_prefix()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>, <a class="el" href="../../d7/dda/test__dlinklists_8c_source.html#l00094">make_test1()</a>, <a class="el" href="../../d7/dda/test__dlinklists_8c_source.html#l00060">print_list()</a>, and <a class="el" href="../../d7/dda/test__dlinklists_8c_source.html#l00074">print_list_backwards()</a>.</p>

</div>
</div>
<a id="abc6691d7c526d608dbf625bfac0e7be1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc6691d7c526d608dbf625bfac0e7be1">&#9670;&nbsp;</a></span>t7</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t t7 = 200</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00158">158</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>.</p>

</div>
</div>
<a id="a186b02ba9cbbc9c5fa2a212e8381a518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a186b02ba9cbbc9c5fa2a212e8381a518">&#9670;&nbsp;</a></span>t8</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t t8 = 300</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00159">159</a> of file <a class="el" href="../../dd/d95/res__pktccops_8c_source.html">res_pktccops.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l01022">load_pktccops_config()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:36 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
