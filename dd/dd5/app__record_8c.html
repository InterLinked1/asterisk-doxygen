<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: app_record.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">app_record.c File Reference<div class="ingroups"><a class="el" href="../../d9/dc9/group__applications.html">Dial plan applications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Trivial application to record a sound file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d08/dsp_8h_source.html">asterisk/dsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for app_record.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d66/app__record_8c__incl.png" border="0" usemap="#app__record_8c" alt=""/></div>
<map name="app__record_8c" id="app__record_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="2595,453,2679,480"/>
<area shape="rect" id="node14" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="97,304,204,331"/>
<area shape="rect" id="node17" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="2121,80,2231,107"/>
<area shape="rect" id="node18" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1227,155,1365,181"/>
<area shape="rect" id="node46" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="932,155,1068,181"/>
<area shape="rect" id="node47" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="500,229,612,256"/>
<area shape="rect" id="node48" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="2515,80,2626,107"/>
<area shape="rect" id="node49" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2651,80,2827,107"/>
<area shape="rect" id="node50" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="2851,80,2975,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="2731,528,2885,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="2023,603,2161,629"/>
<area shape="rect" id="node13" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="2521,528,2655,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="2735,603,2881,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1602,752,1745,779"/>
<area shape="rect" id="node22" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1751,453,1908,480"/>
<area shape="rect" id="node28" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="1567,379,1697,405"/>
<area shape="rect" id="node31" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="2299,229,2445,256"/>
<area shape="rect" id="node38" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="2033,304,2196,331"/>
<area shape="rect" id="node42" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="2521,155,2647,181"/>
<area shape="rect" id="node43" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="2214,155,2394,181"/>
<area shape="rect" id="node44" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="1395,603,1535,629"/>
<area shape="rect" id="node45" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="1773,379,1907,405"/>
<area shape="rect" id="node19" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="959,304,1103,331"/>
<area shape="rect" id="node20" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="973,379,1088,405"/>
<area shape="rect" id="node21" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="951,677,1065,704"/>
<area shape="rect" id="node25" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="885,528,1019,555"/>
<area shape="rect" id="node26" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="990,603,1141,629"/>
<area shape="rect" id="node27" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1575,304,1734,331"/>
<area shape="rect" id="node29" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="687,229,851,256"/>
<area shape="rect" id="node30" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1329,304,1455,331"/>
<area shape="rect" id="node32" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1178,304,1305,331"/>
<area shape="rect" id="node33" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1311,229,1417,256"/>
<area shape="rect" id="node34" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="279,453,430,480"/>
<area shape="rect" id="node35" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1442,229,1603,256"/>
<area shape="rect" id="node36" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="2076,379,2247,405"/>
<area shape="rect" id="node37" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="2006,229,2122,256"/>
<area shape="rect" id="node39" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1129,229,1287,256"/>
<area shape="rect" id="node40" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="708,304,833,331"/>
<area shape="rect" id="node41" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1627,229,1778,256"/>
<area shape="rect" id="node23" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="965,453,1096,480"/>
<area shape="rect" id="node24" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="1044,528,1223,555"/>
</map>
</div>
</div>
<p><a href="../../dd/dd5/app__record_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3752cbab4aab095a9970562ba056694c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#a3752cbab4aab095a9970562ba056694c">OPERATOR_KEY</a>&#160;&#160;&#160;'0'</td></tr>
<tr class="separator:a3752cbab4aab095a9970562ba056694c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa618c4d8c29ef4efe6f10c741fb1f47a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34">OPTION_APPEND</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6">OPTION_NOANSWER</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65">OPTION_QUIET</a> = (1 &lt;&lt; 2), 
<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04">OPTION_SKIP</a> = (1 &lt;&lt; 3), 
<br />
&#160;&#160;<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9">OPTION_STAR_TERMINATE</a> = (1 &lt;&lt; 4), 
<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f">OPTION_IGNORE_TERMINATE</a> = (1 &lt;&lt; 5), 
<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0">OPTION_KEEP</a> = (1 &lt;&lt; 6), 
<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d">OPTION_ANY_TERMINATE</a> = (1 &lt;&lt; 7), 
<br />
&#160;&#160;<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e">OPTION_OPERATOR_EXIT</a> = (1 &lt;&lt; 8), 
<a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4">OPTION_NO_TRUNCATE</a> = (1 &lt;&lt; 9)
<br />
 }</td></tr>
<tr class="separator:aa618c4d8c29ef4efe6f10c741fb1f47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b1af34966e7a448354c23aa6c3c275"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275">dtmf_response</a> { <a class="el" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d">RESPONSE_NO_MATCH</a> = 0, 
<a class="el" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848">RESPONSE_OPERATOR</a>, 
<a class="el" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396">RESPONSE_DTMF</a>
 }</td></tr>
<tr class="separator:af6b1af34966e7a448354c23aa6c3c275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab21180c8b1da4d80e407f7b65ebbd0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#a8ab21180c8b1da4d80e407f7b65ebbd0">create_destination_directory</a> (const char *path)</td></tr>
<tr class="separator:a8ab21180c8b1da4d80e407f7b65ebbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cac51af94bb111c9dd44364dc33a9b4"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275">dtmf_response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#a6cac51af94bb111c9dd44364dc33a9b4">record_dtmf_response</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *flags, int dtmf_integer, int terminator)</td></tr>
<tr class="separator:a6cac51af94bb111c9dd44364dc33a9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd11d4964f2d8f60dae8dc1a8991b7a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#a1fd11d4964f2d8f60dae8dc1a8991b7a">record_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="separator:a1fd11d4964f2d8f60dae8dc1a8991b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Trivial Record Application&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_DEFAULT, .support_level = AST_MODULE_SUPPORT_CORE, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5f57131367eff409b9e0bd7b31aa1a"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a> = &quot;Record&quot;</td></tr>
<tr class="separator:a9e5f57131367eff409b9e0bd7b31aa1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1686b1226ad5e61ff72caa9404aebb"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d2/d8d/structast__app__option.html">ast_app_option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#a9e1686b1226ad5e61ff72caa9404aebb">app_opts</a> [128] = { [ '<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34">OPTION_APPEND</a> }, [ 'k' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0">OPTION_KEEP</a> }, [ 'n' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6">OPTION_NOANSWER</a> }, [ 'o' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e">OPTION_OPERATOR_EXIT</a> }, [ 'q' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65">OPTION_QUIET</a> }, [ 's' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04">OPTION_SKIP</a> }, [ 't' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9">OPTION_STAR_TERMINATE</a> }, [ 'u' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4">OPTION_NO_TRUNCATE</a> }, [ 'y' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d">OPTION_ANY_TERMINATE</a> }, [ 'x' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f">OPTION_IGNORE_TERMINATE</a> }, }</td></tr>
<tr class="separator:a9e1686b1226ad5e61ff72caa9404aebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd5/app__record_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Trivial application to record a sound file. </p>
<dl class="section author"><dt>Author</dt><dd>Matthew Fredrickson <a href="#" onclick="location.href='mai'+'lto:'+'cre'+'sl'+'in@'+'di'+'giu'+'m.'+'com'; return false;">cresl<span style="display: none;">.nosp@m.</span>in@d<span style="display: none;">.nosp@m.</span>igium<span style="display: none;">.nosp@m.</span>.com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3752cbab4aab095a9970562ba056694c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3752cbab4aab095a9970562ba056694c">&#9670;&nbsp;</a></span>OPERATOR_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPERATOR_KEY&#160;&#160;&#160;'0'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00123">123</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00171">record_dtmf_response()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aa618c4d8c29ef4efe6f10c741fb1f47a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa618c4d8c29ef4efe6f10c741fb1f47a">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34"></a>OPTION_APPEND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6"></a>OPTION_NOANSWER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65"></a>OPTION_QUIET&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04"></a>OPTION_SKIP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9"></a>OPTION_STAR_TERMINATE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f"></a>OPTION_IGNORE_TERMINATE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0"></a>OPTION_KEEP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d"></a>OPTION_ANY_TERMINATE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e"></a>OPTION_OPERATOR_EXIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4"></a>OPTION_NO_TRUNCATE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00127">127</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;     {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34">OPTION_APPEND</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6">OPTION_NOANSWER</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65">OPTION_QUIET</a> = (1 &lt;&lt; 2),</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04">OPTION_SKIP</a> = (1 &lt;&lt; 3),</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9">OPTION_STAR_TERMINATE</a> = (1 &lt;&lt; 4),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f">OPTION_IGNORE_TERMINATE</a> = (1 &lt;&lt; 5),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0">OPTION_KEEP</a> = (1 &lt;&lt; 6),</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d">OPTION_ANY_TERMINATE</a> = (1 &lt;&lt; 7),</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e">OPTION_OPERATOR_EXIT</a> = (1 &lt;&lt; 8),</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4">OPTION_NO_TRUNCATE</a> = (1 &lt;&lt; 9),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;};</div><div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e">OPTION_OPERATOR_EXIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00136">app_record.c:136</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4">OPTION_NO_TRUNCATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00137">app_record.c:137</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34">OPTION_APPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00128">app_record.c:128</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04">OPTION_SKIP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00131">app_record.c:131</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0">OPTION_KEEP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00134">app_record.c:134</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f">OPTION_IGNORE_TERMINATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00133">app_record.c:133</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6">OPTION_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00129">app_record.c:129</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d">OPTION_ANY_TERMINATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00135">app_record.c:135</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9">OPTION_STAR_TERMINATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00132">app_record.c:132</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65">OPTION_QUIET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00130">app_record.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6b1af34966e7a448354c23aa6c3c275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b1af34966e7a448354c23aa6c3c275">&#9670;&nbsp;</a></span>dtmf_response</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275">dtmf_response</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d"></a>RESPONSE_NO_MATCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848"></a>RESPONSE_OPERATOR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396"></a>RESPONSE_DTMF&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00140">140</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                   {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d">RESPONSE_NO_MATCH</a> = 0,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848">RESPONSE_OPERATOR</a>,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396">RESPONSE_DTMF</a>,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;};</div><div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396">RESPONSE_DTMF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00143">app_record.c:143</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848">RESPONSE_OPERATOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00142">app_record.c:142</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d">RESPONSE_NO_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00141">app_record.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00543">543</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00543">543</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00543">543</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

</div>
</div>
<a id="a8ab21180c8b1da4d80e407f7b65ebbd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ab21180c8b1da4d80e407f7b65ebbd0">&#9670;&nbsp;</a></span>create_destination_directory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int create_destination_directory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00187">187</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00158">ast_config_AST_DATA_DIR</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02231">ast_mkdir()</a>, and <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keywordtype">char</span> directory[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>], *file_sep;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordflow">if</span> (!(file_sep = strrchr(path, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="comment">/* No directory to create */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="comment">/* Overwrite temporarily */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   *file_sep = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <span class="comment">/* Absolute path? */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="keywordflow">if</span> (path[0] == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      res = <a class="code" href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a>(path, 0777);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      *file_sep = <span class="charliteral">&#39;/&#39;</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="comment">/* Relative path */</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   res = snprintf(directory, <span class="keyword">sizeof</span>(directory), <span class="stringliteral">&quot;%s/sounds/%s&quot;</span>,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;               <a class="code" href="../../dd/df2/paths_8h.html#a63af4213b5b83f717398d8d62008a50d">ast_config_AST_DATA_DIR</a>, path);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   *file_sep = <span class="charliteral">&#39;/&#39;</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">if</span> (res &gt;= <span class="keyword">sizeof</span>(directory)) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="comment">/* We truncated, so we fail */</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a>(directory, 0777);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="ttc" id="paths_8h_html_a63af4213b5b83f717398d8d62008a50d"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a63af4213b5b83f717398d8d62008a50d">ast_config_AST_DATA_DIR</a></div><div class="ttdeci">const char * ast_config_AST_DATA_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00158">options.c:158</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="utils_8h_html_a7c38859ed90e96df2b0a0fdf843769d0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a></div><div class="ttdeci">int ast_mkdir(const char *path, int mode)</div><div class="ttdoc">Recursively create directory path. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02231">main/utils.c:2231</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00538">538</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00125">app</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00626">ast_register_application_xml</a>, and <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;{</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<a class="code" href="../../dd/dd5/app__record_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, <a class="code" href="../../dd/dd5/app__record_8c.html#a1fd11d4964f2d8f60dae8dc1a8991b7a">record_exec</a>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="ttc" id="app__record_8c_html_a1fd11d4964f2d8f60dae8dc1a8991b7a"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#a1fd11d4964f2d8f60dae8dc1a8991b7a">record_exec</a></div><div class="ttdeci">static int record_exec(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00221">app_record.c:221</a></div></div>
<div class="ttc" id="app__record_8c_html_a9e5f57131367eff409b9e0bd7b31aa1a"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a></div><div class="ttdeci">static char * app</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00125">app_record.c:125</a></div></div>
<div class="ttc" id="module_8h_html_afba4eb7a910b10969041ae4cd488729d"><div class="ttname"><a href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a></div><div class="ttdeci">#define ast_register_application_xml(app, execute)</div><div class="ttdoc">Register an application using XML documentation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00626">module.h:626</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cac51af94bb111c9dd44364dc33a9b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cac51af94bb111c9dd44364dc33a9b4">&#9670;&nbsp;</a></span>record_dtmf_response()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275">dtmf_response</a> record_dtmf_response </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dtmf_integer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>terminator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00171">171</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00123">OPERATOR_KEY</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00135">OPTION_ANY_TERMINATE</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00136">OPTION_OPERATOR_EXIT</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00143">RESPONSE_DTMF</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00141">RESPONSE_NO_MATCH</a>, and <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00142">RESPONSE_OPERATOR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="keywordflow">if</span> ((dtmf_integer == <a class="code" href="../../dd/dd5/app__record_8c.html#a3752cbab4aab095a9970562ba056694c">OPERATOR_KEY</a>) &amp;&amp;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e">OPTION_OPERATOR_EXIT</a>))) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848">RESPONSE_OPERATOR</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordflow">if</span> ((dtmf_integer == terminator) ||</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d">OPTION_ANY_TERMINATE</a>))) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396">RESPONSE_DTMF</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d">RESPONSE_NO_MATCH</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e">OPTION_OPERATOR_EXIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00136">app_record.c:136</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396">RESPONSE_DTMF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00143">app_record.c:143</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848">RESPONSE_OPERATOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00142">app_record.c:142</a></div></div>
<div class="ttc" id="app__record_8c_html_a3752cbab4aab095a9970562ba056694c"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#a3752cbab4aab095a9970562ba056694c">OPERATOR_KEY</a></div><div class="ttdeci">#define OPERATOR_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00123">app_record.c:123</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d">RESPONSE_NO_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00141">app_record.c:141</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d">OPTION_ANY_TERMINATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00135">app_record.c:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1fd11d4964f2d8f60dae8dc1a8991b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fd11d4964f2d8f60dae8dc1a8991b7a">&#9670;&nbsp;</a></span>record_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int record_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">221</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00157">app_opts</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02814">ast_answer()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02906">ast_app_parse_options()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00856">ast_channel_readformat()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08266">ast_channel_start_silence_generator()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08312">ast_channel_stop_silence_generator()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01068">ast_closestream()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00295">AST_CONTROL_VIDUPDATE</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01770">ast_dsp_free()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01996">ast_dsp_get_threshold_from_settings()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01745">ast_dsp_new()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01775">ast_dsp_set_threshold()</a>, <a class="el" href="../../d5/d3b/dsp_8c_source.html#l01483">ast_dsp_silence()</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00032">AST_FILE_MODE</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01098">ast_filedelete()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01086">ast_fileexists()</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">AST_FRAME_DTMF</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00103">AST_FRAME_VIDEO</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00124">ast_opt_transmit_silence</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04302">ast_read()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02033">ast_remaining_ms()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00187">ast_stopstream()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01063">ast_stream_rewind()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01250">ast_streamfile()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01043">ast_truncstream()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03171">ast_waitfor()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01776">ast_waitstream()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01361">ast_writefile()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00209">ast_writestream()</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00187">create_destination_directory()</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l00147">ext</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00128">OPTION_APPEND</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00133">OPTION_IGNORE_TERMINATE</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00134">OPTION_KEEP</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00137">OPTION_NO_TRUNCATE</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00129">OPTION_NOANSWER</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00130">OPTION_QUIET</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00131">OPTION_SKIP</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00132">OPTION_STAR_TERMINATE</a>, <a class="el" href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">options</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00033">out</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">parse()</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00171">record_dtmf_response()</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00143">RESPONSE_DTMF</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00141">RESPONSE_NO_MATCH</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00142">RESPONSE_OPERATOR</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../d3/d08/dsp_8h_source.html#l00073">THRESHOLD_SILENCE</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../d5/d3b/dsp_8c_source.html#l00409">ast_dsp::totalsilence</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00538">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *opts[0];</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> *s = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/de5/structast__dsp.html">ast_dsp</a> *sildet = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;      <span class="comment">/* silence detector dsp */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d6/de5/structast__dsp.html#a37f3ccbb8c8ee286cec59a4b0340e924">totalsilence</a> = 0;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="keywordtype">int</span> dspsilence = 0;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordtype">int</span> silence = 0;     <span class="comment">/* amount of silence to allow */</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <span class="keywordtype">int</span> gotsilence = 0;     <span class="comment">/* did we timeout for silence? */</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keywordtype">int</span> truncate_silence = 1;  <span class="comment">/* truncate on complete silence recording */</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordtype">int</span> maxduration = 0;    <span class="comment">/* max duration of recording in milliseconds */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordtype">int</span> gottimeout = 0;     <span class="comment">/* did we timeout for maxduration exceeded? */</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="keywordtype">int</span> terminator = <span class="charliteral">&#39;#&#39;</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *, rfmt, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <span class="keywordtype">int</span> ioflags;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/da1/structast__silence__generator.html">ast_silence_generator</a> *silgen = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> <a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = { 0, };</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(filename);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(silence);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(maxduration);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   );</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordtype">int</span> ms;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <span class="keyword">struct </span>timeval start;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *status_response = <span class="stringliteral">&quot;ERROR&quot;</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="comment">/* The next few lines of code parse out the filename and header from the input string */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) { <span class="comment">/* no data implies no filename or anything is present */</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Record requires an argument (filename)\n&quot;</span>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;RECORD_STATUS&quot;</span>, <span class="stringliteral">&quot;ERROR&quot;</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   parse = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, parse);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.argc == 4)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a>(<a class="code" href="../../dd/dd5/app__record_8c.html#a9e1686b1226ad5e61ff72caa9404aebb">app_opts</a>, &amp;flags, opts, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename)) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      ext = strrchr(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename, <span class="charliteral">&#39;.&#39;</span>); <span class="comment">/* to support filename with a . in the filename, not format */</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">if</span> (!ext)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;         ext = strchr(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">if</span> (ext) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;         *ext = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;         ext++;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keywordflow">if</span> (!ext) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No extension specified to filename!\n&quot;</span>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;RECORD_STATUS&quot;</span>, <span class="stringliteral">&quot;ERROR&quot;</span>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.silence) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">if</span> ((sscanf(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.silence, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;i) == 1) &amp;&amp; (i &gt; -1)) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         silence = i * 1000;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.silence)) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;&#39;%s&#39; is not a valid silence duration\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.silence);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4">OPTION_NO_TRUNCATE</a>))</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      truncate_silence = 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.maxduration) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">if</span> ((sscanf(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.maxduration, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;i) == 1) &amp;&amp; (i &gt; -1))</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         <span class="comment">/* Convert duration to milliseconds */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         maxduration = i * 1000;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.maxduration))</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;&#39;%s&#39; is not a valid maximum duration\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.maxduration);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9">OPTION_STAR_TERMINATE</a>))</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      terminator = <span class="charliteral">&#39;*&#39;</span>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f">OPTION_IGNORE_TERMINATE</a>))</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      terminator = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">     If a &#39;%d&#39; is specified as part of the filename, we replace that token with</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">     sequentially incrementing numbers until we find a unique filename.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="keywordflow">if</span> (strchr(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename, <span class="charliteral">&#39;%&#39;</span>)) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordtype">size_t</span> src, dst, count = 0;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordtype">size_t</span> src_len = strlen(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordtype">size_t</span> dst_len = <span class="keyword">sizeof</span>(<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>) - 1;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;         <span class="keywordflow">for</span> (src = 0, dst = 0; src &lt; src_len &amp;&amp; dst &lt; dst_len; src++) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">if</span> (!strncmp(&amp;<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename[src], <span class="stringliteral">&quot;%d&quot;</span>, 2)) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;               <span class="keywordtype">int</span> s = snprintf(&amp;tmp[dst], <a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a> - dst, <span class="stringliteral">&quot;%zu&quot;</span>, count);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;               <span class="keywordflow">if</span> (s &gt;= <a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a> - dst) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                  <span class="comment">/* We truncated, so we need to bail */</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to create unique filename from template: %s\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                  <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;RECORD_STATUS&quot;</span>, <span class="stringliteral">&quot;ERROR&quot;</span>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                  <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;               }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;               dst += s;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;               src++;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;               tmp[dst] = <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename[src];</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;               tmp[++dst] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;         }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         count++;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      } <span class="keywordflow">while</span> (<a class="code" href="../../d2/d4d/file_8h.html#ab9b8ab8e5ee34c9b4da25779255cafde">ast_fileexists</a>(tmp, ext, <a class="code" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a>(chan)) &gt; 0);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   } <span class="keywordflow">else</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(tmp, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename, <span class="keyword">sizeof</span>(tmp));</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;RECORDED_FILE&quot;</span>, tmp);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04">OPTION_SKIP</a>)) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;         <span class="comment">/* At the user&#39;s option, skip if the line is not up */</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;RECORD_STATUS&quot;</span>, <span class="stringliteral">&quot;SKIP&quot;</span>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6">OPTION_NOANSWER</a>)) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;         <span class="comment">/* Otherwise answer unless we&#39;re supposed to record while on-hook */</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;         res = <a class="code" href="../../d5/d7b/channel_8h.html#aec583a3e25358ee552a4f3df53914cd0">ast_answer</a>(chan);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not answer channel &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      status_response = <span class="stringliteral">&quot;ERROR&quot;</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65">OPTION_QUIET</a>)) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">/* Some code to play a nice little beep to signify the start of the record operation */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      res = <a class="code" href="../../d2/d4d/file_8h.html#a67c7e271b4ca70aca6d48fd48d121857">ast_streamfile</a>(chan, <span class="stringliteral">&quot;beep&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a>(chan));</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;         res = <a class="code" href="../../d2/d4d/file_8h.html#affc21cb57c6bf72a2cb7ec8a379b2137">ast_waitstream</a>(chan, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;ast_streamfile(beep) failed on %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;         res = 0;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="comment">/* The end of beep code.  Now the recording starts */</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordflow">if</span> (silence &gt; 0) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      rfmt = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(chan));</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      res = <a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to set to linear mode, giving up\n&quot;</span>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;RECORD_STATUS&quot;</span>, <span class="stringliteral">&quot;ERROR&quot;</span>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      sildet = <a class="code" href="../../d3/d08/dsp_8h.html#a0a60e93006c8e1ca8fda922ae0e0da2c">ast_dsp_new</a>();</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> (!sildet) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to create silence detector :(\n&quot;</span>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;RECORD_STATUS&quot;</span>, <span class="stringliteral">&quot;ERROR&quot;</span>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <a class="code" href="../../d3/d08/dsp_8h.html#a06a0b883127ba1f853e9e0fa5f29d81b">ast_dsp_set_threshold</a>(sildet, <a class="code" href="../../d3/d08/dsp_8h.html#aab28c68838eaed4e0c89460a4e554cca">ast_dsp_get_threshold_from_settings</a>(<a class="code" href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abfa40278495f8621707b864e57e1110d20f">THRESHOLD_SILENCE</a>));</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dd/dd5/app__record_8c.html#a8ab21180c8b1da4d80e407f7b65ebbd0">create_destination_directory</a>(tmp)) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not create directory for file %s\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      status_response = <span class="stringliteral">&quot;ERROR&quot;</span>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   ioflags = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34">OPTION_APPEND</a>) ? O_CREAT|O_APPEND|O_WRONLY : O_CREAT|O_TRUNC|O_WRONLY;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   s = <a class="code" href="../../d2/d4d/file_8h.html#a964f8ef393c07609d7b9e02937faed52">ast_writefile</a>(tmp, ext, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ioflags, 0, <a class="code" href="../../db/db2/asterisk_8h.html#aa6293b2dae52a2b470494df672a26c42">AST_FILE_MODE</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordflow">if</span> (!s) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not create file %s\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      status_response = <span class="stringliteral">&quot;ERROR&quot;</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/options_8h.html#afe8795c4ec744506a9300700fc0813dc">ast_opt_transmit_silence</a>)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      silgen = <a class="code" href="../../d5/d7b/channel_8h.html#a2a2e0ff24c57491a877cac39cb670024">ast_channel_start_silence_generator</a>(chan);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="comment">/* Request a video update */</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="keywordflow">if</span> (maxduration &lt;= 0)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      maxduration = -1;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   start = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <span class="keywordflow">while</span> ((ms = <a class="code" href="../../de/df7/time_8h.html#a904a6933b710e14c7fa2029a0f0cc91a">ast_remaining_ms</a>(start, maxduration))) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      ms = <a class="code" href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a>(chan, ms);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">if</span> (ms &lt; 0) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">if</span> (maxduration &gt; 0 &amp;&amp; ms == 0) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      f = <a class="code" href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a>(chan);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordflow">if</span> (!f) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;         res = -1;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;         res = <a class="code" href="../../d2/d4d/file_8h.html#a3608386b919ef0949d2858cdeb02d12e">ast_writestream</a>(s, f);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;         <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Problem writing frame\n&quot;</span>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            status_response = <span class="stringliteral">&quot;ERROR&quot;</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;         }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;         <span class="keywordflow">if</span> (silence &gt; 0) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            dspsilence = 0;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <a class="code" href="../../d3/d08/dsp_8h.html#a3f3b67988bffb3addfbc8a4688fa466d">ast_dsp_silence</a>(sildet, f, &amp;dspsilence);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">if</span> (dspsilence) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;               totalsilence = dspsilence;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;               totalsilence = 0;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">if</span> (totalsilence &gt; silence) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;               <span class="comment">/* Ended happily with silence */</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;               <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;               gotsilence = 1;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;               status_response = <span class="stringliteral">&quot;SILENCE&quot;</span>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;         }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a17ae96b6ea8a2388bb0d409e8124ff30">AST_FRAME_VIDEO</a>) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;         res = <a class="code" href="../../d2/d4d/file_8h.html#a3608386b919ef0949d2858cdeb02d12e">ast_writestream</a>(s, f);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;         <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Problem writing frame\n&quot;</span>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            status_response = <span class="stringliteral">&quot;ERROR&quot;</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;         }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         <span class="keyword">enum</span> <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275">dtmf_response</a> rc =</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <a class="code" href="../../dd/dd5/app__record_8c.html#a6cac51af94bb111c9dd44364dc33a9b4">record_dtmf_response</a>(chan, &amp;flags, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>, terminator);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;         <span class="keywordflow">switch</span>(rc)  {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d">RESPONSE_NO_MATCH</a>:</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848">RESPONSE_OPERATOR</a>:</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            status_response = <span class="stringliteral">&quot;OPERATOR&quot;</span>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Got OPERATOR\n&quot;</span>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396">RESPONSE_DTMF</a>:</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            status_response = <span class="stringliteral">&quot;DTMF&quot;</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Got DTMF\n&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;         }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         <span class="keywordflow">if</span> (rc != <a class="code" href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d">RESPONSE_NO_MATCH</a>) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;         }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordflow">if</span> (maxduration &gt; 0 &amp;&amp; !ms) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      gottimeout = 1;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      status_response = <span class="stringliteral">&quot;TIMEOUT&quot;</span>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keywordflow">if</span> (!f) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Got hangup\n&quot;</span>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      res = -1;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      status_response = <span class="stringliteral">&quot;HANGUP&quot;</span>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;flags, <a class="code" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0">OPTION_KEEP</a>)) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         <a class="code" href="../../d2/d4d/file_8h.html#adb15d6efecc1a13b8835bee6d3562ddb">ast_filedelete</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.filename, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <span class="keywordflow">if</span> (gotsilence &amp;&amp; truncate_silence) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#a4c7c02a659b09bb06dd63e1f42692666">ast_stream_rewind</a>(s, silence - 1000);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#aa647ac352a00b559131f90ffffea2c3c">ast_truncstream</a>(s);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!gottimeout &amp;&amp; f) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">       * Strip off the last 1/4 second of it, if we didn&#39;t end because of a timeout,</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">       * or a hangup.  This must mean we ended because of a DTMF tone and while this</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">       * 1/4 second stripping is very old code the most likely explanation is that it</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">       * relates to stripping a partial DTMF tone.</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#a4c7c02a659b09bb06dd63e1f42692666">ast_stream_rewind</a>(s, 250);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#aa647ac352a00b559131f90ffffea2c3c">ast_truncstream</a>(s);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <a class="code" href="../../d2/d4d/file_8h.html#ab53bd2c3c55d509790c7f7620aac6373">ast_closestream</a>(s);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <span class="keywordflow">if</span> (silgen)</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a>(chan, silgen);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>:</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <span class="keywordflow">if</span> ((silence &gt; 0) &amp;&amp; rfmt) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      res = <a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(chan, rfmt);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to restore read format on &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <span class="keywordflow">if</span> (sildet) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <a class="code" href="../../d3/d08/dsp_8h.html#a0a57a1e374549eb2705068688f4046db">ast_dsp_free</a>(sildet);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;RECORD_STATUS&quot;</span>, status_response);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div><div class="ttc" id="file_8h_html_a67c7e271b4ca70aca6d48fd48d121857"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a67c7e271b4ca70aca6d48fd48d121857">ast_streamfile</a></div><div class="ttdeci">int ast_streamfile(struct ast_channel *c, const char *filename, const char *preflang)</div><div class="ttdoc">Streams a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01250">file.c:1250</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aad6abb4515163af90824537dcbdd1396">RESPONSE_DTMF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00143">app_record.c:143</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4">OPTION_NO_TRUNCATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00137">app_record.c:137</a></div></div>
<div class="ttc" id="structast__silence__generator_html"><div class="ttname"><a href="../../d9/da1/structast__silence__generator.html">ast_silence_generator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08262">channel.c:8262</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275">dtmf_response</a></div><div class="ttdeci">dtmf_response</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00140">app_record.c:140</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="dsp_8h_html_a0a57a1e374549eb2705068688f4046db"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a0a57a1e374549eb2705068688f4046db">ast_dsp_free</a></div><div class="ttdeci">void ast_dsp_free(struct ast_dsp *dsp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01770">dsp.c:1770</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275aaab81fc0c11f534d4cba4cf8533f7848">RESPONSE_OPERATOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00142">app_record.c:142</a></div></div>
<div class="ttc" id="dsp_8h_html_a0a60e93006c8e1ca8fda922ae0e0da2c"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a0a60e93006c8e1ca8fda922ae0e0da2c">ast_dsp_new</a></div><div class="ttdeci">struct ast_dsp * ast_dsp_new(void)</div><div class="ttdoc">Allocates a new dsp, assumes 8khz for internal sample rate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01745">dsp.c:1745</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="channel_8h_html_a7ef6737309dc9e8b6c4a7cb4800638b1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a></div><div class="ttdeci">struct ast_frame * ast_read(struct ast_channel *chan)</div><div class="ttdoc">Reads a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04302">channel.c:4302</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="structast__format_html"><div class="ttname"><a href="../../d0/d98/structast__format.html">ast_format</a></div><div class="ttdoc">Definition of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00043">format.c:43</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="options_8h_html_afe8795c4ec744506a9300700fc0813dc"><div class="ttname"><a href="../../d7/d5b/options_8h.html#afe8795c4ec744506a9300700fc0813dc">ast_opt_transmit_silence</a></div><div class="ttdeci">#define ast_opt_transmit_silence</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00124">options.h:124</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="file_8h_html_adb15d6efecc1a13b8835bee6d3562ddb"><div class="ttname"><a href="../../d2/d4d/file_8h.html#adb15d6efecc1a13b8835bee6d3562ddb">ast_filedelete</a></div><div class="ttdeci">int ast_filedelete(const char *filename, const char *fmt)</div><div class="ttdoc">Deletes a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01098">file.c:1098</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a248afd6c02044259a386f6b7aee922a2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a></div><div class="ttdeci">#define AST_FRAME_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">include/asterisk/frame.h:139</a></div></div>
<div class="ttc" id="http_8c_html_af9b32121c4ad80b0887a3d73fd24de5f"><div class="ttname"><a href="../../dd/d43/http_8c.html#af9b32121c4ad80b0887a3d73fd24de5f">ext</a></div><div class="ttdeci">const char * ext</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00147">http.c:147</a></div></div>
<div class="ttc" id="asterisk_8h_html_aa6293b2dae52a2b470494df672a26c42"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#aa6293b2dae52a2b470494df672a26c42">AST_FILE_MODE</a></div><div class="ttdeci">#define AST_FILE_MODE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00032">asterisk.h:32</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="structast__dsp_html_a37f3ccbb8c8ee286cec59a4b0340e924"><div class="ttname"><a href="../../d6/de5/structast__dsp.html#a37f3ccbb8c8ee286cec59a4b0340e924">ast_dsp::totalsilence</a></div><div class="ttdeci">int totalsilence</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00409">dsp.c:409</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="dsp_8h_html_a11a8ce2b7eba2230cab37aad708d9abfa40278495f8621707b864e57e1110d20f"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a11a8ce2b7eba2230cab37aad708d9abfa40278495f8621707b864e57e1110d20f">THRESHOLD_SILENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d08/dsp_8h_source.html#l00073">dsp.h:73</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34">OPTION_APPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00128">app_record.c:128</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="app__record_8c_html_a9e1686b1226ad5e61ff72caa9404aebb"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#a9e1686b1226ad5e61ff72caa9404aebb">app_opts</a></div><div class="ttdeci">static const struct ast_app_option app_opts[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00157">app_record.c:157</a></div></div>
<div class="ttc" id="structast__dsp_html"><div class="ttname"><a href="../../d6/de5/structast__dsp.html">ast_dsp</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l00405">dsp.c:405</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04">OPTION_SKIP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00131">app_record.c:131</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af40039f1c49c16d0f6fa33fe9c43a0cb"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a></div><div class="ttdeci">int ast_app_parse_options(const struct ast_app_option *options, struct ast_flags *flags, char **args, char *optstr)</div><div class="ttdoc">Parses a string containing application options and sets flags/arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02906">main/app.c:2906</a></div></div>
<div class="ttc" id="dsp_8h_html_a06a0b883127ba1f853e9e0fa5f29d81b"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a06a0b883127ba1f853e9e0fa5f29d81b">ast_dsp_set_threshold</a></div><div class="ttdeci">void ast_dsp_set_threshold(struct ast_dsp *dsp, int threshold)</div><div class="ttdoc">Set the minimum average magnitude threshold to determine talking by the DSP. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01775">dsp.c:1775</a></div></div>
<div class="ttc" id="channel_8h_html_a2a2e0ff24c57491a877cac39cb670024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2a2e0ff24c57491a877cac39cb670024">ast_channel_start_silence_generator</a></div><div class="ttdeci">struct ast_silence_generator * ast_channel_start_silence_generator(struct ast_channel *chan)</div><div class="ttdoc">Starts a silence generator on the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08266">channel.c:8266</a></div></div>
<div class="ttc" id="time_8h_html_a904a6933b710e14c7fa2029a0f0cc91a"><div class="ttname"><a href="../../de/df7/time_8h.html#a904a6933b710e14c7fa2029a0f0cc91a">ast_remaining_ms</a></div><div class="ttdeci">int ast_remaining_ms(struct timeval start, int max_ms)</div><div class="ttdoc">Calculate remaining milliseconds given a starting timestamp and upper bound. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02033">main/utils.c:2033</a></div></div>
<div class="ttc" id="file_8h_html_a4c7c02a659b09bb06dd63e1f42692666"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a4c7c02a659b09bb06dd63e1f42692666">ast_stream_rewind</a></div><div class="ttdeci">int ast_stream_rewind(struct ast_filestream *fs, off_t ms)</div><div class="ttdoc">Rewind stream ms. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01063">file.c:1063</a></div></div>
<div class="ttc" id="file_8h_html_a964f8ef393c07609d7b9e02937faed52"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a964f8ef393c07609d7b9e02937faed52">ast_writefile</a></div><div class="ttdeci">struct ast_filestream * ast_writefile(const char *filename, const char *type, const char *comment, int flags, int check, mode_t mode)</div><div class="ttdoc">Starts writing a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01361">file.c:1361</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0">OPTION_KEEP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00134">app_record.c:134</a></div></div>
<div class="ttc" id="channel_8h_html_a6643cbe766a051d2d06750ab5b3e933d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6643cbe766a051d2d06750ab5b3e933d">ast_channel_stop_silence_generator</a></div><div class="ttdeci">void ast_channel_stop_silence_generator(struct ast_channel *chan, struct ast_silence_generator *state)</div><div class="ttdoc">Stops a previously-started silence generator on the given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08312">channel.c:8312</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a2e006acff60d9b3d65d7d60f975d6747"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a></div><div class="ttdeci">static void parse(struct mgcp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">chan_mgcp.c:1872</a></div></div>
<div class="ttc" id="app__record_8c_html_af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#af6b1af34966e7a448354c23aa6c3c275ab17b6ee0a57c654e4cabd49258e4919d">RESPONSE_NO_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00141">app_record.c:141</a></div></div>
<div class="ttc" id="file_8h_html_ab53bd2c3c55d509790c7f7620aac6373"><div class="ttname"><a href="../../d2/d4d/file_8h.html#ab53bd2c3c55d509790c7f7620aac6373">ast_closestream</a></div><div class="ttdeci">int ast_closestream(struct ast_filestream *f)</div><div class="ttdoc">Closes a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01068">file.c:1068</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="file_8h_html_aa647ac352a00b559131f90ffffea2c3c"><div class="ttname"><a href="../../d2/d4d/file_8h.html#aa647ac352a00b559131f90ffffea2c3c">ast_truncstream</a></div><div class="ttdeci">int ast_truncstream(struct ast_filestream *fs)</div><div class="ttdoc">Trunc stream at current location. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01043">file.c:1043</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f">OPTION_IGNORE_TERMINATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00133">app_record.c:133</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00295">include/asterisk/frame.h:295</a></div></div>
<div class="ttc" id="dsp_8h_html_a3f3b67988bffb3addfbc8a4688fa466d"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#a3f3b67988bffb3addfbc8a4688fa466d">ast_dsp_silence</a></div><div class="ttdeci">int ast_dsp_silence(struct ast_dsp *dsp, struct ast_frame *f, int *totalsilence)</div><div class="ttdoc">Process the audio frame for silence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01483">dsp.c:1483</a></div></div>
<div class="ttc" id="structast__filestream_html"><div class="ttname"><a href="../../db/dbc/structast__filestream.html">ast_filestream</a></div><div class="ttdoc">This structure is allocated by file.c in one chunk, together with buf_size and desc_size bytes of mem...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5d/mod__format_8h_source.html#l00101">mod_format.h:101</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a48bc11919b2752df9d14ce89557cfb25"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00033">utils/frame.c:33</a></div></div>
<div class="ttc" id="channel_8h_html_a60e0bcaed001e8d5ed1ba0eb2644b3cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a></div><div class="ttdeci">int ast_waitfor(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for input on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03171">channel.c:3171</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="file_8h_html_a3608386b919ef0949d2858cdeb02d12e"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a3608386b919ef0949d2858cdeb02d12e">ast_writestream</a></div><div class="ttdeci">int ast_writestream(struct ast_filestream *fs, struct ast_frame *f)</div><div class="ttdoc">Writes a frame to a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00209">file.c:209</a></div></div>
<div class="ttc" id="file_8h_html_affc21cb57c6bf72a2cb7ec8a379b2137"><div class="ttname"><a href="../../d2/d4d/file_8h.html#affc21cb57c6bf72a2cb7ec8a379b2137">ast_waitstream</a></div><div class="ttdeci">int ast_waitstream(struct ast_channel *c, const char *breakon)</div><div class="ttdoc">Waits for a stream to stop or digit to be pressed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01776">file.c:1776</a></div></div>
<div class="ttc" id="file_8h_html_ab9b8ab8e5ee34c9b4da25779255cafde"><div class="ttname"><a href="../../d2/d4d/file_8h.html#ab9b8ab8e5ee34c9b4da25779255cafde">ast_fileexists</a></div><div class="ttdeci">int ast_fileexists(const char *filename, const char *fmt, const char *preflang)</div><div class="ttdoc">Checks for the existence of a given file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01086">file.c:1086</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="channel_8h_html_aec583a3e25358ee552a4f3df53914cd0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aec583a3e25358ee552a4f3df53914cd0">ast_answer</a></div><div class="ttdeci">int ast_answer(struct ast_channel *chan)</div><div class="ttdoc">Answer a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02814">channel.c:2814</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="channel_8h_html_a9abe31fe40dcd03cd2957e5309e32ac6"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a></div><div class="ttdeci">const char * ast_channel_language(const struct ast_channel *chan)</div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6">OPTION_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00129">app_record.c:129</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a17ae96b6ea8a2388bb0d409e8124ff30"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a17ae96b6ea8a2388bb0d409e8124ff30">AST_FRAME_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00103">include/asterisk/frame.h:103</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
<div class="ttc" id="dsp_8h_html_aab28c68838eaed4e0c89460a4e554cca"><div class="ttname"><a href="../../d3/d08/dsp_8h.html#aab28c68838eaed4e0c89460a4e554cca">ast_dsp_get_threshold_from_settings</a></div><div class="ttdeci">int ast_dsp_get_threshold_from_settings(enum threshold which)</div><div class="ttdoc">Get silence threshold from dsp.conf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3b/dsp_8c_source.html#l01996">dsp.c:1996</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9">OPTION_STAR_TERMINATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00132">app_record.c:132</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="app__record_8c_html_a8ab21180c8b1da4d80e407f7b65ebbd0"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#a8ab21180c8b1da4d80e407f7b65ebbd0">create_destination_directory</a></div><div class="ttdeci">static int create_destination_directory(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00187">app_record.c:187</a></div></div>
<div class="ttc" id="app__record_8c_html_aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65">OPTION_QUIET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00130">app_record.c:130</a></div></div>
<div class="ttc" id="file_8h_html_a3092bf11d4bba66f646562759608b1bc"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a></div><div class="ttdeci">int ast_stopstream(struct ast_channel *c)</div><div class="ttdoc">Stops a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00187">file.c:187</a></div></div>
<div class="ttc" id="app__record_8c_html_a6cac51af94bb111c9dd44364dc33a9b4"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#a6cac51af94bb111c9dd44364dc33a9b4">record_dtmf_response</a></div><div class="ttdeci">static enum dtmf_response record_dtmf_response(struct ast_channel *chan, struct ast_flags *flags, int dtmf_integer, int terminator)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00171">app_record.c:171</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00533">533</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00125">app</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>.</p>
<div class="fragment"><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;{</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<a class="code" href="../../dd/dd5/app__record_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div><div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="app__record_8c_html_a9e5f57131367eff409b9e0bd7b31aa1a"><div class="ttname"><a href="../../dd/dd5/app__record_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a></div><div class="ttdeci">static char * app</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd5/app__record_8c_source.html#l00125">app_record.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Trivial Record Application&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_DEFAULT, .support_level = AST_MODULE_SUPPORT_CORE, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00543">543</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

</div>
</div>
<a id="a9e5f57131367eff409b9e0bd7b31aa1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5f57131367eff409b9e0bd7b31aa1a">&#9670;&nbsp;</a></span>app</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* app = &quot;Record&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00125">125</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00538">load_module()</a>, and <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00533">unload_module()</a>.</p>

</div>
</div>
<a id="a9e1686b1226ad5e61ff72caa9404aebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1686b1226ad5e61ff72caa9404aebb">&#9670;&nbsp;</a></span>app_opts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d2/d8d/structast__app__option.html">ast_app_option</a> app_opts[128] = { [ '<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aafd53d89119a30c00a082e831263ded34">OPTION_APPEND</a> }, [ 'k' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa3ba26344aa7b5e9dc025fe1ee35be9f0">OPTION_KEEP</a> }, [ 'n' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa10d370791d02f63d39a765c695e1b8d6">OPTION_NOANSWER</a> }, [ 'o' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa7d345ba0679baa98d793085fa0ba380e">OPTION_OPERATOR_EXIT</a> }, [ 'q' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa694d0dbcb8cf31b3fd89309101e2eb65">OPTION_QUIET</a> }, [ 's' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad31e737759cb6902bdd5d30121547f04">OPTION_SKIP</a> }, [ 't' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa2036d29efc95949709f404e6af7524a9">OPTION_STAR_TERMINATE</a> }, [ 'u' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aa5ed7ceb72c0e83613f6ab96430e460c4">OPTION_NO_TRUNCATE</a> }, [ 'y' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aad1567b9a1eb36498e06199146684af8d">OPTION_ANY_TERMINATE</a> }, [ 'x' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../dd/dd5/app__record_8c.html#aa618c4d8c29ef4efe6f10c741fb1f47aac57a1adf4fe4d1f156ec84e34cd7cd5f">OPTION_IGNORE_TERMINATE</a> }, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00157">157</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00543">543</a> of file <a class="el" href="../../dd/dd5/app__record_8c_source.html">app_record.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:39 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
