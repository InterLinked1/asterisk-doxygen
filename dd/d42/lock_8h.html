<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: lock.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lock.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Asterisk locking-related definitions:  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../de/df7/time_8h_source.html">time.h</a>&gt;</code><br />
<code>#include &lt;sys/param.h&gt;</code><br />
<code>#include &lt;execinfo.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d3/dda/backtrace_8h_source.html">asterisk/backtrace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/dd1/compiler_8h_source.html">asterisk/compiler.h</a>&quot;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d9d/inline__api_8h_source.html">asterisk/inline_api.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for lock.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d53/lock_8h__incl.png" border="0" usemap="#lock_8h" alt=""/></div>
<map name="lock_8h" id="lock_8h">
<area shape="rect" id="node3" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="113,80,176,107"/>
<area shape="rect" id="node8" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="259,155,406,181"/>
<area shape="rect" id="node11" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="488,80,639,107"/>
<area shape="rect" id="node12" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="663,80,789,107"/>
<area shape="rect" id="node14" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="813,80,956,107"/>
<area shape="rect" id="node4" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="234,229,389,256"/>
<area shape="rect" id="node5" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="238,304,385,331"/>
<area shape="rect" id="node13" href="../../d7/d5b/options_8h.html" title="Options provided by main asterisk program. " alt="" coords="544,155,679,181"/>
</map>
</div>
</div>
<p><a href="../../dd/d42/lock_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock tracking information.  <a href="../../d0/de9/structast__lock__track.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d11/structast__lock__track__flags.html">ast_lock_track_flags</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for mutex and tracking information.  <a href="../../d8/dc5/structast__mutex__info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9e/structast__rwlock__info.html">ast_rwlock_info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for rwlock and tracking information.  <a href="../../dc/d9e/structast__rwlock__info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac732dc8593fbe7217214fb1d07c1310c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ac732dc8593fbe7217214fb1d07c1310c">__AST_MUTEX_DEFINE</a>(scope,  <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>,  init_val,  track)&#160;&#160;&#160;scope <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a> = init_val</td></tr>
<tr class="separator:ac732dc8593fbe7217214fb1d07c1310c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5e8210216b9e7ac71d760fba6cf3e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a1d5e8210216b9e7ac71d760fba6cf3e7">__AST_RWLOCK_DEFINE</a>(scope,  rwlock,  init_val,  track)&#160;&#160;&#160;scope <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> rwlock = init_val</td></tr>
<tr class="separator:a1d5e8210216b9e7ac71d760fba6cf3e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb7003eb65f89e6c6e44b608946cfc0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a>&#160;&#160;&#160;PTHREAD_RWLOCK_INITIALIZER</td></tr>
<tr class="separator:a0cb7003eb65f89e6c6e44b608946cfc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af081d195321d695be102f5ec9812fcdb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#af081d195321d695be102f5ec9812fcdb">AO2_DEADLOCK_AVOIDANCE</a>(obj)</td></tr>
<tr class="memdesc:af081d195321d695be102f5ec9812fcdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock a lock briefly.  <a href="#af081d195321d695be102f5ec9812fcdb">More...</a><br /></td></tr>
<tr class="separator:af081d195321d695be102f5ec9812fcdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92ba91898426126bda5aa94a8975ba1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aa92ba91898426126bda5aa94a8975ba1">ast_cond_broadcast</a>(<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a33f0cf008682f2baa2733f6d4c17d2ba">__ast_cond_broadcast</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td></tr>
<tr class="separator:aa92ba91898426126bda5aa94a8975ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea2f4040a736cddbecea48b30ffedfd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a>(<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ab769ed7445aa94ca55ff606e1589589d">__ast_cond_destroy</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td></tr>
<tr class="separator:a1ea2f4040a736cddbecea48b30ffedfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69e9591803d36f5683eb9b084442be9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>,  attr)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a7c0b15f33b6daf84bf363b87e2491883">__ast_cond_init</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, attr)</td></tr>
<tr class="separator:a69e9591803d36f5683eb9b084442be9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2cdf274a5da241c3ad7324d82bf6af0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a9e57a5e1464a7ba7c002641b30f78bed">__ast_cond_signal</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td></tr>
<tr class="separator:ae2cdf274a5da241c3ad7324d82bf6af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6add1f30b2d53ca9384b15529a6f126e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a>(<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>,  <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>,  time)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a9e1393306c9b0f6ca3bcff472dde5f9c">__ast_cond_timedwait</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, #<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, time)</td></tr>
<tr class="separator:a6add1f30b2d53ca9384b15529a6f126e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36233c5520173c095bf732a788356aee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a>(<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>,  <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a80ce38d75fed5d525f210f963baef5b4">__ast_cond_wait</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, #<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>)</td></tr>
<tr class="separator:a36233c5520173c095bf732a788356aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1292468137b7b4c8bb8187fcd4ce2b09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a1292468137b7b4c8bb8187fcd4ce2b09">AST_LOCK_TRACK_INIT_VALUE</a>&#160;&#160;&#160;{ { <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, { 0 }, 0, { <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, { 0 }, {{{ 0 }}}, <a class="el" href="../../d4/dc5/extconf_8c.html#a9a4b324d8380fae65acef50d8ecd979e">PTHREAD_MUTEX_INIT_VALUE</a> }</td></tr>
<tr class="separator:a1292468137b7b4c8bb8187fcd4ce2b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9b4084ee667d8375d2ea01a3913d28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a0a9b4084ee667d8375d2ea01a3913d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac840092853644cea0a186efdc58985f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ac840092853644cea0a186efdc58985f5">AST_MUTEX_DEFINE_STATIC</a>(<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>)&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a688d8803f25ad94af5d7a82d1bf2b65f">__AST_MUTEX_DEFINE</a>(static, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#ae84421011b5613950c777c63ae4af714">AST_MUTEX_INIT_VALUE</a>, 1)</td></tr>
<tr class="separator:ac840092853644cea0a186efdc58985f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297efc8e1a95278e025ff43721c054ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a297efc8e1a95278e025ff43721c054ea">AST_MUTEX_DEFINE_STATIC_NOTRACKING</a>(<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>)&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a688d8803f25ad94af5d7a82d1bf2b65f">__AST_MUTEX_DEFINE</a>(static, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, <a class="el" href="../../dd/d42/lock_8h.html#ae2b08eb819b598f34f872a22c0dd777b">AST_MUTEX_INIT_VALUE_NOTRACKING</a>, 0)</td></tr>
<tr class="separator:a297efc8e1a95278e025ff43721c054ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8977a71822daa556f19f30ba6eec765"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ad90c1b619ab35ad7c70582927ebda10d">__ast_pthread_mutex_destroy</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ab8977a71822daa556f19f30ba6eec765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76e8ed6bb354be6c6dd9e51acc1d7a1b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(pmutex)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#aab2a83e0853e0aa0d11f742e60792355">__ast_pthread_mutex_init</a>(1, __FILE__, __LINE__, __PRETTY_FUNCTION__, #pmutex, pmutex)</td></tr>
<tr class="separator:a76e8ed6bb354be6c6dd9e51acc1d7a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db9ddc73d9494fc804851f10de124ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a2db9ddc73d9494fc804851f10de124ff">ast_mutex_init_notracking</a>(pmutex)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#aab2a83e0853e0aa0d11f742e60792355">__ast_pthread_mutex_init</a>(0, __FILE__, __LINE__, __PRETTY_FUNCTION__, #pmutex, pmutex)</td></tr>
<tr class="separator:a2db9ddc73d9494fc804851f10de124ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84421011b5613950c777c63ae4af714"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ae84421011b5613950c777c63ae4af714">AST_MUTEX_INIT_VALUE</a>&#160;&#160;&#160;{ <a class="el" href="../../d4/dc5/extconf_8c.html#a9a4b324d8380fae65acef50d8ecd979e">PTHREAD_MUTEX_INIT_VALUE</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:ae84421011b5613950c777c63ae4af714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b08eb819b598f34f872a22c0dd777b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ae2b08eb819b598f34f872a22c0dd777b">AST_MUTEX_INIT_VALUE_NOTRACKING</a>&#160;&#160;&#160;{ <a class="el" href="../../d4/dc5/extconf_8c.html#a9a4b324d8380fae65acef50d8ecd979e">PTHREAD_MUTEX_INIT_VALUE</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {0, 0} }</td></tr>
<tr class="separator:ae2b08eb819b598f34f872a22c0dd777b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40158917c519e1b34f1cba9cb3aa0108"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a40158917c519e1b34f1cba9cb3aa0108">AST_MUTEX_INITIALIZER</a>&#160;&#160;&#160;__use_AST_MUTEX_DEFINE_STATIC_rather_than_AST_MUTEX_INITIALIZER__</td></tr>
<tr class="separator:a40158917c519e1b34f1cba9cb3aa0108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaae8771a56e3420fccffbbf2f6ce8046"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aaae8771a56e3420fccffbbf2f6ce8046">AST_MUTEX_KIND</a>&#160;&#160;&#160;PTHREAD_MUTEX_RECURSIVE_NP</td></tr>
<tr class="separator:aaae8771a56e3420fccffbbf2f6ce8046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e13c7fe64d3b271a52028b0a78b92b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#aa48b89c68cc4c476a71b4e4d1b7d5e3b">__ast_pthread_mutex_lock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ac5e13c7fe64d3b271a52028b0a78b92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987fc536e8b6a1044689eca873610792"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a987fc536e8b6a1044689eca873610792">ast_mutex_trylock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ab2fba852bef0b7dae8926b847288a3dd">__ast_pthread_mutex_trylock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a987fc536e8b6a1044689eca873610792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873f9ce8c6287a32d48c83133e124418"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#adb988fac390a43325bafc4b029bdfc62">__ast_pthread_mutex_unlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a873f9ce8c6287a32d48c83133e124418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6009440c7a72f8e2e3b1ec97641ad160"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>&#160;&#160;&#160;(pthread_t) -1</td></tr>
<tr class="separator:a6009440c7a72f8e2e3b1ec97641ad160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873a83eb8196323194aac2bea23d794e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a873a83eb8196323194aac2bea23d794e">AST_PTHREADT_STOP</a>&#160;&#160;&#160;(pthread_t) -2</td></tr>
<tr class="separator:a873a83eb8196323194aac2bea23d794e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7443635fb39ae2aa946e2373dada3ac7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a7443635fb39ae2aa946e2373dada3ac7">AST_RWLOCK_DEFINE_STATIC</a>(rwlock)&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a2e969a7262f7d4c9e39ead52fdd4772e">__AST_RWLOCK_DEFINE</a>(static, rwlock, <a class="el" href="../../d4/dc5/extconf_8c.html#a3d58053904fa524e003b1a5ae7a5a8d6">AST_RWLOCK_INIT_VALUE</a>, 1)</td></tr>
<tr class="separator:a7443635fb39ae2aa946e2373dada3ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ae7e2b6bbf7c11ff7297fb2d31eb24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ae6ae7e2b6bbf7c11ff7297fb2d31eb24">AST_RWLOCK_DEFINE_STATIC_NOTRACKING</a>(rwlock)&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a2e969a7262f7d4c9e39ead52fdd4772e">__AST_RWLOCK_DEFINE</a>(static, rwlock, <a class="el" href="../../dd/d42/lock_8h.html#a2a88c9b31dd8d1c740da04397349cb5f">AST_RWLOCK_INIT_VALUE_NOTRACKING</a>, 0)</td></tr>
<tr class="separator:ae6ae7e2b6bbf7c11ff7297fb2d31eb24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d35b9611e8b5143ec695ead1b5d8d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab1d35b9611e8b5143ec695ead1b5d8d1">ast_rwlock_destroy</a>(rwlock)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a20ea9dd0a8ffe015a9dcbf38671586aa">__ast_rwlock_destroy</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #rwlock, rwlock)</td></tr>
<tr class="separator:ab1d35b9611e8b5143ec695ead1b5d8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b07039db138693d1ebe02c3e99ddcab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a>(rwlock)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a542601374f9b56267732e1eddf5aee4d">__ast_rwlock_init</a>(1, __FILE__, __LINE__, __PRETTY_FUNCTION__, #rwlock, rwlock)</td></tr>
<tr class="memdesc:a9b07039db138693d1ebe02c3e99ddcab"><td class="mdescLeft">&#160;</td><td class="mdescRight">wrapper for rwlock with tracking enabled  <a href="#a9b07039db138693d1ebe02c3e99ddcab">More...</a><br /></td></tr>
<tr class="separator:a9b07039db138693d1ebe02c3e99ddcab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a6a5dfa4b3992fc7bedc7e166ffa12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ae7a6a5dfa4b3992fc7bedc7e166ffa12">ast_rwlock_init_notracking</a>(rwlock)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a542601374f9b56267732e1eddf5aee4d">__ast_rwlock_init</a>(0, __FILE__, __LINE__, __PRETTY_FUNCTION__, #rwlock, rwlock)</td></tr>
<tr class="memdesc:ae7a6a5dfa4b3992fc7bedc7e166ffa12"><td class="mdescLeft">&#160;</td><td class="mdescRight">wrapper for ast_rwlock_init with tracking disabled  <a href="#ae7a6a5dfa4b3992fc7bedc7e166ffa12">More...</a><br /></td></tr>
<tr class="separator:ae7a6a5dfa4b3992fc7bedc7e166ffa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d58053904fa524e003b1a5ae7a5a8d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a3d58053904fa524e003b1a5ae7a5a8d6">AST_RWLOCK_INIT_VALUE</a>&#160;&#160;&#160;{ <a class="el" href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:a3d58053904fa524e003b1a5ae7a5a8d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a88c9b31dd8d1c740da04397349cb5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a2a88c9b31dd8d1c740da04397349cb5f">AST_RWLOCK_INIT_VALUE_NOTRACKING</a>&#160;&#160;&#160;{ <a class="el" href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {0, 0} }</td></tr>
<tr class="separator:a2a88c9b31dd8d1c740da04397349cb5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7330ac9d36b05bad68b188c2dcfa42d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a2f090243612af9282754cec853ae8908">__ast_rwlock_rdlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a7330ac9d36b05bad68b188c2dcfa42d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c15c248ca3962049deda255a99c4efa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a5c15c248ca3962049deda255a99c4efa">ast_rwlock_timedrdlock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>,  <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a0ca9b58f40b302cc26abc893a5756f87">__ast_rwlock_timedrdlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="separator:a5c15c248ca3962049deda255a99c4efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3417b107ca3c5c610b2ced323595a756"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a3417b107ca3c5c610b2ced323595a756">ast_rwlock_timedwrlock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>,  <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a58b72d9298da9c1e75a41c552a47420c">__ast_rwlock_timedwrlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="separator:a3417b107ca3c5c610b2ced323595a756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af65c888941c741acb2e2078d5d078c49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#af65c888941c741acb2e2078d5d078c49">ast_rwlock_tryrdlock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a3cce8ec0094012ca07eb845bc625f1dc">__ast_rwlock_tryrdlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:af65c888941c741acb2e2078d5d078c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8959e56195d995bea0ea495431179e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab8959e56195d995bea0ea495431179e4">ast_rwlock_trywrlock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ab1235f20336be4c4921928035a41cdb7">__ast_rwlock_trywrlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ab8959e56195d995bea0ea495431179e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2920a1db37313ec46bd91dc83bf9c8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a5e06bf903ae27ad5d5eef4b60905c7a7">__ast_rwlock_unlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ac2920a1db37313ec46bd91dc83bf9c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045bd81ceab2de81e42af338ad7cf121"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ad03393e9b1edf72e9df58c6f5d7e6644">__ast_rwlock_wrlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a045bd81ceab2de81e42af338ad7cf121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1d6c8183a6f6f42a98239da3d1c7ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a7b1d6c8183a6f6f42a98239da3d1c7ca">CHANNEL_DEADLOCK_AVOIDANCE</a>(chan)</td></tr>
<tr class="separator:a7b1d6c8183a6f6f42a98239da3d1c7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851106e971b4611a38cb4be8b39d9fcf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a851106e971b4611a38cb4be8b39d9fcf">DEADLOCK_AVOIDANCE</a>(<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)</td></tr>
<tr class="separator:a851106e971b4611a38cb4be8b39d9fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dde24cad9d699034d4ece0d576364d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a0dde24cad9d699034d4ece0d576364d8">DLA_LOCK</a>(<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)</td></tr>
<tr class="memdesc:a0dde24cad9d699034d4ece0d576364d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deadlock avoidance lock.  <a href="#a0dde24cad9d699034d4ece0d576364d8">More...</a><br /></td></tr>
<tr class="separator:a0dde24cad9d699034d4ece0d576364d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd21e02b26076ca0b070300f46c0a70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a0fd21e02b26076ca0b070300f46c0a70">DLA_UNLOCK</a>(<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)</td></tr>
<tr class="memdesc:a0fd21e02b26076ca0b070300f46c0a70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deadlock avoidance unlock.  <a href="#a0fd21e02b26076ca0b070300f46c0a70">More...</a><br /></td></tr>
<tr class="separator:a0fd21e02b26076ca0b070300f46c0a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea1f9df0b5824c343b2afa55a4efff7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>&#160;&#160;&#160;do { } <a class="el" href="../../d2/d7e/ael__lex_8c.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (0)</td></tr>
<tr class="separator:a4ea1f9df0b5824c343b2afa55a4efff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b655e0d89e519d3b700bbe677d5de79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a2b655e0d89e519d3b700bbe677d5de79">gethostbyname</a>&#160;&#160;&#160;__gethostbyname__is__not__reentrant__use__ast_gethostbyname__instead__</td></tr>
<tr class="separator:a2b655e0d89e519d3b700bbe677d5de79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b1128c835ac52cd37491b83ac7ba960"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a3b1128c835ac52cd37491b83ac7ba960">pthread_cond_broadcast</a>&#160;&#160;&#160;use_ast_cond_broadcast_instead_of_pthread_cond_broadcast</td></tr>
<tr class="separator:a3b1128c835ac52cd37491b83ac7ba960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac38f661413e63bfd29df48df06bb971a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ac38f661413e63bfd29df48df06bb971a">pthread_cond_destroy</a>&#160;&#160;&#160;use_ast_cond_destroy_instead_of_pthread_cond_destroy</td></tr>
<tr class="separator:ac38f661413e63bfd29df48df06bb971a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2cefb5ff3e9f955234b1d6adb7deaf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#add2cefb5ff3e9f955234b1d6adb7deaf">pthread_cond_init</a>&#160;&#160;&#160;use_ast_cond_init_instead_of_pthread_cond_init</td></tr>
<tr class="separator:add2cefb5ff3e9f955234b1d6adb7deaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4329478079a76b8a3017beec8eaadf4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ac4329478079a76b8a3017beec8eaadf4">pthread_cond_signal</a>&#160;&#160;&#160;use_ast_cond_signal_instead_of_pthread_cond_signal</td></tr>
<tr class="separator:ac4329478079a76b8a3017beec8eaadf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259021fc2d154a391912e86fcf6cef7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a259021fc2d154a391912e86fcf6cef7a">pthread_cond_t</a>&#160;&#160;&#160;use_ast_cond_t_instead_of_pthread_cond_t</td></tr>
<tr class="separator:a259021fc2d154a391912e86fcf6cef7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96b861c8d74168ee14ef2691a64ff91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ae96b861c8d74168ee14ef2691a64ff91">pthread_cond_timedwait</a>&#160;&#160;&#160;use_ast_cond_timedwait_instead_of_pthread_cond_timedwait</td></tr>
<tr class="separator:ae96b861c8d74168ee14ef2691a64ff91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3321e2626f3f6d7f1cc855de2ffc27"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aea3321e2626f3f6d7f1cc855de2ffc27">pthread_cond_wait</a>&#160;&#160;&#160;use_ast_cond_wait_instead_of_pthread_cond_wait</td></tr>
<tr class="separator:aea3321e2626f3f6d7f1cc855de2ffc27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7d37cba2d420a45309a93b799d9db9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a3c7d37cba2d420a45309a93b799d9db9">pthread_create</a>&#160;&#160;&#160;__use_ast_pthread_create_instead__</td></tr>
<tr class="separator:a3c7d37cba2d420a45309a93b799d9db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda856b9d567d956a04e1dd3139acc40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#abda856b9d567d956a04e1dd3139acc40">pthread_mutex_destroy</a>&#160;&#160;&#160;use_ast_mutex_destroy_instead_of_pthread_mutex_destroy</td></tr>
<tr class="separator:abda856b9d567d956a04e1dd3139acc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7693eb0c23d9649f82992b785ddbe4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ad7693eb0c23d9649f82992b785ddbe4e">pthread_mutex_init</a>&#160;&#160;&#160;use_ast_mutex_init_instead_of_pthread_mutex_init</td></tr>
<tr class="separator:ad7693eb0c23d9649f82992b785ddbe4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4b324d8380fae65acef50d8ecd979e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a9a4b324d8380fae65acef50d8ecd979e">PTHREAD_MUTEX_INIT_VALUE</a>&#160;&#160;&#160;PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP</td></tr>
<tr class="separator:a9a4b324d8380fae65acef50d8ecd979e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef26f63d38c1d8cdf05a15b6b368c24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>&#160;&#160;&#160;use_ast_mutex_lock_instead_of_pthread_mutex_lock</td></tr>
<tr class="separator:a6ef26f63d38c1d8cdf05a15b6b368c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5e1258259c05f5e7cc242584a10a4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a>&#160;&#160;&#160;use_ast_mutex_t_instead_of_pthread_mutex_t</td></tr>
<tr class="separator:a8e5e1258259c05f5e7cc242584a10a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a482c9379812cdb921e5876b3d5061449"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a>&#160;&#160;&#160;use_ast_mutex_trylock_instead_of_pthread_mutex_trylock</td></tr>
<tr class="separator:a482c9379812cdb921e5876b3d5061449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab417dd049910b852a43732c15e8dcaf2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>&#160;&#160;&#160;use_ast_mutex_unlock_instead_of_pthread_mutex_unlock</td></tr>
<tr class="separator:ab417dd049910b852a43732c15e8dcaf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118582aaf6a7edf79add7cb332d3f9ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>&#160;&#160;&#160;((lt-&gt;reentrancy &gt; 0) ? (lt-&gt;reentrancy-1) : 0)</td></tr>
<tr class="separator:a118582aaf6a7edf79add7cb332d3f9ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cfb325ed371eb6e629446bac4676e9f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(varname,  obj)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (obj), <a class="el" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>)</td></tr>
<tr class="memdesc:a2cfb325ed371eb6e629446bac4676e9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">scoped lock specialization for ao2 mutexes.  <a href="#a2cfb325ed371eb6e629446bac4676e9f">More...</a><br /></td></tr>
<tr class="separator:a2cfb325ed371eb6e629446bac4676e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6cf6dea0160cd49facfb2b46120e00b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ae6cf6dea0160cd49facfb2b46120e00b">SCOPED_AO2RDLOCK</a>(varname,  obj)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (obj), <a class="el" href="../../d5/da5/astobj2_8h.html#a24c1bf4b1202c996cf8a793fa6669bc2">ao2_rdlock</a>, <a class="el" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>)</td></tr>
<tr class="memdesc:ae6cf6dea0160cd49facfb2b46120e00b"><td class="mdescLeft">&#160;</td><td class="mdescRight">scoped lock specialization for ao2 read locks.  <a href="#ae6cf6dea0160cd49facfb2b46120e00b">More...</a><br /></td></tr>
<tr class="separator:ae6cf6dea0160cd49facfb2b46120e00b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aafa1e30b1e729e32222ab8b511465e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a5aafa1e30b1e729e32222ab8b511465e">SCOPED_AO2WRLOCK</a>(varname,  obj)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (obj), <a class="el" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>, <a class="el" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>)</td></tr>
<tr class="memdesc:a5aafa1e30b1e729e32222ab8b511465e"><td class="mdescLeft">&#160;</td><td class="mdescRight">scoped lock specialization for ao2 write locks.  <a href="#a5aafa1e30b1e729e32222ab8b511465e">More...</a><br /></td></tr>
<tr class="separator:a5aafa1e30b1e729e32222ab8b511465e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa11d2e2d6aaa7048d48491842c1de738"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aa11d2e2d6aaa7048d48491842c1de738">SCOPED_CHANNELLOCK</a>(varname,  chan)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (chan), <a class="el" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>)</td></tr>
<tr class="memdesc:aa11d2e2d6aaa7048d48491842c1de738"><td class="mdescLeft">&#160;</td><td class="mdescRight">scoped lock specialization for channels.  <a href="#aa11d2e2d6aaa7048d48491842c1de738">More...</a><br /></td></tr>
<tr class="separator:aa11d2e2d6aaa7048d48491842c1de738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9d9f2f2c41ecf3c70587c2510dddfc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname,  <a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>,  lockfunc,  unlockfunc)&#160;&#160;&#160;<a class="el" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<a class="el" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>((<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)), varname, ({lockfunc((<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)); (<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>); }), unlockfunc)</td></tr>
<tr class="memdesc:a8b9d9f2f2c41ecf3c70587c2510dddfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scoped Locks.  <a href="#a8b9d9f2f2c41ecf3c70587c2510dddfc">More...</a><br /></td></tr>
<tr class="separator:a8b9d9f2f2c41ecf3c70587c2510dddfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab13590ad27fac3b9c7c7b792c603c9b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a>(varname,  <a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>), <a class="el" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>)</td></tr>
<tr class="memdesc:ab13590ad27fac3b9c7c7b792c603c9b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">scoped lock specialization for mutexes  <a href="#ab13590ad27fac3b9c7c7b792c603c9b3">More...</a><br /></td></tr>
<tr class="separator:ab13590ad27fac3b9c7c7b792c603c9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa65b589fd265c905f3682c118f1e02d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aa65b589fd265c905f3682c118f1e02d8">SCOPED_RDLOCK</a>(varname,  <a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>), <a class="el" href="../../d4/dc5/extconf_8c.html#ae6703edce409c34119e27bdca1186d10">ast_rwlock_rdlock</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a21ce13cd6c771d5855f47ae7a1dd50b6">ast_rwlock_unlock</a>)</td></tr>
<tr class="memdesc:aa65b589fd265c905f3682c118f1e02d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">scoped lock specialization for read locks  <a href="#aa65b589fd265c905f3682c118f1e02d8">More...</a><br /></td></tr>
<tr class="separator:aa65b589fd265c905f3682c118f1e02d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79bf74a5170fe5967176ef1e73002e8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a79bf74a5170fe5967176ef1e73002e8b">SCOPED_WRLOCK</a>(varname,  <a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>), <a class="el" href="../../d4/dc5/extconf_8c.html#a952527792bba2a323118ae911f9aa1f7">ast_rwlock_wrlock</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a21ce13cd6c771d5855f47ae7a1dd50b6">ast_rwlock_unlock</a>)</td></tr>
<tr class="memdesc:a79bf74a5170fe5967176ef1e73002e8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">scoped lock specialization for write locks  <a href="#a79bf74a5170fe5967176ef1e73002e8b">More...</a><br /></td></tr>
<tr class="separator:a79bf74a5170fe5967176ef1e73002e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab134d98cdfe7de0f7a72b377c0765dc7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d4/dc5/extconf_8c.html#a259021fc2d154a391912e86fcf6cef7a">pthread_cond_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a></td></tr>
<tr class="separator:ab134d98cdfe7de0f7a72b377c0765dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a55ccb432d858a224b401116277e93"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a></td></tr>
<tr class="separator:a44a55ccb432d858a224b401116277e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e2a4450668b0cd2be05edd6259df19"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../dc/d9e/structast__rwlock__info.html">ast_rwlock_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a></td></tr>
<tr class="separator:a04e2a4450668b0cd2be05edd6259df19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a91005557686d603e1210a200ef97153d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153d">ast_lock_type</a> { <a class="el" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794">AST_MUTEX</a>, 
<a class="el" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366">AST_RDLOCK</a>, 
<a class="el" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a>
 }</td></tr>
<tr class="separator:a91005557686d603e1210a200ef97153d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a33f0cf008682f2baa2733f6d4c17d2ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a33f0cf008682f2baa2733f6d4c17d2ba">__ast_cond_broadcast</a> (const char *filename, int lineno, const char *func, const char *cond_name, <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td></tr>
<tr class="separator:a33f0cf008682f2baa2733f6d4c17d2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab769ed7445aa94ca55ff606e1589589d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab769ed7445aa94ca55ff606e1589589d">__ast_cond_destroy</a> (const char *filename, int lineno, const char *func, const char *cond_name, <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td></tr>
<tr class="separator:ab769ed7445aa94ca55ff606e1589589d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0b15f33b6daf84bf363b87e2491883"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a7c0b15f33b6daf84bf363b87e2491883">__ast_cond_init</a> (const char *filename, int lineno, const char *func, const char *cond_name, <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, pthread_condattr_t *cond_attr)</td></tr>
<tr class="separator:a7c0b15f33b6daf84bf363b87e2491883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e57a5e1464a7ba7c002641b30f78bed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a9e57a5e1464a7ba7c002641b30f78bed">__ast_cond_signal</a> (const char *filename, int lineno, const char *func, const char *cond_name, <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td></tr>
<tr class="separator:a9e57a5e1464a7ba7c002641b30f78bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1393306c9b0f6ca3bcff472dde5f9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a9e1393306c9b0f6ca3bcff472dde5f9c">__ast_cond_timedwait</a> (const char *filename, int lineno, const char *func, const char *cond_name, const char *mutex_name, <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *t, const struct timespec *abstime)</td></tr>
<tr class="separator:a9e1393306c9b0f6ca3bcff472dde5f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ce38d75fed5d525f210f963baef5b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a80ce38d75fed5d525f210f963baef5b4">__ast_cond_wait</a> (const char *filename, int lineno, const char *func, const char *cond_name, const char *mutex_name, <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *t)</td></tr>
<tr class="separator:a80ce38d75fed5d525f210f963baef5b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90c1b619ab35ad7c70582927ebda10d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ad90c1b619ab35ad7c70582927ebda10d">__ast_pthread_mutex_destroy</a> (const char *filename, int lineno, const char *func, const char *mutex_name, <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *t)</td></tr>
<tr class="separator:ad90c1b619ab35ad7c70582927ebda10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab2a83e0853e0aa0d11f742e60792355"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aab2a83e0853e0aa0d11f742e60792355">__ast_pthread_mutex_init</a> (int tracking, const char *filename, int lineno, const char *func, const char *mutex_name, <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *t)</td></tr>
<tr class="separator:aab2a83e0853e0aa0d11f742e60792355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa48b89c68cc4c476a71b4e4d1b7d5e3b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aa48b89c68cc4c476a71b4e4d1b7d5e3b">__ast_pthread_mutex_lock</a> (const char *filename, int lineno, const char *func, const char *mutex_name, <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *t)</td></tr>
<tr class="separator:aa48b89c68cc4c476a71b4e4d1b7d5e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2fba852bef0b7dae8926b847288a3dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab2fba852bef0b7dae8926b847288a3dd">__ast_pthread_mutex_trylock</a> (const char *filename, int lineno, const char *func, const char *mutex_name, <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *t)</td></tr>
<tr class="separator:ab2fba852bef0b7dae8926b847288a3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb988fac390a43325bafc4b029bdfc62"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#adb988fac390a43325bafc4b029bdfc62">__ast_pthread_mutex_unlock</a> (const char *filename, int lineno, const char *func, const char *mutex_name, <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *t)</td></tr>
<tr class="separator:adb988fac390a43325bafc4b029bdfc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ea9dd0a8ffe015a9dcbf38671586aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a20ea9dd0a8ffe015a9dcbf38671586aa">__ast_rwlock_destroy</a> (const char *filename, int lineno, const char *func, const char *rwlock_name, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t)</td></tr>
<tr class="separator:a20ea9dd0a8ffe015a9dcbf38671586aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542601374f9b56267732e1eddf5aee4d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a542601374f9b56267732e1eddf5aee4d">__ast_rwlock_init</a> (int tracking, const char *filename, int lineno, const char *func, const char *rwlock_name, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t)</td></tr>
<tr class="separator:a542601374f9b56267732e1eddf5aee4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87e990b4cfc230ffefc852c017b6f7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ae87e990b4cfc230ffefc852c017b6f7e">__ast_rwlock_rdlock</a> (const char *filename, int lineno, const char *func, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:ae87e990b4cfc230ffefc852c017b6f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9b4646daa27ae85533e9a5c4d9012d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a5b9b4646daa27ae85533e9a5c4d9012d">__ast_rwlock_timedrdlock</a> (const char *filename, int lineno, const char *func, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const struct timespec *abs_timeout)</td></tr>
<tr class="separator:a5b9b4646daa27ae85533e9a5c4d9012d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace50b87be53f6780de9bf5652b180f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aace50b87be53f6780de9bf5652b180f5">__ast_rwlock_timedwrlock</a> (const char *filename, int lineno, const char *func, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const struct timespec *abs_timeout)</td></tr>
<tr class="separator:aace50b87be53f6780de9bf5652b180f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace01fcdcfb659c0063bfba5249e716d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ace01fcdcfb659c0063bfba5249e716d6">__ast_rwlock_tryrdlock</a> (const char *filename, int lineno, const char *func, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:ace01fcdcfb659c0063bfba5249e716d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a376246281caee38662f6791abc3dd657"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a376246281caee38662f6791abc3dd657">__ast_rwlock_trywrlock</a> (const char *filename, int lineno, const char *func, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a376246281caee38662f6791abc3dd657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b1e73b21f6fe3ae7492d052e13c919"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a48b1e73b21f6fe3ae7492d052e13c919">__ast_rwlock_unlock</a> (const char *filename, int lineno, const char *func, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a48b1e73b21f6fe3ae7492d052e13c919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e62da21a5d9e4b7f448aa44438b9fee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a1e62da21a5d9e4b7f448aa44438b9fee">__ast_rwlock_wrlock</a> (const char *filename, int lineno, const char *func, <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *t, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a1e62da21a5d9e4b7f448aa44438b9fee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a821120ebd995b34627205de93d046d8a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a821120ebd995b34627205de93d046d8a">ast_dump_locks</a> (void)</td></tr>
<tr class="memdesc:a821120ebd995b34627205de93d046d8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a lock dump equivalent to "core show locks".  <a href="#a821120ebd995b34627205de93d046d8a">More...</a><br /></td></tr>
<tr class="separator:a821120ebd995b34627205de93d046d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacd7565f51724188ecf0f21f2a43fb1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aacd7565f51724188ecf0f21f2a43fb1e">ast_find_lock_info</a> (void *lock_addr, char *filename, size_t filename_size, int *lineno, char *func, size_t func_size, char *mutex_name, size_t mutex_name_size)</td></tr>
<tr class="memdesc:aacd7565f51724188ecf0f21f2a43fb1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve lock info for the specified mutex  <a href="#aacd7565f51724188ecf0f21f2a43fb1e">More...</a><br /></td></tr>
<tr class="separator:aacd7565f51724188ecf0f21f2a43fb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a6974e1f96eb9f9a6f6dcb9875c3e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab2a6974e1f96eb9f9a6f6dcb9875c3e0">ast_log_show_lock</a> (void *this_lock_addr)</td></tr>
<tr class="memdesc:ab2a6974e1f96eb9f9a6f6dcb9875c3e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">log info for the current lock with <a class="el" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log()</a>.  <a href="#ab2a6974e1f96eb9f9a6f6dcb9875c3e0">More...</a><br /></td></tr>
<tr class="separator:ab2a6974e1f96eb9f9a6f6dcb9875c3e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3970ea8e4a2aabd268c24203e5c40dc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a> (void *lock_addr)</td></tr>
<tr class="memdesc:a3970ea8e4a2aabd268c24203e5c40dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the last lock as acquired.  <a href="#a3970ea8e4a2aabd268c24203e5c40dc2">More...</a><br /></td></tr>
<tr class="separator:a3970ea8e4a2aabd268c24203e5c40dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed1f5e44323dd2f45fd091e4480550a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a0ed1f5e44323dd2f45fd091e4480550a">ast_mark_lock_failed</a> (void *lock_addr)</td></tr>
<tr class="memdesc:a0ed1f5e44323dd2f45fd091e4480550a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the last lock as failed (trylock)  <a href="#a0ed1f5e44323dd2f45fd091e4480550a">More...</a><br /></td></tr>
<tr class="separator:a0ed1f5e44323dd2f45fd091e4480550a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83764b0382a6a6184b45ad03a0daf058"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a> (struct <a class="el" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt)</td></tr>
<tr class="separator:a83764b0382a6a6184b45ad03a0daf058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a510a0910cc0d62833ae68a0fc82064ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a> (struct <a class="el" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt)</td></tr>
<tr class="separator:a510a0910cc0d62833ae68a0fc82064ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c71c091e79908c7a05cfdad1389f58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a> (void *lock_addr, struct <a class="el" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt)</td></tr>
<tr class="memdesc:a64c71c091e79908c7a05cfdad1389f58"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove lock info for the current thread  <a href="#a64c71c091e79908c7a05cfdad1389f58">More...</a><br /></td></tr>
<tr class="separator:a64c71c091e79908c7a05cfdad1389f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0857d6245dd36cd605a738f3af67b910"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a0857d6245dd36cd605a738f3af67b910">ast_restore_lock_info</a> (void *lock_addr)</td></tr>
<tr class="separator:a0857d6245dd36cd605a738f3af67b910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349a86c7c5c6717af32e587fc228060c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a> (enum <a class="el" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153d">ast_lock_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct <a class="el" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt)</td></tr>
<tr class="memdesc:a349a86c7c5c6717af32e587fc228060c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store lock info for the current thread.  <a href="#a349a86c7c5c6717af32e587fc228060c">More...</a><br /></td></tr>
<tr class="separator:a349a86c7c5c6717af32e587fc228060c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40193d8dbd051ad5afa5da543a52da0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a40193d8dbd051ad5afa5da543a52da0d">ast_suspend_lock_info</a> (void *lock_addr)</td></tr>
<tr class="separator:a40193d8dbd051ad5afa5da543a52da0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd9e6200c8c5713cf698c5e100d81378"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#afd9e6200c8c5713cf698c5e100d81378">ast_atomic_fetch_add</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_fetch_add((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="memdesc:afd9e6200c8c5713cf698c5e100d81378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Support for atomic instructions.  <a href="#afd9e6200c8c5713cf698c5e100d81378">More...</a><br /></td></tr>
<tr class="separator:afd9e6200c8c5713cf698c5e100d81378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c111ebc0898ac9a6cff21c0351681ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a0c111ebc0898ac9a6cff21c0351681ca">ast_atomic_add_fetch</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_add_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:a0c111ebc0898ac9a6cff21c0351681ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcead6b2ee8cc0c7b002676352408b70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#afcead6b2ee8cc0c7b002676352408b70">ast_atomic_fetch_sub</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_fetch_sub((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:afcead6b2ee8cc0c7b002676352408b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0cdc8dcb3ed209fae7961ce8a0f0d62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#ab0cdc8dcb3ed209fae7961ce8a0f0d62">ast_atomic_sub_fetch</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_sub_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:ab0cdc8dcb3ed209fae7961ce8a0f0d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf242b8e9137058dac56830ab9096c95"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#abf242b8e9137058dac56830ab9096c95">ast_atomic_fetch_and</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_fetch_and((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:abf242b8e9137058dac56830ab9096c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7dddb7a14969de72d2d0a6ad3aeffd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#aeb7dddb7a14969de72d2d0a6ad3aeffd">ast_atomic_and_fetch</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_and_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:aeb7dddb7a14969de72d2d0a6ad3aeffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1306097e7e3ca5317c23655221f6bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a3d1306097e7e3ca5317c23655221f6bc">ast_atomic_fetch_or</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_fetch_or((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:a3d1306097e7e3ca5317c23655221f6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ecad346022b4213c52be05414a8ebae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a8ecad346022b4213c52be05414a8ebae">ast_atomic_or_fetch</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_or_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:a8ecad346022b4213c52be05414a8ebae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4f1b4b71a3df0fecc898ae81064726"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a9f4f1b4b71a3df0fecc898ae81064726">ast_atomic_fetch_xor</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_fetch_xor((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:a9f4f1b4b71a3df0fecc898ae81064726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ccdd3f6a4f72be46d026198188ae1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a44ccdd3f6a4f72be46d026198188ae1f">ast_atomic_xor_fetch</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;__atomic_xor_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:a44ccdd3f6a4f72be46d026198188ae1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319fa0cef8813e26724100137e2c6e49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a319fa0cef8813e26724100137e2c6e49">ast_atomic_flag_set</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a3d1306097e7e3ca5317c23655221f6bc">ast_atomic_fetch_or</a>((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:a319fa0cef8813e26724100137e2c6e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b70a4ea03c94b29fb4d95d9e31b943c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a0b70a4ea03c94b29fb4d95d9e31b943c">ast_atomic_flag_clear</a>(ptr,  <a class="el" href="../../d5/d85/structval.html">val</a>,  memorder)&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#abf242b8e9137058dac56830ab9096c95">ast_atomic_fetch_and</a>((ptr), ~(<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td></tr>
<tr class="separator:a0b70a4ea03c94b29fb4d95d9e31b943c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3bd496edfec04a95683ace66676200"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a> (volatile int *p, int v)</td></tr>
<tr class="memdesc:a8a3bd496edfec04a95683ace66676200"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically add v to *p and return the previous value of *p.  <a href="#a8a3bd496edfec04a95683ace66676200">More...</a><br /></td></tr>
<tr class="separator:a8a3bd496edfec04a95683ace66676200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbba9058696fc07cec1485a88b5f4ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/lock_8h.html#acbbba9058696fc07cec1485a88b5f4ad">ast_atomic_dec_and_test</a> (volatile int *p)</td></tr>
<tr class="memdesc:acbbba9058696fc07cec1485a88b5f4ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">decrement *p by 1 and return true if the variable has reached 0.  <a href="#acbbba9058696fc07cec1485a88b5f4ad">More...</a><br /></td></tr>
<tr class="separator:acbbba9058696fc07cec1485a88b5f4ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Asterisk locking-related definitions: </p>
<p>Magic number.</p>
<ul>
<li>ast_mutex_t, ast_rwlock_t and related functions;</li>
<li>atomic arithmetic instructions;</li>
<li>wrappers for channel locking.</li>
<li>See <a class="el" href="../../d5/d87/LockDef.html">Asterisk thread locking models</a></li>
</ul>
<p>This is used to verify that a pointer is a valid <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> or ao2_weak reference.</p>
<dl class="section note"><dt>Note</dt><dd>This field is constant after object creation. It shares a uint32_t with <a class="el" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> and lockused.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Stealing bits for any additional writable fields would cause reentrancy issues if using bitfields. If any additional writable bits are required in the future we will need to put all bitfields into a single 'uint32_t flags' field and use atomic operations from to perform writes. </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac732dc8593fbe7217214fb1d07c1310c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac732dc8593fbe7217214fb1d07c1310c">&#9670;&nbsp;</a></span>__AST_MUTEX_DEFINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __AST_MUTEX_DEFINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">scope, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">track&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;scope <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a> = init_val</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00515">515</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a1d5e8210216b9e7ac71d760fba6cf3e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d5e8210216b9e7ac71d760fba6cf3e7">&#9670;&nbsp;</a></span>__AST_RWLOCK_DEFINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __AST_RWLOCK_DEFINE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">scope, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rwlock, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">track&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;scope <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> rwlock = init_val</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00538">538</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a0cb7003eb65f89e6c6e44b608946cfc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cb7003eb65f89e6c6e44b608946cfc0">&#9670;&nbsp;</a></span>__AST_RWLOCK_INIT_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __AST_RWLOCK_INIT_VALUE&#160;&#160;&#160;PTHREAD_RWLOCK_INITIALIZER</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00084">84</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00701">__ast_rwlock_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00669">__ast_rwlock_init()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00748">__ast_rwlock_unlock()</a>.</p>

</div>
</div>
<a id="af081d195321d695be102f5ec9812fcdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af081d195321d695be102f5ec9812fcdb">&#9670;&nbsp;</a></span>AO2_DEADLOCK_AVOIDANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AO2_DEADLOCK_AVOIDANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock a lock briefly. </p>
<p>used during deadlock avoidance, to preserve the original location where a lock was originally acquired. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00330">330</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a0c111ebc0898ac9a6cff21c0351681ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c111ebc0898ac9a6cff21c0351681ca">&#9670;&nbsp;</a></span>ast_atomic_add_fetch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_add_fetch</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_add_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00668">668</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="aeb7dddb7a14969de72d2d0a6ad3aeffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb7dddb7a14969de72d2d0a6ad3aeffd">&#9670;&nbsp;</a></span>ast_atomic_and_fetch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_and_fetch</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_and_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00676">676</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="afd9e6200c8c5713cf698c5e100d81378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd9e6200c8c5713cf698c5e100d81378">&#9670;&nbsp;</a></span>ast_atomic_fetch_add</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_fetch_add</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_fetch_add((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Support for atomic instructions. </p>
<p>These macros implement a uniform interface to use built-in atomic functionality. If available __atomic built-ins are prefered. Legacy __sync built-ins are used as a fallback for older compilers.</p>
<p>Detailed documentation can be found in the GCC manual, all API's are modeled after the __atomic interfaces but using the namespace ast_atomic.</p>
<p>The memorder argument is always ignored by legacy __sync functions. Invalid memorder arguments do not produce errors unless __atomic functions are supported as the argument is erased by the preprocessor.</p>
<dl class="section note"><dt>Note</dt><dd>ast_atomic_fetch_nand and ast_atomic_nand_fetch purposely do not exist. It's implementation was broken prior to gcc-4.4.</dd></dl>
<p>Atomic += </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00667">667</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/df7/astobj2_8c_source.html#l00498">__ao2_ref()</a>.</p>

</div>
</div>
<a id="abf242b8e9137058dac56830ab9096c95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf242b8e9137058dac56830ab9096c95">&#9670;&nbsp;</a></span>ast_atomic_fetch_and</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_fetch_and</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_fetch_and((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Atomic &amp;= </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00675">675</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a3d1306097e7e3ca5317c23655221f6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d1306097e7e3ca5317c23655221f6bc">&#9670;&nbsp;</a></span>ast_atomic_fetch_or</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_fetch_or</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_fetch_or((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Atomic |= </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00679">679</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="afcead6b2ee8cc0c7b002676352408b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcead6b2ee8cc0c7b002676352408b70">&#9670;&nbsp;</a></span>ast_atomic_fetch_sub</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_fetch_sub</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_fetch_sub((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Atomic -= </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00671">671</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a9f4f1b4b71a3df0fecc898ae81064726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f4f1b4b71a3df0fecc898ae81064726">&#9670;&nbsp;</a></span>ast_atomic_fetch_xor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_fetch_xor</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_fetch_xor((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Atomic xor = </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00683">683</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a0b70a4ea03c94b29fb4d95d9e31b943c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b70a4ea03c94b29fb4d95d9e31b943c">&#9670;&nbsp;</a></span>ast_atomic_flag_clear</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_flag_clear</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#abf242b8e9137058dac56830ab9096c95">ast_atomic_fetch_and</a>((ptr), ~(<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Atomic flag clear </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00744">744</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a319fa0cef8813e26724100137e2c6e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319fa0cef8813e26724100137e2c6e49">&#9670;&nbsp;</a></span>ast_atomic_flag_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_flag_set</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a3d1306097e7e3ca5317c23655221f6bc">ast_atomic_fetch_or</a>((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Atomic flag set </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00741">741</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a8ecad346022b4213c52be05414a8ebae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ecad346022b4213c52be05414a8ebae">&#9670;&nbsp;</a></span>ast_atomic_or_fetch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_or_fetch</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_or_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00680">680</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="ab0cdc8dcb3ed209fae7961ce8a0f0d62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0cdc8dcb3ed209fae7961ce8a0f0d62">&#9670;&nbsp;</a></span>ast_atomic_sub_fetch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_sub_fetch</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_sub_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00672">672</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>.</p>

</div>
</div>
<a id="a44ccdd3f6a4f72be46d026198188ae1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ccdd3f6a4f72be46d026198188ae1f">&#9670;&nbsp;</a></span>ast_atomic_xor_fetch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_atomic_xor_fetch</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/d85/structval.html">val</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">memorder&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__atomic_xor_fetch((ptr), (<a class="el" href="../../d5/d85/structval.html">val</a>), (memorder))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00684">684</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="aa92ba91898426126bda5aa94a8975ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa92ba91898426126bda5aa94a8975ba1">&#9670;&nbsp;</a></span>ast_cond_broadcast</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_cond_broadcast</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a33f0cf008682f2baa2733f6d4c17d2ba">__ast_cond_broadcast</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00202">202</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/df8/localtime_8c_source.html#l00411">add_notify()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00260">ast_smdi_md_message_push()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00274">ast_smdi_mwi_message_push()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00353">inotify_daemon()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03120">xmpp_pak_message()</a>.</p>

</div>
</div>
<a id="a1ea2f4040a736cddbecea48b30ffedfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea2f4040a736cddbecea48b30ffedfd">&#9670;&nbsp;</a></span>ast_cond_destroy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_cond_destroy</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ab769ed7445aa94ca55ff606e1589589d">__ast_cond_destroy</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00200">200</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00133">ast_audiohook_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05176">ast_sip_push_task_wait()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02882">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00615">async_data_destructor()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02053">async_datastore_data_destroy()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01116">async_minimal_data_destructor()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01353">attended_transfer_properties_destructor()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l03117">bridge_channel_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04977">bridge_manager_destroy()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l02076">cel_verify_and_cleanup_cb()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00043">command_dtor()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01321">complex_task_data_free()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00385">consumer_dtor()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00105">control_dtor()</a>, <a class="el" href="../../dc/dce/test__res__pjsip__scheduler_8c_source.html#l00085">data_cleanup()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00290">dns_synchronous_resolve_destroy()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04277">finalize_batch_mode()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01586">find_idle_thread()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01160">hangup_data_destroy()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11978">iax2_process_thread_cleanup()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00604">mixmonitor_free()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00166">odbc_class_destructor()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00923">off_nominal_async_data_destructor()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00624">ooh323_request()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07613">pbx_outgoing_destroy()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01991">playback_task_data_destroy()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00052">query_set_data_destructor()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00057">recurring_data_destructor()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00761">resolver_data_cleanup()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00258">sched_free()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00173">sched_thread_destroy()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01222">serializer_shutdown_group_dtor()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00868">setup_mixmonitor_ds()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00654">shutdown_data_dtor()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00130">simple_task_data_free()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03118">sip_session_suspender_dtor()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07420">sla_destroy()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06232">sla_handle_dial_state_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00224">smdi_interface_destroy()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02065">softmix_bridge_data_destroy()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12600">start_network_thread()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00039">stasis_message_sink_dtor()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00715">subscription_dtor()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00055">task_data_dtor()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00098">test_shutdown()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00485">unload_module()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01025">worker_thread_destroy()</a>.</p>

</div>
</div>
<a id="a69e9591803d36f5683eb9b084442be9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69e9591803d36f5683eb9b084442be9b">&#9670;&nbsp;</a></span>ast_cond_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_cond_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">attr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a7c0b15f33b6daf84bf363b87e2491883">__ast_cond_init</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, attr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">199</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/df8/localtime_8c_source.html#l00411">add_notify()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00914">alloc_smdi_interface()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00108">ast_audiohook_init()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00380">ast_autoservice_init()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00618">ast_device_state_engine_init()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00314">ast_dns_resolve()</a>, <a class="el" href="../../d5/da5/dns__query__set_8c_source.html#l00239">ast_query_set_resolve()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00195">ast_sched_start_thread()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01229">ast_serializer_shutdown_group_alloc()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05176">ast_sip_push_task_wait()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03155">ast_sip_session_suspend()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02882">AST_TEST_DEFINE()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00301">ast_tps_init()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01082">astdb_init()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00623">async_data_alloc()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02085">async_datastore_data_alloc()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01124">async_minimal_data_alloc()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01409">attended_transfer_properties_alloc()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l03151">bridge_channel_internal_alloc()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05009">bridge_manager_create()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04416">cdr_enable_batch_mode()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00055">command_create()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01308">complex_task_data_alloc()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00400">consumer_create()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00123">control_create()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00366">db_start_batch()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01586">find_idle_thread()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01151">hangup_data_init()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00423">init_timing_thread()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00858">internal_stasis_subscribe()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19671">load_module()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00564">load_odbc_config()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00931">off_nominal_async_data_alloc()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00624">ooh323_request()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07755">pbx_outgoing_attempt()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01979">playback_task_data_init()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00060">query_set_data_alloc()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00065">recurring_data_alloc()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00746">resolver_data_init()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03828">rtp_allocate_transport()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00378">sched_alloc()</a>, <a class="el" href="../../dc/dce/test__res__pjsip__scheduler_8c_source.html#l00102">scheduler()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00868">setup_mixmonitor_ds()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00662">shutdown_data_create()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00118">simple_task_data_alloc()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06232">sla_handle_dial_state_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07855">sla_load_config()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02079">softmix_bridge_create()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12600">start_network_thread()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00079">stasis_message_sink_create()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00064">task_data_create()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00053">test_alloc()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01825">test_cel_init_cb()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01093">worker_thread_alloc()</a>.</p>

</div>
</div>
<a id="ae2cdf274a5da241c3ad7324d82bf6af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2cdf274a5da241c3ad7324d82bf6af0">&#9670;&nbsp;</a></span>ast_cond_signal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_cond_signal</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a9e57a5e1464a7ba7c002641b30f78bed">__ast_cond_signal</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">201</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/df8/localtime_8c_source.html#l00411">add_notify()</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00095">amihook_helper()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00565">ast_audiohook_update_status()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00170">ast_audiohook_write_frame()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00200">ast_autoservice_start()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00471">ast_devstate_changed_literal()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00813">ast_odbc_release_obj()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01421">ast_rtp_on_turn_rtcp_state()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01355">ast_rtp_on_turn_rtp_state()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00524">ast_sched_add_variable()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00610">ast_sched_del()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00755">ast_sched_runq()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03200">ast_sip_session_unsuspend()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00649">async_callback()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02288">async_play_sound_ready()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00369">autoservice_shutdown()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01536">bridge_channel_impart_ds_head_signal()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00892">bridge_channel_internal_unsuspend_nolock()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04977">bridge_manager_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00188">bridge_manager_service_req()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00327">calendar_destructor()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00907">chan_test_devicestate_cb()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01912">close_logger()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00077">command_complete()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01334">complex_task()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02331">conf_free()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00415">consumer_exec()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01009">db_sync()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09742">defer_full_frame()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00254">device_state_cb()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00605">device_state_engine_cleanup()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06852">dial_trunk()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01288">dispatch_exec_sync()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00301">dns_synchronous_resolve_callback()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00267">exec_command_on_condition()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01134">hangup_playback()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00336">load_task()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00142">lock_free()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00108">message_sink_cb()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01144">minimal_callback()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00497">mixmonitor_ds_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00116">mock_cdr_backend_cb()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02058">my_decrease_ss_count()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00958">off_nominal_async_callback()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02236">onCallCleared()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02089">onNewCallCreated()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07627">pbx_outgoing_exec()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01965">playback_task()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01350">poke_worker()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00114">pthread_timer_open()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00161">query_set_callback()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00172">recurring_cancel()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00093">resolution_thread()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06068">run_station()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00173">sched_thread_destroy()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00648">schedule_cache_expiration()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">schedule_calendar_event()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01305">serializer_shutdown_group_dec()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00735">shutdown_poke()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00679">shutdown_task_exec()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01110">signal_condition()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00142">simple_task()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03134">sip_session_suspend_task()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07420">sla_destroy()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02419">sla_queue_event_full()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02145">softmix_bridge_destroy()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00409">softmix_poke_thread()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00247">sorcery_observer_created()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00261">sorcery_observer_deleted()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00268">sorcery_observer_loaded()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00254">sorcery_observer_updated()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03825">start_batch_mode()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01257">stop_mixmonitor_full()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13209">stop_poll_thread()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00756">subscription_invoke()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05156">sync_task()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00088">task()</a>, <a class="el" href="../../dc/dce/test__res__pjsip__scheduler_8c_source.html#l00063">task_1()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00731">test_cancel()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00089">test_emptied()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00177">test_msg_handle_msg_cb()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00064">test_state_changed()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01790">test_sub()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00077">test_task_pushed()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00402">tps_ping_handler()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01852">unload_module()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00358">unlock_read()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00196">user_event_hook_cb()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01186">worker_set_state()</a>.</p>

</div>
</div>
<a id="a6add1f30b2d53ca9384b15529a6f126e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6add1f30b2d53ca9384b15529a6f126e">&#9670;&nbsp;</a></span>ast_cond_timedwait</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_cond_timedwait</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">time&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a9e1393306c9b0f6ca3bcff472dde5f9c">__ast_cond_timedwait</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, #<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, time)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00204">204</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01936">acf_jabberreceive_read()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l01142">ast_audiohook_trigger_wait()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00795">ast_localtime_wakeup_monitor()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l01577">ast_rtp_ice_turn_request()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01241">ast_serializer_shutdown_group_join()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02882">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00411">cli_tps_ping()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00288">consumer_should_stay()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00460">consumer_wait_for()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00267">consumer_wait_for_completion()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03903">do_cdr()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01821">do_refresh()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00395">do_timing()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00230">handler_wait_for_message()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01375">has_complex_started()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11990">iax2_process_thread()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00959">ice_reset_session()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13074">mb_poll_thread()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01706">mid_test_sync()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00852">mwi_monitor_handler()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00181">query_set_test()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00670">resolution_thread()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03901">rtp_deallocate_transport()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00132">sched_run()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00693">shutdown_waitfor_completion()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00717">shutdown_waitfor_start()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06790">sla_thread()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00478">smdi_message_wait()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00170">stasis_message_sink_should_stay()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00191">stasis_message_sink_wait_for()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00149">stasis_message_sink_wait_for_count()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00104">task_wait()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00251">user_event_wait_for_events()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00842">wait_for_channel_callback()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00194">wait_for_completion()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01393">wait_for_complex_completion()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01357">wait_for_complex_start()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00292">wait_for_device_state_updates()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00217">wait_for_empty_notice()</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00050">wait_for_hook()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00205">wait_for_resolution()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02995">wait_for_stimulus()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00177">wait_for_task_pushed()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00151">wait_until_thread_state()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00954">wait_until_thread_state_task_pushed()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01153">worker_idle()</a>.</p>

</div>
</div>
<a id="a36233c5520173c095bf732a788356aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36233c5520173c095bf732a788356aee">&#9670;&nbsp;</a></span>ast_cond_wait</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_cond_wait</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a80ce38d75fed5d525f210f963baef5b4">__ast_cond_wait</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, #<a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00203">203</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00917">_ast_odbc_request_obj2()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00411">add_notify()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02615">announce_thread()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00314">ast_dns_resolve()</a>, <a class="el" href="../../d5/da5/dns__query__set_8c_source.html#l00239">ast_query_set_resolve()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00610">ast_sched_del()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01241">ast_serializer_shutdown_group_join()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05176">ast_sip_push_task_wait()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03155">ast_sip_session_suspend()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01154">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00078">autoservice_run()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01647">bridge_channel_impart_wait()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02808">bridge_channel_wait()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04942">bridge_manager_thread()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00086">command_join()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01334">complex_task()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01515">control_wait()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15424">dahdi_restart()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01025">db_sync_thread()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01173">destroy_conference_bridge()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00523">do_devstate_changes()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00395">do_timing()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01586">find_idle_thread()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11990">iax2_process_thread()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">logger_thread()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00709">mixmonitor_thread()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00695">nominal_async_run()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00983">off_nominal_async_run()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00624">ooh323_request()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07755">pbx_outgoing_attempt()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01997">play_sound_helper()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00093">resolution_thread()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00132">sched_run()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00679">shutdown_task_exec()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l03134">sip_session_suspend_task()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06232">sla_handle_dial_state_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06790">sla_thread()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01996">softmix_mixing_thread()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12600">start_network_thread()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00039">stasis_message_sink_dtor()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01107">stasis_subscription_join()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00485">unload_module()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02201">wait_for_initiator()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02995">wait_for_stimulus()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01153">worker_idle()</a>.</p>

</div>
</div>
<a id="a1292468137b7b4c8bb8187fcd4ce2b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1292468137b7b4c8bb8187fcd4ce2b09">&#9670;&nbsp;</a></span>AST_LOCK_TRACK_INIT_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_LOCK_TRACK_INIT_VALUE&#160;&#160;&#160;{ { <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, { 0 }, 0, { <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, { 0 }, {{{ 0 }}}, <a class="el" href="../../d4/dc5/extconf_8c.html#a9a4b324d8380fae65acef50d8ecd979e">PTHREAD_MUTEX_INIT_VALUE</a> }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00090">90</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a0a9b4084ee667d8375d2ea01a3913d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a9b4084ee667d8375d2ea01a3913d28">&#9670;&nbsp;</a></span>AST_MAX_REENTRANCY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MAX_REENTRANCY&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">101</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00366">__ast_pthread_mutex_trylock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00421">__ast_pthread_mutex_unlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00819">__ast_rwlock_rdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01014">__ast_rwlock_timedrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01096">__ast_rwlock_timedwrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01178">__ast_rwlock_tryrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01228">__ast_rwlock_trywrlock()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00917">__ast_rwlock_wrlock()</a>.</p>

</div>
</div>
<a id="ac840092853644cea0a186efdc58985f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac840092853644cea0a186efdc58985f5">&#9670;&nbsp;</a></span>AST_MUTEX_DEFINE_STATIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MUTEX_DEFINE_STATIC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a688d8803f25ad94af5d7a82d1bf2b65f">__AST_MUTEX_DEFINE</a>(static, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#ae84421011b5613950c777c63ae4af714">AST_MUTEX_INIT_VALUE</a>, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00518">518</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/de3/crypt_8c_source.html#l00136">ast_crypt_validate()</a>.</p>

</div>
</div>
<a id="a297efc8e1a95278e025ff43721c054ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297efc8e1a95278e025ff43721c054ea">&#9670;&nbsp;</a></span>AST_MUTEX_DEFINE_STATIC_NOTRACKING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MUTEX_DEFINE_STATIC_NOTRACKING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a688d8803f25ad94af5d7a82d1bf2b65f">__AST_MUTEX_DEFINE</a>(static, <a class="el" href="../../d4/dd3/res__config__sqlite_8c.html#a1cf414f64e7e755faa275f1c6383a9cc">mutex</a>, <a class="el" href="../../dd/d42/lock_8h.html#ae2b08eb819b598f34f872a22c0dd777b">AST_MUTEX_INIT_VALUE_NOTRACKING</a>, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00519">519</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="ab8977a71822daa556f19f30ba6eec765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8977a71822daa556f19f30ba6eec765">&#9670;&nbsp;</a></span>ast_mutex_destroy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_mutex_destroy</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ad90c1b619ab35ad7c70582927ebda10d">__ast_pthread_mutex_destroy</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00186">186</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/df7/astobj2_8c_source.html#l00498">__ao2_ref()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08050">__ast_internal_context_destroy()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14601">__unload_module()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00133">ast_audiohook_destroy()</a>, <a class="el" href="../../d5/d4d/autochan_8c_source.html#l00064">ast_autochan_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01091">ast_dial_destroy()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00136">ast_dnsmgr_release()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00269">ast_sched_context_destroy()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05176">ast_sip_push_task_wait()</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00240">ast_speech_destroy()</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00180">ast_speech_new()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02882">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00615">async_data_destructor()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02053">async_datastore_data_destroy()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01116">async_minimal_data_destructor()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l08119">auth_http_callback()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01606">build_conf()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04016">build_gateway()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l02076">cel_verify_and_cleanup_cb()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07792">chan_list_destructor()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01470">close_client()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00043">command_dtor()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01321">complex_task_data_free()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02331">conf_free()</a>, <a class="el" href="../../dc/dce/test__res__pjsip__scheduler_8c_source.html#l00085">data_cleanup()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06422">delete_device()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04230">delete_peers()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04265">delete_users()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05569">destroy_dahdi_pvt()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04539">destroy_endpoint()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07426">destroy_session()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l00164">destroy_table()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00290">dns_synchronous_resolve_destroy()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03818">do_monitor()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01586">find_idle_thread()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01236">find_realtime()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00079">free_config()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07907">generic_http_callback()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01160">hangup_data_destroy()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11978">iax2_process_thread_cleanup()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00466">load_module()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03760">mgcp_prune_realtime_gateway()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l01187">misdn_cfg_destroy()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12639">misdn_jb_destroy()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00604">mixmonitor_free()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00166">odbc_class_destructor()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00923">off_nominal_async_data_destructor()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">ooh323_destroy()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00080">ooh323c_call_thread()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00130">ooh323c_start_call_thread()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01991">playback_task_data_destroy()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00392">prometheus_metric_free()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00052">query_set_data_destructor()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00057">recurring_data_destructor()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00761">resolver_data_cleanup()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02198">session_destructor()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06937">session_do()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00868">setup_mixmonitor_ds()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00654">shutdown_data_dtor()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00130">simple_task_data_free()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07420">sla_destroy()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06232">sla_handle_dial_state_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00224">smdi_interface_destroy()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02065">softmix_bridge_data_destroy()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00817">softmix_bridge_leave()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12600">start_network_thread()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00039">stasis_message_sink_dtor()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00055">task_data_dtor()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00098">test_shutdown()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09460">timing_read()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01979">unistim_free_sub()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17651">unload_module()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l02021">vm_allocate_dh()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01025">worker_thread_destroy()</a>.</p>

</div>
</div>
<a id="a76e8ed6bb354be6c6dd9e51acc1d7a1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76e8ed6bb354be6c6dd9e51acc1d7a1b">&#9670;&nbsp;</a></span>ast_mutex_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_mutex_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pmutex</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#aab2a83e0853e0aa0d11f742e60792355">__ast_pthread_mutex_init</a>(1, __FILE__, __LINE__, __PRETTY_FUNCTION__, #pmutex, pmutex)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00184">184</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07657">accept_thread()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00411">add_notify()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l00311">alloc_profile()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00914">alloc_smdi_interface()</a>, <a class="el" href="../../d9/d4f/audiohook_8c_source.html#l00108">ast_audiohook_init()</a>, <a class="el" href="../../d5/d4d/autochan_8c_source.html#l00038">ast_autochan_setup()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00225">ast_dial_create()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00314">ast_dns_resolve()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00106">ast_dnsmgr_get_family()</a>, <a class="el" href="../../d5/da5/dns__query__set_8c_source.html#l00239">ast_query_set_resolve()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00236">ast_sched_context_create()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05176">ast_sip_push_task_wait()</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00180">ast_speech_new()</a>, <a class="el" href="../../da/dda/libasteriskssl_8c_source.html#l00130">ast_ssl_init()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l02882">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00623">async_data_alloc()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02085">async_datastore_data_alloc()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01124">async_minimal_data_alloc()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l08119">auth_http_callback()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13058">available()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01606">build_conf()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06501">build_device()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04016">build_gateway()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02229">build_mansession()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02515">build_peer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02368">build_user()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00055">command_create()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01308">complex_task_data_alloc()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08350">config_device()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08285">config_line()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07770">config_parse_variables()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01046">create_client()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13266">duplicate_pseudo()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01586">find_idle_thread()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l00176">find_table()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l06246">find_tpeer()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07907">generic_http_callback()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01151">hangup_data_init()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00423">init_timing_thread()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00681">internal_ao2_alloc()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00090">load_config()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14828">load_module()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00564">load_odbc_config()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l01203">misdn_cfg_init()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12602">misdn_jb_init()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l12095">mkintf()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00931">off_nominal_async_data_alloc()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00556">ooh323_alloc()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00130">ooh323c_start_call_thread()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l01193">parse_config()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01979">playback_task_data_init()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00422">prometheus_metric_create()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00060">query_set_data_alloc()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l02071">rcv_mac_addr()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l05922">read_config()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00065">recurring_data_alloc()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00746">resolver_data_init()</a>, <a class="el" href="../../dc/dce/test__res__pjsip__scheduler_8c_source.html#l00102">scheduler()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06937">session_do()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00868">setup_mixmonitor_ds()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00662">shutdown_data_create()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00118">simple_task_data_alloc()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06232">sla_handle_dial_state_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07855">sla_load_config()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02079">softmix_bridge_create()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00697">softmix_bridge_join()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12600">start_network_thread()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00079">stasis_message_sink_create()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00064">task_data_create()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00053">test_alloc()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01825">test_cel_init_cb()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01988">unistim_alloc_sub()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l02021">vm_allocate_dh()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01093">worker_thread_alloc()</a>.</p>

</div>
</div>
<a id="a2db9ddc73d9494fc804851f10de124ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db9ddc73d9494fc804851f10de124ff">&#9670;&nbsp;</a></span>ast_mutex_init_notracking</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_mutex_init_notracking</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pmutex</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#aab2a83e0853e0aa0d11f742e60792355">__ast_pthread_mutex_init</a>(0, __FILE__, __LINE__, __PRETTY_FUNCTION__, #pmutex, pmutex)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00185">185</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="ae84421011b5613950c777c63ae4af714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84421011b5613950c777c63ae4af714">&#9670;&nbsp;</a></span>AST_MUTEX_INIT_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MUTEX_INIT_VALUE&#160;&#160;&#160;{ <a class="el" href="../../d4/dc5/extconf_8c.html#a9a4b324d8380fae65acef50d8ecd979e">PTHREAD_MUTEX_INIT_VALUE</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00095">95</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="ae2b08eb819b598f34f872a22c0dd777b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2b08eb819b598f34f872a22c0dd777b">&#9670;&nbsp;</a></span>AST_MUTEX_INIT_VALUE_NOTRACKING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MUTEX_INIT_VALUE_NOTRACKING&#160;&#160;&#160;{ <a class="el" href="../../d4/dc5/extconf_8c.html#a9a4b324d8380fae65acef50d8ecd979e">PTHREAD_MUTEX_INIT_VALUE</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {0, 0} }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00096">96</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a40158917c519e1b34f1cba9cb3aa0108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40158917c519e1b34f1cba9cb3aa0108">&#9670;&nbsp;</a></span>AST_MUTEX_INITIALIZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MUTEX_INITIALIZER&#160;&#160;&#160;__use_AST_MUTEX_DEFINE_STATIC_rather_than_AST_MUTEX_INITIALIZER__</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00635">635</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="aaae8771a56e3420fccffbbf2f6ce8046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae8771a56e3420fccffbbf2f6ce8046">&#9670;&nbsp;</a></span>AST_MUTEX_KIND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MUTEX_KIND&#160;&#160;&#160;PTHREAD_MUTEX_RECURSIVE_NP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00077">77</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00144">__ast_pthread_mutex_init()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01394">dummy_start()</a>.</p>

</div>
</div>
<a id="ac5e13c7fe64d3b271a52028b0a78b92b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5e13c7fe64d3b271a52028b0a78b92b">&#9670;&nbsp;</a></span>ast_mutex_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_mutex_lock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#aa48b89c68cc4c476a71b4e4d1b7d5e3b">__ast_pthread_mutex_lock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">187</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03548">__attempt_transmit()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09282">__auth_reject()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04724">__auto_congest()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09331">__auto_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08281">__dahdi_exception()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03108">__find_callno()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04125">__get_from_jb()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12317">__iax2_poke_noanswer()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07112">__manager_event_sessions_va()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00433">__reload()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00917">_ast_odbc_request_obj2()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14467">acf_channel_read()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01936">acf_jabberreceive_read()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30104">acl_change_stasis_cb()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16404">action_dahdishowchannels()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04206">action_waitevent()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00411">add_notify()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07644">adsi_delete()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07542">adsi_message()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00361">alsa_answer()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00325">alsa_call()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00299">alsa_digit()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00531">alsa_fixup()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00375">alsa_hangup()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00542">alsa_indicate()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00443">alsa_read()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00620">alsa_request()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00309">alsa_text()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00391">alsa_write()</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00095">amihook_helper()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02615">announce_thread()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00166">answer_exec_run()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01339">app_exec()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00805">append_mailbox_mapping()</a>, <a class="el" href="../../d7/dbc/res__ari_8c_source.html#l00202">ast_ari_remove_handler()</a>, <a class="el" href="../../d5/d4d/autochan_8c_source.html#l00086">ast_autochan_new_channel()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01857">ast_begin_shutdown()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01839">ast_cancel_shutdown()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07477">ast_cli_netstats()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05162">ast_context_lockmacro()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00429">ast_db_del()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00457">ast_db_deltree()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00531">ast_db_gettree()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00571">ast_db_gettree_by_prefix()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00327">ast_db_put()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01021">ast_dial_join()</a>, <a class="el" href="../../d9/d54/dns_8c_source.html#l00583">ast_dns_get_nameservers()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00314">ast_dns_resolve()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00247">ast_dnsmgr_changed()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01231">ast_file_read_dirs()</a>, <a class="el" href="../../d9/d69/enum_8c_source.html#l00649">ast_get_enum()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00305">ast_monitor_start()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00369">ast_odbc_direct_execute()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00407">ast_odbc_prepare_and_execute()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00813">ast_odbc_release_obj()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00269">ast_pjproject_log_intercept_begin()</a>, <a class="el" href="../../d5/da5/dns__query__set_8c_source.html#l00239">ast_query_set_resolve()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01062">ast_replace_sigchld()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00524">ast_sched_add_variable()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00407">ast_sched_clean_by_callback()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00269">ast_sched_context_destroy()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00610">ast_sched_del()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00712">ast_sched_dump()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00587">ast_sched_find_data()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00674">ast_sched_report()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00755">ast_sched_runq()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00431">ast_sched_wait()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00814">ast_sched_when()</a>, <a class="el" href="../../d9/d54/dns_8c_source.html#l00493">ast_search_dns()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05176">ast_sip_push_task_wait()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00260">ast_smdi_md_message_push()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00274">ast_smdi_mwi_message_push()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01154">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01077">ast_unreplace_sigchld()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">ast_verb_update()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01058">astdb_atexit()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00649">async_callback()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02288">async_play_sound_ready()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07145">attempt_transfer()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09302">auth_reject()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08411">authenticate_reply()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09346">auto_hangup()</a>, <a class="el" href="../../d9/d69/enum_8c_source.html#l00330">blr_ebl()</a>, <a class="el" href="../../d9/d69/enum_8c_source.html#l00201">blr_txt()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01419">bridge_agent_hold_deferred_create()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01536">bridge_channel_impart_ds_head_signal()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01647">bridge_channel_impart_wait()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06501">build_device()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l23139">build_reply_digest()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01921">can_safely_quit()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l09917">cb_events()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03841">cdr_detach()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00774">cdr_handler()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03766">cdr_submit_batch()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00907">chan_test_devicestate_cb()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l04794">channel_to_session()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04682">check_unloading()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08398">cl_dequeue_chan()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08377">cl_queue_chan()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l00779">clear_history_entries()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00244">clear_result_states()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01042">clear_talking()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00411">cli_tps_ping()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01470">close_client()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l09152">close_mailbox()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04810">close_rtp_connection()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04901">close_udptl_connection()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00077">command_complete()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00086">command_join()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02331">conf_free()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08350">config_device()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00905">config_handler()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08285">config_line()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08443">config_load()</a>, <a class="el" href="../../dd/d22/cdr__pgsql_8c_source.html#l00524">config_module()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01132">config_pgsql()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00680">console_answer()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00644">console_autoanswer()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00813">console_dial()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00775">console_hangup()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00726">console_sendtext()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09099">create_channel_name()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01046">create_client()</a>, <a class="el" href="../../d4/d4c/cdr__csv_8c_source.html#l00297">csv_log()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00129">custom_log()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06409">dahdi_answer()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05121">dahdi_call()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13729">dahdi_cc_callback()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11150">dahdi_create_channel_range()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11068">dahdi_destroy_channel_range()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l04237">dahdi_digit_begin()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l04299">dahdi_digit_end()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08403">dahdi_exception()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07061">dahdi_fixup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06764">dahdi_func_read()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06907">dahdi_func_write()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07231">dahdi_handle_dtmf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07386">dahdi_handle_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05992">dahdi_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05332">dahdi_iflist_extract()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08975">dahdi_indicate()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06981">dahdi_master_slave_unlink()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13491">dahdi_request()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15424">dahdi_restart()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19777">dahdi_sendtext()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16163">dahdi_set_dnd()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16006">dahdi_set_hwgain()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16085">dahdi_set_swgain()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15650">dahdi_show_channel()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15572">dahdi_show_channels()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15396">dahdi_softhangup_all()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08894">dahdi_write()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00219">db_create_astdb()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00373">db_get_common()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00239">db_open()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01025">db_sync_thread()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04670">decrease_call_count()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09742">defer_full_frame()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00120">DEFINE_SQL_STATEMENT()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04230">delete_peers()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l13399">delete_users()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05667">destroy_all_channels()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00795">destroy_all_mailbox_mappings()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01173">destroy_conference_bridge()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04539">destroy_endpoint()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00515">destroy_monitor_audiohook()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01052">destroy_pgsql()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07426">destroy_session()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l00164">destroy_table()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03584">device_state_cb()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06852">dial_trunk()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01288">dispatch_exec_sync()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../d9/d54/dns_8c_source.html#l00223">dns_advance_field()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00301">dns_synchronous_resolve_callback()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00204">dnsmgr_refresh()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03903">do_cdr()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04282">do_discovery()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11482">do_monitor()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04119">do_monitor_headset()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l03870">do_monitor_phone()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01821">do_refresh()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00450">do_reload()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00395">do_timing()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09538">dp_lookup()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02734">dump_cmd_queues()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00570">dump_queue()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l01097">filter_history()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08259">find_chan_by_bc()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16253">find_channel()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02768">find_command()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l00132">find_database()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00858">find_friend()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08351">find_hold_active_call()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08283">find_hold_call()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08317">find_hold_call_l3()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01586">find_idle_thread()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00890">find_peer()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01777">find_subchannel_and_lock()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05421">find_subchannel_by_name()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l00176">find_table()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l06246">find_tpeer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00832">find_user()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06380">finish_bookmark()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03685">function_ooh323_read()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03730">function_ooh323_write()</a>, <a class="el" href="../../df/da9/uuid_8c_source.html#l00052">generate_uuid()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07907">generic_http_callback()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l00786">get_chan_by_ast_name()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00974">get_dial_bridge()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06735">get_input()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02905">get_unused_callno()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l06660">handle_capabilities_res_message()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03537">handle_clear_alarms()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00847">handle_cli_database_query()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00725">handle_cli_database_show()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00789">handle_cli_database_showkey()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07411">handle_cli_iax2_show_channels()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03914">handle_cli_iax2_show_stats()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00434">handle_cli_locks_show()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l04303">handle_cli_misdn_show_channel()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l04230">handle_cli_misdn_show_channels()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00659">handle_cli_mobile_cusd()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00611">handle_cli_mobile_rfcomm()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00495">handle_cli_mobile_show_devices()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00716">handle_cli_odbc_show()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02778">handle_cli_ooh323_reload()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03188">handle_cli_ooh323_show_peer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03285">handle_cli_ooh323_show_peers()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03327">handle_cli_ooh323_show_user()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03424">handle_cli_ooh323_show_users()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03022">handle_cli_osp_show()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01669">handle_cli_realtime_pgsql_status()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09712">handle_deferred_full_frames()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11218">handle_init_event()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01060">handle_mgcp_audit_endpoint()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01018">handle_mgcp_show_endpoints()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00971">handle_modlist()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03402">handle_request()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29424">handle_request_do()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03556">handle_speechrecognize()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00230">handler_wait_for_message()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01134">hangup_playback()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04102">headset_send_ring()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l00726">history_on_rx_msg()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l00692">history_on_tx_msg()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00593">http_callback()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05076">iax2_call()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12136">iax2_do_register()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04343">iax2_fixup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05300">iax2_hangup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05734">iax2_indicate()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05462">iax2_key_rotate()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01698">iax2_lock_callno_unless_destroyed()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12367">iax2_poke_peer()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11990">iax2_process_thread()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05439">iax2_queryoption()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05367">iax2_setoption()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07683">iax2_write()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00387">iax_process_template()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00179">iax_prov_complete_template()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00209">iax_provision_build()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00504">iax_provision_free_templates()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00258">iax_provision_version()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00438">iax_show_provisioning()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00282">iax_template_parse()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04621">increase_call_count()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00353">inotify_daemon()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l04191">key_main_page()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l03890">key_select_extension()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01912">leave_voicemail()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02864">load_config()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03787">load_module()</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00119">load_values_config()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00142">lock_free()</a>, <a class="el" href="../../d6/d05/test__scoped__lock_8c_source.html#l00043">lock_it()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00324">lock_msg_q()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09669">log_jitterstats()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01252">lua_free_extensions()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01170">lua_load_extensions()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01213">lua_reload_extensions()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02333">make_trunk()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03251">mansession_lock()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13074">mb_poll_thread()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01066">mbl_answer()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00970">mbl_call()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01214">mbl_devicestate()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01088">mbl_digit_end()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01195">mbl_fixup()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01028">mbl_hangup()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00898">mbl_request()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00763">mbl_sendsms_exec()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00715">mbl_status_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02966">meetme_menu_admin_extended()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01156">mgcp_answer()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00826">mgcp_call()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01360">mgcp_devicestate()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01282">mgcp_fixup()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00902">mgcp_hangup()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01438">mgcp_indicate()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02435">mgcp_pktcgate_open()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02412">mgcp_pktcgate_remove()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00699">mgcp_postrequest()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03760">mgcp_prune_realtime_gateway()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01230">mgcp_read()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04908">mgcp_reload()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01298">mgcp_senddigit_begin()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01319">mgcp_senddigit_end()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01240">mgcp_write()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03669">mgcpsock_read()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01706">mid_test_sync()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01144">minimal_callback()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00505">misdn_cfg_lock()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l00749">misdn_chan_is_valid()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07117">misdn_hangup()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12716">misdn_jb_empty()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12650">misdn_jb_fill()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l03628">misdn_overlap_dial_task()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00497">mixmonitor_ds_destroy()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00709">mixmonitor_thread()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00852">mwi_monitor_handler()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02058">my_decrease_ss_count()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01648">my_handle_dtmf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02051">my_increase_ss_count()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01722">my_lock_private()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00561">MYSQL_exec()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00172">mysql_log()</a>, <a class="el" href="../../d9/da5/bridge__native__dahdi_8c_source.html#l00643">native_bridge_is_capable()</a>, <a class="el" href="../../d9/da5/bridge__native__dahdi_8c_source.html#l00213">native_start()</a>, <a class="el" href="../../d9/da5/bridge__native__dahdi_8c_source.html#l00140">native_stop()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00695">nominal_async_run()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00958">off_nominal_async_callback()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00983">off_nominal_async_run()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01682">onAlerting()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02236">onCallCleared()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02181">onCallEstablished()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05076">onModeChanged()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02089">onNewCallCreated()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02016">onOutgoingCall()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01738">onProgress()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00556">ooh323_alloc()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01154">ooh323_answer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00990">ooh323_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02328">ooh323_delete_peer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">ooh323_destroy()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00928">ooh323_digit_begin()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00962">ooh323_digit_end()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02705">ooh323_do_reload()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01522">ooh323_fixup()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01087">ooh323_hangup()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01280">ooh323_indicate()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01798">ooh323_onReceivedDigit()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01840">ooh323_onReceivedSetup()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01460">ooh323_queryoption()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01194">ooh323_read()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00624">ooh323_request()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01625">ooh323_set_read_format()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04532">ooh323_set_rtp_peer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01553">ooh323_set_write_format()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01212">ooh323_write()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00080">ooh323c_call_thread()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00130">ooh323c_start_call_thread()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">osp_get_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01434">parse_config()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l04633">parsing()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12766">peer_destructor()</a>, <a class="el" href="../../dd/d22/cdr__pgsql_8c_source.html#l00214">pgsql_log()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l01251">phone_request()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l01217">pjsip_show_history()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l08843">play_message()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l11359">play_message_by_id_helper()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01997">play_sound_helper()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01965">playback_task()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08333">presence_state_cb()</a>, <a class="el" href="../../d9/d69/enum_8c_source.html#l01030">private_enum_init()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00685">prometheus_scrape_to_string()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04608">prune_gateways()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00114">pthread_timer_open()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01432">publish_msg()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02196">pvt_destructor()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00161">query_set_callback()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00181">query_set_test()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07182">queue_ringing_trunk()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l02071">rcv_mac_addr()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01443">realtime_destroy_handler()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00984">realtime_handler()</a>, <a class="el" href="../../dc/d12/res__config__ldap_8c_source.html#l00810">realtime_ldap_base_ap()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01110">realtime_multi_handler()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00524">realtime_multi_pgsql()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00390">realtime_pgsql()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01357">realtime_store_handler()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01285">realtime_update2_handler()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01214">realtime_update_handler()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l05681">recordthread()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00172">recurring_cancel()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08189">register_verify()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09180">registry_authrequest()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00267">registry_message_cb()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08495">release_chan()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08561">release_chan_early()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04683">reload_config()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l00404">reload_followme()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03981">reload_module()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02982">replace_callno()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02159">reqprep()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01211">require_pgsql()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00670">resolution_thread()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11770">restart_monitor()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">restart_pktc_thread()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00644">retrans_pkt()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06068">run_station()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07214">save_to_folder()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00132">sched_run()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00173">sched_thread_destroy()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00648">schedule_cache_expiration()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">schedule_calendar_event()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02136">scheduled_destroy()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01898">sco_accept()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00563">scrape_metrics()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l00959">send_client()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07742">send_command_locked()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00743">send_request()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01538">send_retransmit()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10062">set_hangup_source_and_cause()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01274">set_pvt_defaults()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00303">set_softmix_bridge_data()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04695">set_unloading()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19348">setup_dahdi_int()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04775">setup_rtp_connection()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04736">setup_rtp_remote()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04839">setup_udptl_connection()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01110">signal_condition()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l34418">sip_reload()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l21842">sip_show_settings()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07520">skinny_session()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07420">sla_destroy()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06232">sla_handle_dial_state_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06549">sla_handle_ringing_trunk_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06521">sla_hangup_stations()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02419">sla_queue_event_full()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06790">sla_thread()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07228">sla_trunk_exec()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02145">softmix_bridge_destroy()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02130">softmix_bridge_stop()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01282">softmix_bridge_write_rtcp()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00889">softmix_bridge_write_video()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00942">softmix_bridge_write_voice()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01763">softmix_mixing_loop()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01996">softmix_mixing_thread()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00409">softmix_poke_thread()</a>, <a class="el" href="../../d5/d47/res__fax__spandsp_8c_source.html#l01197">spandsp_fax_cli_show_stats()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">speech_background()</a>, <a class="el" href="../../da/dda/libasteriskssl_8c_source.html#l00064">ssl_lock()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03825">start_batch_mode()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12600">start_network_thread()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02967">start_rtp()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01680">stasis_app_control_shutdown()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02865">statistics_show_messages()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01257">stop_mixmonitor_full()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13209">stop_poll_thread()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00969">store_pgsql()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00085">stun_monitor_request()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00209">stun_stop_monitor()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05156">sync_task()</a>, <a class="el" href="../../d3/de4/cdr__syslog_8c_source.html#l00086">syslog_log()</a>, <a class="el" href="../../dc/dce/test__res__pjsip__scheduler_8c_source.html#l00063">task_1()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00481">tds_load_module()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00109">tds_log()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00442">tds_unload_module()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00731">test_cancel()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00177">test_msg_handle_msg_cb()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09460">timing_read()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00402">tps_ping_handler()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04282">transmit_frame()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02377">transmit_response_bysession()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05254">unistim_fixup()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l04927">unistim_hangup_clean()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05204">unistim_read()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01920">unistim_register()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06117">unistim_show_devices()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06035">unistim_show_info()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05216">unistim_write()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05089">unistimsock_read()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04947">unload_module()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00358">unlock_read()</a>, <a class="el" href="../../dc/d12/res__config__ldap_8c_source.html#l01491">update2_ldap()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00843">update2_pgsql()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00701">update_pgsql()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00196">user_event_hook_cb()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00251">user_event_wait_for_events()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l02021">vm_allocate_dh()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l11503">vm_execmain()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10427">vm_instructions_en()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10515">vm_instructions_ja()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00842">wait_for_channel_callback()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00292">wait_for_device_state_updates()</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00050">wait_for_hook()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02201">wait_for_initiator()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00205">wait_for_resolution()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00954">wait_until_thread_state_task_pushed()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01044">worker_start()</a>, <a class="el" href="../../db/d94/cel__sqlite3__custom_8c_source.html#l00240">write_cel()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03120">xmpp_pak_message()</a>.</p>

</div>
</div>
<a id="a987fc536e8b6a1044689eca873610792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987fc536e8b6a1044689eca873610792">&#9670;&nbsp;</a></span>ast_mutex_trylock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_mutex_trylock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ab2fba852bef0b7dae8926b847288a3dd">__ast_pthread_mutex_trylock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00189">189</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02081">ast_cli_perms_init()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">ast_module_reload()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14064">cache_get_callno_locked()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06981">dahdi_master_slave_unlink()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05462">iax2_key_rotate()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01109">mbl_read()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01167">mbl_write()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03760">mgcp_prune_realtime_gateway()</a>, <a class="el" href="../../d9/da5/bridge__native__dahdi_8c_source.html#l00213">native_start()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00130">ooh323c_start_call_thread()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00272">refresh_list()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, and <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04947">unload_module()</a>.</p>

</div>
</div>
<a id="a873f9ce8c6287a32d48c83133e124418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873f9ce8c6287a32d48c83133e124418">&#9670;&nbsp;</a></span>ast_mutex_unlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_mutex_unlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#adb988fac390a43325bafc4b029bdfc62">__ast_pthread_mutex_unlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">188</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03548">__attempt_transmit()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09282">__auth_reject()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04724">__auto_congest()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09331">__auto_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08281">__dahdi_exception()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03108">__find_callno()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04125">__get_from_jb()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12317">__iax2_poke_noanswer()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07112">__manager_event_sessions_va()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00433">__reload()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01780">__send_lagrq()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01716">__send_ping()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00917">_ast_odbc_request_obj2()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14467">acf_channel_read()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01936">acf_jabberreceive_read()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30104">acl_change_stasis_cb()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16404">action_dahdishowchannels()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04206">action_waitevent()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00411">add_notify()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07644">adsi_delete()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07542">adsi_message()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00361">alsa_answer()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00325">alsa_call()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00299">alsa_digit()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00531">alsa_fixup()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00375">alsa_hangup()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00542">alsa_indicate()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00443">alsa_read()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00620">alsa_request()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00309">alsa_text()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00391">alsa_write()</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00095">amihook_helper()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02615">announce_thread()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00166">answer_exec_run()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01339">app_exec()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00805">append_mailbox_mapping()</a>, <a class="el" href="../../d7/dbc/res__ari_8c_source.html#l00202">ast_ari_remove_handler()</a>, <a class="el" href="../../d5/d4d/autochan_8c_source.html#l00086">ast_autochan_new_channel()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01857">ast_begin_shutdown()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01839">ast_cancel_shutdown()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04096">ast_change_hint()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07477">ast_cli_netstats()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02081">ast_cli_perms_init()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05184">ast_context_unlockmacro()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00429">ast_db_del()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00457">ast_db_deltree()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00531">ast_db_gettree()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00571">ast_db_gettree_by_prefix()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00327">ast_db_put()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01021">ast_dial_join()</a>, <a class="el" href="../../d9/d54/dns_8c_source.html#l00583">ast_dns_get_nameservers()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00314">ast_dns_resolve()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00247">ast_dnsmgr_changed()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01231">ast_file_read_dirs()</a>, <a class="el" href="../../d9/d69/enum_8c_source.html#l00649">ast_get_enum()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01562">ast_module_reload()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00305">ast_monitor_start()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00369">ast_odbc_direct_execute()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00407">ast_odbc_prepare_and_execute()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00813">ast_odbc_release_obj()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00278">ast_pjproject_log_intercept_end()</a>, <a class="el" href="../../d5/da5/dns__query__set_8c_source.html#l00239">ast_query_set_resolve()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01062">ast_replace_sigchld()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00524">ast_sched_add_variable()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00407">ast_sched_clean_by_callback()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00269">ast_sched_context_destroy()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00610">ast_sched_del()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00712">ast_sched_dump()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00587">ast_sched_find_data()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00674">ast_sched_report()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00755">ast_sched_runq()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00431">ast_sched_wait()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00814">ast_sched_when()</a>, <a class="el" href="../../d9/d54/dns_8c_source.html#l00493">ast_search_dns()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05176">ast_sip_push_task_wait()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00260">ast_smdi_md_message_push()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00274">ast_smdi_mwi_message_push()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01154">AST_TEST_DEFINE()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01077">ast_unreplace_sigchld()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">ast_verb_update()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01058">astdb_atexit()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00649">async_callback()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02288">async_play_sound_ready()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07145">attempt_transfer()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09302">auth_reject()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08411">authenticate_reply()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09346">auto_hangup()</a>, <a class="el" href="../../d9/d69/enum_8c_source.html#l00330">blr_ebl()</a>, <a class="el" href="../../d9/d69/enum_8c_source.html#l00201">blr_txt()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01419">bridge_agent_hold_deferred_create()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01536">bridge_channel_impart_ds_head_signal()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01647">bridge_channel_impart_wait()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06501">build_device()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l23139">build_reply_digest()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14064">cache_get_callno_locked()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01921">can_safely_quit()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l09917">cb_events()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03841">cdr_detach()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00774">cdr_handler()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03766">cdr_submit_batch()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00907">chan_test_devicestate_cb()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l04794">channel_to_session()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04682">check_unloading()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08398">cl_dequeue_chan()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08377">cl_queue_chan()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l00779">clear_history_entries()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00244">clear_result_states()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01042">clear_talking()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00411">cli_tps_ping()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01470">close_client()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l09152">close_mailbox()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04810">close_rtp_connection()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04901">close_udptl_connection()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00077">command_complete()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00086">command_join()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02331">conf_free()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08350">config_device()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00905">config_handler()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08285">config_line()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l08443">config_load()</a>, <a class="el" href="../../dd/d22/cdr__pgsql_8c_source.html#l00524">config_module()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01132">config_pgsql()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">configure_local_rtp()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00680">console_answer()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00644">console_autoanswer()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00813">console_dial()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00775">console_hangup()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00726">console_sendtext()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09099">create_channel_name()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01046">create_client()</a>, <a class="el" href="../../d4/d4c/cdr__csv_8c_source.html#l00297">csv_log()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00129">custom_log()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06409">dahdi_answer()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05121">dahdi_call()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13729">dahdi_cc_callback()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11150">dahdi_create_channel_range()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11068">dahdi_destroy_channel_range()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l04237">dahdi_digit_begin()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l04299">dahdi_digit_end()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08403">dahdi_exception()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07061">dahdi_fixup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06764">dahdi_func_read()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06907">dahdi_func_write()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07231">dahdi_handle_dtmf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07386">dahdi_handle_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05992">dahdi_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05332">dahdi_iflist_extract()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08975">dahdi_indicate()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06981">dahdi_master_slave_unlink()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13491">dahdi_request()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15424">dahdi_restart()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19777">dahdi_sendtext()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16163">dahdi_set_dnd()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16006">dahdi_set_hwgain()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16085">dahdi_set_swgain()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15650">dahdi_show_channel()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15572">dahdi_show_channels()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15396">dahdi_softhangup_all()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08894">dahdi_write()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00219">db_create_astdb()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00373">db_get_common()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00239">db_open()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01025">db_sync_thread()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04670">decrease_call_count()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09742">defer_full_frame()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00120">DEFINE_SQL_STATEMENT()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04230">delete_peers()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l13399">delete_users()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05667">destroy_all_channels()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00795">destroy_all_mailbox_mappings()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01173">destroy_conference_bridge()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04539">destroy_endpoint()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00515">destroy_monitor_audiohook()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01052">destroy_pgsql()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07426">destroy_session()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l00164">destroy_table()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03584">device_state_cb()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06852">dial_trunk()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01288">dispatch_exec_sync()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../d9/d54/dns_8c_source.html#l00223">dns_advance_field()</a>, <a class="el" href="../../dc/d00/dns__core_8c_source.html#l00301">dns_synchronous_resolve_callback()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00204">dnsmgr_refresh()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03903">do_cdr()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04282">do_discovery()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11482">do_monitor()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04119">do_monitor_headset()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l03870">do_monitor_phone()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01821">do_refresh()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00450">do_reload()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00395">do_timing()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09538">dp_lookup()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02734">dump_cmd_queues()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00570">dump_queue()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l01097">filter_history()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14137">find_cache()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00810">find_call()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08259">find_chan_by_bc()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16253">find_channel()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02768">find_command()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00858">find_friend()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08351">find_hold_active_call()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08283">find_hold_call()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08317">find_hold_call_l3()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01586">find_idle_thread()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00890">find_peer()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01777">find_subchannel_and_lock()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05421">find_subchannel_by_name()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00250">find_table()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00832">find_user()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06380">finish_bookmark()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03685">function_ooh323_read()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03730">function_ooh323_write()</a>, <a class="el" href="../../df/da9/uuid_8c_source.html#l00052">generate_uuid()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07907">generic_http_callback()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l00786">get_chan_by_ast_name()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00974">get_dial_bridge()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06735">get_input()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00186">get_lock()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02905">get_unused_callno()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l06660">handle_capabilities_res_message()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03537">handle_clear_alarms()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00847">handle_cli_database_query()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00725">handle_cli_database_show()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l00789">handle_cli_database_showkey()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07411">handle_cli_iax2_show_channels()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03914">handle_cli_iax2_show_stats()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00434">handle_cli_locks_show()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l04303">handle_cli_misdn_show_channel()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l04230">handle_cli_misdn_show_channels()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00659">handle_cli_mobile_cusd()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00611">handle_cli_mobile_rfcomm()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00495">handle_cli_mobile_show_devices()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00716">handle_cli_odbc_show()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02778">handle_cli_ooh323_reload()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03188">handle_cli_ooh323_show_peer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03285">handle_cli_ooh323_show_peers()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03327">handle_cli_ooh323_show_user()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03424">handle_cli_ooh323_show_users()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l03022">handle_cli_osp_show()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01669">handle_cli_realtime_pgsql_status()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09712">handle_deferred_full_frames()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11218">handle_init_event()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01060">handle_mgcp_audit_endpoint()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01018">handle_mgcp_show_endpoints()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00971">handle_modlist()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03402">handle_request()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29424">handle_request_do()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03556">handle_speechrecognize()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00230">handler_wait_for_message()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01134">hangup_playback()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04102">headset_send_ring()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l00726">history_on_rx_msg()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l00692">history_on_tx_msg()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00593">http_callback()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05076">iax2_call()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12136">iax2_do_register()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04343">iax2_fixup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05300">iax2_hangup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05734">iax2_indicate()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05462">iax2_key_rotate()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01698">iax2_lock_callno_unless_destroyed()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12367">iax2_poke_peer()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11990">iax2_process_thread()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12197">iax2_provision()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05439">iax2_queryoption()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12458">iax2_request()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05367">iax2_setoption()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l06282">iax2_trunk_queue()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07683">iax2_write()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00387">iax_process_template()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00179">iax_prov_complete_template()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00209">iax_provision_build()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00504">iax_provision_free_templates()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00258">iax_provision_version()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00438">iax_show_provisioning()</a>, <a class="el" href="../../d8/d4f/provision_8c_source.html#l00282">iax_template_parse()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04621">increase_call_count()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00353">inotify_daemon()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l04191">key_main_page()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l03890">key_select_extension()</a>, <a class="el" href="../../dc/d12/res__config__ldap_8c_source.html#l00592">ldap_loadentry()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01912">leave_voicemail()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02864">load_config()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03787">load_module()</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00119">load_values_config()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00142">lock_free()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09669">log_jitterstats()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01252">lua_free_extensions()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01170">lua_load_extensions()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01213">lua_reload_extensions()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02333">make_trunk()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l03257">mansession_unlock()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13074">mb_poll_thread()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01066">mbl_answer()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00970">mbl_call()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01214">mbl_devicestate()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01088">mbl_digit_end()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01195">mbl_fixup()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01028">mbl_hangup()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01109">mbl_read()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00898">mbl_request()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00763">mbl_sendsms_exec()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00715">mbl_status_exec()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01167">mbl_write()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02966">meetme_menu_admin_extended()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01156">mgcp_answer()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00826">mgcp_call()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01360">mgcp_devicestate()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01282">mgcp_fixup()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00902">mgcp_hangup()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01438">mgcp_indicate()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02435">mgcp_pktcgate_open()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02412">mgcp_pktcgate_remove()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00699">mgcp_postrequest()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03760">mgcp_prune_realtime_gateway()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01230">mgcp_read()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04908">mgcp_reload()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03965">mgcp_request()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01298">mgcp_senddigit_begin()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01319">mgcp_senddigit_end()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01240">mgcp_write()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03669">mgcpsock_read()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01706">mid_test_sync()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l01144">minimal_callback()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00510">misdn_cfg_unlock()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l00749">misdn_chan_is_valid()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07117">misdn_hangup()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12716">misdn_jb_empty()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l12650">misdn_jb_fill()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l03628">misdn_overlap_dial_task()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00497">mixmonitor_ds_destroy()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00709">mixmonitor_thread()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00852">mwi_monitor_handler()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02058">my_decrease_ss_count()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01648">my_handle_dtmf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02051">my_increase_ss_count()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01728">my_unlock_private()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00561">MYSQL_exec()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00172">mysql_log()</a>, <a class="el" href="../../d9/da5/bridge__native__dahdi_8c_source.html#l00643">native_bridge_is_capable()</a>, <a class="el" href="../../d9/da5/bridge__native__dahdi_8c_source.html#l00213">native_start()</a>, <a class="el" href="../../d9/da5/bridge__native__dahdi_8c_source.html#l00140">native_stop()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00695">nominal_async_run()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00958">off_nominal_async_callback()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00983">off_nominal_async_run()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01682">onAlerting()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02236">onCallCleared()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02181">onCallEstablished()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05076">onModeChanged()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02089">onNewCallCreated()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02016">onOutgoingCall()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01738">onProgress()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00556">ooh323_alloc()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01154">ooh323_answer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00990">ooh323_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02328">ooh323_delete_peer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">ooh323_destroy()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00928">ooh323_digit_begin()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00962">ooh323_digit_end()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02705">ooh323_do_reload()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01522">ooh323_fixup()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01087">ooh323_hangup()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01280">ooh323_indicate()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01798">ooh323_onReceivedDigit()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01840">ooh323_onReceivedSetup()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01460">ooh323_queryoption()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01194">ooh323_read()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00624">ooh323_request()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01625">ooh323_set_read_format()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04532">ooh323_set_rtp_peer()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01553">ooh323_set_write_format()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01212">ooh323_write()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00080">ooh323c_call_thread()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00130">ooh323c_start_call_thread()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00644">osp_create_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00945">osp_create_transaction()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l00914">osp_get_provider()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02929">osp_unload()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01434">parse_config()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l04633">parsing()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12766">peer_destructor()</a>, <a class="el" href="../../dd/d22/cdr__pgsql_8c_source.html#l00214">pgsql_log()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l01251">phone_request()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l01217">pjsip_show_history()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l08843">play_message()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l11359">play_message_by_id_helper()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01997">play_sound_helper()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01965">playback_task()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08333">presence_state_cb()</a>, <a class="el" href="../../d9/d69/enum_8c_source.html#l01030">private_enum_init()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00685">prometheus_scrape_to_string()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04608">prune_gateways()</a>, <a class="el" href="../../da/ddc/res__timing__pthread_8c_source.html#l00114">pthread_timer_open()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01432">publish_msg()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02196">pvt_destructor()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00161">query_set_callback()</a>, <a class="el" href="../../d3/d10/test__dns__query__set_8c_source.html#l00181">query_set_test()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07182">queue_ringing_trunk()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l02071">rcv_mac_addr()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01443">realtime_destroy_handler()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l00984">realtime_handler()</a>, <a class="el" href="../../dc/d12/res__config__ldap_8c_source.html#l00810">realtime_ldap_base_ap()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01110">realtime_multi_handler()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00524">realtime_multi_pgsql()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00390">realtime_pgsql()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01357">realtime_store_handler()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01285">realtime_update2_handler()</a>, <a class="el" href="../../d4/dd3/res__config__sqlite_8c_source.html#l01214">realtime_update_handler()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l05681">recordthread()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00172">recurring_cancel()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00272">refresh_list()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08189">register_verify()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09180">registry_authrequest()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00267">registry_message_cb()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08495">release_chan()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08561">release_chan_early()</a>, <a class="el" href="../../dd/d18/res__config__mysql_8c_source.html#l00273">release_table()</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04683">reload_config()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l00404">reload_followme()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l03981">reload_module()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02982">replace_callno()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02159">reqprep()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l01211">require_pgsql()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00670">resolution_thread()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11770">restart_monitor()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">restart_pktc_thread()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00644">retrans_pkt()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06068">run_station()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l07214">save_to_folder()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00132">sched_run()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00173">sched_thread_destroy()</a>, <a class="el" href="../../d7/d30/res__sorcery__memory__cache_8c_source.html#l00648">schedule_cache_expiration()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">schedule_calendar_event()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02136">scheduled_destroy()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01898">sco_accept()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00563">scrape_metrics()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l00959">send_client()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07742">send_command_locked()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00743">send_request()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01538">send_retransmit()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10062">set_hangup_source_and_cause()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01274">set_pvt_defaults()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00303">set_softmix_bridge_data()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04695">set_unloading()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19348">setup_dahdi_int()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04775">setup_rtp_connection()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04736">setup_rtp_remote()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04839">setup_udptl_connection()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01110">signal_condition()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l34418">sip_reload()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l21842">sip_show_settings()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07520">skinny_session()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07466">skinny_session_cleanup()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07420">sla_destroy()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06232">sla_handle_dial_state_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06549">sla_handle_ringing_trunk_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06521">sla_hangup_stations()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02419">sla_queue_event_full()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06790">sla_thread()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07228">sla_trunk_exec()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09851">socket_process_meta()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02145">softmix_bridge_destroy()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02130">softmix_bridge_stop()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01282">softmix_bridge_write_rtcp()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00889">softmix_bridge_write_video()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00942">softmix_bridge_write_voice()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01763">softmix_mixing_loop()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01996">softmix_mixing_thread()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00409">softmix_poke_thread()</a>, <a class="el" href="../../d5/d47/res__fax__spandsp_8c_source.html#l01197">spandsp_fax_cli_show_stats()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">speech_background()</a>, <a class="el" href="../../da/dda/libasteriskssl_8c_source.html#l00064">ssl_lock()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03825">start_batch_mode()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12600">start_network_thread()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l02967">start_rtp()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01680">stasis_app_control_shutdown()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02865">statistics_show_messages()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01257">stop_mixmonitor_full()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13209">stop_poll_thread()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00969">store_pgsql()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00085">stun_monitor_request()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00209">stun_stop_monitor()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l05156">sync_task()</a>, <a class="el" href="../../d3/de4/cdr__syslog_8c_source.html#l00086">syslog_log()</a>, <a class="el" href="../../dc/dce/test__res__pjsip__scheduler_8c_source.html#l00063">task_1()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00481">tds_load_module()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00109">tds_log()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00442">tds_unload_module()</a>, <a class="el" href="../../da/d14/test__dns_8c_source.html#l00731">test_cancel()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00177">test_msg_handle_msg_cb()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09460">timing_read()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00402">tps_ping_handler()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l04282">transmit_frame()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02377">transmit_response_bysession()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05254">unistim_fixup()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l04927">unistim_hangup_clean()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05204">unistim_read()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01920">unistim_register()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06117">unistim_show_devices()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06035">unistim_show_info()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05216">unistim_write()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05089">unistimsock_read()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04947">unload_module()</a>, <a class="el" href="../../d6/d05/test__scoped__lock_8c_source.html#l00049">unlock_it()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00336">unlock_msg_q()</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00358">unlock_read()</a>, <a class="el" href="../../dc/d12/res__config__ldap_8c_source.html#l01491">update2_ldap()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00843">update2_pgsql()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00701">update_pgsql()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00196">user_event_hook_cb()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00251">user_event_wait_for_events()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l02021">vm_allocate_dh()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l11503">vm_execmain()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10427">vm_instructions_en()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l10515">vm_instructions_ja()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00842">wait_for_channel_callback()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00292">wait_for_device_state_updates()</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00050">wait_for_hook()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02201">wait_for_initiator()</a>, <a class="el" href="../../d5/d36/test__dns__recurring_8c_source.html#l00205">wait_for_resolution()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00954">wait_until_thread_state_task_pushed()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01044">worker_start()</a>, <a class="el" href="../../db/d94/cel__sqlite3__custom_8c_source.html#l00240">write_cel()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03120">xmpp_pak_message()</a>.</p>

</div>
</div>
<a id="a6009440c7a72f8e2e3b1ec97641ad160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6009440c7a72f8e2e3b1ec97641ad160">&#9670;&nbsp;</a></span>AST_PTHREADT_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PTHREADT_NULL&#160;&#160;&#160;(pthread_t) -1</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a2">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">66</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00983">__allocate_taskprocessor()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00748">__ast_rwlock_unlock()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07112">__manager_event_sessions_va()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l04275">__sip_reliable_xmit()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07657">accept_thread()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16404">action_dahdishowchannels()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04206">action_waitevent()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13680">actual_load_config()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00411">add_notify()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00200">ast_autoservice_start()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00266">ast_autoservice_stop()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01281">ast_console_puts_mutable_full()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00471">ast_devstate_changed_literal()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00225">ast_dial_create()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01021">ast_dial_join()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00795">ast_localtime_wakeup_monitor()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00278">ast_pjproject_log_intercept_end()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l03047">ast_safe_fork()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00195">ast_sched_start_thread()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00410">ast_sip_destroy_transport_management()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01212">ast_taskprocessor_execute()</a>, <a class="el" href="../../dc/d9b/tcptls_8c_source.html#l00685">ast_tcptls_server_start()</a>, <a class="el" href="../../dc/d9b/tcptls_8c_source.html#l00849">ast_tcptls_server_stop()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03528">ast_xmpp_client_disconnect()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00078">autoservice_run()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00369">autoservice_shutdown()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05009">bridge_manager_create()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04977">bridge_manager_destroy()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01606">build_conf()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02229">build_mansession()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00868">calendar_event_notify()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04416">cdr_enable_batch_mode()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03766">cdr_submit_batch()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01249">cleanup_module()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01912">close_logger()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02331">conf_free()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13729">dahdi_cc_callback()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11068">dahdi_destroy_channel_range()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15424">dahdi_restart()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00955">default_listener_pvt_alloc()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00250">default_listener_shutdown()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07426">destroy_session()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00605">device_state_engine_cleanup()</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00450">do_reload()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l01294">expiration_global_loaded()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04277">finalize_batch_mode()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07907">generic_http_callback()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06735">get_input()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l03111">handle_call_outgoing()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01356">init_pvt()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l00353">inotify_daemon()</a>, <a class="el" href="../../da/db9/pjsip__transport__management_8c_source.html#l00317">keepalive_global_loaded()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04480">mbl_load_device()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02966">meetme_menu_admin_extended()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l01893">moh_class_destructor()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03370">monitor_sig_flags()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00192">ooh323c_stop_call_thread()</a>, <a class="el" href="../../d2/dae/ooh323cDriver_8c_source.html#l00214">ooh323c_stop_stack_thread()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l02004">really_quit()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11770">restart_monitor()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">restart_pktc_thread()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00173">sched_thread_destroy()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l19348">setup_dahdi_int()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07420">sla_destroy()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07855">sla_load_config()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02419">sla_queue_event_full()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00224">smdi_interface_destroy()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00952">smdi_load()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02079">softmix_bridge_create()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l02145">softmix_bridge_destroy()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00173">sorcery_memory_cache_thrash_create()</a>, <a class="el" href="../../dc/d90/test__sorcery__memory__cache__thrash_8c_source.html#l00296">sorcery_memory_cache_thrash_stop()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04261">start_monitor()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l13209">stop_poll_thread()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l00401">stop_stream()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00171">unbound_resolver_alloc()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00217">unbound_resolver_start()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00237">unbound_resolver_stop()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01988">unistim_alloc_sub()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l15050">unload_module()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01009">worker_shutdown()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01093">worker_thread_alloc()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l00604">xmpp_client_alloc()</a>.</p>

</div>
</div>
<a id="a873a83eb8196323194aac2bea23d794e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873a83eb8196323194aac2bea23d794e">&#9670;&nbsp;</a></span>AST_PTHREADT_STOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PTHREADT_STOP&#160;&#160;&#160;(pthread_t) -2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00067">67</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l17540">__unload_module()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00166">answer_exec_run()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01021">ast_dial_join()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l15424">dahdi_restart()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00770">monitor_dial()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11770">restart_monitor()</a>, <a class="el" href="../../dd/d95/res__pktccops_8c_source.html#l00993">restart_pktc_thread()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00224">smdi_interface_destroy()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00237">unbound_resolver_stop()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00195">unbound_resolver_thread()</a>, and <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l04947">unload_module()</a>.</p>

</div>
</div>
<a id="a7443635fb39ae2aa946e2373dada3ac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7443635fb39ae2aa946e2373dada3ac7">&#9670;&nbsp;</a></span>AST_RWLOCK_DEFINE_STATIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_RWLOCK_DEFINE_STATIC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rwlock</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a2e969a7262f7d4c9e39ead52fdd4772e">__AST_RWLOCK_DEFINE</a>(static, rwlock, <a class="el" href="../../d4/dc5/extconf_8c.html#a3d58053904fa524e003b1a5ae7a5a8d6">AST_RWLOCK_INIT_VALUE</a>, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00541">541</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="ae6ae7e2b6bbf7c11ff7297fb2d31eb24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ae7e2b6bbf7c11ff7297fb2d31eb24">&#9670;&nbsp;</a></span>AST_RWLOCK_DEFINE_STATIC_NOTRACKING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_RWLOCK_DEFINE_STATIC_NOTRACKING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rwlock</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a2e969a7262f7d4c9e39ead52fdd4772e">__AST_RWLOCK_DEFINE</a>(static, rwlock, <a class="el" href="../../dd/d42/lock_8h.html#a2a88c9b31dd8d1c740da04397349cb5f">AST_RWLOCK_INIT_VALUE_NOTRACKING</a>, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00542">542</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="ab1d35b9611e8b5143ec695ead1b5d8d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1d35b9611e8b5143ec695ead1b5d8d1">&#9670;&nbsp;</a></span>ast_rwlock_destroy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_destroy</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rwlock</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a20ea9dd0a8ffe015a9dcbf38671586aa">__ast_rwlock_destroy</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, #rwlock, rwlock)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00231">231</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/df7/astobj2_8c_source.html#l00498">__ao2_ref()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08050">__ast_internal_context_destroy()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00363">ast_hashtab_destroy()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00353">ast_hashtab_destroylock()</a>, <a class="el" href="../../d2/d29/heap_8c_source.html#l00146">ast_heap_destroy()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00974">ast_rtp_codecs_payloads_destroy()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00117">destroy_table()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01704">message_shutdown()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00529">messaging_cleanup()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00539">messaging_init()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00122">sorcery_config_destructor()</a>, and <a class="el" href="../../de/d43/translate_8c_source.html#l01613">translate_shutdown()</a>.</p>

</div>
</div>
<a id="a9b07039db138693d1ebe02c3e99ddcab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b07039db138693d1ebe02c3e99ddcab">&#9670;&nbsp;</a></span>ast_rwlock_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rwlock</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a542601374f9b56267732e1eddf5aee4d">__ast_rwlock_init</a>(1, __FILE__, __LINE__, __PRETTY_FUNCTION__, #rwlock, rwlock)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wrapper for rwlock with tracking enabled </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non zero for error </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.6.1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00222">222</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00216">_ast_hashtab_create()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00261">_ast_hashtab_dup()</a>, <a class="el" href="../../d2/d29/heap_8c_source.html#l00112">_ast_heap_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00348">ast_hashtab_initlock()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01730">ast_msg_init()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00958">ast_rtp_codecs_payloads_initialize()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03622">ast_rtp_engine_init()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l01630">ast_translate_init()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00250">find_table()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00681">internal_ao2_alloc()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00539">messaging_init()</a>, and <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00460">sorcery_config_open()</a>.</p>

</div>
</div>
<a id="ae7a6a5dfa4b3992fc7bedc7e166ffa12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7a6a5dfa4b3992fc7bedc7e166ffa12">&#9670;&nbsp;</a></span>ast_rwlock_init_notracking</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_init_notracking</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rwlock</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a542601374f9b56267732e1eddf5aee4d">__ast_rwlock_init</a>(0, __FILE__, __LINE__, __PRETTY_FUNCTION__, #rwlock, rwlock)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wrapper for ast_rwlock_init with tracking disabled </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non zero for error </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.6.1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00229">229</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a3d58053904fa524e003b1a5ae7a5a8d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d58053904fa524e003b1a5ae7a5a8d6">&#9670;&nbsp;</a></span>AST_RWLOCK_INIT_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_RWLOCK_INIT_VALUE&#160;&#160;&#160;{ <a class="el" href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00098">98</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a2a88c9b31dd8d1c740da04397349cb5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a88c9b31dd8d1c740da04397349cb5f">&#9670;&nbsp;</a></span>AST_RWLOCK_INIT_VALUE_NOTRACKING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_RWLOCK_INIT_VALUE_NOTRACKING&#160;&#160;&#160;{ <a class="el" href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {0, 0} }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00099">99</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a7330ac9d36b05bad68b188c2dcfa42d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7330ac9d36b05bad68b188c2dcfa42d7">&#9670;&nbsp;</a></span>ast_rwlock_rdlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_rdlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a2f090243612af9282754cec853ae8908">__ast_rwlock_rdlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">233</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00637">_ast_hashtab_start_traversal()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01306">action_messagesend()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02922">allowed_on_shutdown()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00263">ast_adsi_available()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00032">ast_adsi_begin_download()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00054">ast_adsi_channel_restore()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00241">ast_adsi_clear_screen()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00230">ast_adsi_clear_soft_keys()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00131">ast_adsi_connect_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00219">ast_adsi_data_mode()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00197">ast_adsi_disconnect_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00274">ast_adsi_display()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00186">ast_adsi_download_connect()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00208">ast_adsi_download_disconnect()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00043">ast_adsi_end_download()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00164">ast_adsi_get_cpeid()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00175">ast_adsi_get_cpeinfo()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00318">ast_adsi_input_control()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00329">ast_adsi_input_format()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00076">ast_adsi_load_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00296">ast_adsi_load_soft_key()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00065">ast_adsi_print()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00142">ast_adsi_query_cpeid()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00153">ast_adsi_query_cpeinfo()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00120">ast_adsi_read_encoded_dtmf()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00307">ast_adsi_set_keys()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00285">ast_adsi_set_line()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00098">ast_adsi_transmit_message()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00109">ast_adsi_transmit_message_full()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00087">ast_adsi_unload_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00252">ast_adsi_voice_mode()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00258">ast_calendar_config_acquire()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00563">ast_hashtab_get_stats()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00486">ast_hashtab_lookup()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00509">ast_hashtab_lookup_with_hash()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00343">ast_hashtab_rdlock()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00937">ast_msg_has_destination()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01369">ast_msg_send()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08525">ast_rdlock_context()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01975">ast_rtp_codecs_find_payload_code()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01569">ast_rtp_codecs_get_framing()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01479">ast_rtp_codecs_get_payload()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01537">ast_rtp_codecs_get_payload_format()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01460">ast_rtp_codecs_get_stream_type()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01873">ast_rtp_codecs_payload_code()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01928">ast_rtp_codecs_payload_code_tx()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01580">ast_rtp_codecs_payload_formats()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01301">ast_rtp_codecs_payloads_set_m_type()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01343">ast_rtp_codecs_payloads_set_rtpmap_type_rate()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01992">ast_rtp_lookup_mime_subtype2()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02022">ast_rtp_lookup_sample_rate2()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00246">ast_str_retrieve_variable()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00819">ast_taskprocessor_alert_get()</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00162">beanstalk_put()</a>, <a class="el" href="../../d1/d0c/cel__beanstalkd_8c_source.html#l00089">cel_bs_put()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00104">codec_to_index()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01094">corosync_show_config()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00647">cpg_confchg_cb()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00484">cpg_deliver_cb()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00250">find_table()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l00703">get_active_pvt()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l04397">get_general_options()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00359">get_odbc_obj()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00394">get_subscription()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00306">handle_msg_cb()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00846">handle_show_globals()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00213">has_destination_cb()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00170">index2codec()</a>, <a class="el" href="../../df/d5a/cdr__manager_8c_source.html#l00273">manager_log()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00907">msg_q_cb()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01226">msg_send_exec()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03487">rtp_address_is_ice_blacklisted()</a>, and <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03510">stun_address_is_blacklisted()</a>.</p>

</div>
</div>
<a id="a5c15c248ca3962049deda255a99c4efa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c15c248ca3962049deda255a99c4efa">&#9670;&nbsp;</a></span>ast_rwlock_timedrdlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_timedrdlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a0ca9b58f40b302cc26abc893a5756f87">__ast_rwlock_timedrdlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00237">237</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a3417b107ca3c5c610b2ced323595a756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3417b107ca3c5c610b2ced323595a756">&#9670;&nbsp;</a></span>ast_rwlock_timedwrlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_timedwrlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a58b72d9298da9c1e75a41c552a47420c">__ast_rwlock_timedwrlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00238">238</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="af65c888941c741acb2e2078d5d078c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af65c888941c741acb2e2078d5d078c49">&#9670;&nbsp;</a></span>ast_rwlock_tryrdlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_tryrdlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a3cce8ec0094012ca07eb845bc625f1dc">__ast_rwlock_tryrdlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00235">235</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01224">ast_rtp_codecs_payloads_copy()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01257">ast_rtp_codecs_payloads_xover()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00965">corosync_show_members()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00782">dispatch_thread_handler()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00544">publish_event_to_corosync()</a>, and <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00737">send_cluster_notify()</a>.</p>

</div>
</div>
<a id="ab8959e56195d995bea0ea495431179e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8959e56195d995bea0ea495431179e4">&#9670;&nbsp;</a></span>ast_rwlock_trywrlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_trywrlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ab1235f20336be4c4921928035a41cdb7">__ast_rwlock_trywrlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00236">236</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01249">cleanup_module()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00782">dispatch_thread_handler()</a>, and <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01336">load_module()</a>.</p>

</div>
</div>
<a id="ac2920a1db37313ec46bd91dc83bf9c8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2920a1db37313ec46bd91dc83bf9c8a">&#9670;&nbsp;</a></span>ast_rwlock_unlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_unlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#a5e06bf903ae27ad5d5eef4b60905c7a7">__ast_rwlock_unlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">232</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00404">_ast_hashtab_insert_immediate()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00460">_ast_hashtab_insert_safe()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01306">action_messagesend()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00147">add_codec2index()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03183">add_static_payload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02922">allowed_on_shutdown()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00263">ast_adsi_available()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00032">ast_adsi_begin_download()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00054">ast_adsi_channel_restore()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00241">ast_adsi_clear_screen()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00230">ast_adsi_clear_soft_keys()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00131">ast_adsi_connect_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00219">ast_adsi_data_mode()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00197">ast_adsi_disconnect_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00274">ast_adsi_display()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00186">ast_adsi_download_connect()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00208">ast_adsi_download_disconnect()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00043">ast_adsi_end_download()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00164">ast_adsi_get_cpeid()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00175">ast_adsi_get_cpeinfo()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00318">ast_adsi_input_control()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00329">ast_adsi_input_format()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00340">ast_adsi_install_funcs()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00076">ast_adsi_load_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00296">ast_adsi_load_soft_key()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00065">ast_adsi_print()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00142">ast_adsi_query_cpeid()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00153">ast_adsi_query_cpeinfo()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00120">ast_adsi_read_encoded_dtmf()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00307">ast_adsi_set_keys()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00285">ast_adsi_set_line()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00098">ast_adsi_transmit_message()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00109">ast_adsi_transmit_message_full()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00087">ast_adsi_unload_session()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00252">ast_adsi_voice_mode()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00258">ast_calendar_config_acquire()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00270">ast_calendar_config_release()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l03026">ast_cli_allow_at_shutdown()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00363">ast_hashtab_destroy()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00674">ast_hashtab_end_traversal()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00563">ast_hashtab_get_stats()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00486">ast_hashtab_lookup()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00509">ast_hashtab_lookup_with_hash()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00746">ast_hashtab_remove_object_via_lookup()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00789">ast_hashtab_remove_this_object()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00358">ast_hashtab_unlock()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01629">ast_msg_handler_register()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01671">ast_msg_handler_unregister()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00937">ast_msg_has_destination()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01369">ast_msg_send()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01569">ast_msg_tech_register()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01610">ast_msg_tech_unregister()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01975">ast_rtp_codecs_find_payload_code()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01569">ast_rtp_codecs_get_framing()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01479">ast_rtp_codecs_get_payload()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01537">ast_rtp_codecs_get_payload_format()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01460">ast_rtp_codecs_get_stream_type()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01873">ast_rtp_codecs_payload_code()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01928">ast_rtp_codecs_payload_code_tx()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01580">ast_rtp_codecs_payload_formats()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01503">ast_rtp_codecs_payload_replace_format()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01224">ast_rtp_codecs_payloads_copy()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01301">ast_rtp_codecs_payloads_set_m_type()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01343">ast_rtp_codecs_payloads_set_rtpmap_type_rate()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01433">ast_rtp_codecs_payloads_unset()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01257">ast_rtp_codecs_payloads_xover()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01558">ast_rtp_codecs_set_framing()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03245">ast_rtp_engine_unload_format()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01992">ast_rtp_lookup_mime_subtype2()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02022">ast_rtp_lookup_sample_rate2()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00246">ast_str_retrieve_variable()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00819">ast_taskprocessor_alert_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00162">beanstalk_put()</a>, <a class="el" href="../../d1/d0c/cel__beanstalkd_8c_source.html#l00089">cel_bs_put()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01249">cleanup_module()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00104">codec_to_index()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01094">corosync_show_config()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00965">corosync_show_members()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00647">cpg_confchg_cb()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00484">cpg_deliver_cb()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01404">destroy_pvts()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00117">destroy_table()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00782">dispatch_thread_handler()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l00703">get_active_pvt()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l04397">get_general_options()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00359">get_odbc_obj()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00459">get_or_create_subscription()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00394">get_subscription()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00306">handle_msg_cb()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00846">handle_show_globals()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00213">has_destination_cb()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00170">index2codec()</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00082">load_config()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01177">load_general_config()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01798">load_module()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>, <a class="el" href="../../df/d5a/cdr__manager_8c_source.html#l00273">manager_log()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00194">matrix_resize()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00423">messaging_app_unsubscribe_endpoint()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00907">msg_q_cb()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01226">msg_send_exec()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01191">pbx_builtin_clear_globals()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01038">pbx_builtin_pushvar_helper()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00544">publish_event_to_corosync()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01897">reload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02390">remove_shutdown_command()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03487">rtp_address_is_ice_blacklisted()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01815">rtp_codecs_assign_payload_code_rx()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l09346">rtp_reload()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03471">rtp_unload_acl()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00737">send_cluster_notify()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01174">set_active()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l04390">set_general_options()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03155">set_next_mime_type()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00551">sip_outbound_publish_client_get_publisher()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03510">stun_address_is_blacklisted()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00794">tps_alert_add()</a>, and <a class="el" href="../../de/d43/translate_8c_source.html#l01613">translate_shutdown()</a>.</p>

</div>
</div>
<a id="a045bd81ceab2de81e42af338ad7cf121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045bd81ceab2de81e42af338ad7cf121">&#9670;&nbsp;</a></span>ast_rwlock_wrlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_rwlock_wrlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/dae/lock_8c.html#ad03393e9b1edf72e9df58c6f5d7e6644">__ast_rwlock_wrlock</a>(__FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, #<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">234</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d35/hashtab_8c_source.html#l00404">_ast_hashtab_insert_immediate()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00460">_ast_hashtab_insert_safe()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00656">_ast_hashtab_start_write_traversal()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00147">add_codec2index()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03183">add_static_payload()</a>, <a class="el" href="../../de/d78/adsi_8c_source.html#l00340">ast_adsi_install_funcs()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l03026">ast_cli_allow_at_shutdown()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00363">ast_hashtab_destroy()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00746">ast_hashtab_remove_object_via_lookup()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00789">ast_hashtab_remove_this_object()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00338">ast_hashtab_wrlock()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01629">ast_msg_handler_register()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01671">ast_msg_handler_unregister()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01569">ast_msg_tech_register()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01610">ast_msg_tech_unregister()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01503">ast_rtp_codecs_payload_replace_format()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01224">ast_rtp_codecs_payloads_copy()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01301">ast_rtp_codecs_payloads_set_m_type()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01343">ast_rtp_codecs_payloads_set_rtpmap_type_rate()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01433">ast_rtp_codecs_payloads_unset()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01257">ast_rtp_codecs_payloads_xover()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01558">ast_rtp_codecs_set_framing()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03245">ast_rtp_engine_unload_format()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01249">cleanup_module()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01404">destroy_pvts()</a>, <a class="el" href="../../d1/dc8/res__config__pgsql_8c_source.html#l00117">destroy_table()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00459">get_or_create_subscription()</a>, <a class="el" href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00082">load_config()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l01177">load_general_config()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01798">load_module()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>, <a class="el" href="../../de/d43/translate_8c_source.html#l00194">matrix_resize()</a>, <a class="el" href="../../db/d21/messaging_8c_source.html#l00423">messaging_app_unsubscribe_endpoint()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01191">pbx_builtin_clear_globals()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01038">pbx_builtin_pushvar_helper()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01897">reload()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02390">remove_shutdown_command()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01815">rtp_codecs_assign_payload_code_rx()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03585">rtp_engine_shutdown()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l09346">rtp_reload()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l03471">rtp_unload_acl()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01174">set_active()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l04390">set_general_options()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03155">set_next_mime_type()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00551">sip_outbound_publish_client_get_publisher()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l00794">tps_alert_add()</a>, and <a class="el" href="../../de/d43/translate_8c_source.html#l01613">translate_shutdown()</a>.</p>

</div>
</div>
<a id="a7b1d6c8183a6f6f42a98239da3d1c7ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1d6c8183a6f6f42a98239da3d1c7ca">&#9670;&nbsp;</a></span>CHANNEL_DEADLOCK_AVOIDANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHANNEL_DEADLOCK_AVOIDANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">chan</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00352">352</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07386">dahdi_handle_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l08418">dahdi_read()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01109">mbl_read()</a>, and <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01167">mbl_write()</a>.</p>

</div>
</div>
<a id="a851106e971b4611a38cb4be8b39d9fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a851106e971b4611a38cb4be8b39d9fcf">&#9670;&nbsp;</a></span>DEADLOCK_AVOIDANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEADLOCK_AVOIDANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00374">374</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04901">close_udptl_connection()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">configure_local_rtp()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03465">dahdi_lock_sub_owner()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l06981">dahdi_master_slave_unlink()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03490">dahdi_queue_frame()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00318">grab_owner()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03459">iax2_destroy()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05462">iax2_key_rotate()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01335">iax2_lock_owner()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01317">mbl_queue_control()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l01334">mbl_queue_hangup()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00604">mgcp_queue_frame()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00621">mgcp_queue_hangup()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01734">my_deadlock_avoidance_private()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01682">onAlerting()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02236">onCallCleared()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l02181">onCallEstablished()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05076">onModeChanged()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01738">onProgress()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">ooh323_destroy()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01798">ooh323_onReceivedDigit()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01625">ooh323_set_read_format()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01553">ooh323_set_write_format()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08495">release_chan()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08561">release_chan_early()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04839">setup_udptl_connection()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05348">wait_for_peercallno()</a>.</p>

</div>
</div>
<a id="a0dde24cad9d699034d4ece0d576364d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dde24cad9d699034d4ece0d576364d8">&#9670;&nbsp;</a></span>DLA_LOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DLA_LOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deadlock avoidance lock. </p>
<p>In certain deadlock avoidance scenarios, there is more than one lock to be unlocked and relocked. Therefore, this pair of macros is provided for that purpose. Note that every DLA_UNLOCK <em>MUST</em> be paired with a matching DLA_LOCK. The intent of this pair of macros is to be used around another set of deadlock avoidance code, mainly CHANNEL_DEADLOCK_AVOIDANCE, as the locking order specifies that we may safely lock a channel, followed by its pvt, with no worries about a deadlock. In any other scenario, this macro may not be safe to use. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00427">427</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07386">dahdi_handle_event()</a>.</p>

</div>
</div>
<a id="a0fd21e02b26076ca0b070300f46c0a70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd21e02b26076ca0b070300f46c0a70">&#9670;&nbsp;</a></span>DLA_UNLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DLA_UNLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">      char __filename[80], __func[80], __mutex_name[80]; \</div><div class="line">      int __lineno; \</div><div class="line">      int __res = <a class="code" href="../../dd/d42/lock_8h.html#aacd7565f51724188ecf0f21f2a43fb1e">ast_find_lock_info</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, __filename, <span class="keyword">sizeof</span>(__filename), &amp;__lineno, __func, <span class="keyword">sizeof</span>(__func), __mutex_name, <span class="keyword">sizeof</span>(__mutex_name)); \</div><div class="line">      int __res2 = <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="ttc" id="lock_8h_html_aacd7565f51724188ecf0f21f2a43fb1e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#aacd7565f51724188ecf0f21f2a43fb1e">ast_find_lock_info</a></div><div class="ttdeci">int ast_find_lock_info(void *lock_addr, char *filename, size_t filename_size, int *lineno, char *func, size_t func_size, char *mutex_name, size_t mutex_name_size)</div><div class="ttdoc">retrieve lock info for the specified mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00995">main/utils.c:995</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
<p>Deadlock avoidance unlock. </p>
<p>In certain deadlock avoidance scenarios, there is more than one lock to be unlocked and relocked. Therefore, this pair of macros is provided for that purpose. Note that every DLA_UNLOCK <em>MUST</em> be paired with a matching DLA_LOCK. The intent of this pair of macros is to be used around another set of deadlock avoidance code, mainly CHANNEL_DEADLOCK_AVOIDANCE, as the locking order specifies that we may safely lock a channel, followed by its pvt, with no worries about a deadlock. In any other scenario, this macro may not be safe to use. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00408">408</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07386">dahdi_handle_event()</a>.</p>

</div>
</div>
<a id="a4ea1f9df0b5824c343b2afa55a4efff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea1f9df0b5824c343b2afa55a4efff7">&#9670;&nbsp;</a></span>DO_THREAD_CRASH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DO_THREAD_CRASH&#160;&#160;&#160;do { } <a class="el" href="../../d2/d7e/ael__lex_8c.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">247</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00604">__ast_cond_timedwait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00539">__ast_cond_wait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00175">__ast_pthread_mutex_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00144">__ast_pthread_mutex_init()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00421">__ast_pthread_mutex_unlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00701">__ast_rwlock_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00669">__ast_rwlock_init()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00819">__ast_rwlock_rdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01014">__ast_rwlock_timedrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01096">__ast_rwlock_timedwrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00748">__ast_rwlock_unlock()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00917">__ast_rwlock_wrlock()</a>.</p>

</div>
</div>
<a id="a2b655e0d89e519d3b700bbe677d5de79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b655e0d89e519d3b700bbe677d5de79">&#9670;&nbsp;</a></span>gethostbyname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gethostbyname&#160;&#160;&#160;__gethostbyname__is__not__reentrant__use__ast_gethostbyname__instead__</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00637">637</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d8a/muted_8c_source.html#l00225">connect_asterisk()</a>, <a class="el" href="../../df/d51/eagi-sphinx-test_8c_source.html#l00041">connect_sphinx()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00217">connect_to_host()</a>, <a class="el" href="../../db/db3/streamplayer_8c_source.html#l00062">main()</a>, and <a class="el" href="../../d2/d4d/astman_8c_source.html#l00629">manager_login()</a>.</p>

</div>
</div>
<a id="a3b1128c835ac52cd37491b83ac7ba960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b1128c835ac52cd37491b83ac7ba960">&#9670;&nbsp;</a></span>pthread_cond_broadcast</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_cond_broadcast&#160;&#160;&#160;use_ast_cond_broadcast_instead_of_pthread_cond_broadcast</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00631">631</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00504">__ast_cond_broadcast()</a>.</p>

</div>
</div>
<a id="ac38f661413e63bfd29df48df06bb971a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac38f661413e63bfd29df48df06bb971a">&#9670;&nbsp;</a></span>pthread_cond_destroy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_cond_destroy&#160;&#160;&#160;use_ast_cond_destroy_instead_of_pthread_cond_destroy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00629">629</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00510">__ast_cond_destroy()</a>.</p>

</div>
</div>
<a id="add2cefb5ff3e9f955234b1d6adb7deaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add2cefb5ff3e9f955234b1d6adb7deaf">&#9670;&nbsp;</a></span>pthread_cond_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_cond_init&#160;&#160;&#160;use_ast_cond_init_instead_of_pthread_cond_init</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00628">628</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00492">__ast_cond_init()</a>.</p>

</div>
</div>
<a id="ac4329478079a76b8a3017beec8eaadf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4329478079a76b8a3017beec8eaadf4">&#9670;&nbsp;</a></span>pthread_cond_signal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_cond_signal&#160;&#160;&#160;use_ast_cond_signal_instead_of_pthread_cond_signal</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00630">630</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00498">__ast_cond_signal()</a>.</p>

</div>
</div>
<a id="a259021fc2d154a391912e86fcf6cef7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a259021fc2d154a391912e86fcf6cef7a">&#9670;&nbsp;</a></span>pthread_cond_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_cond_t&#160;&#160;&#160;use_ast_cond_t_instead_of_pthread_cond_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00621">621</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="ae96b861c8d74168ee14ef2691a64ff91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96b861c8d74168ee14ef2691a64ff91">&#9670;&nbsp;</a></span>pthread_cond_timedwait</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_cond_timedwait&#160;&#160;&#160;use_ast_cond_timedwait_instead_of_pthread_cond_timedwait</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00633">633</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00604">__ast_cond_timedwait()</a>.</p>

</div>
</div>
<a id="aea3321e2626f3f6d7f1cc855de2ffc27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3321e2626f3f6d7f1cc855de2ffc27">&#9670;&nbsp;</a></span>pthread_cond_wait</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_cond_wait&#160;&#160;&#160;use_ast_cond_wait_instead_of_pthread_cond_wait</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00632">632</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00539">__ast_cond_wait()</a>.</p>

</div>
</div>
<a id="a3c7d37cba2d420a45309a93b799d9db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7d37cba2d420a45309a93b799d9db9">&#9670;&nbsp;</a></span>pthread_create</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_create&#160;&#160;&#160;__use_ast_pthread_create_instead__</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00640">640</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01446">ast_pthread_create_stack()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00107">main()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l04143">misdn_lib_init()</a>, and <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l03554">misdn_tasks_init()</a>.</p>

</div>
</div>
<a id="abda856b9d567d956a04e1dd3139acc40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda856b9d567d956a04e1dd3139acc40">&#9670;&nbsp;</a></span>pthread_mutex_destroy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_mutex_destroy&#160;&#160;&#160;use_ast_mutex_destroy_instead_of_pthread_mutex_destroy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00627">627</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00175">__ast_pthread_mutex_destroy()</a>, <a class="el" href="../../df/d63/spinlock_8h_source.html#l00430">ast_spinlock_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00129">delete_reentrancy_cs()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00864">lock_info_destroy()</a>, and <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l01454">stack_destroy()</a>.</p>

</div>
</div>
<a id="ad7693eb0c23d9649f82992b785ddbe4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7693eb0c23d9649f82992b785ddbe4e">&#9670;&nbsp;</a></span>pthread_mutex_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_mutex_init&#160;&#160;&#160;use_ast_mutex_init_instead_of_pthread_mutex_init</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00626">626</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00144">__ast_pthread_mutex_init()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../df/d63/spinlock_8h_source.html#l00409">ast_spinlock_init()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01394">dummy_start()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l01210">init_bc()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00107">main()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l01274">stack_init()</a>, and <a class="el" href="../../db/d19/threadstorage_8c_source.html#l00035">threadstorage_init()</a>.</p>

</div>
</div>
<a id="a9a4b324d8380fae65acef50d8ecd979e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4b324d8380fae65acef50d8ecd979e">&#9670;&nbsp;</a></span>PTHREAD_MUTEX_INIT_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTHREAD_MUTEX_INIT_VALUE&#160;&#160;&#160;PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00076">76</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a6ef26f63d38c1d8cdf05a15b6b368c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef26f63d38c1d8cdf05a15b6b368c24">&#9670;&nbsp;</a></span>pthread_mutex_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_mutex_lock&#160;&#160;&#160;use_ast_mutex_lock_instead_of_pthread_mutex_lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">623</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de0/backtrace_8c_source.html#l00098">__ast_bt_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01264">ast_dump_locks()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00995">ast_find_lock_info()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01231">ast_log_show_lock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00962">ast_mark_lock_acquired()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00978">ast_mark_lock_failed()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01088">ast_remove_lock_info()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01059">ast_restore_lock_info()</a>, <a class="el" href="../../df/d63/spinlock_8h_source.html#l00415">ast_spinlock_lock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00905">ast_store_lock_info()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01030">ast_suspend_lock_info()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01394">dummy_start()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00513">find_free_chan_in_stack()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l01890">handle_event_nt()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l02626">handle_frm_nt()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l02803">handle_l1()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l02216">handle_timers()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00864">lock_info_destroy()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00107">main()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l04025">manager_event_handler()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l03205">misdn_lib_get_free_bc()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00890">misdn_lib_get_l2_down()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00932">misdn_lib_get_l2_up()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l03509">misdn_send_lock()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00161">readStdin()</a>, and <a class="el" href="../../db/d19/threadstorage_8c_source.html#l00035">threadstorage_init()</a>.</p>

</div>
</div>
<a id="a8e5e1258259c05f5e7cc242584a10a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5e1258259c05f5e7cc242584a10a4d">&#9670;&nbsp;</a></span>pthread_mutex_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_mutex_t&#160;&#160;&#160;use_ast_mutex_t_instead_of_pthread_mutex_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00620">620</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de0/backtrace_8c_source.html#l00098">__ast_bt_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00604">__ast_cond_timedwait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00539">__ast_cond_wait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00175">__ast_pthread_mutex_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00144">__ast_pthread_mutex_init()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00421">__ast_pthread_mutex_unlock()</a>, and <a class="el" href="../../db/d19/threadstorage_8c_source.html#l00035">threadstorage_init()</a>.</p>

</div>
</div>
<a id="a482c9379812cdb921e5876b3d5061449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a482c9379812cdb921e5876b3d5061449">&#9670;&nbsp;</a></span>pthread_mutex_trylock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_mutex_trylock&#160;&#160;&#160;use_ast_mutex_trylock_instead_of_pthread_mutex_trylock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00625">625</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00175">__ast_pthread_mutex_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00366">__ast_pthread_mutex_trylock()</a>, and <a class="el" href="../../df/d63/spinlock_8h_source.html#l00420">ast_spinlock_trylock()</a>.</p>

</div>
</div>
<a id="ab417dd049910b852a43732c15e8dcaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab417dd049910b852a43732c15e8dcaf2">&#9670;&nbsp;</a></span>pthread_mutex_unlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pthread_mutex_unlock&#160;&#160;&#160;use_ast_mutex_unlock_instead_of_pthread_mutex_unlock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">624</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de0/backtrace_8c_source.html#l00098">__ast_bt_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00175">__ast_pthread_mutex_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00421">__ast_pthread_mutex_unlock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01264">ast_dump_locks()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00995">ast_find_lock_info()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01231">ast_log_show_lock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00962">ast_mark_lock_acquired()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00978">ast_mark_lock_failed()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01088">ast_remove_lock_info()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01059">ast_restore_lock_info()</a>, <a class="el" href="../../df/d63/spinlock_8h_source.html#l00425">ast_spinlock_unlock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00905">ast_store_lock_info()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01030">ast_suspend_lock_info()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01394">dummy_start()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00513">find_free_chan_in_stack()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l01890">handle_event_nt()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l02626">handle_frm_nt()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l02803">handle_l1()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l02216">handle_timers()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00864">lock_info_destroy()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00107">main()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l04025">manager_event_handler()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l03205">misdn_lib_get_free_bc()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00890">misdn_lib_get_l2_down()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00932">misdn_lib_get_l2_up()</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l03516">misdn_send_unlock()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00161">readStdin()</a>, and <a class="el" href="../../db/d19/threadstorage_8c_source.html#l00035">threadstorage_init()</a>.</p>

</div>
</div>
<a id="a118582aaf6a7edf79add7cb332d3f9ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a118582aaf6a7edf79add7cb332d3f9ad">&#9670;&nbsp;</a></span>ROFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROFFSET&#160;&#160;&#160;((lt-&gt;reentrancy &gt; 0) ? (lt-&gt;reentrancy-1) : 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00240">240</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00604">__ast_cond_timedwait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00539">__ast_cond_wait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00175">__ast_pthread_mutex_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00421">__ast_pthread_mutex_unlock()</a>.</p>

</div>
</div>
<a id="a2cfb325ed371eb6e629446bac4676e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cfb325ed371eb6e629446bac4676e9f">&#9670;&nbsp;</a></span>SCOPED_AO2LOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_AO2LOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">varname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (obj), <a class="el" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>scoped lock specialization for ao2 mutexes. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">602</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l02627">apply_menu_to_user()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03637">ast_cdr_fork()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00445">ast_endpoint_snapshot_create()</a>, <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00285">ast_media_cache_create_or_update()</a>, <a class="el" href="../../df/dfb/media__cache_8c_source.html#l00197">ast_media_cache_retrieve()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00842">ast_sip_publish_client_send()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l00138">ast_sip_session_register_sdp_handler()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01101">ast_taskprocessor_set_local()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00956">ast_threadpool_push()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00874">ast_threadpool_set_size()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00928">ast_unreal_channel_push_to_bridge()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01152">cancel_and_unpublish()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01492">clear_stimulus_queue()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03991">cli_show_channels()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03302">complete_confbridge_participant()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00415">consumer_exec()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00226">consumer_exec_sync()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00288">consumer_should_stay()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00460">consumer_wait_for()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00267">consumer_wait_for_completion()</a>, <a class="el" href="../../dd/df4/resource__events_8c_source.html#l00223">event_session_shutdown()</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00155">find_route()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03528">generic_mute_unmute_helper()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00341">get_wait_bridge_wrapper()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06112">handle_bridge_enter()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06281">handle_local_optimization_begin()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06333">handle_local_optimization_end()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03233">kick_conference_participant()</a>, <a class="el" href="../../de/d4c/res__http__websocket_8c_source.html#l00752">one_protocol()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01413">persistent_endpoint_find_or_create()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00591">playback_cancel()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00259">playback_final_update()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00240">playback_first_update()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00665">playback_forward()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00623">playback_pause()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00611">playback_restart()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00653">playback_reverse()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00598">playback_stop()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00638">playback_unpause()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00796">publisher_client_send()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00252">recording_set_state()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06011">remove_stasis_subscriptions()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01260">sip_outbound_publish_callback()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00749">sip_publisher_service_queue()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00370">stasis_app_control_record()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00536">stasis_app_playback_get_state()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00708">stasis_app_playback_operation()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00590">stasis_app_recording_operation()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01884">stasis_topic_pool_get_topic()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00256">threadpool_active_thread_idle()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00332">threadpool_idle_thread_dead()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00654">threadpool_tps_emptied()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00610">threadpool_tps_task_pushed()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00301">threadpool_zombie_thread_dead()</a>.</p>

</div>
</div>
<a id="ae6cf6dea0160cd49facfb2b46120e00b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6cf6dea0160cd49facfb2b46120e00b">&#9670;&nbsp;</a></span>SCOPED_AO2RDLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_AO2RDLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">varname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (obj), <a class="el" href="../../d5/da5/astobj2_8h.html#a24c1bf4b1202c996cf8a793fa6669bc2">ao2_rdlock</a>, <a class="el" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>scoped lock specialization for ao2 read locks. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00607">607</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00195">bucket_file_wizard_retrieve()</a>, and <a class="el" href="../../db/d43/bucket_8c_source.html#l00113">bucket_wizard_retrieve()</a>.</p>

</div>
</div>
<a id="a5aafa1e30b1e729e32222ab8b511465e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aafa1e30b1e729e32222ab8b511465e">&#9670;&nbsp;</a></span>SCOPED_AO2WRLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_AO2WRLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">varname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (obj), <a class="el" href="../../d5/da5/astobj2_8h.html#a3498e30d6154a052e7b64b7a96da8b4b">ao2_wrlock</a>, <a class="el" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>scoped lock specialization for ao2 write locks. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00612">612</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d43/bucket_8c_source.html#l00277">__ast_bucket_scheme_register()</a>, <a class="el" href="../../d5/def/codec_8c_source.html#l00277">__ast_codec_register_with_format()</a>, <a class="el" href="../../de/da6/format_8c_source.html#l00090">__ast_format_interface_register()</a>, and <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00482">ast_format_cache_set()</a>.</p>

</div>
</div>
<a id="aa11d2e2d6aaa7048d48491842c1de738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa11d2e2d6aaa7048d48491842c1de738">&#9670;&nbsp;</a></span>SCOPED_CHANNELLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_CHANNELLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">varname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">chan&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (chan), <a class="el" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>scoped lock specialization for channels. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00617">617</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01217">add_masquerade_store()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">add_transferer_role()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00170">after_bridge_cb_find()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00192">after_bridge_cb_setup()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00406">ast_bridge_read_after_goto()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01561">AST_TEST_DEFINE()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00928">ast_unreal_channel_push_to_bridge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00346">builtin_feature_get_exten()</a>, <a class="el" href="../../d8/d4f/conf__chan__announce_8c_source.html#l00144">conf_announce_channel_push()</a>, <a class="el" href="../../dc/dc1/app__dtmfstore_8c_source.html#l00188">dtmfstore_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00433">get_park_common_datastore_copy()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01211">has_masquerade_store()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01606">internal_feature_read()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01637">internal_feature_write()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01667">internal_featuremap_read()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01682">internal_featuremap_write()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00270">remove_detect()</a>, <a class="el" href="../../dc/dc1/app__dtmfstore_8c_source.html#l00100">remove_dtmf_store()</a>, <a class="el" href="../../dd/d7d/func__holdintercept_8c_source.html#l00077">remove_hold_intercept()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01236">remove_masquerade_store()</a>, <a class="el" href="../../d2/d94/func__scramble_8c_source.html#l00131">remove_scrambler()</a>, <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00229">remove_talk_detect()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01407">report_fax_status()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02018">report_receive_fax_status()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02527">report_send_fax_status()</a>, <a class="el" href="../../dd/d7d/func__holdintercept_8c_source.html#l00144">set_hold_intercept()</a>, <a class="el" href="../../d4/df5/func__talkdetect_8c_source.html#l00260">set_talk_detect()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00081">set_touch_variables()</a>, and <a class="el" href="../../dd/da3/res__stasis__snoop_8c_source.html#l00300">snoop_determine_format()</a>.</p>

</div>
</div>
<a id="a8b9d9f2f2c41ecf3c70587c2510dddfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b9d9f2f2c41ecf3c70587c2510dddfc">&#9670;&nbsp;</a></span>SCOPED_LOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_LOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">varname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lockfunc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">unlockfunc&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<a class="el" href="../../de/df7/time_8h.html#a0726afc816122530dfd83ecf14901ff2">typeof</a>((<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)), varname, ({lockfunc((<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>)); (<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>); }), unlockfunc)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scoped Locks. </p>
<p>Scoped locks provide a way to use RAII locks. In other words, declaration of a scoped lock will automatically define and lock the lock. When the lock goes out of scope, it will automatically be unlocked.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> some_function(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</div><div class="line">{</div><div class="line">    <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, chan, <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>, <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan, <span class="stringliteral">&quot;foo&quot;</span>)) {</div><div class="line">        <span class="keywordflow">return</span> 0;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> -1;</div><div class="line">}</div></div><!-- fragment --><p>In the above example, neither return path requires explicit unlocking of the channel.</p>
<dl class="section note"><dt>Note</dt><dd>Care should be taken when using SCOPED_LOCKS in conjunction with ao2 objects. ao2 objects should be unlocked before they are unreffed. Since SCOPED_LOCK runs once the variable goes out of scope, this can easily lead to situations where the variable gets unlocked after it is unreffed.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>The unique name to give to the scoped lock. You are not likely to reference this outside of the SCOPED_LOCK invocation. </td></tr>
    <tr><td class="paramname">lock</td><td>The variable to lock. This can be anything that can be passed to a locking or unlocking function. </td></tr>
    <tr><td class="paramname">lockfunc</td><td>The function to call to lock the lock </td></tr>
    <tr><td class="paramname">unlockfunc</td><td>The function to call to unlock the lock </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">581</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00082">add_headers_to_message()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03630">ast_bridge_basic_set_flags()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">ast_bridge_transfer_attended()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03699">ast_sip_format_endpoint_ami()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03528">ast_sip_identify_endpoint()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03679">ast_sip_register_endpoint_formatter()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03431">ast_sip_register_endpoint_identifier_with_name()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00614">ast_sip_register_event_publisher_handler()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04511">ast_sip_register_supplement()</a>, <a class="el" href="../../d2/dc0/pjsip__session_8c_source.html#l00090">ast_sip_session_add_supplements()</a>, <a class="el" href="../../d2/dc0/pjsip__session_8c_source.html#l00035">ast_sip_session_register_supplement_with_module()</a>, <a class="el" href="../../d2/dc0/pjsip__session_8c_source.html#l00063">ast_sip_session_unregister_supplement()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03685">ast_sip_unregister_endpoint_formatter()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03513">ast_sip_unregister_endpoint_identifier()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00641">ast_sip_unregister_event_publisher_handler()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l04531">ast_sip_unregister_supplement()</a>, <a class="el" href="../../d6/d05/test__scoped__lock_8c_source.html#l00055">AST_TEST_DEFINE()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic_change_personality()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08038">channel_get_external_vars()</a>, <a class="el" href="../../de/d96/res__pjsip_8c_source.html#l03609">cli_show_endpoint_identifiers()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18693">get_sip_pvt_from_replaces()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26347">handle_request_invite()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00720">remove_hooks_on_personality_change()</a>.</p>

</div>
</div>
<a id="ab13590ad27fac3b9c7c7b792c603c9b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab13590ad27fac3b9c7c7b792c603c9b3">&#9670;&nbsp;</a></span>SCOPED_MUTEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_MUTEX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">varname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>), <a class="el" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>scoped lock specialization for mutexes </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00587">587</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dbc/res__ari_8c_source.html#l00179">ast_ari_add_handler()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10867">ast_channel_move()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03006">ast_config_engine_deregister()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l02990">ast_config_engine_register()</a>, <a class="el" href="../../d6/de3/crypt_8c_source.html#l00136">ast_crypt_validate()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03026">ast_realtime_is_mapping_defined()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01334">complex_task()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03042">find_engine()</a>, <a class="el" href="../../d7/dbc/res__ari_8c_source.html#l00238">get_root_handler()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00111">get_wrapper()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03918">handle_cli_core_show_config_mappings()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01375">has_complex_started()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00945">load_module()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00336">load_task()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00108">message_sink_cb()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01706">mid_test_sync()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01350">poke_worker()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00535">prometheus_callback_register()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00548">prometheus_callback_unregister()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00712">prometheus_last_scrape_time_get()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00287">prometheus_metric_register()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00280">prometheus_metric_registered_count()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00334">prometheus_metric_unregister()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00151">registration_deleted_observer()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00212">registration_loaded_observer()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l02906">reload_module()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00711">shutdown_has_completed()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00735">shutdown_poke()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00679">shutdown_task_exec()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00693">shutdown_waitfor_completion()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00717">shutdown_waitfor_start()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00142">simple_task()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00247">sorcery_observer_created()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00261">sorcery_observer_deleted()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00268">sorcery_observer_loaded()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00254">sorcery_observer_updated()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00039">stasis_message_sink_dtor()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00170">stasis_message_sink_should_stay()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00191">stasis_message_sink_wait_for()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00149">stasis_message_sink_wait_for_count()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00088">task()</a>, <a class="el" href="../../df/df7/test__taskprocessor_8c_source.html#l00104">task_wait()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00089">test_emptied()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00064">test_state_changed()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01790">test_sub()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00077">test_task_pushed()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00876">unload_module()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00194">wait_for_completion()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01393">wait_for_complex_completion()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l01357">wait_for_complex_start()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00217">wait_for_empty_notice()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02995">wait_for_stimulus()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00177">wait_for_task_pushed()</a>, <a class="el" href="../../de/dec/test__threadpool_8c_source.html#l00151">wait_until_thread_state()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01186">worker_set_state()</a>.</p>

</div>
</div>
<a id="aa65b589fd265c905f3682c118f1e02d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa65b589fd265c905f3682c118f1e02d8">&#9670;&nbsp;</a></span>SCOPED_RDLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_RDLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">varname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>), <a class="el" href="../../d4/dc5/extconf_8c.html#ae6703edce409c34119e27bdca1186d10">ast_rwlock_rdlock</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a21ce13cd6c771d5855f47ae7a1dd50b6">ast_rwlock_unlock</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>scoped lock specialization for read locks </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00592">592</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l01951">ast_get_extension_for_mime_type()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01938">ast_get_format_for_file_ext()</a>, <a class="el" href="../../d7/dd8/mixmonitor_8c_source.html#l00074">ast_start_mixmonitor()</a>, and <a class="el" href="../../d7/dd8/mixmonitor_8c_source.html#l00086">ast_stop_mixmonitor()</a>.</p>

</div>
</div>
<a id="a79bf74a5170fe5967176ef1e73002e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79bf74a5170fe5967176ef1e73002e8b">&#9670;&nbsp;</a></span>SCOPED_WRLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCOPED_WRLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">varname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(varname, (<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>), <a class="el" href="../../d4/dc5/extconf_8c.html#a952527792bba2a323118ae911f9aa1f7">ast_rwlock_wrlock</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a21ce13cd6c771d5855f47ae7a1dd50b6">ast_rwlock_unlock</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>scoped lock specialization for write locks </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00597">597</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dd8/mixmonitor_8c_source.html#l00059">ast_clear_mixmonitor_methods()</a>, <a class="el" href="../../d7/dd8/mixmonitor_8c_source.html#l00043">ast_set_mixmonitor_methods()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l01125">ast_sip_publish_client_remove()</a>, and <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00323">get_publishes_and_update_state()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ab134d98cdfe7de0f7a72b377c0765dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab134d98cdfe7de0f7a72b377c0765dc7">&#9670;&nbsp;</a></span>ast_cond_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d4/dc5/extconf_8c.html#a259021fc2d154a391912e86fcf6cef7a">pthread_cond_t</a> <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00176">176</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a44a55ccb432d858a224b401116277e93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44a55ccb432d858a224b401116277e93">&#9670;&nbsp;</a></span>ast_mutex_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d8/dc5/structast__mutex__info.html">ast_mutex_info</a> <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00172">172</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<a id="a04e2a4450668b0cd2be05edd6259df19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e2a4450668b0cd2be05edd6259df19">&#9670;&nbsp;</a></span>ast_rwlock_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../dc/d9e/structast__rwlock__info.html">ast_rwlock_info</a> <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00174">174</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a91005557686d603e1210a200ef97153d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91005557686d603e1210a200ef97153d">&#9670;&nbsp;</a></span>ast_lock_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153d">ast_lock_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794"></a>AST_MUTEX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366"></a>AST_RDLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d"></a>AST_WRLOCK&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00252">252</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                   {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794">AST_MUTEX</a>,</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366">AST_RDLOCK</a>,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a>,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;};</div><div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366">AST_RDLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00254">lock.h:254</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794">AST_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00253">lock.h:253</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00255">lock.h:255</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a33f0cf008682f2baa2733f6d4c17d2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33f0cf008682f2baa2733f6d4c17d2ba">&#9670;&nbsp;</a></span>__ast_cond_broadcast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_cond_broadcast </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cond_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *&#160;</td>
          <td class="paramname"><em>cond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00504">504</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00631">pthread_cond_broadcast</a>.</p>
<div class="fragment"><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;{</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#a3b1128c835ac52cd37491b83ac7ba960">pthread_cond_broadcast</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div><div class="ttc" id="lock_8h_html_a3b1128c835ac52cd37491b83ac7ba960"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3b1128c835ac52cd37491b83ac7ba960">pthread_cond_broadcast</a></div><div class="ttdeci">#define pthread_cond_broadcast</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00631">lock.h:631</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01090">app_meetme.c:1090</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab769ed7445aa94ca55ff606e1589589d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab769ed7445aa94ca55ff606e1589589d">&#9670;&nbsp;</a></span>__ast_cond_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_cond_destroy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cond_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *&#160;</td>
          <td class="paramname"><em>cond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00510">510</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00629">pthread_cond_destroy</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;{</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#ac38f661413e63bfd29df48df06bb971a">pthread_cond_destroy</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01090">app_meetme.c:1090</a></div></div>
<div class="ttc" id="lock_8h_html_ac38f661413e63bfd29df48df06bb971a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac38f661413e63bfd29df48df06bb971a">pthread_cond_destroy</a></div><div class="ttdeci">#define pthread_cond_destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00629">lock.h:629</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c0b15f33b6daf84bf363b87e2491883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c0b15f33b6daf84bf363b87e2491883">&#9670;&nbsp;</a></span>__ast_cond_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_cond_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cond_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *&#160;</td>
          <td class="paramname"><em>cond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pthread_condattr_t *&#160;</td>
          <td class="paramname"><em>cond_attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00492">492</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00628">pthread_cond_init</a>.</p>
<div class="fragment"><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;{</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#add2cefb5ff3e9f955234b1d6adb7deaf">pthread_cond_init</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, cond_attr);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div><div class="ttc" id="lock_8h_html_add2cefb5ff3e9f955234b1d6adb7deaf"><div class="ttname"><a href="../../dd/d42/lock_8h.html#add2cefb5ff3e9f955234b1d6adb7deaf">pthread_cond_init</a></div><div class="ttdeci">#define pthread_cond_init</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00628">lock.h:628</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01090">app_meetme.c:1090</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e57a5e1464a7ba7c002641b30f78bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e57a5e1464a7ba7c002641b30f78bed">&#9670;&nbsp;</a></span>__ast_cond_signal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_cond_signal </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cond_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *&#160;</td>
          <td class="paramname"><em>cond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00498">498</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00630">pthread_cond_signal</a>.</p>
<div class="fragment"><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#ac4329478079a76b8a3017beec8eaadf4">pthread_cond_signal</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01090">app_meetme.c:1090</a></div></div>
<div class="ttc" id="lock_8h_html_ac4329478079a76b8a3017beec8eaadf4"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac4329478079a76b8a3017beec8eaadf4">pthread_cond_signal</a></div><div class="ttdeci">#define pthread_cond_signal</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00630">lock.h:630</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e1393306c9b0f6ca3bcff472dde5f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1393306c9b0f6ca3bcff472dde5f9c">&#9670;&nbsp;</a></span>__ast_cond_timedwait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_cond_timedwait </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cond_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *&#160;</td>
          <td class="paramname"><em>cond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timespec *&#160;</td>
          <td class="paramname"><em>abstime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00604">604</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dae/lock_8c_source.html#l00068">__dump_backtrace()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01059">ast_restore_lock_info()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01030">ast_suspend_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00147">ast_mutex_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00633">pthread_cond_timedwait</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00620">pthread_mutex_t</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00517">restore_lock_tracking()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00240">ROFFSET</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00146">ast_mutex_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>
<div class="fragment"><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;{</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> lt_orig;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   <span class="keywordflow">if</span> ((t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>) == ((<a class="code" href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a>) PTHREAD_MUTEX_INITIALIZER)) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error: mutex &#39;%s&#39; is uninitialized.\n&quot;</span>,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keywordflow">return</span> EINVAL;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_MUTEX_INIT_W_CONSTRUCTORS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &amp;&amp; (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>] != pthread_self())) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): attempted wait using mutex &#39;%s&#39; without owning it!\n&quot;</span>,</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                  filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): &#39;%s&#39; was locked here.\n&quot;</span>,</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                  lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], mutex_name);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], canlog);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt;= 0) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): attempted wait using an unlocked mutex &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                  filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      }</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="comment">/* Waiting on a condition completely suspends a recursive mutex,</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">       * even if it&#39;s been recursively locked multiple times. Make a</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">       * copy of the lock tracking, and reset reentrancy to zero */</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      lt_orig = *lt;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> = 0;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a40193d8dbd051ad5afa5da543a52da0d">ast_suspend_lock_info</a>(t);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#ae96b861c8d74168ee14ef2691a64ff91">pthread_cond_timedwait</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, &amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>, abstime);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   <span class="keywordflow">if</span> (res &amp;&amp; (res != ETIMEDOUT)) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error waiting on condition mutex &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, strerror(res));</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a26b022d456c1ce1900d3884b285e4c3e">restore_lock_tracking</a>(lt, &amp;lt_orig);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a0857d6245dd36cd605a738f3af67b910">ast_restore_lock_info</a>(t);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div><div class="ttc" id="structast__mutex__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">ast_mutex_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00147">lock.h:147</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="lock_8h_html_a8e5e1258259c05f5e7cc242584a10a4d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a></div><div class="ttdeci">#define pthread_mutex_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00620">lock.h:620</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__mutex__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">ast_mutex_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00146">lock.h:146</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01090">app_meetme.c:1090</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a118582aaf6a7edf79add7cb332d3f9ad"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a></div><div class="ttdeci">#define ROFFSET</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00240">lock.h:240</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="lock_8h_html_a40193d8dbd051ad5afa5da543a52da0d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a40193d8dbd051ad5afa5da543a52da0d">ast_suspend_lock_info</a></div><div class="ttdeci">void ast_suspend_lock_info(void *lock_addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01030">main/utils.c:1030</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="lock_8c_html_a26b022d456c1ce1900d3884b285e4c3e"><div class="ttname"><a href="../../da/dae/lock_8c.html#a26b022d456c1ce1900d3884b285e4c3e">restore_lock_tracking</a></div><div class="ttdeci">static void restore_lock_tracking(struct ast_lock_track *lt, struct ast_lock_track *lt_saved)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00517">lock.c:517</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="lock_8c_html_acc4ab5721f6f26dea3df43add9914e4e"><div class="ttname"><a href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a></div><div class="ttdeci">static void __dump_backtrace(struct ast_bt *bt, int canlog)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00068">lock.c:68</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="lock_8h_html_ae96b861c8d74168ee14ef2691a64ff91"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae96b861c8d74168ee14ef2691a64ff91">pthread_cond_timedwait</a></div><div class="ttdeci">#define pthread_cond_timedwait</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00633">lock.h:633</a></div></div>
<div class="ttc" id="lock_8h_html_a0857d6245dd36cd605a738f3af67b910"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0857d6245dd36cd605a738f3af67b910">ast_restore_lock_info</a></div><div class="ttdeci">void ast_restore_lock_info(void *lock_addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01059">main/utils.c:1059</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a80ce38d75fed5d525f210f963baef5b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ce38d75fed5d525f210f963baef5b4">&#9670;&nbsp;</a></span>__ast_cond_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_cond_wait </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cond_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> *&#160;</td>
          <td class="paramname"><em>cond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00539">539</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dae/lock_8c_source.html#l00068">__dump_backtrace()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01059">ast_restore_lock_info()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01030">ast_suspend_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00147">ast_mutex_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00632">pthread_cond_wait</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00620">pthread_mutex_t</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00517">restore_lock_tracking()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00240">ROFFSET</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00146">ast_mutex_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>
<div class="fragment"><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;{</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> lt_orig;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordflow">if</span> ((t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>) == ((<a class="code" href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a>) PTHREAD_MUTEX_INITIALIZER)) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error: mutex &#39;%s&#39; is uninitialized.\n&quot;</span>,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">return</span> EINVAL;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_MUTEX_INIT_W_CONSTRUCTORS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &amp;&amp; (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>] != pthread_self())) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): attempted wait using mutex &#39;%s&#39; without owning it!\n&quot;</span>,</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                  filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): &#39;%s&#39; was locked here.\n&quot;</span>,</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                  lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], mutex_name);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], canlog);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt;= 0) {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): attempted wait using an unlocked mutex &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                  filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="comment">/* Waiting on a condition completely suspends a recursive mutex,</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">       * even if it&#39;s been recursively locked multiple times. Make a</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">       * copy of the lock tracking, and reset reentrancy to zero */</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      lt_orig = *lt;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> = 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a40193d8dbd051ad5afa5da543a52da0d">ast_suspend_lock_info</a>(t);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#aea3321e2626f3f6d7f1cc855de2ffc27">pthread_cond_wait</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, &amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error waiting on condition mutex &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, strerror(res));</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a26b022d456c1ce1900d3884b285e4c3e">restore_lock_tracking</a>(lt, &amp;lt_orig);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a0857d6245dd36cd605a738f3af67b910">ast_restore_lock_info</a>(t);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div><div class="ttc" id="structast__mutex__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">ast_mutex_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00147">lock.h:147</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="lock_8h_html_a8e5e1258259c05f5e7cc242584a10a4d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a></div><div class="ttdeci">#define pthread_mutex_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00620">lock.h:620</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__mutex__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">ast_mutex_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00146">lock.h:146</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_aea3321e2626f3f6d7f1cc855de2ffc27"><div class="ttname"><a href="../../dd/d42/lock_8h.html#aea3321e2626f3f6d7f1cc855de2ffc27">pthread_cond_wait</a></div><div class="ttdeci">#define pthread_cond_wait</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00632">lock.h:632</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01090">app_meetme.c:1090</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a118582aaf6a7edf79add7cb332d3f9ad"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a></div><div class="ttdeci">#define ROFFSET</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00240">lock.h:240</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="lock_8h_html_a40193d8dbd051ad5afa5da543a52da0d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a40193d8dbd051ad5afa5da543a52da0d">ast_suspend_lock_info</a></div><div class="ttdeci">void ast_suspend_lock_info(void *lock_addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01030">main/utils.c:1030</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="lock_8c_html_a26b022d456c1ce1900d3884b285e4c3e"><div class="ttname"><a href="../../da/dae/lock_8c.html#a26b022d456c1ce1900d3884b285e4c3e">restore_lock_tracking</a></div><div class="ttdeci">static void restore_lock_tracking(struct ast_lock_track *lt, struct ast_lock_track *lt_saved)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00517">lock.c:517</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="lock_8c_html_acc4ab5721f6f26dea3df43add9914e4e"><div class="ttname"><a href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a></div><div class="ttdeci">static void __dump_backtrace(struct ast_bt *bt, int canlog)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00068">lock.c:68</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="lock_8h_html_a0857d6245dd36cd605a738f3af67b910"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0857d6245dd36cd605a738f3af67b910">ast_restore_lock_info</a></div><div class="ttdeci">void ast_restore_lock_info(void *lock_addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01059">main/utils.c:1059</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad90c1b619ab35ad7c70582927ebda10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90c1b619ab35ad7c70582927ebda10d">&#9670;&nbsp;</a></span>__ast_pthread_mutex_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_pthread_mutex_destroy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00175">175</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dae/lock_8c_source.html#l00068">__dump_backtrace()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00129">delete_reentrancy_cs()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00147">ast_mutex_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00627">pthread_mutex_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00620">pthread_mutex_t</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00625">pthread_mutex_trylock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00240">ROFFSET</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00146">ast_mutex_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 1);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="keywordflow">if</span> ((t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>) == ((<a class="code" href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a>) PTHREAD_MUTEX_INITIALIZER)) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="comment">/* Don&#39;t try to uninitialize an uninitialized mutex</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">       * This may have no effect on linux</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">       * but it always generates a core on *BSD when</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">       * linked with libpthread.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">       * This is not an error condition if the mutex is created on the fly.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): NOTICE: mutex &#39;%s&#39; is uninitialized.\n&quot;</span>,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      res = EINVAL;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">goto</span> lt_cleanup;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="keywordflow">switch</span> (res) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">case</span> EINVAL:</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error: attempt to destroy invalid mutex &#39;%s&#39;.\n&quot;</span>,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;              filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="keywordflow">case</span> EBUSY:</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error: attempt to destroy locked mutex &#39;%s&#39;.\n&quot;</span>,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error: &#39;%s&#39; was locked here.\n&quot;</span>,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], mutex_name);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], canlog);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#abda856b9d567d956a04e1dd3139acc40">pthread_mutex_destroy</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error destroying mutex %s: %s\n&quot;</span>,</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name, strerror(res));</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;lt_cleanup:</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[0] = filename;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[0] = <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[0] = <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> = 0;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[0] = 0;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      memset(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[0], 0, <span class="keyword">sizeof</span>(lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[0]));</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a9611f769fcaaf7906506f76fe7934ed2">delete_reentrancy_cs</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">track</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div><div class="ttc" id="structast__mutex__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">ast_mutex_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00147">lock.h:147</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="lock_8h_html_a8e5e1258259c05f5e7cc242584a10a4d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a></div><div class="ttdeci">#define pthread_mutex_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00620">lock.h:620</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__mutex__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">ast_mutex_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00146">lock.h:146</a></div></div>
<div class="ttc" id="lock_8h_html_abda856b9d567d956a04e1dd3139acc40"><div class="ttname"><a href="../../dd/d42/lock_8h.html#abda856b9d567d956a04e1dd3139acc40">pthread_mutex_destroy</a></div><div class="ttdeci">#define pthread_mutex_destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00627">lock.h:627</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8c_html_a9611f769fcaaf7906506f76fe7934ed2"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9611f769fcaaf7906506f76fe7934ed2">delete_reentrancy_cs</a></div><div class="ttdeci">static void delete_reentrancy_cs(struct ast_lock_track **plt)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00129">lock.c:129</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a118582aaf6a7edf79add7cb332d3f9ad"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a></div><div class="ttdeci">#define ROFFSET</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00240">lock.h:240</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="lock_8c_html_acc4ab5721f6f26dea3df43add9914e4e"><div class="ttname"><a href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a></div><div class="ttdeci">static void __dump_backtrace(struct ast_bt *bt, int canlog)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00068">lock.c:68</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
<div class="ttc" id="lock_8h_html_a482c9379812cdb921e5876b3d5061449"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a></div><div class="ttdeci">#define pthread_mutex_trylock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00625">lock.h:625</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab2a83e0853e0aa0d11f742e60792355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab2a83e0853e0aa0d11f742e60792355">&#9670;&nbsp;</a></span>__ast_pthread_mutex_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_pthread_mutex_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tracking</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00144">144</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00077">AST_MUTEX_KIND</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00147">ast_mutex_info::flags</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00626">pthread_mutex_init</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00620">pthread_mutex_t</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00127">ast_lock_track_flags::setup</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00146">ast_mutex_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   pthread_mutexattr_t  attr;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keywordflow">if</span> ((t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>) != ((<a class="code" href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a>) PTHREAD_MUTEX_INITIALIZER)) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordtype">int</span> canlog = tracking &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): NOTICE: mutex &#39;%s&#39; is already initialized.\n&quot;</span>,</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, mutex_name);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">return</span> EBUSY;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_MUTEX_INIT_W_CONSTRUCTORS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">track</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> = tracking;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#a5ad91a07468cd2709a6e01f8d35a6fd1">setup</a> = 0;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   pthread_mutexattr_init(&amp;attr);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   pthread_mutexattr_settype(&amp;attr, <a class="code" href="../../dd/d42/lock_8h.html#aaae8771a56e3420fccffbbf2f6ce8046">AST_MUTEX_KIND</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#ad7693eb0c23d9649f82992b785ddbe4e">pthread_mutex_init</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>, &amp;attr);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   pthread_mutexattr_destroy(&amp;attr);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div><div class="ttc" id="lock_8h_html_ad7693eb0c23d9649f82992b785ddbe4e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ad7693eb0c23d9649f82992b785ddbe4e">pthread_mutex_init</a></div><div class="ttdeci">#define pthread_mutex_init</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00626">lock.h:626</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">ast_mutex_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00147">lock.h:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="lock_8h_html_a8e5e1258259c05f5e7cc242584a10a4d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a></div><div class="ttdeci">#define pthread_mutex_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00620">lock.h:620</a></div></div>
<div class="ttc" id="structast__mutex__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">ast_mutex_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00146">lock.h:146</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_a5ad91a07468cd2709a6e01f8d35a6fd1"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#a5ad91a07468cd2709a6e01f8d35a6fd1">ast_lock_track_flags::setup</a></div><div class="ttdeci">volatile unsigned int setup</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00127">lock.h:127</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="lock_8h_html_aaae8771a56e3420fccffbbf2f6ce8046"><div class="ttname"><a href="../../dd/d42/lock_8h.html#aaae8771a56e3420fccffbbf2f6ce8046">AST_MUTEX_KIND</a></div><div class="ttdeci">#define AST_MUTEX_KIND</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00077">lock.h:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa48b89c68cc4c476a71b4e4d1b7d5e3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa48b89c68cc4c476a71b4e4d1b7d5e3b">&#9670;&nbsp;</a></span>__ast_pthread_mutex_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_pthread_mutex_lock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00253">253</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dae/lock_8c_source.html#l00068">__dump_backtrace()</a>, <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00038">ast_bt_get_addresses</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../d2/d4d/astman_8c_source.html#l00103">ast_mark()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00253">AST_MUTEX</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">ast_remove_lock_info()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00147">ast_mutex_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00625">pthread_mutex_trylock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00240">ROFFSET</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00146">ast_mutex_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/df7/astobj2_8c_source.html#l00222">__ao2_lock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="comment">/* The implementation of backtrace() may have its own locks.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">       * Capture the backtrace outside of the reentrancy lock to</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">       * avoid deadlocks. See ASTERISK-22455. */</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>];</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a>(<a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794">AST_MUTEX</a>, filename, lineno, func, mutex_name, t, bt);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#if defined(DETECT_DEADLOCKS) &amp;&amp; defined(DEBUG_THREADS)</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      time_t seconds = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      time_t wait_time, reported_wait = 0;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#ifdef   HAVE_MTX_PROFILE</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;         <a class="code" href="../../db/db2/asterisk_8h.html#a84666fa713cf20e8bc7e2d8524a10ce0">ast_mark</a>(mtx_prof, 1);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;         res = <a class="code" href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#ifdef   HAVE_MTX_PROFILE</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;         <a class="code" href="../../db/db2/asterisk_8h.html#a84666fa713cf20e8bc7e2d8524a10ce0">ast_mark</a>(mtx_prof, 0);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         <span class="keywordflow">if</span> (res == EBUSY) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            wait_time = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) - seconds;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (wait_time &gt; reported_wait &amp;&amp; (wait_time % 5) == 0) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;               <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Deadlock? waited %d sec for mutex &#39;%s&#39;?\n&quot;</span>,</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                        filename, lineno, func, (<span class="keywordtype">int</span>) wait_time, mutex_name);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;               <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>], canlog);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): &#39;%s&#39; was locked here.\n&quot;</span>,</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                           lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>],</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                           lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], mutex_name);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], canlog);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;               }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;               reported_wait = wait_time;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            usleep(200);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      } <span class="keywordflow">while</span> (res == EBUSY);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* !DETECT_DEADLOCKS || !DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#ifdef   HAVE_MTX_PROFILE</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a84666fa713cf20e8bc7e2d8524a10ce0">ast_mark</a>(mtx_prof, 1);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a84666fa713cf20e8bc7e2d8524a10ce0">ast_mark</a>(mtx_prof, 0);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">if</span> (res)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !DETECT_DEADLOCKS || !DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="keywordflow">if</span> (lt &amp;&amp; !res) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = filename;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = lineno;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = func;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = pthread_self();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>++;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): &#39;%s&#39; really deep reentrancy!\n&quot;</span>,</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                        filename, lineno, func, mutex_name);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a>(t);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1];</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;         bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a>(t, bt);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error obtaining mutex: %s\n&quot;</span>,</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;               filename, lineno, func, strerror(res));</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div><div class="ttc" id="asterisk_8h_html_a84666fa713cf20e8bc7e2d8524a10ce0"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a84666fa713cf20e8bc7e2d8524a10ce0">ast_mark</a></div><div class="ttdeci">int64_t ast_mark(int, int start1_stop0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00103">astman.c:103</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">ast_mutex_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00147">lock.h:147</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__mutex__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">ast_mutex_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00146">lock.h:146</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a6ef26f63d38c1d8cdf05a15b6b368c24"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00623">lock.h:623</a></div></div>
<div class="ttc" id="lock_8h_html_a349a86c7c5c6717af32e587fc228060c"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a></div><div class="ttdeci">void ast_store_lock_info(enum ast_lock_type type, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">Store lock info for the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00061">check_expr.c:61</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a118582aaf6a7edf79add7cb332d3f9ad"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a></div><div class="ttdeci">#define ROFFSET</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00240">lock.h:240</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="lock_8h_html_a64c71c091e79908c7a05cfdad1389f58"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a></div><div class="ttdeci">void ast_remove_lock_info(void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">remove lock info for the current thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00068">check_expr.c:68</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="lock_8h_html_a3970ea8e4a2aabd268c24203e5c40dc2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a></div><div class="ttdeci">void ast_mark_lock_acquired(void *lock_addr)</div><div class="ttdoc">Mark the last lock as acquired. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00094">check_expr.c:94</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794">AST_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00253">lock.h:253</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="lock_8c_html_acc4ab5721f6f26dea3df43add9914e4e"><div class="ttname"><a href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a></div><div class="ttdeci">static void __dump_backtrace(struct ast_bt *bt, int canlog)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00068">lock.c:68</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="lock_8h_html_a482c9379812cdb921e5876b3d5061449"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a></div><div class="ttdeci">#define pthread_mutex_trylock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00625">lock.h:625</a></div></div>
<div class="ttc" id="backtrace_8h_html_adc63f9302e386d5c7b2b145d8bb1559c"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a></div><div class="ttdeci">#define ast_bt_get_addresses(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00038">backtrace.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2fba852bef0b7dae8926b847288a3dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2fba852bef0b7dae8926b847288a3dd">&#9670;&nbsp;</a></span>__ast_pthread_mutex_trylock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_pthread_mutex_trylock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00366">366</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00038">ast_bt_get_addresses</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02314">ast_mark_lock_failed()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00253">AST_MUTEX</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00147">ast_mutex_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00625">pthread_mutex_trylock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00146">ast_mutex_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/df7/astobj2_8c_source.html#l00342">__ao2_trylock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="comment">/* The implementation of backtrace() may have its own locks.</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">       * Capture the backtrace outside of the reentrancy lock to</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">       * avoid deadlocks. See ASTERISK-22455. */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>];</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a>(<a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794">AST_MUTEX</a>, filename, lineno, func, mutex_name, t, bt);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   <span class="keywordflow">if</span> (lt &amp;&amp; !res) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = filename;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = lineno;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = func;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = pthread_self();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>++;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): &#39;%s&#39; really deep reentrancy!\n&quot;</span>,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                  filename, lineno, func, mutex_name);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a>(t);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a0ed1f5e44323dd2f45fd091e4480550a">ast_mark_lock_failed</a>(t);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div><div class="ttc" id="structast__mutex__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">ast_mutex_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00147">lock.h:147</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="lock_8h_html_a0ed1f5e44323dd2f45fd091e4480550a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0ed1f5e44323dd2f45fd091e4480550a">ast_mark_lock_failed</a></div><div class="ttdeci">void ast_mark_lock_failed(void *lock_addr)</div><div class="ttdoc">Mark the last lock as failed (trylock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02314">extconf.c:2314</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__mutex__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">ast_mutex_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00146">lock.h:146</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a349a86c7c5c6717af32e587fc228060c"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a></div><div class="ttdeci">void ast_store_lock_info(enum ast_lock_type type, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">Store lock info for the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00061">check_expr.c:61</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="lock_8h_html_a3970ea8e4a2aabd268c24203e5c40dc2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a></div><div class="ttdeci">void ast_mark_lock_acquired(void *lock_addr)</div><div class="ttdoc">Mark the last lock as acquired. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00094">check_expr.c:94</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da484ddc5786cd0fc44cdc7d722426d794">AST_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00253">lock.h:253</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="lock_8h_html_a482c9379812cdb921e5876b3d5061449"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a482c9379812cdb921e5876b3d5061449">pthread_mutex_trylock</a></div><div class="ttdeci">#define pthread_mutex_trylock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00625">lock.h:625</a></div></div>
<div class="ttc" id="backtrace_8h_html_adc63f9302e386d5c7b2b145d8bb1559c"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a></div><div class="ttdeci">#define ast_bt_get_addresses(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00038">backtrace.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb988fac390a43325bafc4b029bdfc62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb988fac390a43325bafc4b029bdfc62">&#9670;&nbsp;</a></span>__ast_pthread_mutex_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_pthread_mutex_unlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00421">421</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dae/lock_8c_source.html#l00068">__dump_backtrace()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">ast_remove_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00147">ast_mutex_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00620">pthread_mutex_t</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00240">ROFFSET</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00146">ast_mutex_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/df7/astobj2_8c_source.html#l00288">__ao2_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">if</span> ((t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>) == ((<a class="code" href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a>) PTHREAD_MUTEX_INITIALIZER)) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error: mutex &#39;%s&#39; is uninitialized.\n&quot;</span>,</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;               filename, lineno, func, mutex_name);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">return</span> EINVAL;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_MUTEX_INIT_W_CONSTRUCTORS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &amp;&amp; (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>] != pthread_self())) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): attempted unlock mutex &#39;%s&#39; without owning it!\n&quot;</span>,</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                  filename, lineno, func, mutex_name);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): &#39;%s&#39; was locked here.\n&quot;</span>,</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                  lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], mutex_name);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[<a class="code" href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a>], canlog);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">if</span> (--lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; 0) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): mutex &#39;%s&#39; freed more times than we&#39;ve locked!\n&quot;</span>,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                  filename, lineno, func, mutex_name);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> = 0;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = 0;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = 0;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1];</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a>(t, bt);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   res = <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;t-&gt;<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error releasing mutex: %s\n&quot;</span>,</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;               filename, lineno, func, strerror(res));</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="ttc" id="structast__mutex__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a427e3fa75fd3aead1db8beac91899415">ast_mutex_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00147">lock.h:147</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="lock_8h_html_a8e5e1258259c05f5e7cc242584a10a4d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8e5e1258259c05f5e7cc242584a10a4d">pthread_mutex_t</a></div><div class="ttdeci">#define pthread_mutex_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00620">lock.h:620</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__mutex__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#afeebabad05904e583097b63f60e8584b">ast_mutex_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00146">lock.h:146</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a118582aaf6a7edf79add7cb332d3f9ad"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a118582aaf6a7edf79add7cb332d3f9ad">ROFFSET</a></div><div class="ttdeci">#define ROFFSET</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00240">lock.h:240</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="lock_8h_html_a64c71c091e79908c7a05cfdad1389f58"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a></div><div class="ttdeci">void ast_remove_lock_info(void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">remove lock info for the current thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00068">check_expr.c:68</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="lock_8c_html_acc4ab5721f6f26dea3df43add9914e4e"><div class="ttname"><a href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a></div><div class="ttdeci">static void __dump_backtrace(struct ast_bt *bt, int canlog)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00068">lock.c:68</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a20ea9dd0a8ffe015a9dcbf38671586aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20ea9dd0a8ffe015a9dcbf38671586aa">&#9670;&nbsp;</a></span>__ast_rwlock_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_destroy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rwlock_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00701">701</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00084">__AST_RWLOCK_INIT_VALUE</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00129">delete_reentrancy_cs()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>
<div class="fragment"><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;{</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 1);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   <span class="keywordflow">if</span> (t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a> == ((pthread_rwlock_t) <a class="code" href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a>)) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Warning: rwlock &#39;%s&#39; is uninitialized.\n&quot;</span>,</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;               filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, rwlock_name);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      res = EINVAL;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="keywordflow">goto</span> lt_cleanup;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_MUTEX_INIT_W_CONSTRUCTORS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   res = pthread_rwlock_destroy(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error destroying rwlock %s: %s\n&quot;</span>,</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, rwlock_name, strerror(res));</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;lt_cleanup:</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_MUTEX_INIT_W_CONSTRUCTORS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[0] = filename;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[0] = <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[0] = <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> = 0;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[0] = 0;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      memset(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[0], 0, <span class="keyword">sizeof</span>(lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[0]));</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a9611f769fcaaf7906506f76fe7934ed2">delete_reentrancy_cs</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="lock_8h_html_a0cb7003eb65f89e6c6e44b608946cfc0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a></div><div class="ttdeci">#define __AST_RWLOCK_INIT_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00084">lock.h:84</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8c_html_a9611f769fcaaf7906506f76fe7934ed2"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9611f769fcaaf7906506f76fe7934ed2">delete_reentrancy_cs</a></div><div class="ttdeci">static void delete_reentrancy_cs(struct ast_lock_track **plt)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00129">lock.c:129</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a542601374f9b56267732e1eddf5aee4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542601374f9b56267732e1eddf5aee4d">&#9670;&nbsp;</a></span>__ast_rwlock_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tracking</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rwlock_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00669">669</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00084">__AST_RWLOCK_INIT_VALUE</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00127">ast_lock_track_flags::setup</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>
<div class="fragment"><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;{</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   pthread_rwlockattr_t attr;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   <span class="keywordflow">if</span> (t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a> != ((pthread_rwlock_t) <a class="code" href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a>)) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordtype">int</span> canlog = tracking &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Warning: rwlock &#39;%s&#39; is already initialized.\n&quot;</span>,</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            filename, <a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>, <a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>, rwlock_name);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">return</span> EBUSY;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_MUTEX_INIT_W_CONSTRUCTORS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> = tracking;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#a5ad91a07468cd2709a6e01f8d35a6fd1">setup</a> = 0;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   pthread_rwlockattr_init(&amp;attr);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#ifdef HAVE_PTHREAD_RWLOCK_PREFER_WRITER_NP</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   pthread_rwlockattr_setkind_np(&amp;attr, PTHREAD_RWLOCK_PREFER_WRITER_NP);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   res = pthread_rwlock_init(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>, &amp;attr);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   pthread_rwlockattr_destroy(&amp;attr);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div><div class="ttc" id="lock_8h_html_a0cb7003eb65f89e6c6e44b608946cfc0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a></div><div class="ttdeci">#define __AST_RWLOCK_INIT_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00084">lock.h:84</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_a5ad91a07468cd2709a6e01f8d35a6fd1"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#a5ad91a07468cd2709a6e01f8d35a6fd1">ast_lock_track_flags::setup</a></div><div class="ttdeci">volatile unsigned int setup</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00127">lock.h:127</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae87e990b4cfc230ffefc852c017b6f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae87e990b4cfc230ffefc852c017b6f7e">&#9670;&nbsp;</a></span>__ast_rwlock_rdlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_rdlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00819">819</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dae/lock_8c_source.html#l00068">__dump_backtrace()</a>, <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00038">ast_bt_get_addresses</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00254">AST_RDLOCK</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">ast_remove_lock_info()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d9e/astobj2__global_8c_source.html#l00072">__ao2_global_obj_ref()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00222">__ao2_lock()</a>, and <a class="el" href="../../d2/d29/heap_8c_source.html#l00286">__ast_heap_rdlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="comment">/* The implementation of backtrace() may have its own locks.</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">       * Capture the backtrace outside of the reentrancy lock to</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">       * avoid deadlocks. See ASTERISK-22455. */</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>];</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a>(<a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366">AST_RDLOCK</a>, filename, line, func, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, t, bt);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="preprocessor">#if defined(DETECT_DEADLOCKS) &amp;&amp; defined(DEBUG_THREADS)</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      time_t seconds = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      time_t wait_time, reported_wait = 0;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;         res = pthread_rwlock_tryrdlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;         <span class="keywordflow">if</span> (res == EBUSY) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            wait_time = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) - seconds;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="keywordflow">if</span> (wait_time &gt; reported_wait &amp;&amp; (wait_time % 5) == 0) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;               <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Deadlock? waited %d sec for readlock &#39;%s&#39;?\n&quot;</span>,</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                  filename, line, func, (<span class="keywordtype">int</span>)wait_time, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;               <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>], canlog);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): &#39;%s&#39; was locked  here.\n&quot;</span>,</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                        lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1],</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                        lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1], <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1], canlog);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;               }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;               reported_wait = wait_time;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            usleep(200);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;         }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      } <span class="keywordflow">while</span> (res == EBUSY);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* !DETECT_DEADLOCKS || !DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   res = pthread_rwlock_rdlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !DETECT_DEADLOCKS || !DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <span class="keywordflow">if</span> (!res &amp;&amp; lt) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = filename;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = line;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = func;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = pthread_self();</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>++;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a>(t);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1];</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;         bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      }</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a>(t, bt);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error obtaining read lock: %s\n&quot;</span>,</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            filename, line, func, strerror(res));</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a349a86c7c5c6717af32e587fc228060c"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a></div><div class="ttdeci">void ast_store_lock_info(enum ast_lock_type type, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">Store lock info for the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00061">check_expr.c:61</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366">AST_RDLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00254">lock.h:254</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="lock_8h_html_a64c71c091e79908c7a05cfdad1389f58"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a></div><div class="ttdeci">void ast_remove_lock_info(void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">remove lock info for the current thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00068">check_expr.c:68</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="lock_8h_html_a3970ea8e4a2aabd268c24203e5c40dc2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a></div><div class="ttdeci">void ast_mark_lock_acquired(void *lock_addr)</div><div class="ttdoc">Mark the last lock as acquired. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00094">check_expr.c:94</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="lock_8c_html_acc4ab5721f6f26dea3df43add9914e4e"><div class="ttname"><a href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a></div><div class="ttdeci">static void __dump_backtrace(struct ast_bt *bt, int canlog)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00068">lock.c:68</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="backtrace_8h_html_adc63f9302e386d5c7b2b145d8bb1559c"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a></div><div class="ttdeci">#define ast_bt_get_addresses(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00038">backtrace.h:38</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b9b4646daa27ae85533e9a5c4d9012d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b9b4646daa27ae85533e9a5c4d9012d">&#9670;&nbsp;</a></span>__ast_rwlock_timedrdlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_timedrdlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timespec *&#160;</td>
          <td class="paramname"><em>abs_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l01014">1014</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00038">ast_bt_get_addresses</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">ast_remove_lock_info()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00255">AST_WRLOCK</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>
<div class="fragment"><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;{</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="comment">/* The implementation of backtrace() may have its own locks.</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">       * Capture the backtrace outside of the reentrancy lock to</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">       * avoid deadlocks. See ASTERISK-22455. */</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>];</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a>(<a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a>, filename, line, func, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, t, bt);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="preprocessor">#ifdef HAVE_PTHREAD_RWLOCK_TIMEDWRLOCK</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   res = pthread_rwlock_timedrdlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>, abs_timeout);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="keyword">struct </span>timeval _now;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;         <span class="keywordflow">if</span> (!(res = pthread_rwlock_tryrdlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>))) {</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;         }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;         _now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;         <span class="keywordflow">if</span> (_now.tv_sec &gt; abs_timeout-&gt;tv_sec || (_now.tv_sec == abs_timeout-&gt;tv_sec &amp;&amp; _now.tv_usec * 1000 &gt; abs_timeout-&gt;tv_nsec)) {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;         }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;         usleep(1);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;   } <span class="keywordflow">while</span> (0);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   <span class="keywordflow">if</span> (!res &amp;&amp; lt) {</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = filename;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = line;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = func;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = pthread_self();</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>++;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a>(t);</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1];</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;         bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a>(t, bt);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error obtaining read lock: %s\n&quot;</span>,</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            filename, line, func, strerror(res));</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;   }</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a349a86c7c5c6717af32e587fc228060c"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a></div><div class="ttdeci">void ast_store_lock_info(enum ast_lock_type type, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">Store lock info for the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00061">check_expr.c:61</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="lock_8h_html_a64c71c091e79908c7a05cfdad1389f58"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a></div><div class="ttdeci">void ast_remove_lock_info(void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">remove lock info for the current thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00068">check_expr.c:68</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="lock_8h_html_a3970ea8e4a2aabd268c24203e5c40dc2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a></div><div class="ttdeci">void ast_mark_lock_acquired(void *lock_addr)</div><div class="ttdoc">Mark the last lock as acquired. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00094">check_expr.c:94</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00255">lock.h:255</a></div></div>
<div class="ttc" id="backtrace_8h_html_adc63f9302e386d5c7b2b145d8bb1559c"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a></div><div class="ttdeci">#define ast_bt_get_addresses(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00038">backtrace.h:38</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aace50b87be53f6780de9bf5652b180f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace50b87be53f6780de9bf5652b180f5">&#9670;&nbsp;</a></span>__ast_rwlock_timedwrlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_timedwrlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timespec *&#160;</td>
          <td class="paramname"><em>abs_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l01096">1096</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00038">ast_bt_get_addresses</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">ast_remove_lock_info()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00255">AST_WRLOCK</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>
<div class="fragment"><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;{</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="comment">/* The implementation of backtrace() may have its own locks.</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">       * Capture the backtrace outside of the reentrancy lock to</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">       * avoid deadlocks. See ASTERISK-22455. */</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>];</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a>(<a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a>, filename, line, func, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, t, bt);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;   }</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="preprocessor">#ifdef HAVE_PTHREAD_RWLOCK_TIMEDWRLOCK</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;   res = pthread_rwlock_timedwrlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>, abs_timeout);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keyword">struct </span>timeval _now;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;         <span class="keywordflow">if</span> (!(res = pthread_rwlock_trywrlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>))) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;         }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;         _now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;         <span class="keywordflow">if</span> (_now.tv_sec &gt; abs_timeout-&gt;tv_sec || (_now.tv_sec == abs_timeout-&gt;tv_sec &amp;&amp; _now.tv_usec * 1000 &gt; abs_timeout-&gt;tv_nsec)) {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;         }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;         usleep(1);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      }</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   } <span class="keywordflow">while</span> (0);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   <span class="keywordflow">if</span> (!res &amp;&amp; lt) {</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = filename;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = line;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = func;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = pthread_self();</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>++;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      }</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a>(t);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>) {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1];</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;         bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      }</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a>(t, bt);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;   }</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error obtaining read lock: %s\n&quot;</span>,</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            filename, line, func, strerror(res));</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;   }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a349a86c7c5c6717af32e587fc228060c"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a></div><div class="ttdeci">void ast_store_lock_info(enum ast_lock_type type, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">Store lock info for the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00061">check_expr.c:61</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="lock_8h_html_a64c71c091e79908c7a05cfdad1389f58"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a></div><div class="ttdeci">void ast_remove_lock_info(void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">remove lock info for the current thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00068">check_expr.c:68</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="lock_8h_html_a3970ea8e4a2aabd268c24203e5c40dc2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a></div><div class="ttdeci">void ast_mark_lock_acquired(void *lock_addr)</div><div class="ttdoc">Mark the last lock as acquired. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00094">check_expr.c:94</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00255">lock.h:255</a></div></div>
<div class="ttc" id="backtrace_8h_html_adc63f9302e386d5c7b2b145d8bb1559c"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a></div><div class="ttdeci">#define ast_bt_get_addresses(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00038">backtrace.h:38</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace01fcdcfb659c0063bfba5249e716d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace01fcdcfb659c0063bfba5249e716d6">&#9670;&nbsp;</a></span>__ast_rwlock_tryrdlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_tryrdlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l01178">1178</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00038">ast_bt_get_addresses</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02314">ast_mark_lock_failed()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00254">AST_RDLOCK</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/df7/astobj2_8c_source.html#l00342">__ao2_trylock()</a>.</p>
<div class="fragment"><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;{</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="comment">/* The implementation of backtrace() may have its own locks.</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">       * Capture the backtrace outside of the reentrancy lock to</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">       * avoid deadlocks. See ASTERISK-22455. */</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>];</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a>(<a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366">AST_RDLOCK</a>, filename, line, func, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, t, bt);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   }</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   res = pthread_rwlock_tryrdlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;   <span class="keywordflow">if</span> (!res &amp;&amp; lt) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = filename;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = line;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = func;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = pthread_self();</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>++;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      }</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a>(t);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a0ed1f5e44323dd2f45fd091e4480550a">ast_mark_lock_failed</a>(t);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;   }</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="lock_8h_html_a0ed1f5e44323dd2f45fd091e4480550a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0ed1f5e44323dd2f45fd091e4480550a">ast_mark_lock_failed</a></div><div class="ttdeci">void ast_mark_lock_failed(void *lock_addr)</div><div class="ttdoc">Mark the last lock as failed (trylock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02314">extconf.c:2314</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a349a86c7c5c6717af32e587fc228060c"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a></div><div class="ttdeci">void ast_store_lock_info(enum ast_lock_type type, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">Store lock info for the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00061">check_expr.c:61</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da368469c7c1924af1388369b17da5b366">AST_RDLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00254">lock.h:254</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="lock_8h_html_a3970ea8e4a2aabd268c24203e5c40dc2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a></div><div class="ttdeci">void ast_mark_lock_acquired(void *lock_addr)</div><div class="ttdoc">Mark the last lock as acquired. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00094">check_expr.c:94</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="backtrace_8h_html_adc63f9302e386d5c7b2b145d8bb1559c"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a></div><div class="ttdeci">#define ast_bt_get_addresses(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00038">backtrace.h:38</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a376246281caee38662f6791abc3dd657"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a376246281caee38662f6791abc3dd657">&#9670;&nbsp;</a></span>__ast_rwlock_trywrlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_trywrlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l01228">1228</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00038">ast_bt_get_addresses</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02314">ast_mark_lock_failed()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00255">AST_WRLOCK</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/df7/astobj2_8c_source.html#l00342">__ao2_trylock()</a>.</p>
<div class="fragment"><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;{</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="comment">/* The implementation of backtrace() may have its own locks.</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">       * Capture the backtrace outside of the reentrancy lock to</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment">       * avoid deadlocks. See ASTERISK-22455. */</span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>];</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      }</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a>(<a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a>, filename, line, func, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, t, bt);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;   }</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   res = pthread_rwlock_trywrlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <span class="keywordflow">if</span> (!res &amp;&amp; lt) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = filename;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = line;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = func;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = pthread_self();</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>++;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a>(t);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a0ed1f5e44323dd2f45fd091e4480550a">ast_mark_lock_failed</a>(t);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="lock_8h_html_a0ed1f5e44323dd2f45fd091e4480550a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0ed1f5e44323dd2f45fd091e4480550a">ast_mark_lock_failed</a></div><div class="ttdeci">void ast_mark_lock_failed(void *lock_addr)</div><div class="ttdoc">Mark the last lock as failed (trylock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02314">extconf.c:2314</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a349a86c7c5c6717af32e587fc228060c"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a></div><div class="ttdeci">void ast_store_lock_info(enum ast_lock_type type, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">Store lock info for the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00061">check_expr.c:61</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="lock_8h_html_a3970ea8e4a2aabd268c24203e5c40dc2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a></div><div class="ttdeci">void ast_mark_lock_acquired(void *lock_addr)</div><div class="ttdoc">Mark the last lock as acquired. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00094">check_expr.c:94</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00255">lock.h:255</a></div></div>
<div class="ttc" id="backtrace_8h_html_adc63f9302e386d5c7b2b145d8bb1559c"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a></div><div class="ttdeci">#define ast_bt_get_addresses(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00038">backtrace.h:38</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a48b1e73b21f6fe3ae7492d052e13c919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b1e73b21f6fe3ae7492d052e13c919">&#9670;&nbsp;</a></span>__ast_rwlock_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_unlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00748">748</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00084">__AST_RWLOCK_INIT_VALUE</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">ast_remove_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d9e/astobj2__global_8c_source.html#l00072">__ao2_global_obj_ref()</a>, <a class="el" href="../../d1/d9e/astobj2__global_8c_source.html#l00033">__ao2_global_obj_replace()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00288">__ao2_unlock()</a>, and <a class="el" href="../../d2/d29/heap_8c_source.html#l00291">__ast_heap_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   <span class="keywordtype">int</span> lock_found = 0;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="preprocessor">#if defined(AST_MUTEX_INIT_W_CONSTRUCTORS) &amp;&amp; defined(CAN_COMPARE_MUTEX_TO_INIT_VALUE)</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;   <span class="keywordflow">if</span> ((t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>) == ((pthread_rwlock_t) <a class="code" href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a>)) {</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Warning: rwlock &#39;%s&#39; is uninitialized.\n&quot;</span>,</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;               filename, line, func, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">return</span> EINVAL;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AST_MUTEX_INIT_W_CONSTRUCTORS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;         <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;         pthread_t <span class="keyword">self</span> = pthread_self();</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;         <span class="keywordflow">for</span> (i = lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1; i &gt;= 0; --i) {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[i] == <span class="keyword">self</span>) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;               lock_found = 1;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;               <span class="keywordflow">if</span> (i != lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                  lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[i] = lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1];</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                  lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[i] = lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1];</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                  lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[i] = lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1];</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                  lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[i] = lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1];</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;               }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;               bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[i];</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;               lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;               lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1] = 0;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;               lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;               lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> - 1] = <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            }</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;         }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="keywordflow">if</span> (lock_found &amp;&amp; --lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; 0) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;         <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): rwlock &#39;%s&#39; freed more times than we&#39;ve locked!\n&quot;</span>,</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;               filename, line, func, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> = 0;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a>(t, bt);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   res = pthread_rwlock_unlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error releasing rwlock: %s\n&quot;</span>,</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            filename, line, func, strerror(res));</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="lock_8h_html_a0cb7003eb65f89e6c6e44b608946cfc0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0cb7003eb65f89e6c6e44b608946cfc0">__AST_RWLOCK_INIT_VALUE</a></div><div class="ttdeci">#define __AST_RWLOCK_INIT_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00084">lock.h:84</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="lock_8h_html_a64c71c091e79908c7a05cfdad1389f58"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a></div><div class="ttdeci">void ast_remove_lock_info(void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">remove lock info for the current thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00068">check_expr.c:68</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e62da21a5d9e4b7f448aa44438b9fee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e62da21a5d9e4b7f448aa44438b9fee">&#9670;&nbsp;</a></span>__ast_rwlock_wrlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_rwlock_wrlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/dae/lock_8c_source.html#l00917">917</a> of file <a class="el" href="../../da/dae/lock_8c_source.html">lock.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/dae/lock_8c_source.html#l00068">__dump_backtrace()</a>, <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00038">ast_bt_get_addresses</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00086">ast_get_reentrancy()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00101">AST_MAX_REENTRANCY</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">ast_reentrancy_lock()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">ast_reentrancy_unlock()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">ast_remove_lock_info()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00255">AST_WRLOCK</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00118">ast_lock_track::backtrace</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00247">DO_THREAD_CRASH</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00112">ast_lock_track::file</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00168">ast_rwlock_info::flags</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00115">ast_lock_track::func</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00113">ast_lock_track::lineno</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00157">ast_rwlock_info::lock</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00057">log_mutex_error</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00114">ast_lock_track::reentrancy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00116">ast_lock_track::thread_id</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00167">ast_rwlock_info::track</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00125">ast_lock_track_flags::tracking</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d9e/astobj2__global_8c_source.html#l00033">__ao2_global_obj_replace()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00222">__ao2_lock()</a>, and <a class="el" href="../../d2/d29/heap_8c_source.html#l00281">__ast_heap_wrlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *lt = <a class="code" href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a>(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">track</a>, &amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>, 0);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keywordtype">int</span> canlog = t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">flags</a>.<a class="code" href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">tracking</a> &amp;&amp; strcmp(filename, <span class="stringliteral">&quot;logger.c&quot;</span>);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="comment">/* The implementation of backtrace() may have its own locks.</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">       * Capture the backtrace outside of the reentrancy lock to</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">       * avoid deadlocks. See ASTERISK-22455. */</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a>(&amp;<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>];</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a>(<a class="code" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a>, filename, line, func, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, t, bt);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   }</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="preprocessor">#if defined(DETECT_DEADLOCKS) &amp;&amp; defined(DEBUG_THREADS)</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   {</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      time_t seconds = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      time_t wait_time, reported_wait = 0;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;         res = pthread_rwlock_trywrlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;         <span class="keywordflow">if</span> (res == EBUSY) {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            wait_time = time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) - seconds;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <span class="keywordflow">if</span> (wait_time &gt; reported_wait &amp;&amp; (wait_time % 5) == 0) {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;               <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Deadlock? waited %d sec for writelock &#39;%s&#39;?\n&quot;</span>,</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                  filename, line, func, (<span class="keywordtype">int</span>)wait_time, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;               <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>], canlog);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): &#39;%s&#39; was locked  here.\n&quot;</span>,</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                        lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1], lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1],</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                        lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1], <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                  <a class="code" href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1], canlog);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                  <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;               }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;               reported_wait = wait_time;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            usleep(200);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;         }</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      } <span class="keywordflow">while</span> (res == EBUSY);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* !DETECT_DEADLOCKS || !DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   res = pthread_rwlock_wrlock(&amp;t-&gt;<a class="code" href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">lock</a>);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !DETECT_DEADLOCKS || !DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="preprocessor">#ifdef DEBUG_THREADS</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   <span class="keywordflow">if</span> (!res &amp;&amp; lt) {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a> &lt; <a class="code" href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a>) {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">file</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = filename;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">lineno</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = line;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">func</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = func;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">thread_id</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>] = pthread_self();</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;         lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>++;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a>(t);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt) {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="keywordflow">if</span> (lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>) {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a>(lt);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;         bt = &amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">backtrace</a>[lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">reentrancy</a>-1];</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a>(lt);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;         bt = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      }</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a>(t, bt);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;   }</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <a class="code" href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a>(canlog, <span class="stringliteral">&quot;%s line %d (%s): Error obtaining write lock: %s\n&quot;</span>,</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            filename, line, func, strerror(res));</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a>;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;   }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG_THREADS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_ad47ace992d486f7e73ee1f3b085f89ff"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad47ace992d486f7e73ee1f3b085f89ff">ast_lock_track::file</a></div><div class="ttdeci">const char * file[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00112">lock.h:112</a></div></div>
<div class="ttc" id="lock_8c_html_a9680ec84357c5cdcde6b419865838569"><div class="ttname"><a href="../../da/dae/lock_8c.html#a9680ec84357c5cdcde6b419865838569">ast_get_reentrancy</a></div><div class="ttdeci">static struct ast_lock_track * ast_get_reentrancy(struct ast_lock_track **plt, struct ast_lock_track_flags *flags, int no_setup)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00086">lock.c:86</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__lock__track_html_a22361513361167133dbaa56984bcfce1"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a22361513361167133dbaa56984bcfce1">ast_lock_track::reentrancy</a></div><div class="ttdeci">int reentrancy</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00114">lock.h:114</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8c_html_a935134ff40d34badb765fc9c780b5459"><div class="ttname"><a href="../../da/dae/lock_8c.html#a935134ff40d34badb765fc9c780b5459">log_mutex_error</a></div><div class="ttdeci">#define log_mutex_error(canlog,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00057">lock.c:57</a></div></div>
<div class="ttc" id="structast__lock__track_html_a8acd442b5d58eb37377609c0b91c99f8"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a8acd442b5d58eb37377609c0b91c99f8">ast_lock_track::lineno</a></div><div class="ttdeci">int lineno[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00113">lock.h:113</a></div></div>
<div class="ttc" id="structast__lock__track_html_a60b85a8bc06283fa618197388fd9b0e6"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a60b85a8bc06283fa618197388fd9b0e6">ast_lock_track::backtrace</a></div><div class="ttdeci">struct ast_bt backtrace[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00118">lock.h:118</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="structast__lock__track_html"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html">ast_lock_track</a></div><div class="ttdoc">Lock tracking information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00111">lock.h:111</a></div></div>
<div class="ttc" id="lock_8h_html_a349a86c7c5c6717af32e587fc228060c"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a349a86c7c5c6717af32e587fc228060c">ast_store_lock_info</a></div><div class="ttdeci">void ast_store_lock_info(enum ast_lock_type type, const char *filename, int line_num, const char *func, const char *lock_name, void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">Store lock info for the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00061">check_expr.c:61</a></div></div>
<div class="ttc" id="structast__lock__track__flags_html_ae6e53b2b28f0ece3c55b435d1458e282"><div class="ttname"><a href="../../d6/d11/structast__lock__track__flags.html#ae6e53b2b28f0ece3c55b435d1458e282">ast_lock_track_flags::tracking</a></div><div class="ttdeci">unsigned int tracking</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00125">lock.h:125</a></div></div>
<div class="ttc" id="lock_8h_html_a4ea1f9df0b5824c343b2afa55a4efff7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a4ea1f9df0b5824c343b2afa55a4efff7">DO_THREAD_CRASH</a></div><div class="ttdeci">#define DO_THREAD_CRASH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00247">lock.h:247</a></div></div>
<div class="ttc" id="lock_8h_html_a83764b0382a6a6184b45ad03a0daf058"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a83764b0382a6a6184b45ad03a0daf058">ast_reentrancy_lock</a></div><div class="ttdeci">static void ast_reentrancy_lock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00443">lock.h:443</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_a427e3fa75fd3aead1db8beac91899415"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#a427e3fa75fd3aead1db8beac91899415">ast_rwlock_info::flags</a></div><div class="ttdeci">struct ast_lock_track_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00168">lock.h:168</a></div></div>
<div class="ttc" id="lock_8h_html_a64c71c091e79908c7a05cfdad1389f58"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a64c71c091e79908c7a05cfdad1389f58">ast_remove_lock_info</a></div><div class="ttdeci">void ast_remove_lock_info(void *lock_addr, struct ast_bt *bt)</div><div class="ttdoc">remove lock info for the current thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00068">check_expr.c:68</a></div></div>
<div class="ttc" id="structast__lock__track_html_ad92aaa12e386028e2e31dc60b3945079"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#ad92aaa12e386028e2e31dc60b3945079">ast_lock_track::func</a></div><div class="ttdeci">const char * func[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00115">lock.h:115</a></div></div>
<div class="ttc" id="lock_8h_html_a510a0910cc0d62833ae68a0fc82064ae"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a510a0910cc0d62833ae68a0fc82064ae">ast_reentrancy_unlock</a></div><div class="ttdeci">static void ast_reentrancy_unlock(struct ast_lock_track *lt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00454">lock.h:454</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="lock_8h_html_a3970ea8e4a2aabd268c24203e5c40dc2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2">ast_mark_lock_acquired</a></div><div class="ttdeci">void ast_mark_lock_acquired(void *lock_addr)</div><div class="ttdoc">Mark the last lock as acquired. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbb/check__expr_8c_source.html#l00094">check_expr.c:94</a></div></div>
<div class="ttc" id="lock_8h_html_a0a9b4084ee667d8375d2ea01a3913d28"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a0a9b4084ee667d8375d2ea01a3913d28">AST_MAX_REENTRANCY</a></div><div class="ttdeci">#define AST_MAX_REENTRANCY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00101">lock.h:101</a></div></div>
<div class="ttc" id="structast__lock__track_html_a7cd7d27575cc3f9ea6c2daa45bac49b2"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#a7cd7d27575cc3f9ea6c2daa45bac49b2">ast_lock_track::thread_id</a></div><div class="ttdeci">pthread_t thread_id[AST_MAX_REENTRANCY]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00116">lock.h:116</a></div></div>
<div class="ttc" id="lock_8c_html_acc4ab5721f6f26dea3df43add9914e4e"><div class="ttname"><a href="../../da/dae/lock_8c.html#acc4ab5721f6f26dea3df43add9914e4e">__dump_backtrace</a></div><div class="ttdeci">static void __dump_backtrace(struct ast_bt *bt, int canlog)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dae/lock_8c_source.html#l00068">lock.c:68</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#aa0246195b64447ad0ba3510f410604f4">ast_rwlock_info::lock</a></div><div class="ttdeci">pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00157">lock.h:157</a></div></div>
<div class="ttc" id="lock_8h_html_a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153da394daead2db186af926a26729a23484d">AST_WRLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00255">lock.h:255</a></div></div>
<div class="ttc" id="backtrace_8h_html_adc63f9302e386d5c7b2b145d8bb1559c"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#adc63f9302e386d5c7b2b145d8bb1559c">ast_bt_get_addresses</a></div><div class="ttdeci">#define ast_bt_get_addresses(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00038">backtrace.h:38</a></div></div>
<div class="ttc" id="structast__rwlock__info_html_afeebabad05904e583097b63f60e8584b"><div class="ttname"><a href="../../dc/d9e/structast__rwlock__info.html#afeebabad05904e583097b63f60e8584b">ast_rwlock_info::track</a></div><div class="ttdeci">struct ast_lock_track * track</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00167">lock.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acbbba9058696fc07cec1485a88b5f4ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbbba9058696fc07cec1485a88b5f4ad">&#9670;&nbsp;</a></span>ast_atomic_dec_and_test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ast_atomic_dec_and_test </td>
          <td>(</td>
          <td class="paramtype">volatile int *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>decrement *p by 1 and return true if the variable has reached 0. </p>
<p>Useful e.g. to check if a refcount has reached 0. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00765">765</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02504">dispose_conf()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11978">iax2_process_thread_cleanup()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06068">run_station()</a>, and <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>.</p>

</div>
</div>
<a id="a8a3bd496edfec04a95683ace66676200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a3bd496edfec04a95683ace66676200">&#9670;&nbsp;</a></span>ast_atomic_fetchadd_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ast_atomic_fetchadd_int </td>
          <td>(</td>
          <td class="paramtype">volatile int *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomically add v to *p and return the previous value of *p. </p>
<p>This can be used to handle reference counts, and the return value can be used to generate unique identifiers. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">755</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00672">ast_atomic_sub_fetch</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00094">__ao2_link()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00222">__ao2_lock()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00498">__ao2_ref()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00342">__ao2_trylock()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00288">__ao2_unlock()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l00739">__ast_channel_alloc_ap()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01331">__ast_channel_internal_alloc()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02698">__ast_module_ref()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l02734">__ast_module_unref()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">__ast_module_user_add()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00853">__ast_module_user_hangup_all()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">__ast_module_user_remove()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00039">__container_unlink_node_debug()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07112">__manager_event_sessions_va()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02985">_sip_tcp_helper_thread()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07657">accept_thread()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00725">acf_odbc_read()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04393">action_login()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l05225">admin_exec()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02753">advance_event()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07068">append_event()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03382">ast_bridge_interval_hook()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02192">ast_channel_destructor()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01527">ast_channel_internal_setup_topics()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02939">ast_cli_command_full()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01957">ast_create_callid()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00478">ast_odbc_execute_sql()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00463">ast_odbc_prepare()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00407">ast_odbc_prepare_and_execute()</a>, <a class="el" href="../../d7/d4a/res__odbc_8c_source.html#l00489">ast_odbc_smart_execute()</a>, <a class="el" href="../../de/dfa/pjsip__scheduler_8c_source.html#l00415">ast_sip_schedule_task()</a>, <a class="el" href="../../d4/deb/taskprocessor_8c_source.html#l01276">ast_taskprocessor_seq_num()</a>, <a class="el" href="../../dc/dc0/test__astobj2__thrash_8c_source.html#l00247">AST_TEST_DEFINE()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l00504">ast_undestroyed_channels()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l01162">ast_unreal_new_channels()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08106">authenticate_verify()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01570">bridge_channel_handle_interval()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00966">bridge_channel_queue_action_data_sync()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01606">build_conf()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31631">build_peer()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02250">cc_device_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02089">cc_extension_monitor_init()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02138">cc_interfaces_datastore_init()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l01039">cdr_object_alloc()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00547">chan_pjsip_new()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00635">container_destruct()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l01777">create_new_sip_etag()</a>, <a class="el" href="../../de/d52/codec__dahdi_8c_source.html#l00562">dahdi_destroy()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13491">dahdi_request()</a>, <a class="el" href="../../de/d52/codec__dahdi_8c_source.html#l00611">dahdi_translate()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07426">destroy_session()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00249">dial_append_common()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../d5/da5/dns__query__set_8c_source.html#l00078">dns_query_set_callback()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l04215">dundi_query_read()</a>, <a class="el" href="../../d9/d5e/func__enum_8c_source.html#l00252">enum_query_read()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01215">fax_session_new()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01083">fax_session_release()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01146">fax_session_reserve()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01586">find_idle_thread()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03702">find_load_queue_rt_friendly()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07479">find_session()</a>, <a class="el" href="../../de/d52/codec__dahdi_8c_source.html#l00807">find_transcoders()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l06291">generate_msg_id()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01590">generic_fax_exec()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01963">grab_last()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07285">handle_message()</a>, <a class="el" href="../../d6/dbf/astobj2__hash_8c_source.html#l01057">hash_ao2_container_init()</a>, <a class="el" href="../../dc/dc0/test__astobj2__thrash_8c_source.html#l00098">hash_test_grow()</a>, <a class="el" href="../../dc/dc0/test__astobj2__thrash_8c_source.html#l00121">hash_test_lookup()</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00376">hook_read()</a>, <a class="el" href="../../dc/dc0/test__astobj2__thrash_8c_source.html#l00077">ht_delete()</a>, <a class="el" href="../../dc/dc0/test__astobj2__thrash_8c_source.html#l00083">ht_new()</a>, <a class="el" href="../../dd/d43/http_8c_source.html#l01937">httpd_helper_thread()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02088">iax2_destroy_helper()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11990">iax2_process_thread()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l01285">iax_frame_free()</a>, <a class="el" href="../../d2/d72/parser_8c_source.html#l01218">iax_frame_new()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l01133">inprocess_count()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00681">internal_ao2_alloc()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00858">internal_stasis_subscribe()</a>, <a class="el" href="../../d3/dea/res__pjsip__history_8c_source.html#l00628">pjsip_history_entry_alloc()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01432">publish_msg()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03326">pubsub_on_rx_publish_request()</a>, <a class="el" href="../../d7/d53/astobj2__rbtree_8c_source.html#l02021">rb_ao2_container_init()</a>, <a class="el" href="../../d9/d44/conf__chan__record_8c_source.html#l00057">rec_request()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02082">receivefax_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l09383">reload_single_queue()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06068">run_station()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02590">sendfax_exec()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02198">session_destructor()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06937">session_do()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l03145">sip_create_publication()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05309">sip_destroy_peer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08161">sip_new()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17511">sip_peer_hold()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07562">sla_add_trunk_to_station()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06559">sla_handle_hold_event()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l01202">smdi_msg_retrieve_read()</a>, <a class="el" href="../../d5/d47/res__fax__spandsp_8c_source.html#l01021">spandsp_fax_switch_to_t38()</a>, <a class="el" href="../../dd/da3/res__stasis__snoop_8c_source.html#l00309">stasis_app_control_snoop()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00948">stasis_caching_topic_create()</a>, <a class="el" href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00065">stasis_cp_all_create()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00056">stasis_message_type_create()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31550">temp_peer()</a>, <a class="el" href="../../d2/db8/res__pjsip__transport__websocket_8c_source.html#l00149">transport_create()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02917">try_merge_optimize_out()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02793">try_swap_optimize_out()</a>, <a class="el" href="../../d5/d47/res__fax__spandsp_8c_source.html#l00257">update_stats()</a>, and <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l01093">worker_thread_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="a821120ebd995b34627205de93d046d8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821120ebd995b34627205de93d046d8a">&#9670;&nbsp;</a></span>ast_dump_locks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a>* ast_dump_locks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a lock dump equivalent to "core show locks". </p>
<p>The lock dump generated is generally too large to be output by a single ast_verbose/log/debug/etc. call. Only <a class="el" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli()</a> handles it properly without changing BUFSIZ in logger.c.</p>
<p>Note: This must be <a class="el" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free()</a>d when you're done with it.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">An</td><td><a class="el" href="../../dd/da2/structast__str.html" title="The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...">ast_str</a> containing the lock dump </td></tr>
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01264">1264</a> of file <a class="el" href="../../de/d1f/main_2utils_8c_source.html">main/utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01174">append_lock_information()</a>, <a class="el" href="../../d2/d0b/version_8c_source.html#l00016">ast_get_version()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00853">lock_infos_lock</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00843">thr_lock_info::lwp</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00833">thr_lock_info::suspended</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00818">thr_lock_info::thread_id</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00820">thr_lock_info::thread_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01339">handle_show_locks()</a>.</p>
<div class="fragment"><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;{</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="preprocessor">#if !defined(LOW_MEMORY)</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d84/structthr__lock__info.html">thr_lock_info</a> *<a class="code" href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a>;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   <span class="keywordflow">if</span> (!(str = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(4096))) {</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;str, 0, <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                  <span class="stringliteral">&quot;=======================================================================\n&quot;</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                  <span class="stringliteral">&quot;=== %s\n&quot;</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                  <span class="stringliteral">&quot;=== Currently Held Locks\n&quot;</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                  <span class="stringliteral">&quot;=======================================================================\n&quot;</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                  <span class="stringliteral">&quot;===\n&quot;</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                  <span class="stringliteral">&quot;=== &lt;pending&gt; &lt;lock#&gt; (&lt;file&gt;): &lt;lock type&gt; &lt;line num&gt; &lt;function&gt; &lt;lock name&gt; &lt;lock addr&gt; (times locked)\n&quot;</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                  <span class="stringliteral">&quot;===\n&quot;</span>, <a class="code" href="../../d5/db9/ast__version_8h.html#a7765c608aea948584928643ab3963b2a">ast_get_version</a>());</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   }</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;<a class="code" href="../../de/d1f/main_2utils_8c.html#a1196be5ab4cded8d600e0668cc67a3ef">lock_infos_lock</a>.<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d1/d14/structlock__infos.html">lock_infos</a>, lock_info, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <span class="keywordtype">int</span> header_printed = 0;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="keywordflow">for</span> (i = 0; str &amp;&amp; i &lt; lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">num_locks</a>; i++) {</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;         <span class="comment">/* Don&#39;t show suspended locks */</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;         <span class="keywordflow">if</span> (lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#af62c9334e77989174caccf53beee4215">suspended</a>) {</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;         }</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;         <span class="keywordflow">if</span> (!header_printed) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <span class="keywordflow">if</span> (lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a> != -1) {</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;str, 0, <span class="stringliteral">&quot;=== Thread ID: 0x%lx LWP:%d (%s)\n&quot;</span>,</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                  (<span class="keywordtype">long</span> <span class="keywordtype">unsigned</span>) lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a614409619094fd8c0c6b522c400ffeea">thread_id</a>, lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a>, lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#af081a07b0c5074db7c1896da8fb72e81">thread_name</a>);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;str, 0, <span class="stringliteral">&quot;=== Thread ID: 0x%lx (%s)\n&quot;</span>,</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                  (<span class="keywordtype">long</span> <span class="keywordtype">unsigned</span>) lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a614409619094fd8c0c6b522c400ffeea">thread_id</a>, lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#af081a07b0c5074db7c1896da8fb72e81">thread_name</a>);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            }</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            header_printed = 1;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;         }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;         <a class="code" href="../../de/d1f/main_2utils_8c.html#acd9e4b05a5bb427d74a3c5ef4737a1da">append_lock_information</a>(&amp;str, lock_info, i);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      }</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="keywordflow">if</span> (header_printed) {</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;str, 0, <span class="stringliteral">&quot;=== -------------------------------------------------------------------\n&quot;</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="stringliteral">&quot;===\n&quot;</span>);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      }</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;   }</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;<a class="code" href="../../de/d1f/main_2utils_8c.html#a1196be5ab4cded8d600e0668cc67a3ef">lock_infos_lock</a>.<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;   }</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;str, 0, <span class="stringliteral">&quot;=======================================================================\n&quot;</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                  <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* if defined(LOW_MEMORY) */</span><span class="preprocessor"></span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;}</div><div class="ttc" id="structthr__lock__info_html_abb7462a60a130c6741693c39bf3717ba"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a></div><div class="ttdeci">struct thr_lock_info::@431 locks[AST_MAX_LOCKS]</div></div>
<div class="ttc" id="ast__version_8h_html_a7765c608aea948584928643ab3963b2a"><div class="ttname"><a href="../../d5/db9/ast__version_8h.html#a7765c608aea948584928643ab3963b2a">ast_get_version</a></div><div class="ttdeci">const char * ast_get_version(void)</div><div class="ttdoc">Retrieve the Asterisk version string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/version_8c_source.html#l00016">version.c:16</a></div></div>
<div class="ttc" id="main_2utils_8c_html_acd9e4b05a5bb427d74a3c5ef4737a1da"><div class="ttname"><a href="../../de/d1f/main_2utils_8c.html#acd9e4b05a5bb427d74a3c5ef4737a1da">append_lock_information</a></div><div class="ttdeci">static void append_lock_information(struct ast_str **str, struct thr_lock_info *lock_info, int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01174">main/utils.c:1174</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0f8def5bce8663fdf3c26aa4bad23d2c"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">thr_lock_info::num_locks</a></div><div class="ttdeci">unsigned int num_locks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00841">main/utils.c:841</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a1a8544029f1f17896aa17752c6aeed52"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a1a8544029f1f17896aa17752c6aeed52">thr_lock_info::lwp</a></div><div class="ttdeci">int lwp</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00843">main/utils.c:843</a></div></div>
<div class="ttc" id="structthr__lock__info_html_af62c9334e77989174caccf53beee4215"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#af62c9334e77989174caccf53beee4215">thr_lock_info::suspended</a></div><div class="ttdeci">int suspended</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00833">main/utils.c:833</a></div></div>
<div class="ttc" id="main_2utils_8c_html_a1196be5ab4cded8d600e0668cc67a3ef"><div class="ttname"><a href="../../de/d1f/main_2utils_8c.html#a1196be5ab4cded8d600e0668cc67a3ef">lock_infos_lock</a></div><div class="ttdeci">static ast_mutex_t lock_infos_lock</div><div class="ttdoc">Locked when accessing the lock_infos list. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00853">main/utils.c:853</a></div></div>
<div class="ttc" id="lock_8h_html_a6ef26f63d38c1d8cdf05a15b6b368c24"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00623">lock.h:623</a></div></div>
<div class="ttc" id="func__lock_8c_html_a418645ebdd5c70fda7487d0195b8a759"><div class="ttname"><a href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a></div><div class="ttdeci">static const struct ast_datastore_info lock_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d01/func__lock_8c_source.html#l00115">func_lock.c:115</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0abaf4b5d42c4e5d19190035fade3599"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">thr_lock_info::lock</a></div><div class="ttdeci">pthread_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00846">main/utils.c:846</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a614409619094fd8c0c6b522c400ffeea"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a614409619094fd8c0c6b522c400ffeea">thr_lock_info::thread_id</a></div><div class="ttdeci">pthread_t thread_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00818">main/utils.c:818</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structthr__lock__info_html_af081a07b0c5074db7c1896da8fb72e81"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#af081a07b0c5074db7c1896da8fb72e81">thr_lock_info::thread_name</a></div><div class="ttdeci">const char * thread_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00820">main/utils.c:820</a></div></div>
<div class="ttc" id="structlock__infos_html"><div class="ttname"><a href="../../d1/d14/structlock__infos.html">lock_infos</a></div><div class="ttdoc">A list of each thread&amp;#39;s lock info. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00857">main/utils.c:857</a></div></div>
<div class="ttc" id="structthr__lock__info_html"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html">thr_lock_info</a></div><div class="ttdoc">Keep track of which locks a thread holds. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00816">main/utils.c:816</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aacd7565f51724188ecf0f21f2a43fb1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacd7565f51724188ecf0f21f2a43fb1e">&#9670;&nbsp;</a></span>ast_find_lock_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_find_lock_info </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>filename_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>func_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>mutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mutex_name_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieve lock info for the specified mutex </p>
<p>this gets called during deadlock avoidance, so that the information may be preserved as to what location originally acquired the lock. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00995">995</a> of file <a class="el" href="../../de/d1f/main_2utils_8c_source.html">main/utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00823">thr_lock_info::file</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00824">thr_lock_info::func</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00828">thr_lock_info::line_num</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00826">thr_lock_info::lock_addr</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00825">thr_lock_info::lock_name</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00902">thread_lock_info</a>.</p>
<div class="fragment"><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;{</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="preprocessor">#if !defined(LOW_MEMORY)</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d84/structthr__lock__info.html">thr_lock_info</a> *<a class="code" href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a>;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <span class="keywordflow">if</span> (!(lock_info = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../de/d1f/main_2utils_8c.html#ae1445fe6bc0aafd9832b2d53377c952a">thread_lock_info</a>, <span class="keyword">sizeof</span>(*lock_info))))</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <span class="keywordflow">for</span> (i = lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">num_locks</a> - 1; i &gt;= 0; i--) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <span class="keywordflow">if</span> (lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">lock_addr</a> == <a class="code" href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">lock_addr</a>)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <span class="keywordflow">if</span> (i == -1) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <span class="comment">/* Lock not found :( */</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(filename, lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>, filename_size);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   *lineno = lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#a7661b5d028be7f8997cef563e3890fd9">line_num</a>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../de/d84/structthr__lock__info.html#afc4e949c7b7d0ab565ecfb62c3380171">func</a>, lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#afc4e949c7b7d0ab565ecfb62c3380171">func</a>, func_size);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(mutex_name, lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#aab5e878cae779b0da45f2c9ddce62ae8">lock_name</a>, mutex_name_size);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* if defined(LOW_MEMORY) */</span><span class="preprocessor"></span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="structthr__lock__info_html_abb7462a60a130c6741693c39bf3717ba"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a></div><div class="ttdeci">struct thr_lock_info::@431 locks[AST_MAX_LOCKS]</div></div>
<div class="ttc" id="structthr__lock__info_html_aab5e878cae779b0da45f2c9ddce62ae8"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#aab5e878cae779b0da45f2c9ddce62ae8">thr_lock_info::lock_name</a></div><div class="ttdeci">const char * lock_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00825">main/utils.c:825</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a7661b5d028be7f8997cef563e3890fd9"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a7661b5d028be7f8997cef563e3890fd9">thr_lock_info::line_num</a></div><div class="ttdeci">int line_num</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00828">main/utils.c:828</a></div></div>
<div class="ttc" id="main_2utils_8c_html_ae1445fe6bc0aafd9832b2d53377c952a"><div class="ttname"><a href="../../de/d1f/main_2utils_8c.html#ae1445fe6bc0aafd9832b2d53377c952a">thread_lock_info</a></div><div class="ttdeci">static struct ast_threadstorage thread_lock_info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00902">main/utils.c:902</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0f8def5bce8663fdf3c26aa4bad23d2c"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">thr_lock_info::num_locks</a></div><div class="ttdeci">unsigned int num_locks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00841">main/utils.c:841</a></div></div>
<div class="ttc" id="structthr__lock__info_html_ab4044b4dc4bb1ae63bd44579f60221b8"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">thr_lock_info::lock_addr</a></div><div class="ttdeci">void * lock_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00826">main/utils.c:826</a></div></div>
<div class="ttc" id="lock_8h_html_a6ef26f63d38c1d8cdf05a15b6b368c24"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00623">lock.h:623</a></div></div>
<div class="ttc" id="structthr__lock__info_html_afc4e949c7b7d0ab565ecfb62c3380171"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#afc4e949c7b7d0ab565ecfb62c3380171">thr_lock_info::func</a></div><div class="ttdeci">const char * func</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00824">main/utils.c:824</a></div></div>
<div class="ttc" id="func__lock_8c_html_a418645ebdd5c70fda7487d0195b8a759"><div class="ttname"><a href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a></div><div class="ttdeci">static const struct ast_datastore_info lock_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d01/func__lock_8c_source.html#l00115">func_lock.c:115</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0abaf4b5d42c4e5d19190035fade3599"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">thr_lock_info::lock</a></div><div class="ttdeci">pthread_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00846">main/utils.c:846</a></div></div>
<div class="ttc" id="structthr__lock__info_html_af0baa3ccdd9d2a6adf03b72e2bea5789"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#af0baa3ccdd9d2a6adf03b72e2bea5789">thr_lock_info::file</a></div><div class="ttdeci">const char * file</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00823">main/utils.c:823</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structthr__lock__info_html"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html">thr_lock_info</a></div><div class="ttdoc">Keep track of which locks a thread holds. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00816">main/utils.c:816</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2a6974e1f96eb9f9a6f6dcb9875c3e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2a6974e1f96eb9f9a6f6dcb9875c3e0">&#9670;&nbsp;</a></span>ast_log_show_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_log_show_lock </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>this_lock_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>log info for the current lock with <a class="el" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log()</a>. </p>
<p>this function would be mostly for debug. If you come across a lock that is unexpectedly but momentarily locked, and you wonder who are fighting with for the lock, this routine could be called, IF you have the thread debugging stuff turned on. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">this_lock_addr</td><td>lock address to return lock information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.6.1</dd></dl>
<p>This function can help you find highly temporal locks; locks that happen for a short time, but at unexpected times, usually at times that create a deadlock, Why is this thing locked right then? Who is locking it? Who am I fighting with for this lock?</p>
<p>To answer such questions, just call this routine before you would normally try to aquire a lock. It doesn't do anything if the lock is not acquired. If the lock is taken, it will publish a line or two to the console via <a class="el" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log()</a>.</p>
<p>Sometimes, the lock message is pretty uninformative. For instance, you might find that the lock is being aquired deep within the <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> code; this tells you little about higher level routines that call the <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> routines. But, using gdb, you can set a break at the ast_log below, and for that breakpoint, you can set the commands: where cont which will give a stack trace and continue. &ndash; that aught to do the job! </p>

<p class="definition">Definition at line <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01231">1231</a> of file <a class="el" href="../../de/d1f/main_2utils_8c_source.html">main/utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01174">append_lock_information()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00826">thr_lock_info::lock_addr</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00853">lock_infos_lock</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00136">ast_mutex_info::mutex</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>
<div class="fragment"><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;{</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="preprocessor">#if !defined(LOW_MEMORY)</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d84/structthr__lock__info.html">thr_lock_info</a> *<a class="code" href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keywordflow">if</span> (!(str = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(4096))) {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>,<span class="stringliteral">&quot;Could not create str\n&quot;</span>);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;<a class="code" href="../../de/d1f/main_2utils_8c.html#a1196be5ab4cded8d600e0668cc67a3ef">lock_infos_lock</a>.<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d1/d14/structlock__infos.html">lock_infos</a>, lock_info, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">for</span> (i = 0; str &amp;&amp; i &lt; lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">num_locks</a>; i++) {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;         <span class="comment">/* ONLY show info about this particular lock, if</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">            it&#39;s acquired... */</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;         <span class="keywordflow">if</span> (lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">lock_addr</a> == this_lock_addr) {</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            <a class="code" href="../../de/d1f/main_2utils_8c.html#acd9e4b05a5bb427d74a3c5ef4737a1da">append_lock_information</a>(&amp;str, lock_info, i);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str));</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;         }</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      }</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   }</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;<a class="code" href="../../de/d1f/main_2utils_8c.html#a1196be5ab4cded8d600e0668cc67a3ef">lock_infos_lock</a>.<a class="code" href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ! LOW_MEMORY */</span><span class="preprocessor"></span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div><div class="ttc" id="structthr__lock__info_html_abb7462a60a130c6741693c39bf3717ba"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a></div><div class="ttdeci">struct thr_lock_info::@431 locks[AST_MAX_LOCKS]</div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="main_2utils_8c_html_acd9e4b05a5bb427d74a3c5ef4737a1da"><div class="ttname"><a href="../../de/d1f/main_2utils_8c.html#acd9e4b05a5bb427d74a3c5ef4737a1da">append_lock_information</a></div><div class="ttdeci">static void append_lock_information(struct ast_str **str, struct thr_lock_info *lock_info, int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01174">main/utils.c:1174</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0f8def5bce8663fdf3c26aa4bad23d2c"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">thr_lock_info::num_locks</a></div><div class="ttdeci">unsigned int num_locks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00841">main/utils.c:841</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="structthr__lock__info_html_ab4044b4dc4bb1ae63bd44579f60221b8"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">thr_lock_info::lock_addr</a></div><div class="ttdeci">void * lock_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00826">main/utils.c:826</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="main_2utils_8c_html_a1196be5ab4cded8d600e0668cc67a3ef"><div class="ttname"><a href="../../de/d1f/main_2utils_8c.html#a1196be5ab4cded8d600e0668cc67a3ef">lock_infos_lock</a></div><div class="ttdeci">static ast_mutex_t lock_infos_lock</div><div class="ttdoc">Locked when accessing the lock_infos list. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00853">main/utils.c:853</a></div></div>
<div class="ttc" id="lock_8h_html_a6ef26f63d38c1d8cdf05a15b6b368c24"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00623">lock.h:623</a></div></div>
<div class="ttc" id="func__lock_8c_html_a418645ebdd5c70fda7487d0195b8a759"><div class="ttname"><a href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a></div><div class="ttdeci">static const struct ast_datastore_info lock_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d01/func__lock_8c_source.html#l00115">func_lock.c:115</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0abaf4b5d42c4e5d19190035fade3599"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">thr_lock_info::lock</a></div><div class="ttdeci">pthread_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00846">main/utils.c:846</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structlock__infos_html"><div class="ttname"><a href="../../d1/d14/structlock__infos.html">lock_infos</a></div><div class="ttdoc">A list of each thread&amp;#39;s lock info. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00857">main/utils.c:857</a></div></div>
<div class="ttc" id="structthr__lock__info_html"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html">thr_lock_info</a></div><div class="ttdoc">Keep track of which locks a thread holds. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00816">main/utils.c:816</a></div></div>
<div class="ttc" id="structast__mutex__info_html_a4acff8232e4aec9cd5c6dc200ac55ef3"><div class="ttname"><a href="../../d8/dc5/structast__mutex__info.html#a4acff8232e4aec9cd5c6dc200ac55ef3">ast_mutex_info::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00136">lock.h:136</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3970ea8e4a2aabd268c24203e5c40dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3970ea8e4a2aabd268c24203e5c40dc2">&#9670;&nbsp;</a></span>ast_mark_lock_acquired()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_mark_lock_acquired </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the last lock as acquired. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">94</a> of file <a class="el" href="../../dd/dbb/check__expr_8c_source.html">check_expr.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00826">thr_lock_info::lock_addr</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00831">thr_lock_info::pending</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00902">thread_lock_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00366">__ast_pthread_mutex_trylock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00819">__ast_rwlock_rdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01014">__ast_rwlock_timedrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01096">__ast_rwlock_timedwrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01178">__ast_rwlock_tryrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01228">__ast_rwlock_trywrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00917">__ast_rwlock_wrlock()</a>, and <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00090">ast_restore_lock_info()</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">/* not a lot to do in a standalone w/o threading! */</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a0ed1f5e44323dd2f45fd091e4480550a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ed1f5e44323dd2f45fd091e4480550a">&#9670;&nbsp;</a></span>ast_mark_lock_failed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_mark_lock_failed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the last lock as failed (trylock) </p>

<p class="definition">Definition at line <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02314">2314</a> of file <a class="el" href="../../d4/dc5/extconf_8c_source.html">extconf.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00826">thr_lock_info::lock_addr</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00831">thr_lock_info::pending</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00902">thread_lock_info</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00827">thr_lock_info::times_locked</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00366">__ast_pthread_mutex_trylock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01178">__ast_rwlock_tryrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01228">__ast_rwlock_trywrlock()</a>, and <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02298">ast_tvsub()</a>.</p>
<div class="fragment"><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;{</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;   <span class="comment">/* Pretend to do something. */</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a83764b0382a6a6184b45ad03a0daf058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83764b0382a6a6184b45ad03a0daf058">&#9670;&nbsp;</a></span>ast_reentrancy_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ast_reentrancy_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *&#160;</td>
          <td class="paramname"><em>lt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00443">443</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00120">ast_lock_track::reentr_mutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00604">__ast_cond_timedwait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00539">__ast_cond_wait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00175">__ast_pthread_mutex_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00366">__ast_pthread_mutex_trylock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00421">__ast_pthread_mutex_unlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00701">__ast_rwlock_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00819">__ast_rwlock_rdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01014">__ast_rwlock_timedrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01096">__ast_rwlock_timedwrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01178">__ast_rwlock_tryrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01228">__ast_rwlock_trywrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00748">__ast_rwlock_unlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00917">__ast_rwlock_wrlock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01174">append_lock_information()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00517">restore_lock_tracking()</a>.</p>
<div class="fragment"><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;{</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#abc8f8428077f44c95a2cc2c0107de3bc">reentr_mutex</a>))) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;ast_reentrancy_lock failed: &#39;%s&#39; (%d)\n&quot;</span>, strerror(res), res);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">#if defined(DO_CRASH) || defined(THREAD_CRASH)</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      abort();</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div><div class="ttc" id="lock_8h_html_a6ef26f63d38c1d8cdf05a15b6b368c24"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00623">lock.h:623</a></div></div>
<div class="ttc" id="structast__lock__track_html_abc8f8428077f44c95a2cc2c0107de3bc"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#abc8f8428077f44c95a2cc2c0107de3bc">ast_lock_track::reentr_mutex</a></div><div class="ttdeci">pthread_mutex_t reentr_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00120">lock.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a510a0910cc0d62833ae68a0fc82064ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a510a0910cc0d62833ae68a0fc82064ae">&#9670;&nbsp;</a></span>ast_reentrancy_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ast_reentrancy_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/de9/structast__lock__track.html">ast_lock_track</a> *&#160;</td>
          <td class="paramname"><em>lt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/lock_8h_source.html#l00454">454</a> of file <a class="el" href="../../dd/d42/lock_8h_source.html">lock.h</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00120">ast_lock_track::reentr_mutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00604">__ast_cond_timedwait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00539">__ast_cond_wait()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00175">__ast_pthread_mutex_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00366">__ast_pthread_mutex_trylock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00421">__ast_pthread_mutex_unlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00701">__ast_rwlock_destroy()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00819">__ast_rwlock_rdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01014">__ast_rwlock_timedrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01096">__ast_rwlock_timedwrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01178">__ast_rwlock_tryrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01228">__ast_rwlock_trywrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00748">__ast_rwlock_unlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00917">__ast_rwlock_wrlock()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01174">append_lock_information()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00517">restore_lock_tracking()</a>.</p>
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="keywordflow">if</span> ((res = <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lt-&gt;<a class="code" href="../../d0/de9/structast__lock__track.html#abc8f8428077f44c95a2cc2c0107de3bc">reentr_mutex</a>))) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;ast_reentrancy_unlock failed: &#39;%s&#39; (%d)\n&quot;</span>, strerror(res), res);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#if defined(DO_CRASH) || defined(THREAD_CRASH)</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      abort();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div><div class="ttc" id="structast__lock__track_html_abc8f8428077f44c95a2cc2c0107de3bc"><div class="ttname"><a href="../../d0/de9/structast__lock__track.html#abc8f8428077f44c95a2cc2c0107de3bc">ast_lock_track::reentr_mutex</a></div><div class="ttdeci">pthread_mutex_t reentr_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00120">lock.h:120</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a64c71c091e79908c7a05cfdad1389f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c71c091e79908c7a05cfdad1389f58">&#9670;&nbsp;</a></span>ast_remove_lock_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_remove_lock_info </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d95/structast__bt.html">ast_bt</a> *&#160;</td>
          <td class="paramname"><em>bt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove lock info for the current thread </p>
<p>this gets called by ast_mutex_unlock so that information on the lock can be removed from the current thread's lock info struct. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">68</a> of file <a class="el" href="../../dd/dbb/check__expr_8c_source.html">check_expr.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00075">__ast_bt_get_addresses()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00835">thr_lock_info::backtrace</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00826">thr_lock_info::lock_addr</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00902">thread_lock_info</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00827">thr_lock_info::times_locked</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00421">__ast_pthread_mutex_unlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00819">__ast_rwlock_rdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01014">__ast_rwlock_timedrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01096">__ast_rwlock_timedwrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00748">__ast_rwlock_unlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00917">__ast_rwlock_wrlock()</a>, and <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">ast_store_lock_info()</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">/* not a lot to do in a standalone w/o threading! */</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a0857d6245dd36cd605a738f3af67b910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0857d6245dd36cd605a738f3af67b910">&#9670;&nbsp;</a></span>ast_restore_lock_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_restore_lock_info </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01059">1059</a> of file <a class="el" href="../../de/d1f/main_2utils_8c_source.html">main/utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00094">ast_mark_lock_acquired()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00826">thr_lock_info::lock_addr</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00833">thr_lock_info::suspended</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00902">thread_lock_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00604">__ast_cond_timedwait()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00539">__ast_cond_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;{</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="preprocessor">#if !defined(LOW_MEMORY)</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d84/structthr__lock__info.html">thr_lock_info</a> *<a class="code" href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   <span class="keywordflow">if</span> (!(lock_info = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../de/d1f/main_2utils_8c.html#ae1445fe6bc0aafd9832b2d53377c952a">thread_lock_info</a>, <span class="keyword">sizeof</span>(*lock_info))))</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <span class="keywordflow">for</span> (i = lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">num_locks</a> - 1; i &gt;= 0; i--) {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <span class="keywordflow">if</span> (lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">lock_addr</a> == <a class="code" href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">lock_addr</a>)</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   <span class="keywordflow">if</span> (i == -1) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="comment">/* Lock not found :( */</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;   lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#af62c9334e77989174caccf53beee4215">suspended</a> = 0;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ! LOW_MEMORY */</span><span class="preprocessor"></span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="structthr__lock__info_html_abb7462a60a130c6741693c39bf3717ba"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a></div><div class="ttdeci">struct thr_lock_info::@431 locks[AST_MAX_LOCKS]</div></div>
<div class="ttc" id="main_2utils_8c_html_ae1445fe6bc0aafd9832b2d53377c952a"><div class="ttname"><a href="../../de/d1f/main_2utils_8c.html#ae1445fe6bc0aafd9832b2d53377c952a">thread_lock_info</a></div><div class="ttdeci">static struct ast_threadstorage thread_lock_info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00902">main/utils.c:902</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0f8def5bce8663fdf3c26aa4bad23d2c"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">thr_lock_info::num_locks</a></div><div class="ttdeci">unsigned int num_locks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00841">main/utils.c:841</a></div></div>
<div class="ttc" id="structthr__lock__info_html_ab4044b4dc4bb1ae63bd44579f60221b8"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">thr_lock_info::lock_addr</a></div><div class="ttdeci">void * lock_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00826">main/utils.c:826</a></div></div>
<div class="ttc" id="structthr__lock__info_html_af62c9334e77989174caccf53beee4215"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#af62c9334e77989174caccf53beee4215">thr_lock_info::suspended</a></div><div class="ttdeci">int suspended</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00833">main/utils.c:833</a></div></div>
<div class="ttc" id="lock_8h_html_a6ef26f63d38c1d8cdf05a15b6b368c24"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00623">lock.h:623</a></div></div>
<div class="ttc" id="func__lock_8c_html_a418645ebdd5c70fda7487d0195b8a759"><div class="ttname"><a href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a></div><div class="ttdeci">static const struct ast_datastore_info lock_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d01/func__lock_8c_source.html#l00115">func_lock.c:115</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0abaf4b5d42c4e5d19190035fade3599"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">thr_lock_info::lock</a></div><div class="ttdeci">pthread_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00846">main/utils.c:846</a></div></div>
<div class="ttc" id="structthr__lock__info_html"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html">thr_lock_info</a></div><div class="ttdoc">Keep track of which locks a thread holds. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00816">main/utils.c:816</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a349a86c7c5c6717af32e587fc228060c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a349a86c7c5c6717af32e587fc228060c">&#9670;&nbsp;</a></span>ast_store_lock_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_store_lock_info </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dd/d42/lock_8h.html#a91005557686d603e1210a200ef97153d">ast_lock_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lock_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d95/structast__bt.html">ast_bt</a> *&#160;</td>
          <td class="paramname"><em>bt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store lock info for the current thread. </p>
<p>This function gets called in <a class="el" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock()</a> and <a class="el" href="../../dd/d42/lock_8h.html#a987fc536e8b6a1044689eca873610792">ast_mutex_trylock()</a> so that information about this lock can be stored in this thread's lock info struct. The lock is marked as pending as the thread is waiting on the lock. <a class="el" href="../../dd/d42/lock_8h.html#a3970ea8e4a2aabd268c24203e5c40dc2" title="Mark the last lock as acquired. ">ast_mark_lock_acquired()</a> will mark it as held by this thread. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00061">61</a> of file <a class="el" href="../../dd/dbb/check__expr_8c_source.html">check_expr.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00802">AST_MAX_LOCKS</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00068">ast_remove_lock_info()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00835">thr_lock_info::backtrace</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00823">thr_lock_info::file</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00824">thr_lock_info::func</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00828">thr_lock_info::line_num</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00826">thr_lock_info::lock_addr</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00825">thr_lock_info::lock_name</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00831">thr_lock_info::pending</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00902">thread_lock_info</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00827">thr_lock_info::times_locked</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00829">thr_lock_info::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00253">__ast_pthread_mutex_lock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00366">__ast_pthread_mutex_trylock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l00819">__ast_rwlock_rdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01014">__ast_rwlock_timedrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01096">__ast_rwlock_timedwrlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01178">__ast_rwlock_tryrdlock()</a>, <a class="el" href="../../da/dae/lock_8c_source.html#l01228">__ast_rwlock_trywrlock()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00917">__ast_rwlock_wrlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">/* not a lot to do in a standalone w/o threading! */</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a40193d8dbd051ad5afa5da543a52da0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40193d8dbd051ad5afa5da543a52da0d">&#9670;&nbsp;</a></span>ast_suspend_lock_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_suspend_lock_info </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lock_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01030">1030</a> of file <a class="el" href="../../de/d1f/main_2utils_8c_source.html">main/utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00846">thr_lock_info::lock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00826">thr_lock_info::lock_addr</a>, <a class="el" href="../../d1/d01/func__lock_8c_source.html#l00115">lock_info</a>, <a class="el" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00841">thr_lock_info::num_locks</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00623">pthread_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00624">pthread_mutex_unlock</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00833">thr_lock_info::suspended</a>, and <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l00902">thread_lock_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dae/lock_8c_source.html#l00604">__ast_cond_timedwait()</a>, and <a class="el" href="../../da/dae/lock_8c_source.html#l00539">__ast_cond_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;{</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="preprocessor">#if !defined(LOW_MEMORY)</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/d84/structthr__lock__info.html">thr_lock_info</a> *<a class="code" href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;   <span class="keywordflow">if</span> (!(lock_info = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../de/d1f/main_2utils_8c.html#ae1445fe6bc0aafd9832b2d53377c952a">thread_lock_info</a>, <span class="keyword">sizeof</span>(*lock_info)))) {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;   }</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   <span class="keywordflow">for</span> (i = lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">num_locks</a> - 1; i &gt;= 0; i--) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keywordflow">if</span> (lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">lock_addr</a> == <a class="code" href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">lock_addr</a>)</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;   <span class="keywordflow">if</span> (i == -1) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="comment">/* Lock not found :( */</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;   lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">locks</a>[i].<a class="code" href="../../de/d84/structthr__lock__info.html#af62c9334e77989174caccf53beee4215">suspended</a> = 1;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a>(&amp;lock_info-&gt;<a class="code" href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">lock</a>);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ! LOW_MEMORY */</span><span class="preprocessor"></span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="structthr__lock__info_html_abb7462a60a130c6741693c39bf3717ba"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#abb7462a60a130c6741693c39bf3717ba">thr_lock_info::locks</a></div><div class="ttdeci">struct thr_lock_info::@431 locks[AST_MAX_LOCKS]</div></div>
<div class="ttc" id="main_2utils_8c_html_ae1445fe6bc0aafd9832b2d53377c952a"><div class="ttname"><a href="../../de/d1f/main_2utils_8c.html#ae1445fe6bc0aafd9832b2d53377c952a">thread_lock_info</a></div><div class="ttdeci">static struct ast_threadstorage thread_lock_info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00902">main/utils.c:902</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0f8def5bce8663fdf3c26aa4bad23d2c"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0f8def5bce8663fdf3c26aa4bad23d2c">thr_lock_info::num_locks</a></div><div class="ttdeci">unsigned int num_locks</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00841">main/utils.c:841</a></div></div>
<div class="ttc" id="structthr__lock__info_html_ab4044b4dc4bb1ae63bd44579f60221b8"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#ab4044b4dc4bb1ae63bd44579f60221b8">thr_lock_info::lock_addr</a></div><div class="ttdeci">void * lock_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00826">main/utils.c:826</a></div></div>
<div class="ttc" id="structthr__lock__info_html_af62c9334e77989174caccf53beee4215"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#af62c9334e77989174caccf53beee4215">thr_lock_info::suspended</a></div><div class="ttdeci">int suspended</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00833">main/utils.c:833</a></div></div>
<div class="ttc" id="lock_8h_html_a6ef26f63d38c1d8cdf05a15b6b368c24"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6ef26f63d38c1d8cdf05a15b6b368c24">pthread_mutex_lock</a></div><div class="ttdeci">#define pthread_mutex_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00623">lock.h:623</a></div></div>
<div class="ttc" id="func__lock_8c_html_a418645ebdd5c70fda7487d0195b8a759"><div class="ttname"><a href="../../d1/d01/func__lock_8c.html#a418645ebdd5c70fda7487d0195b8a759">lock_info</a></div><div class="ttdeci">static const struct ast_datastore_info lock_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d01/func__lock_8c_source.html#l00115">func_lock.c:115</a></div></div>
<div class="ttc" id="structthr__lock__info_html_a0abaf4b5d42c4e5d19190035fade3599"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html#a0abaf4b5d42c4e5d19190035fade3599">thr_lock_info::lock</a></div><div class="ttdeci">pthread_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00846">main/utils.c:846</a></div></div>
<div class="ttc" id="structthr__lock__info_html"><div class="ttname"><a href="../../de/d84/structthr__lock__info.html">thr_lock_info</a></div><div class="ttdoc">Keep track of which locks a thread holds. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l00816">main/utils.c:816</a></div></div>
<div class="ttc" id="lock_8h_html_ab417dd049910b852a43732c15e8dcaf2"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab417dd049910b852a43732c15e8dcaf2">pthread_mutex_unlock</a></div><div class="ttdeci">#define pthread_mutex_unlock</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00624">lock.h:624</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:05 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
