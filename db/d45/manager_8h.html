<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: manager.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">manager.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The AMI - Asterisk Manager Interface - is a TCP protocol created to manage Asterisk with third-party software.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d94/network_8h_source.html">asterisk/network.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/db6/datastore_8h_source.html">asterisk/datastore.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d99/xmldoc_8h_source.html">asterisk/xmldoc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for manager.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/ddd/manager_8h__incl.png" border="0" usemap="#manager_8h" alt=""/></div>
<map name="manager_8h" id="manager_8h">
<area shape="rect" id="node2" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="535,379,674,405"/>
<area shape="rect" id="node12" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1643,528,1756,555"/>
<area shape="rect" id="node26" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1735,304,1885,331"/>
<area shape="rect" id="node28" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="1601,80,1736,107"/>
<area shape="rect" id="node14" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1123,603,1185,629"/>
<area shape="rect" id="node18" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1393,677,1539,704"/>
<area shape="rect" id="node21" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1624,603,1775,629"/>
<area shape="rect" id="node22" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1209,603,1336,629"/>
<area shape="rect" id="node24" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1799,603,1941,629"/>
<area shape="rect" id="node15" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1114,752,1269,779"/>
<area shape="rect" id="node23" href="../../d7/d5b/options_8h.html" title="Options provided by main asterisk program. " alt="" coords="1233,677,1368,704"/>
<area shape="rect" id="node27" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1624,453,1775,480"/>
<area shape="rect" id="node29" href="../../d0/d62/xml_8h.html" title="Asterisk XML abstraction layer. " alt="" coords="1667,155,1777,181"/>
<area shape="rect" id="node30" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1406,379,1563,405"/>
<area shape="rect" id="node32" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1398,155,1529,181"/>
<area shape="rect" id="node31" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="1471,453,1597,480"/>
<area shape="rect" id="node35" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1119,304,1234,331"/>
<area shape="rect" id="node36" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="1226,229,1405,256"/>
<area shape="rect" id="node37" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1744,379,1879,405"/>
</map>
</div>
</div>
<p><a href="../../db/d45/manager_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct containing info for an AMI event to send out.  <a href="../../dd/d96/structast__manager__event__blob.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcc/structmanager__action.html">manager_action</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9e/structmessage.html">message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9aa10c963efd367eaab256f4a05db100"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a9aa10c963efd367eaab256f4a05db100">AMI_VERSION</a>&#160;&#160;&#160;&quot;7.0.1&quot;</td></tr>
<tr class="separator:a9aa10c963efd367eaab256f4a05db100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a2ad9ec5b951d49f796d1534c70b5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ad6a2ad9ec5b951d49f796d1534c70b5e">ast_manager_event</a>(chan,  category,  <a class="el" href="../../df/d7d/structevent.html">event</a>,  <a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a>, ...)</td></tr>
<tr class="separator:ad6a2ad9ec5b951d49f796d1534c70b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd542831b3864e77f37396573bc1fd0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#aafd542831b3864e77f37396573bc1fd0">ast_manager_event_multichan</a>(category,  <a class="el" href="../../df/d7d/structevent.html">event</a>,  nchans,  <a class="el" href="../../d6/d75/structchans.html">chans</a>,  <a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a>, ...)&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#ga06f17abfc5db7b42743338b9cb73405e">__ast_manager_event_multichan</a>(category, <a class="el" href="../../df/d7d/structevent.html">event</a>, nchans, <a class="el" href="../../d6/d75/structchans.html">chans</a>, __FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a> , ## __VA_ARGS__);</td></tr>
<tr class="separator:aafd542831b3864e77f37396573bc1fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630f27d0608bd7b261bbbc7d9c006501"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a630f27d0608bd7b261bbbc7d9c006501">ast_manager_register</a>(action,  authority,  func,  <a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>)&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a>(action, authority, func, AST_MODULE_SELF, <a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr class="memdesc:a630f27d0608bd7b261bbbc7d9c006501"><td class="mdescLeft">&#160;</td><td class="mdescRight">External routines may register/unregister manager callbacks this way.  <a href="#a630f27d0608bd7b261bbbc7d9c006501">More...</a><br /></td></tr>
<tr class="separator:a630f27d0608bd7b261bbbc7d9c006501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b63b8a8faede2d852e071e1f7b31c11"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">ast_manager_register_xml</a>(action,  authority,  func)&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a>(action, authority, func, AST_MODULE_SELF, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr class="memdesc:a5b63b8a8faede2d852e071e1f7b31c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a manager callback using XML documentation to describe the manager.  <a href="#a5b63b8a8faede2d852e071e1f7b31c11">More...</a><br /></td></tr>
<tr class="separator:a5b63b8a8faede2d852e071e1f7b31c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d34461b8a3210b19e66f06bcdebfeb3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">ast_manager_register_xml_core</a>(action,  authority,  func)&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a>(action, authority, func, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr class="memdesc:a1d34461b8a3210b19e66f06bcdebfeb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a manager callback using XML documentation to describe the manager.  <a href="#a1d34461b8a3210b19e66f06bcdebfeb3">More...</a><br /></td></tr>
<tr class="separator:a1d34461b8a3210b19e66f06bcdebfeb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b15e5ddea410372fed1a16c046034b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a98b15e5ddea410372fed1a16c046034b">AST_MAX_MANHEADERS</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a98b15e5ddea410372fed1a16c046034b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export manager structures.  <a href="#a98b15e5ddea410372fed1a16c046034b">More...</a><br /></td></tr>
<tr class="separator:a98b15e5ddea410372fed1a16c046034b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aeced7f8d9056c4ec2663f1ad10a4a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a9aeced7f8d9056c4ec2663f1ad10a4a4">DEFAULT_MANAGER_PORT</a>&#160;&#160;&#160;5038	/* Default port for Asterisk management via TCP */</td></tr>
<tr class="separator:a9aeced7f8d9056c4ec2663f1ad10a4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab444a62cb9f15528aa8b4e864dfc99b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ab444a62cb9f15528aa8b4e864dfc99b2">DEFAULT_MANAGER_TLS_PORT</a>&#160;&#160;&#160;5039	/* Default port for Asterisk management via TCP */</td></tr>
<tr class="separator:ab444a62cb9f15528aa8b4e864dfc99b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef0ee0044dbbeb4c3a5abc6c046b208"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a>(category,  <a class="el" href="../../df/d7d/structevent.html">event</a>,  <a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a>, ...)&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#ga06f17abfc5db7b42743338b9cb73405e">__ast_manager_event_multichan</a>(category, <a class="el" href="../../df/d7d/structevent.html">event</a>, 0, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, __FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a> , ## __VA_ARGS__)</td></tr>
<tr class="memdesc:a1ef0ee0044dbbeb4c3a5abc6c046b208"><td class="mdescLeft">&#160;</td><td class="mdescRight">External routines may send asterisk manager events this way.  <a href="#a1ef0ee0044dbbeb4c3a5abc6c046b208">More...</a><br /></td></tr>
<tr class="separator:a1ef0ee0044dbbeb4c3a5abc6c046b208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50163f7b95ce3b415cf542cbd4e9904a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a50163f7b95ce3b415cf542cbd4e9904a">NO_EXTRA_FIELDS</a>&#160;&#160;&#160;&quot;%s&quot;, &quot;&quot;</td></tr>
<tr class="separator:a50163f7b95ce3b415cf542cbd4e9904a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Constant return values</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="section note"><dt>Note</dt><dd>Currently, returning anything other than zero causes the session to terminate. </dd></dl>
</div></td></tr>
<tr class="memitem:a15c09363d6bdc7162c154ab2a20ec545"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">AMI_SUCCESS</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a15c09363d6bdc7162c154ab2a20ec545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501ee1821ba9a69ca76b28d963a37713"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a501ee1821ba9a69ca76b28d963a37713">AMI_DESTROY</a>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:a501ee1821ba9a69ca76b28d963a37713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Manager event classes</div></td></tr>
<tr class="memitem:a420f0f755e1c3378b45ca7f6f0669ffa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>&#160;&#160;&#160;(1 &lt;&lt; 0) /* System <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> such as module load/unload */</td></tr>
<tr class="separator:a420f0f755e1c3378b45ca7f6f0669ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5db3cc603d7e798d61cb4cd94fbb4e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">EVENT_FLAG_CALL</a>&#160;&#160;&#160;(1 &lt;&lt; 1) /* Call <a class="el" href="../../df/d7d/structevent.html">event</a>, such as <a class="el" href="../../d4/d88/structstate.html">state</a> change, etc */</td></tr>
<tr class="separator:ab5db3cc603d7e798d61cb4cd94fbb4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af805764035071e210ec71c41a3a1ae6c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#af805764035071e210ec71c41a3a1ae6c">EVENT_FLAG_LOG</a>&#160;&#160;&#160;(1 &lt;&lt; 2) /* Log <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td></tr>
<tr class="separator:af805764035071e210ec71c41a3a1ae6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02eaf5c4a70ebad8e543c2efb7707869"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a02eaf5c4a70ebad8e543c2efb7707869">EVENT_FLAG_VERBOSE</a>&#160;&#160;&#160;(1 &lt;&lt; 3) /* Verbose messages */</td></tr>
<tr class="separator:a02eaf5c4a70ebad8e543c2efb7707869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9bbbe9b1fbde6ccff1f0a1ec0521afd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ab9bbbe9b1fbde6ccff1f0a1ec0521afd">EVENT_FLAG_COMMAND</a>&#160;&#160;&#160;(1 &lt;&lt; 4) /* Ability to read/<a class="el" href="../../da/dd2/func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set</a> <a class="el" href="../../dd/de9/res__agi_8c.html#aaaa94f6da87a703160a7acb2fd67422d">commands</a> */</td></tr>
<tr class="separator:ab9bbbe9b1fbde6ccff1f0a1ec0521afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd32bc0b58b87cc22c60ffff79496c7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#acd32bc0b58b87cc22c60ffff79496c7f">EVENT_FLAG_AGENT</a>&#160;&#160;&#160;(1 &lt;&lt; 5) /* Ability to read/<a class="el" href="../../da/dd2/func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set</a> agent info */</td></tr>
<tr class="separator:acd32bc0b58b87cc22c60ffff79496c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc12c2bc03dce67ddd1590d67ab11f4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#acc12c2bc03dce67ddd1590d67ab11f4d">EVENT_FLAG_USER</a>&#160;&#160;&#160;(1 &lt;&lt; 6) /* Ability to read/<a class="el" href="../../da/dd2/func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set</a> <a class="el" href="../../d8/dbc/structuser.html">user</a> info */</td></tr>
<tr class="separator:acc12c2bc03dce67ddd1590d67ab11f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36fb89c2a73755209133b6c73fe92e54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a36fb89c2a73755209133b6c73fe92e54">EVENT_FLAG_CONFIG</a>&#160;&#160;&#160;(1 &lt;&lt; 7) /* Ability to modify configurations */</td></tr>
<tr class="separator:a36fb89c2a73755209133b6c73fe92e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6307f76e83767cdcd6b618dfbd214526"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a6307f76e83767cdcd6b618dfbd214526">EVENT_FLAG_DTMF</a>&#160;&#160;&#160;(1 &lt;&lt; 8) /* Ability to read DTMF <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td></tr>
<tr class="separator:a6307f76e83767cdcd6b618dfbd214526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1b4140c2836696a6950e92ab48a580"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a0b1b4140c2836696a6950e92ab48a580">EVENT_FLAG_REPORTING</a>&#160;&#160;&#160;(1 &lt;&lt; 9) /* Reporting <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> such as rtcp sent */</td></tr>
<tr class="separator:a0b1b4140c2836696a6950e92ab48a580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adabf40844c4a05c6e0ef870002599dbe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#adabf40844c4a05c6e0ef870002599dbe">EVENT_FLAG_CDR</a>&#160;&#160;&#160;(1 &lt;&lt; 10) /* CDR <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td></tr>
<tr class="separator:adabf40844c4a05c6e0ef870002599dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad602e069591b527f28e36dd472425e7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ad602e069591b527f28e36dd472425e7e">EVENT_FLAG_DIALPLAN</a>&#160;&#160;&#160;(1 &lt;&lt; 11) /* Dialplan <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> (VarSet, NewExten) */</td></tr>
<tr class="separator:ad602e069591b527f28e36dd472425e7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6acb19e6de27692675f1706d390f548"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ad6acb19e6de27692675f1706d390f548">EVENT_FLAG_ORIGINATE</a>&#160;&#160;&#160;(1 &lt;&lt; 12) /* Originate <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> to an <a class="el" href="../../d0/d5a/structextension.html">extension</a> */</td></tr>
<tr class="separator:ad6acb19e6de27692675f1706d390f548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7370fe764f1305cdb3c543d3964d5ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ac7370fe764f1305cdb3c543d3964d5ed">EVENT_FLAG_AGI</a>&#160;&#160;&#160;(1 &lt;&lt; 13) /* <a class="el" href="../../dc/d2b/agi_8h.html#a39b22d4db1429ead3b34f15168814ce8">AGI</a> <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td></tr>
<tr class="separator:ac7370fe764f1305cdb3c543d3964d5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae40009621df41a713be987266a11696"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#aae40009621df41a713be987266a11696">EVENT_FLAG_HOOKRESPONSE</a>&#160;&#160;&#160;(1 &lt;&lt; 14) /* Hook Response */</td></tr>
<tr class="separator:aae40009621df41a713be987266a11696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fafdea9f9e226539b8a9a291079e3d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ae9fafdea9f9e226539b8a9a291079e3d">EVENT_FLAG_CC</a>&#160;&#160;&#160;(1 &lt;&lt; 15) /* Call Completion <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td></tr>
<tr class="separator:ae9fafdea9f9e226539b8a9a291079e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad145ac7178d92461a0be448d183a037c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ad145ac7178d92461a0be448d183a037c">EVENT_FLAG_AOC</a>&#160;&#160;&#160;(1 &lt;&lt; 16) /* Advice Of Charge <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td></tr>
<tr class="separator:ad145ac7178d92461a0be448d183a037c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcf0d018dc49622b436a2ae857ea3da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a4fcf0d018dc49622b436a2ae857ea3da">EVENT_FLAG_TEST</a>&#160;&#160;&#160;(1 &lt;&lt; 17) /* Test <a class="el" href="../../df/d7d/structevent.html">event</a> used to signal the Asterisk Test Suite */</td></tr>
<tr class="separator:a4fcf0d018dc49622b436a2ae857ea3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673603420907be7dada8fc479e313333"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a673603420907be7dada8fc479e313333">EVENT_FLAG_SECURITY</a>&#160;&#160;&#160;(1 &lt;&lt; 18) /* Security Message as AMI Event */</td></tr>
<tr class="separator:a673603420907be7dada8fc479e313333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85694f6b643f767a2d61c37c2b87753"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ab85694f6b643f767a2d61c37c2b87753">EVENT_FLAG_MESSAGE</a>&#160;&#160;&#160;(1 &lt;&lt; 30) /* MESSAGE events. */</td></tr>
<tr class="separator:ab85694f6b643f767a2d61c37c2b87753"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8c8f2d8718ba98dc22b6615489fa2f8e"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a8c8f2d8718ba98dc22b6615489fa2f8e">key_exclusion_cb</a>) (const char *key)</td></tr>
<tr class="memdesc:a8c8f2d8718ba98dc22b6615489fa2f8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback used to determine whether a key should be skipped when converting a JSON object to a manager blob.  <a href="#a8c8f2d8718ba98dc22b6615489fa2f8e">More...</a><br /></td></tr>
<tr class="separator:a8c8f2d8718ba98dc22b6615489fa2f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0102d58d278ee39a37e5d1ff0ec9f82e"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a0102d58d278ee39a37e5d1ff0ec9f82e">manager_hook_t</a>) (int category, const char *<a class="el" href="../../df/d7d/structevent.html">event</a>, char *body)</td></tr>
<tr class="memdesc:a0102d58d278ee39a37e5d1ff0ec9f82e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manager Helper Function.  <a href="#a0102d58d278ee39a37e5d1ff0ec9f82e">More...</a><br /></td></tr>
<tr class="separator:a0102d58d278ee39a37e5d1ff0ec9f82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5622d5b2d0baf505daf7b2a1e99c1140"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140">variable_orders</a> { <a class="el" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a>, 
<a class="el" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf">ORDER_REVERSE</a>
 }</td></tr>
<tr class="separator:a5622d5b2d0baf505daf7b2a1e99c1140"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga06f17abfc5db7b42743338b9cb73405e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga06f17abfc5db7b42743338b9cb73405e">__ast_manager_event_multichan</a> (int category, const char *<a class="el" href="../../df/d7d/structevent.html">event</a>, int <a class="el" href="../../d4/d28/channel_8c.html#a5cb129ce1d580dbb22ec9573dcb62f7f">chancount</a>, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **<a class="el" href="../../d6/d75/structchans.html">chans</a>, const char *file, int line, const char *func, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a>,...)</td></tr>
<tr class="separator:ga06f17abfc5db7b42743338b9cb73405e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc128abc0bb66879ef7743eea7a5d53f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#gacc128abc0bb66879ef7743eea7a5d53f">ast_hook_send_action</a> (struct <a class="el" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a> *hook, const char *msg)</td></tr>
<tr class="memdesc:gacc128abc0bb66879ef7743eea7a5d53f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registered hooks can call this function to invoke actions and they will receive responses through registered callback.  <a href="../../df/d72/group__Group__AMI.html#gacc128abc0bb66879ef7743eea7a5d53f">More...</a><br /></td></tr>
<tr class="separator:gacc128abc0bb66879ef7743eea7a5d53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873f600042cce2f957f7be2257b4f366"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a873f600042cce2f957f7be2257b4f366">ast_manager_build_bridge_state_string</a> (const struct <a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *snapshot)</td></tr>
<tr class="memdesc:a873f600042cce2f957f7be2257b4f366"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the AMI message body from a bridge snapshot.  <a href="#a873f600042cce2f957f7be2257b4f366">More...</a><br /></td></tr>
<tr class="separator:a873f600042cce2f957f7be2257b4f366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae848cf7930ca566b76a13a4b3b7e0466"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ae848cf7930ca566b76a13a4b3b7e0466">ast_manager_build_bridge_state_string_prefix</a> (const struct <a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *snapshot, const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>)</td></tr>
<tr class="memdesc:ae848cf7930ca566b76a13a4b3b7e0466"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the AMI message body from a bridge snapshot.  <a href="#ae848cf7930ca566b76a13a4b3b7e0466">More...</a><br /></td></tr>
<tr class="separator:ae848cf7930ca566b76a13a4b3b7e0466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777cde87d12b331902f862ec44641688"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a777cde87d12b331902f862ec44641688">ast_manager_build_channel_state_string</a> (const struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot)</td></tr>
<tr class="memdesc:a777cde87d12b331902f862ec44641688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the AMI message body from a channel snapshot.  <a href="#a777cde87d12b331902f862ec44641688">More...</a><br /></td></tr>
<tr class="separator:a777cde87d12b331902f862ec44641688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71472ea55b4114f460a4459e3dcd18b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#ab71472ea55b4114f460a4459e3dcd18b">ast_manager_build_channel_state_string_prefix</a> (const struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *snapshot, const char *<a class="el" href="../../d6/dc9/res__http__post_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>)</td></tr>
<tr class="memdesc:ab71472ea55b4114f460a4459e3dcd18b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the AMI message body from a channel snapshot.  <a href="#ab71472ea55b4114f460a4459e3dcd18b">More...</a><br /></td></tr>
<tr class="separator:ab71472ea55b4114f460a4459e3dcd18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a2e7df8657b820c5a6663b397f23bc9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga1a2e7df8657b820c5a6663b397f23bc9">ast_manager_check_enabled</a> (void)</td></tr>
<tr class="memdesc:ga1a2e7df8657b820c5a6663b397f23bc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if AMI is enabled.  <a href="../../df/d72/group__Group__AMI.html#ga1a2e7df8657b820c5a6663b397f23bc9">More...</a><br /></td></tr>
<tr class="separator:ga1a2e7df8657b820c5a6663b397f23bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ace32eaf9a3fc2f7d15121c64bf8ecd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a3ace32eaf9a3fc2f7d15121c64bf8ecd">ast_manager_event_blob_create</a> (int event_flags, const char *<a class="el" href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a>, const char *extra_fields_fmt,...)</td></tr>
<tr class="memdesc:a3ace32eaf9a3fc2f7d15121c64bf8ecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a>.  <a href="#a3ace32eaf9a3fc2f7d15121c64bf8ecd">More...</a><br /></td></tr>
<tr class="separator:a3ace32eaf9a3fc2f7d15121c64bf8ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae409b5ff584e42c30edcfe5837d85c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a8ae409b5ff584e42c30edcfe5837d85c">ast_manager_get_generic_type</a> (void)</td></tr>
<tr class="memdesc:a8ae409b5ff584e42c30edcfe5837d85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> for generic messages.  <a href="#a8ae409b5ff584e42c30edcfe5837d85c">More...</a><br /></td></tr>
<tr class="separator:a8ae409b5ff584e42c30edcfe5837d85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfa23131c1c93528074761076ca2bc85"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a> (void)</td></tr>
<tr class="memdesc:gacfa23131c1c93528074761076ca2bc85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a> for AMI.  <a href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">More...</a><br /></td></tr>
<tr class="separator:gacfa23131c1c93528074761076ca2bc85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga568aa1aff837fc0001279490a6d9b22f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a> (void)</td></tr>
<tr class="memdesc:ga568aa1aff837fc0001279490a6d9b22f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="../../dd/dfd/stasis.html">Stasis Message Bus API</a> topic for AMI.  <a href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">More...</a><br /></td></tr>
<tr class="separator:ga568aa1aff837fc0001279490a6d9b22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga546caee8e3d040d0074bc32e96d53b7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga546caee8e3d040d0074bc32e96d53b7d">ast_manager_publish_event</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, int class_type, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *obj)</td></tr>
<tr class="memdesc:ga546caee8e3d040d0074bc32e96d53b7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish an event to AMI.  <a href="../../df/d72/group__Group__AMI.html#ga546caee8e3d040d0074bc32e96d53b7d">More...</a><br /></td></tr>
<tr class="separator:ga546caee8e3d040d0074bc32e96d53b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab220bef102a1bf6e96a407d3a5a3e161"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a> (const char *action, int authority, int(*func)(struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m), struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *module, const char *<a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>, const char *description)</td></tr>
<tr class="memdesc:gab220bef102a1bf6e96a407d3a5a3e161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a manager command with the manager interface.  <a href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">More...</a><br /></td></tr>
<tr class="separator:gab220bef102a1bf6e96a407d3a5a3e161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b312f4df19fa79a2185f41ff533516b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga9b312f4df19fa79a2185f41ff533516b">ast_manager_register_hook</a> (struct <a class="el" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a> *hook)</td></tr>
<tr class="memdesc:ga9b312f4df19fa79a2185f41ff533516b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a custom hook to be called when an event is fired.  <a href="../../df/d72/group__Group__AMI.html#ga9b312f4df19fa79a2185f41ff533516b">More...</a><br /></td></tr>
<tr class="separator:ga9b312f4df19fa79a2185f41ff533516b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a7a78b91c9ba54f89c9b5a9e7435027"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga2a7a78b91c9ba54f89c9b5a9e7435027">ast_manager_str_from_json_object</a> (struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob, <a class="el" href="../../db/d45/manager_8h.html#a8c8f2d8718ba98dc22b6615489fa2f8e">key_exclusion_cb</a> exclusion_cb)</td></tr>
<tr class="memdesc:ga2a7a78b91c9ba54f89c9b5a9e7435027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a JSON object into an AMI compatible string.  <a href="../../df/d72/group__Group__AMI.html#ga2a7a78b91c9ba54f89c9b5a9e7435027">More...</a><br /></td></tr>
<tr class="separator:ga2a7a78b91c9ba54f89c9b5a9e7435027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafadf012f66a9fd7ecf985ec5b9dee101"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a> (const char *action)</td></tr>
<tr class="memdesc:gafadf012f66a9fd7ecf985ec5b9dee101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a registered manager command.  <a href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">More...</a><br /></td></tr>
<tr class="separator:gafadf012f66a9fd7ecf985ec5b9dee101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9592be65e0f9c99b7952a5841888757f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga9592be65e0f9c99b7952a5841888757f">ast_manager_unregister_hook</a> (struct <a class="el" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a> *hook)</td></tr>
<tr class="memdesc:ga9592be65e0f9c99b7952a5841888757f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a custom hook to be called when an event is fired.  <a href="../../df/d72/group__Group__AMI.html#ga9592be65e0f9c99b7952a5841888757f">More...</a><br /></td></tr>
<tr class="separator:ga9592be65e0f9c99b7952a5841888757f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e23b878e759dadd1e466a63193abba0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a4e23b878e759dadd1e466a63193abba0">ast_str_append_event_header</a> (struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **fields_string, const char *<a class="el" href="../../d5/d65/structheader.html">header</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a4e23b878e759dadd1e466a63193abba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">append an event header to an ast string  <a href="#a4e23b878e759dadd1e466a63193abba0">More...</a><br /></td></tr>
<tr class="separator:a4e23b878e759dadd1e466a63193abba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22f6d55529c1ca69bc308af9d9ef0bb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga22f6d55529c1ca69bc308af9d9ef0bb2">ast_webmanager_check_enabled</a> (void)</td></tr>
<tr class="memdesc:ga22f6d55529c1ca69bc308af9d9ef0bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if AMI/HTTP is enabled.  <a href="../../df/d72/group__Group__AMI.html#ga22f6d55529c1ca69bc308af9d9ef0bb2">More...</a><br /></td></tr>
<tr class="separator:ga22f6d55529c1ca69bc308af9d9ef0bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2d42f7be13c532b6a70d50f1b8983d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const char *fmt,...)</td></tr>
<tr class="separator:gac2d42f7be13c532b6a70d50f1b8983d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56275a7a3b863c8b4a49d2e74ebe739c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a56275a7a3b863c8b4a49d2e74ebe739c">astman_datastore_add</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore)</td></tr>
<tr class="memdesc:a56275a7a3b863c8b4a49d2e74ebe739c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a datastore to a session.  <a href="#a56275a7a3b863c8b4a49d2e74ebe739c">More...</a><br /></td></tr>
<tr class="separator:a56275a7a3b863c8b4a49d2e74ebe739c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a24728a1340746b7d1e914f0bc6bc78"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a1a24728a1340746b7d1e914f0bc6bc78">astman_datastore_find</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> *info, const char *uid)</td></tr>
<tr class="memdesc:a1a24728a1340746b7d1e914f0bc6bc78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a datastore on a session.  <a href="#a1a24728a1340746b7d1e914f0bc6bc78">More...</a><br /></td></tr>
<tr class="separator:a1a24728a1340746b7d1e914f0bc6bc78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f2dfb1df89986ee6613d2bfa541688"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#af9f2dfb1df89986ee6613d2bfa541688">astman_datastore_remove</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore)</td></tr>
<tr class="memdesc:af9f2dfb1df89986ee6613d2bfa541688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a datastore from a session.  <a href="#af9f2dfb1df89986ee6613d2bfa541688">More...</a><br /></td></tr>
<tr class="separator:af9f2dfb1df89986ee6613d2bfa541688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6a9f3498f9afffecfd78c485af41556"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a> (const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m, char *<a class="el" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)</td></tr>
<tr class="memdesc:gac6a9f3498f9afffecfd78c485af41556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get header from mananger transaction.  <a href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">More...</a><br /></td></tr>
<tr class="separator:gac6a9f3498f9afffecfd78c485af41556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21a20a25e6d03f6fd32cdc86fe9b53d1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga21a20a25e6d03f6fd32cdc86fe9b53d1">astman_get_variables</a> (const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m)</td></tr>
<tr class="memdesc:ga21a20a25e6d03f6fd32cdc86fe9b53d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a linked list of the Variable: headers.  <a href="../../df/d72/group__Group__AMI.html#ga21a20a25e6d03f6fd32cdc86fe9b53d1">More...</a><br /></td></tr>
<tr class="separator:ga21a20a25e6d03f6fd32cdc86fe9b53d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa97739ea571e22b9dcd231658f6ce044"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#gaa97739ea571e22b9dcd231658f6ce044">astman_get_variables_order</a> (const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m, enum <a class="el" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140">variable_orders</a> <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a>)</td></tr>
<tr class="memdesc:gaa97739ea571e22b9dcd231658f6ce044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a linked list of the Variable: headers with order specified.  <a href="../../df/d72/group__Group__AMI.html#gaa97739ea571e22b9dcd231658f6ce044">More...</a><br /></td></tr>
<tr class="separator:gaa97739ea571e22b9dcd231658f6ce044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb49e15f3ae80cc0ee0cfa3a250d00c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#acb49e15f3ae80cc0ee0cfa3a250d00c0">astman_is_authed</a> (uint32_t ident)</td></tr>
<tr class="memdesc:acb49e15f3ae80cc0ee0cfa3a250d00c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determinie if a manager session ident is authenticated.  <a href="#acb49e15f3ae80cc0ee0cfa3a250d00c0">More...</a><br /></td></tr>
<tr class="separator:acb49e15f3ae80cc0ee0cfa3a250d00c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77315fa8e29950f0c88120501acda0a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m, char *msg)</td></tr>
<tr class="memdesc:ga77315fa8e29950f0c88120501acda0a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send ack in manager transaction.  <a href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">More...</a><br /></td></tr>
<tr class="separator:ga77315fa8e29950f0c88120501acda0a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31a02a7d3cc36aa66ebebdedfc574d1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m, char *<a class="el" href="../../da/d7c/utils_2frame_8h.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>)</td></tr>
<tr class="memdesc:ga31a02a7d3cc36aa66ebebdedfc574d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send error in manager transaction.  <a href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">More...</a><br /></td></tr>
<tr class="separator:ga31a02a7d3cc36aa66ebebdedfc574d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga352d583ea36240124638e5c1db088227"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga352d583ea36240124638e5c1db088227">astman_send_error_va</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m, const char *fmt,...)</td></tr>
<tr class="memdesc:ga352d583ea36240124638e5c1db088227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send error in manager transaction (with va_args support)  <a href="../../df/d72/group__Group__AMI.html#ga352d583ea36240124638e5c1db088227">More...</a><br /></td></tr>
<tr class="separator:ga352d583ea36240124638e5c1db088227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf7c909efbfc26d0d9c66786c83b8f69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#gabf7c909efbfc26d0d9c66786c83b8f69">astman_send_list_complete_end</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s)</td></tr>
<tr class="memdesc:gabf7c909efbfc26d0d9c66786c83b8f69"><td class="mdescLeft">&#160;</td><td class="mdescRight">End the list complete event.  <a href="../../df/d72/group__Group__AMI.html#gabf7c909efbfc26d0d9c66786c83b8f69">More...</a><br /></td></tr>
<tr class="separator:gabf7c909efbfc26d0d9c66786c83b8f69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58c3e3da5d31739cafaee1df6ddf9342"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga58c3e3da5d31739cafaee1df6ddf9342">astman_send_list_complete_start</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m, const char *event_name, int count)</td></tr>
<tr class="memdesc:ga58c3e3da5d31739cafaee1df6ddf9342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the list complete event.  <a href="../../df/d72/group__Group__AMI.html#ga58c3e3da5d31739cafaee1df6ddf9342">More...</a><br /></td></tr>
<tr class="separator:ga58c3e3da5d31739cafaee1df6ddf9342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ee6ee1f4d200f711e2983bffe770a72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72">astman_send_listack</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m, char *msg, char *listflag)</td></tr>
<tr class="memdesc:ga0ee6ee1f4d200f711e2983bffe770a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send ack in manager transaction to begin a list.  <a href="../../df/d72/group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72">More...</a><br /></td></tr>
<tr class="separator:ga0ee6ee1f4d200f711e2983bffe770a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26805df02a1c92688ae132f29ac4478a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d72/group__Group__AMI.html#ga26805df02a1c92688ae132f29ac4478a">astman_send_response</a> (struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="el" href="../../d8/d9e/structmessage.html">message</a> *m, char *resp, char *msg)</td></tr>
<tr class="memdesc:ga26805df02a1c92688ae132f29ac4478a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send response in manager transaction.  <a href="../../df/d72/group__Group__AMI.html#ga26805df02a1c92688ae132f29ac4478a">More...</a><br /></td></tr>
<tr class="separator:ga26805df02a1c92688ae132f29ac4478a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a22446241314099a4e371157e360f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a73a22446241314099a4e371157e360f5">astman_verify_session_readpermissions</a> (uint32_t ident, int perm)</td></tr>
<tr class="memdesc:a73a22446241314099a4e371157e360f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify a session's read permissions against a permission mask.  <a href="#a73a22446241314099a4e371157e360f5">More...</a><br /></td></tr>
<tr class="separator:a73a22446241314099a4e371157e360f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38eb222ca678604d4f203c9e9d5295ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a38eb222ca678604d4f203c9e9d5295ab">astman_verify_session_writepermissions</a> (uint32_t ident, int perm)</td></tr>
<tr class="memdesc:a38eb222ca678604d4f203c9e9d5295ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify a session's write permissions against a permission mask.  <a href="#a38eb222ca678604d4f203c9e9d5295ab">More...</a><br /></td></tr>
<tr class="separator:a38eb222ca678604d4f203c9e9d5295ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f283471be8718fc0239c7441d640a5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a3f283471be8718fc0239c7441d640a5a">manager_bridging_init</a> (void)</td></tr>
<tr class="memdesc:a3f283471be8718fc0239c7441d640a5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize support for AMI channel events.  <a href="#a3f283471be8718fc0239c7441d640a5a">More...</a><br /></td></tr>
<tr class="separator:a3f283471be8718fc0239c7441d640a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1db69d70499e0e8b178fccbc76b505"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#abc1db69d70499e0e8b178fccbc76b505">manager_channels_init</a> (void)</td></tr>
<tr class="memdesc:abc1db69d70499e0e8b178fccbc76b505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize support for AMI channel events.  <a href="#abc1db69d70499e0e8b178fccbc76b505">More...</a><br /></td></tr>
<tr class="separator:abc1db69d70499e0e8b178fccbc76b505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a060a00ce627de395914abeb0007bb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a7a060a00ce627de395914abeb0007bb3">manager_endpoints_init</a> (void)</td></tr>
<tr class="memdesc:a7a060a00ce627de395914abeb0007bb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize support for AMI endpoint events.  <a href="#a7a060a00ce627de395914abeb0007bb3">More...</a><br /></td></tr>
<tr class="separator:a7a060a00ce627de395914abeb0007bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2571c636aafd979f5719051090e5bbff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#a2571c636aafd979f5719051090e5bbff">manager_mwi_init</a> (void)</td></tr>
<tr class="memdesc:a2571c636aafd979f5719051090e5bbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize support for AMI MWI events.  <a href="#a2571c636aafd979f5719051090e5bbff">More...</a><br /></td></tr>
<tr class="separator:a2571c636aafd979f5719051090e5bbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa170f815ce3d25efbf1b0f3dede94ea4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d45/manager_8h.html#aa170f815ce3d25efbf1b0f3dede94ea4">manager_system_init</a> (void)</td></tr>
<tr class="memdesc:aa170f815ce3d25efbf1b0f3dede94ea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize support for AMI system events.  <a href="#aa170f815ce3d25efbf1b0f3dede94ea4">More...</a><br /></td></tr>
<tr class="separator:aa170f815ce3d25efbf1b0f3dede94ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The AMI - Asterisk Manager Interface - is a TCP protocol created to manage Asterisk with third-party software. </p>
<p>Manager protocol packages are text fields of the form a: b. There is always exactly one space after the colon.</p>
<pre class="fragment"> For Actions replies, the first line of the reply is a "Response:" header with
 values "success", "error" or "follows". "Follows" implies that the
 response is coming as separate events with the same ActionID. If the
 Action request has no ActionID, it will be hard matching events
 to the Action request in the manager client.

 The first header type is the "Event" header.  Other headers vary from
 event to event.  Headers end with standard \\r\\n termination.
 The last line of the manager response or event is an empty line.
 (\\r\\n)</pre><dl class="section note"><dt>Note</dt><dd>Please try to <b>re-use</b> <b>existing</b> <b>headers</b> to simplify manager message parsing in clients. Don't re-use an existing header with a new meaning, please. You can find a reference of standard headers in doc/manager.txt</dd></dl>
<ul>
<li><a class="el" href="../../d4/d10/manager_8c.html">manager.c</a> Main manager code file </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a501ee1821ba9a69ca76b28d963a37713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a501ee1821ba9a69ca76b28d963a37713">&#9670;&nbsp;</a></span>AMI_DESTROY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMI_DESTROY&#160;&#160;&#160;(-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00066">66</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<a id="a15c09363d6bdc7162c154ab2a20ec545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15c09363d6bdc7162c154ab2a20ec545">&#9670;&nbsp;</a></span>AMI_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMI_SUCCESS&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00065">65</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00892">change_monitor_action()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00938">do_pause_or_unpause()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01500">manager_mixmonitor()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01406">manager_mute_mixmonitor()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01565">manager_stop_mixmonitor()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00808">start_monitor_action()</a>, and <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00861">stop_monitor_action()</a>.</p>

</div>
</div>
<a id="a9aa10c963efd367eaab256f4a05db100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa10c963efd367eaab256f4a05db100">&#9670;&nbsp;</a></span>AMI_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMI_VERSION&#160;&#160;&#160;&quot;7.0.1&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00057">57</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l06276">action_coresettings()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l06937">session_do()</a>.</p>

</div>
</div>
<a id="ad6a2ad9ec5b951d49f796d1534c70b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a2ad9ec5b951d49f796d1534c70b5e">&#9670;&nbsp;</a></span>ast_manager_event</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_manager_event</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">chan, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">category, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d7d/structevent.html">event</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">      struct <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *_chans[] = { chan, }; \</div><div class="line">      __ast_manager_event_multichan(category, <a class="code" href="../../df/d7d/structevent.html">event</a>, 1, _chans, __FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="code" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a> , ## __VA_ARGS__); \</div><div class="line">   } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="test__func__file_8c_html_aedde4c44231f9adaad3339ebe693e8d8"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a></div><div class="ttdeci">const char * contents</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00045">test_func_file.c:45</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00250">250</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l06839">__ast_change_name_nolink()</a>.</p>

</div>
</div>
<a id="aafd542831b3864e77f37396573bc1fd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd542831b3864e77f37396573bc1fd0">&#9670;&nbsp;</a></span>ast_manager_event_multichan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_manager_event_multichan</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">category, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d7d/structevent.html">event</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nchans, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d75/structchans.html">chans</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#ga06f17abfc5db7b42743338b9cb73405e">__ast_manager_event_multichan</a>(category, <a class="el" href="../../df/d7d/structevent.html">event</a>, nchans, <a class="el" href="../../d6/d75/structchans.html">chans</a>, __FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a> , ## __VA_ARGS__);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00255">255</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05413">fast_originate()</a>.</p>

</div>
</div>
<a id="a630f27d0608bd7b261bbbc7d9c006501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630f27d0608bd7b261bbbc7d9c006501">&#9670;&nbsp;</a></span>ast_manager_register</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_manager_register</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">action, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">authority, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a>(action, authority, func, AST_MODULE_SELF, <a class="el" href="../../d9/d5e/func__enum_8c.html#a1539fbb78128c8c72e41d1e9d2c09351">synopsis</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>External routines may register/unregister manager callbacks this way. </p>
<dl class="section note"><dt>Note</dt><dd>Use <a class="el" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161" title="Register a manager command with the manager interface. ">ast_manager_register2()</a> to register with help text for new manager commands </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00183">183</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<a id="a5b63b8a8faede2d852e071e1f7b31c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b63b8a8faede2d852e071e1f7b31c11">&#9670;&nbsp;</a></span>ast_manager_register_xml</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_manager_register_xml</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">action, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">authority, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a>(action, authority, func, AST_MODULE_SELF, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a manager callback using XML documentation to describe the manager. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00186">186</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02918">ast_res_pjsip_init_options_handling()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02656">load_module()</a>, and <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00694">load_parking_manager()</a>.</p>

</div>
</div>
<a id="a1d34461b8a3210b19e66f06bcdebfeb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d34461b8a3210b19e66f06bcdebfeb3">&#9670;&nbsp;</a></span>ast_manager_register_xml_core</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_manager_register_xml_core</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">action, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">authority, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a>(action, authority, func, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a manager callback using XML documentation to describe the manager. </p>
<dl class="section note"><dt>Note</dt><dd>For Asterisk core modules that are not independently loadable.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If you use <a class="el" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11" title="Register a manager callback using XML documentation to describe the manager. ">ast_manager_register_xml()</a> instead when you need to use this function, Asterisk will crash on load. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00197">197</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05605">ast_bridging_init()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l01140">ast_local_init()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01730">ast_msg_init()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01082">astdb_init()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01168">load_module()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08460">load_pbx()</a>, and <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00681">manager_bridging_init()</a>.</p>

</div>
</div>
<a id="a98b15e5ddea410372fed1a16c046034b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b15e5ddea410372fed1a16c046034b">&#9670;&nbsp;</a></span>AST_MAX_MANHEADERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MAX_MANHEADERS&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export manager structures. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00095">95</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<a id="a9aeced7f8d9056c4ec2663f1ad10a4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aeced7f8d9056c4ec2663f1ad10a4a4">&#9670;&nbsp;</a></span>DEFAULT_MANAGER_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_MANAGER_PORT&#160;&#160;&#160;5038	/* Default port for Asterisk management via TCP */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00058">58</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>.</p>

</div>
</div>
<a id="ab444a62cb9f15528aa8b4e864dfc99b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab444a62cb9f15528aa8b4e864dfc99b2">&#9670;&nbsp;</a></span>DEFAULT_MANAGER_TLS_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_MANAGER_TLS_PORT&#160;&#160;&#160;5039	/* Default port for Asterisk management via TCP */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00059">59</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>.</p>

</div>
</div>
<a id="acd32bc0b58b87cc22c60ffff79496c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd32bc0b58b87cc22c60ffff79496c7f">&#9670;&nbsp;</a></span>EVENT_FLAG_AGENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_AGENT&#160;&#160;&#160;(1 &lt;&lt; 5) /* Ability to read/<a class="el" href="../../da/dd2/func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set</a> agent info */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00076">76</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01213">agent_login_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01233">agent_logoff_to_ami()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02656">load_module()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01976">queue_channel_to_ami()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02020">queue_member_to_ami()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02084">queue_multi_channel_to_ami()</a>.</p>

</div>
</div>
<a id="ac7370fe764f1305cdb3c543d3964d5ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7370fe764f1305cdb3c543d3964d5ed">&#9670;&nbsp;</a></span>EVENT_FLAG_AGI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_AGI&#160;&#160;&#160;(1 &lt;&lt; 13) /* <a class="el" href="../../dc/d2b/agi_8h.html#a39b22d4db1429ead3b34f15168814ce8">AGI</a> <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00084">84</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de9/res__agi_8c_source.html#l01421">agi_channel_to_ami()</a>, and <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04682">load_module()</a>.</p>

</div>
</div>
<a id="ad145ac7178d92461a0be448d183a037c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad145ac7178d92461a0be448d183a037c">&#9670;&nbsp;</a></span>EVENT_FLAG_AOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_AOC&#160;&#160;&#160;(1 &lt;&lt; 16) /* Advice Of Charge <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00087">87</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, and <a class="el" href="../../d0/da6/aoc_8c_source.html#l01871">aoc_to_ami()</a>.</p>

</div>
</div>
<a id="ab5db3cc603d7e798d61cb4cd94fbb4e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5db3cc603d7e798d61cb4cd94fbb4e2">&#9670;&nbsp;</a></span>EVENT_FLAG_CALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_CALL&#160;&#160;&#160;(1 &lt;&lt; 1) /* Call <a class="el" href="../../df/d7d/structevent.html">event</a>, such as <a class="el" href="../../d4/d88/structstate.html">state</a> change, etc */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00072">72</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l06839">__ast_change_name_nolink()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l01140">ast_local_init()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01103">attended_transfer_to_ami()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00870">blind_transfer_to_ami()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00279">bridge_create()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00311">bridge_destroy()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00362">bridge_merge_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00292">bridge_video_update()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00246">call_pickup_to_ami()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00842">channel_chanspy_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00807">channel_chanspy_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01194">channel_dial_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00394">channel_enter_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01020">channel_fax_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00971">channel_flash_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00759">channel_hangup_request_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01247">channel_hold_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00422">channel_leave_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01153">channel_mixmonitor_mute_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01137">channel_mixmonitor_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01145">channel_mixmonitor_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01093">channel_moh_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01113">channel_moh_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01121">channel_monitor_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01129">channel_monitor_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00688">channel_new_accountcode()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00640">channel_new_callerid()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00671">channel_new_connected_line()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00573">channel_state_change()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01284">channel_unhold_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00525">confbridge_publish_manager_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01741">dahdichannel_to_ami()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00938">devstate_to_ami()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05413">fast_originate()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l04439">load_module()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00694">load_parking_manager()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08460">load_pbx()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00463">local_message_to_ami()</a>, <a class="el" href="../../d1/d7e/cel__manager_8c_source.html#l00223">manager_log()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07288">manager_state_cb()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01226">meetme_stasis_cb()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00639">parked_call_message_response()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00525">presence_state_to_ami()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l21067">publish_qualify_peer_done()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29861">session_timeout_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01483">talking_start_to_ami()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01507">talking_stop_to_ami()</a>.</p>

</div>
</div>
<a id="ae9fafdea9f9e226539b8a9a291079e3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9fafdea9f9e226539b8a9a291079e3d">&#9670;&nbsp;</a></span>EVENT_FLAG_CC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_CC&#160;&#160;&#160;(1 &lt;&lt; 15) /* Call Completion <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00086">86</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00185">cc_available_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00284">cc_callerrecalling_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00269">cc_callerstartmonitoring_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00254">cc_callerstopmonitoring_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00314">cc_failure_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00332">cc_monitorfailed_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00203">cc_offertimerstart_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00299">cc_recallcomplete_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00239">cc_requestacknowledged_to_ami()</a>, and <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00221">cc_requested_to_ami()</a>.</p>

</div>
</div>
<a id="adabf40844c4a05c6e0ef870002599dbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adabf40844c4a05c6e0ef870002599dbe">&#9670;&nbsp;</a></span>EVENT_FLAG_CDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_CDR&#160;&#160;&#160;(1 &lt;&lt; 10) /* CDR <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00081">81</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d5a/cdr__manager_8c_source.html#l00273">manager_log()</a>.</p>

</div>
</div>
<a id="ab9bbbe9b1fbde6ccff1f0a1ec0521afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9bbbe9b1fbde6ccff1f0a1ec0521afd">&#9670;&nbsp;</a></span>EVENT_FLAG_COMMAND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_COMMAND&#160;&#160;&#160;(1 &lt;&lt; 4) /* Ability to read/<a class="el" href="../../da/dd2/func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set</a> <a class="el" href="../../dd/de9/res__agi_8c.html#aaaa94f6da87a703160a7acb2fd67422d">commands</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00075">75</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>.</p>

</div>
</div>
<a id="a36fb89c2a73755209133b6c73fe92e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fb89c2a73755209133b6c73fe92e54">&#9670;&nbsp;</a></span>EVENT_FLAG_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_CONFIG&#160;&#160;&#160;(1 &lt;&lt; 7) /* Ability to modify configurations */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00078">78</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00323">http_post_callback()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08460">load_pbx()</a>.</p>

</div>
</div>
<a id="ad602e069591b527f28e36dd472425e7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad602e069591b527f28e36dd472425e7e">&#9670;&nbsp;</a></span>EVENT_FLAG_DIALPLAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_DIALPLAN&#160;&#160;&#160;(1 &lt;&lt; 11) /* Dialplan <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> (VarSet, NewExten) */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00082">82</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00989">channel_hangup_handler_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00610">channel_newexten()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01175">varset_to_ami()</a>.</p>

</div>
</div>
<a id="a6307f76e83767cdcd6b618dfbd214526"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6307f76e83767cdcd6b618dfbd214526">&#9670;&nbsp;</a></span>EVENT_FLAG_DTMF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_DTMF&#160;&#160;&#160;(1 &lt;&lt; 8) /* Ability to read DTMF <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00079">79</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00877">channel_dtmf_begin_cb()</a>, and <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00921">channel_dtmf_end_cb()</a>.</p>

</div>
</div>
<a id="aae40009621df41a713be987266a11696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae40009621df41a713be987266a11696">&#9670;&nbsp;</a></span>EVENT_FLAG_HOOKRESPONSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_HOOKRESPONSE&#160;&#160;&#160;(1 &lt;&lt; 14) /* Hook Response */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00085">85</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l03025">send_string()</a>.</p>

</div>
</div>
<a id="af805764035071e210ec71c41a3a1ae6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af805764035071e210ec71c41a3a1ae6c">&#9670;&nbsp;</a></span>EVENT_FLAG_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_LOG&#160;&#160;&#160;(1 &lt;&lt; 2) /* Log <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00073">73</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<a id="ab85694f6b643f767a2d61c37c2b87753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85694f6b643f767a2d61c37c2b87753">&#9670;&nbsp;</a></span>EVENT_FLAG_MESSAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_MESSAGE&#160;&#160;&#160;(1 &lt;&lt; 30) /* MESSAGE events. */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00091">91</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d6d/message_8c_source.html#l01730">ast_msg_init()</a>.</p>

</div>
</div>
<a id="ad6acb19e6de27692675f1706d390f548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6acb19e6de27692675f1706d390f548">&#9670;&nbsp;</a></span>EVENT_FLAG_ORIGINATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_ORIGINATE&#160;&#160;&#160;(1 &lt;&lt; 12) /* Originate <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> <a class="el" href="../../d0/d29/chan__pjsip_8c.html#acc941e909d1ca6a0997028d9562d78da">call</a> to an <a class="el" href="../../d0/d5a/structextension.html">extension</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00083">83</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>.</p>

</div>
</div>
<a id="a0b1b4140c2836696a6950e92ab48a580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b1b4140c2836696a6950e92ab48a580">&#9670;&nbsp;</a></span>EVENT_FLAG_REPORTING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_REPORTING&#160;&#160;&#160;(1 &lt;&lt; 9) /* Reporting <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> such as rtcp sent */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00080">80</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02918">ast_res_pjsip_init_options_handling()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01082">astdb_init()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l04439">load_module()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08460">load_pbx()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03297">rtcp_report_to_ami()</a>, and <a class="el" href="../../d8/db9/test_8c_source.html#l01100">test_suite_event_to_ami()</a>.</p>

</div>
</div>
<a id="a673603420907be7dada8fc479e313333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673603420907be7dada8fc479e313333">&#9670;&nbsp;</a></span>EVENT_FLAG_SECURITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_SECURITY&#160;&#160;&#160;(1 &lt;&lt; 18) /* Security Message as AMI Event */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00089">89</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l00420">security_event_to_ami_blob()</a>.</p>

</div>
</div>
<a id="a420f0f755e1c3378b45ca7f6f0669ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420f0f755e1c3378b45ca7f6f0669ffa">&#9670;&nbsp;</a></span>EVENT_FLAG_SYSTEM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_SYSTEM&#160;&#160;&#160;(1 &lt;&lt; 0) /* System <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a> such as module load/unload */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00071">71</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04393">action_login()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05723">action_originate()</a>, <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l02672">analog_publish_channel_alarm_clear()</a>, <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l03999">analog_publish_dnd_state()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l01140">ast_local_init()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01259">ast_logger_rotate_channel()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l02918">ast_res_pjsip_init_options_handling()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01973">ast_res_pjsip_initialize_configuration()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../da/d21/main_2db_8c_source.html#l01082">astdb_init()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00203">contactstatus_to_ami()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04282">do_discovery()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04119">do_monitor_headset()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l03870">do_monitor_phone()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02046">function_capable_string_allowed_with_auths()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l04439">load_module()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01580">logger_print_normal()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00128">peerstatus_to_ami()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07345">publish_channel_alarm()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03506">publish_channel_alarm_clear()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09437">publish_dnd_state()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l00939">publish_fully_booted()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01475">publish_load_message_type()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07331">publish_span_alarm()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03524">publish_span_alarm_clear()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l02004">really_quit()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>, and <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00152">system_registry_to_ami()</a>.</p>

</div>
</div>
<a id="a4fcf0d018dc49622b436a2ae857ea3da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fcf0d018dc49622b436a2ae857ea3da">&#9670;&nbsp;</a></span>EVENT_FLAG_TEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_TEST&#160;&#160;&#160;(1 &lt;&lt; 17) /* Test <a class="el" href="../../df/d7d/structevent.html">event</a> used to signal the Asterisk Test Suite */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00088">88</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00056">fake_ami()</a>.</p>

</div>
</div>
<a id="acc12c2bc03dce67ddd1590d67ab11f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc12c2bc03dce67ddd1590d67ab11f4d">&#9670;&nbsp;</a></span>EVENT_FLAG_USER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_USER&#160;&#160;&#160;(1 &lt;&lt; 6) /* Ability to read/<a class="el" href="../../da/dd2/func__logic_8c.html#a867815a5c8c20dd78c8a14baf645414a">set</a> <a class="el" href="../../d8/dbc/structuser.html">user</a> info */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00077">77</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l06255">action_userevent()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l15123">load_module()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02155">multi_user_event_to_ami()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03266">xmpp_pak_presence()</a>.</p>

</div>
</div>
<a id="a02eaf5c4a70ebad8e543c2efb7707869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02eaf5c4a70ebad8e543c2efb7707869">&#9670;&nbsp;</a></span>EVENT_FLAG_VERBOSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVENT_FLAG_VERBOSE&#160;&#160;&#160;(1 &lt;&lt; 3) /* Verbose messages */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00074">74</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<a id="a1ef0ee0044dbbeb4c3a5abc6c046b208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef0ee0044dbbeb4c3a5abc6c046b208">&#9670;&nbsp;</a></span>manager_event</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define manager_event</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">category, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d7d/structevent.html">event</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../df/d72/group__Group__AMI.html#ga06f17abfc5db7b42743338b9cb73405e">__ast_manager_event_multichan</a>(category, <a class="el" href="../../df/d7d/structevent.html">event</a>, 0, <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, __FILE__, __LINE__, __PRETTY_FUNCTION__, <a class="el" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a> , ## __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>External routines may send asterisk manager events this way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">category</td><td>Event category, matches manager authorization </td></tr>
    <tr><td class="paramname">event</td><td>Event name </td></tr>
    <tr><td class="paramname">contents</td><td>Contents of event </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00248">248</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l06255">action_userevent()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01259">ast_logger_rotate_channel()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09727">ast_manager_event_blob_create()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00362">bridge_merge_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00329">bridge_snapshot_update()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00842">channel_chanspy_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00807">channel_chanspy_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01194">channel_dial_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00877">channel_dtmf_begin_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00921">channel_dtmf_end_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00394">channel_enter_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01020">channel_fax_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00971">channel_flash_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00989">channel_hangup_handler_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00759">channel_hangup_request_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01247">channel_hold_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00422">channel_leave_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01153">channel_mixmonitor_mute_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01093">channel_moh_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00713">channel_snapshot_update()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01284">channel_unhold_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00525">confbridge_publish_manager_event()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04282">do_discovery()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04119">do_monitor_headset()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l03870">do_monitor_phone()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01580">logger_print_normal()</a>, <a class="el" href="../../df/d5a/cdr__manager_8c_source.html#l00273">manager_log()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l08956">manager_shutdown()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07288">manager_state_cb()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01226">meetme_stasis_cb()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00639">parked_call_message_response()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00745">publish_basic_channel_event()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03266">xmpp_pak_presence()</a>.</p>

</div>
</div>
<a id="a50163f7b95ce3b415cf542cbd4e9904a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50163f7b95ce3b415cf542cbd4e9904a">&#9670;&nbsp;</a></span>NO_EXTRA_FIELDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_EXTRA_FIELDS&#160;&#160;&#160;&quot;%s&quot;, &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>GCC warns about blank or NULL format strings. So, shenanigans! </p>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00522">522</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00279">bridge_create()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00311">bridge_destroy()</a>, and <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00573">channel_state_change()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a8c8f2d8718ba98dc22b6615489fa2f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c8f2d8718ba98dc22b6615489fa2f8e">&#9670;&nbsp;</a></span>key_exclusion_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* key_exclusion_cb) (const char *key)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback used to determine whether a key should be skipped when converting a JSON object to a manager blob. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key from JSON blob to be evaluated </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-zero</td><td>if the key should be excluded </td></tr>
    <tr><td class="paramname">zero</td><td>if the key should not be excluded </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00444">444</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<a id="a0102d58d278ee39a37e5d1ff0ec9f82e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0102d58d278ee39a37e5d1ff0ec9f82e">&#9670;&nbsp;</a></span>manager_hook_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* manager_hook_t) (int category, const char *<a class="el" href="../../df/d7d/structevent.html">event</a>, char *body)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manager Helper Function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">category</td><td>The class authorization category of the event </td></tr>
    <tr><td class="paramname">event</td><td>The name of the event being raised </td></tr>
    <tr><td class="paramname">body</td><td>The body of the event</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">non-zero</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00106">106</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5622d5b2d0baf505daf7b2a1e99c1140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5622d5b2d0baf505daf7b2a1e99c1140">&#9670;&nbsp;</a></span>variable_orders</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140">variable_orders</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a"></a>ORDER_NATURAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf"></a>ORDER_REVERSE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/d45/manager_8h_source.html#l00282">282</a> of file <a class="el" href="../../db/d45/manager_8h_source.html">manager.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                     {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a>,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf">ORDER_REVERSE</a></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;};</div><div class="ttc" id="manager_8h_html_a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00283">manager.h:283</a></div></div>
<div class="ttc" id="manager_8h_html_a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf">ORDER_REVERSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00284">manager.h:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a873f600042cce2f957f7be2257b4f366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873f600042cce2f957f7be2257b4f366">&#9670;&nbsp;</a></span>ast_manager_build_bridge_state_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a>* ast_manager_build_bridge_state_string </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the AMI message body from a bridge snapshot. </p>
<dl class="section since"><dt>Since</dt><dd>12</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">snapshot</td><td>the bridge snapshot for which to generate an AMI message body</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
    <tr><td class="paramname">ast_str*</td><td>on success (must be ast_freed by caller) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00267">267</a> of file <a class="el" href="../../da/d10/manager__bridges_8c_source.html">manager_bridges.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00223">ast_manager_build_bridge_state_string_prefix()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00870">blind_transfer_to_ami()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00329">bridge_snapshot_update()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00394">channel_enter_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00422">channel_leave_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00525">confbridge_publish_manager_event()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00555">manager_bridge_info()</a>, and <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00448">send_bridge_list_item_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d10/manager__bridges_8c.html#ae848cf7930ca566b76a13a4b3b7e0466">ast_manager_build_bridge_state_string_prefix</a>(snapshot, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div><div class="ttc" id="manager__bridges_8c_html_ae848cf7930ca566b76a13a4b3b7e0466"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#ae848cf7930ca566b76a13a4b3b7e0466">ast_manager_build_bridge_state_string_prefix</a></div><div class="ttdeci">struct ast_str * ast_manager_build_bridge_state_string_prefix(const struct ast_bridge_snapshot *snapshot, const char *prefix)</div><div class="ttdoc">Generate the AMI message body from a bridge snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00223">manager_bridges.c:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae848cf7930ca566b76a13a4b3b7e0466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae848cf7930ca566b76a13a4b3b7e0466">&#9670;&nbsp;</a></span>ast_manager_build_bridge_state_string_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a>* ast_manager_build_bridge_state_string_prefix </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the AMI message body from a bridge snapshot. </p>
<dl class="section since"><dt>Since</dt><dd>12</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">snapshot</td><td>the bridge snapshot for which to generate an AMI message body </td></tr>
    <tr><td class="paramname">prefix</td><td>What to prepend to the bridge fields</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
    <tr><td class="paramname">ast_str*</td><td>on success (must be ast_freed by caller) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00223">223</a> of file <a class="el" href="../../da/d10/manager__bridges_8c_source.html">manager_bridges.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00100">AST_BRIDGE_VIDEO_MODE_NONE</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04018">ast_bridge_video_mode_to_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::creator</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00345">ast_bridge_snapshot::num_channels</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00033">out</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::subclass</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::technology</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::uniqueid</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00349">ast_bridge_snapshot::video_mode</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00336">ast_bridge_snapshot::video_source_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00267">ast_manager_build_bridge_state_string()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01103">attended_transfer_to_ami()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00362">bridge_merge_cb()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l02096">multi_object_blob_to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="keywordflow">if</span> (!out) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   res = <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;out, 0,</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="stringliteral">&quot;%sBridgeUniqueid: %s\r\n&quot;</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="stringliteral">&quot;%sBridgeType: %s\r\n&quot;</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="stringliteral">&quot;%sBridgeTechnology: %s\r\n&quot;</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="stringliteral">&quot;%sBridgeCreator: %s\r\n&quot;</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="stringliteral">&quot;%sBridgeName: %s\r\n&quot;</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="stringliteral">&quot;%sBridgeNumChannels: %u\r\n&quot;</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="stringliteral">&quot;%sBridgeVideoSourceMode: %s\r\n&quot;</span>,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#aed90bb628ee273a4b27b778b5b0d8ec2">subclass</a>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#ace6976ffaf8aa0738aa7e01b0e98c04f">technology</a>,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a6e62c2774ca18846e6e45057fb8b7a22">creator</a>) ? <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>: snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a6e62c2774ca18846e6e45057fb8b7a22">creator</a>,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>) ? <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>: snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a>,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d4/d56/bridge_8h.html#a2a2b1e82e019faba42fa278f7a69a699">ast_bridge_video_mode_to_string</a>(snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a1b93f1ad25034993f7eb103a0322562e">video_mode</a>));</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(out);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordflow">if</span> (snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a1b93f1ad25034993f7eb103a0322562e">video_mode</a> != <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">video_source_id</a>)) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      res = <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;out, 0, <span class="stringliteral">&quot;%sBridgeVideoSource: %s\r\n&quot;</span>,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;         <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">video_source_id</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(out);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="ttc" id="structast__bridge__snapshot_html_a54eb8725951c786429e4b86d7159309e"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">ast_bridge_snapshot::video_source_id</a></div><div class="ttdeci">const ast_string_field video_source_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a6e62c2774ca18846e6e45057fb8b7a22"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a6e62c2774ca18846e6e45057fb8b7a22">ast_bridge_snapshot::creator</a></div><div class="ttdeci">const ast_string_field creator</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_ace6976ffaf8aa0738aa7e01b0e98c04f"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#ace6976ffaf8aa0738aa7e01b0e98c04f">ast_bridge_snapshot::technology</a></div><div class="ttdeci">const ast_string_field technology</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="bridge_8h_html_a2a2b1e82e019faba42fa278f7a69a699"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a2a2b1e82e019faba42fa278f7a69a699">ast_bridge_video_mode_to_string</a></div><div class="ttdeci">const char * ast_bridge_video_mode_to_string(enum ast_bridge_video_mode_type video_mode)</div><div class="ttdoc">Converts an enum representation of a bridge video mode to string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04018">bridge.c:4018</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#ace9168767fc3707cf5f0a7d049682ba3">ast_bridge_snapshot::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a1b93f1ad25034993f7eb103a0322562e"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a1b93f1ad25034993f7eb103a0322562e">ast_bridge_snapshot::video_mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00349">bridge.h:349</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a753c7b39e3284d771f13f513b003d033">ast_bridge_snapshot::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a97e3bedeadf444995deb6fab68f57e21"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a97e3bedeadf444995deb6fab68f57e21">ast_bridge_snapshot::num_channels</a></div><div class="ttdeci">unsigned int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00345">bridge.h:345</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a48bc11919b2752df9d14ce89557cfb25"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00033">utils/frame.c:33</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00100">bridge.h:100</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_aed90bb628ee273a4b27b778b5b0d8ec2"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#aed90bb628ee273a4b27b778b5b0d8ec2">ast_bridge_snapshot::subclass</a></div><div class="ttdeci">const ast_string_field subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00336">bridge.h:336</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a777cde87d12b331902f862ec44641688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a777cde87d12b331902f862ec44641688">&#9670;&nbsp;</a></span>ast_manager_build_channel_state_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a>* ast_manager_build_channel_state_string </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the AMI message body from a channel snapshot. </p>
<dl class="section since"><dt>Since</dt><dd>12</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">snapshot</td><td>the channel snapshot for which to generate an AMI message body</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
    <tr><td class="paramname">ast_str*</td><td>on success (must be ast_freed by caller) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00561">561</a> of file <a class="el" href="../../d0/d1c/manager__channels_8c_source.html">manager_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00487">ast_manager_build_channel_state_string_prefix()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02527">action_agents()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03821">action_confbridgelist_item()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01213">agent_login_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01233">agent_logoff_to_ami()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l01421">agi_channel_to_ami()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01871">aoc_to_ami()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00246">call_pickup_to_ami()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01194">channel_dial_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00877">channel_dtmf_begin_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00921">channel_dtmf_end_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00394">channel_enter_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01020">channel_fax_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00971">channel_flash_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00989">channel_hangup_handler_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00759">channel_hangup_request_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01247">channel_hold_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00422">channel_leave_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01153">channel_mixmonitor_mute_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01093">channel_moh_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00713">channel_snapshot_update()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01284">channel_unhold_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00525">confbridge_publish_manager_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01741">dahdichannel_to_ami()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04662">generate_status()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01226">meetme_stasis_cb()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00745">publish_basic_channel_event()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01976">queue_channel_to_ami()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02084">queue_multi_channel_to_ami()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03297">rtcp_report_to_ami()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00522">send_bridge_info_item_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29861">session_timeout_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01483">talking_start_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01507">talking_stop_to_ami()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01175">varset_to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;{</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/d1c/manager__channels_8c.html#ab71472ea55b4114f460a4459e3dcd18b">ast_manager_build_channel_state_string_prefix</a>(snapshot, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div><div class="ttc" id="manager__channels_8c_html_ab71472ea55b4114f460a4459e3dcd18b"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#ab71472ea55b4114f460a4459e3dcd18b">ast_manager_build_channel_state_string_prefix</a></div><div class="ttdeci">struct ast_str * ast_manager_build_channel_state_string_prefix(const struct ast_channel_snapshot *snapshot, const char *prefix)</div><div class="ttdoc">Generate the AMI message body from a channel snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00487">manager_channels.c:487</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab71472ea55b4114f460a4459e3dcd18b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71472ea55b4114f460a4459e3dcd18b">&#9670;&nbsp;</a></span>ast_manager_build_channel_state_string_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a>* ast_manager_build_channel_state_string_prefix </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the AMI message body from a channel snapshot. </p>
<dl class="section since"><dt>Since</dt><dd>12</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">snapshot</td><td>the channel snapshot for which to generate an AMI message body </td></tr>
    <tr><td class="paramname">prefix</td><td>What to prepend to the channel fields</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
    <tr><td class="paramname">ast_str*</td><td>on success (must be ast_freed by caller) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00487">487</a> of file <a class="el" href="../../d0/d1c/manager__channels_8c_source.html">manager_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00112">ast_channel_snapshot_base::accountcode</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00972">AST_CHAN_TP_INTERNAL</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01892">ast_escape_c_alloc()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l00642">ast_state2str()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00146">ast_channel_snapshot::base</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00148">ast_channel_snapshot::caller</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00149">ast_channel_snapshot::connected</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00070">ast_channel_snapshot_dialplan::context</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00151">ast_channel_snapshot::dialplan</a>, <a class="el" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00070">ast_channel_snapshot_dialplan::exten</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00112">ast_channel_snapshot_base::language</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00122">ast_channel_snapshot_peer::linkedid</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00157">ast_channel_snapshot::manager_vars</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00031">ast_var_t::name</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00087">ast_channel_snapshot_caller::name</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00097">ast_channel_snapshot_connected::name</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00112">ast_channel_snapshot_base::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00087">ast_channel_snapshot_caller::number</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00096">ast_channel_snapshot_connected::number</a>, <a class="el" href="../../d6/d47/utils_2frame_8c_source.html#l00033">out</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00147">ast_channel_snapshot::peer</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00071">ast_channel_snapshot_dialplan::priority</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00153">ast_channel_snapshot::state</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00114">ast_channel_snapshot_base::tech_properties</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00112">ast_channel_snapshot_base::uniqueid</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00030">ast_var_t::value</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l06390">action_coreshowchannels()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00561">ast_manager_build_channel_state_string()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01103">attended_transfer_to_ami()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00870">blind_transfer_to_ami()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00246">call_pickup_to_ami()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00842">channel_chanspy_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00807">channel_chanspy_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01194">channel_dial_cb()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00463">local_message_to_ami()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00215">manager_build_parked_call_string()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02096">multi_object_blob_to_ami()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02084">queue_multi_channel_to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;{</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="keywordtype">char</span> *caller_name;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="keywordtype">char</span> *connected_name;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="keywordflow">if</span> (snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a6dbde3b298b8f8784f03ef05ac9ee035">tech_properties</a> &amp; <a class="code" href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbda1cec91607109bb73e86c4fa1c2ae9344">AST_CHAN_TP_INTERNAL</a>) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   out = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(1024);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <span class="keywordflow">if</span> (!out) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   caller_name = <a class="code" href="../../d6/d90/strings_8h.html#a62bd9f69e2bd9ccd3760d9681987eca0">ast_escape_c_alloc</a>(snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">caller</a>-&gt;<a class="code" href="../../d6/d08/structast__channel__snapshot__caller.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   connected_name = <a class="code" href="../../d6/d90/strings_8h.html#a62bd9f69e2bd9ccd3760d9681987eca0">ast_escape_c_alloc</a>(snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a1f895854819a5ddf9ff2d2931a875a83">connected</a>-&gt;<a class="code" href="../../d4/d52/structast__channel__snapshot__connected.html#afd3f693e384b1ee0a0c44d58351eb87d">name</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   res = <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;out, 0,</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="stringliteral">&quot;%sChannel: %s\r\n&quot;</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="stringliteral">&quot;%sChannelState: %u\r\n&quot;</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="stringliteral">&quot;%sChannelStateDesc: %s\r\n&quot;</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="stringliteral">&quot;%sCallerIDNum: %s\r\n&quot;</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="stringliteral">&quot;%sCallerIDName: %s\r\n&quot;</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="stringliteral">&quot;%sConnectedLineNum: %s\r\n&quot;</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="stringliteral">&quot;%sConnectedLineName: %s\r\n&quot;</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="stringliteral">&quot;%sLanguage: %s\r\n&quot;</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="stringliteral">&quot;%sAccountCode: %s\r\n&quot;</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="stringliteral">&quot;%sContext: %s\r\n&quot;</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="stringliteral">&quot;%sExten: %s\r\n&quot;</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="stringliteral">&quot;%sPriority: %d\r\n&quot;</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="stringliteral">&quot;%sUniqueid: %s\r\n&quot;</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="stringliteral">&quot;%sLinkedid: %s\r\n&quot;</span>,</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>,</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab772a54f7effa7ab06616e36ae30988a">state</a>,</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d5/d7b/channel_8h.html#ac97b5983ea4bf3cc217ea898ca002759">ast_state2str</a>(snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab772a54f7effa7ab06616e36ae30988a">state</a>),</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">caller</a>-&gt;<a class="code" href="../../d6/d08/structast__channel__snapshot__caller.html#a5a2e9241cdf866a4a02fb075765c87a6">number</a>, <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>),</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(caller_name, <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>),</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a1f895854819a5ddf9ff2d2931a875a83">connected</a>-&gt;<a class="code" href="../../d4/d52/structast__channel__snapshot__connected.html#a77370bcefb3fe21e5f84e230581a50d7">number</a>, <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>),</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(connected_name, <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>),</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a1a1355c36205d33d69c9acd0f4c9606c">language</a>,</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a51b1019903e9032d46119168a3938a16">accountcode</a>,</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a>-&gt;<a class="code" href="../../dc/d3d/structast__channel__snapshot__dialplan.html#a7faec841658b88ad0cfbc684853acad3">context</a>,</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a>-&gt;<a class="code" href="../../dc/d3d/structast__channel__snapshot__dialplan.html#aaee31f4cc48985167efcd38ab252dac8">exten</a>,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">dialplan</a>-&gt;<a class="code" href="../../dc/d3d/structast__channel__snapshot__dialplan.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>,</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">base</a>-&gt;<a class="code" href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>, snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a91ff51905af3f89b6aab38f42d08adea">peer</a>-&gt;<a class="code" href="../../d5/d88/structast__channel__snapshot__peer.html#afb48324a18171a46c6f11b529cddcd40">linkedid</a>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(caller_name);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(connected_name);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(out);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keywordflow">if</span> (snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a2abcf024fa648c9ff9753c2b66040af2">manager_vars</a>) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../d5/d85/structval.html">val</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(snapshot-&gt;<a class="code" href="../../dd/dbe/structast__channel__snapshot.html#a2abcf024fa648c9ff9753c2b66040af2">manager_vars</a>, var, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>) {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;         val = <a class="code" href="../../d6/d90/strings_8h.html#a62bd9f69e2bd9ccd3760d9681987eca0">ast_escape_c_alloc</a>(var-&gt;<a class="code" href="../../d0/d7d/structast__var__t.html#a325611b97f57f55a57b2a7cf3238ef54">value</a>);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;out, 0, <span class="stringliteral">&quot;%sChanVariable: %s=%s\r\n&quot;</span>,</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                   <a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                   var-&gt;<a class="code" href="../../d0/d7d/structast__var__t.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(val, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(val);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;}</div><div class="ttc" id="structast__channel__snapshot_html_ab6103ad1bbc12922f93c0526204573cf"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab6103ad1bbc12922f93c0526204573cf">ast_channel_snapshot::base</a></div><div class="ttdeci">struct ast_channel_snapshot_base * base</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00146">stasis_channels.h:146</a></div></div>
<div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="structast__channel__snapshot__caller_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d6/d08/structast__channel__snapshot__caller.html#ace9168767fc3707cf5f0a7d049682ba3">ast_channel_snapshot_caller::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00087">stasis_channels.h:87</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="structast__channel__snapshot__dialplan_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../dc/d3d/structast__channel__snapshot__dialplan.html#acec9ce2df15222151ad66fcb1d74eb9f">ast_channel_snapshot_dialplan::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00071">stasis_channels.h:71</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_a51b1019903e9032d46119168a3938a16"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#a51b1019903e9032d46119168a3938a16">ast_channel_snapshot_base::accountcode</a></div><div class="ttdeci">const ast_string_field accountcode</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00112">stasis_channels.h:112</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#a753c7b39e3284d771f13f513b003d033">ast_channel_snapshot_base::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00112">stasis_channels.h:112</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="channel_8h_html_ac97b5983ea4bf3cc217ea898ca002759"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac97b5983ea4bf3cc217ea898ca002759">ast_state2str</a></div><div class="ttdeci">const char * ast_state2str(enum ast_channel_state)</div><div class="ttdoc">Gives the string form of a given channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00642">channel.c:642</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a5be1fb9b43b051b087f6952b6346909a"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a5be1fb9b43b051b087f6952b6346909a">ast_channel_snapshot::dialplan</a></div><div class="ttdeci">struct ast_channel_snapshot_dialplan * dialplan</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00151">stasis_channels.h:151</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="structast__channel__snapshot__dialplan_html_a7faec841658b88ad0cfbc684853acad3"><div class="ttname"><a href="../../dc/d3d/structast__channel__snapshot__dialplan.html#a7faec841658b88ad0cfbc684853acad3">ast_channel_snapshot_dialplan::context</a></div><div class="ttdeci">const ast_string_field context</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00070">stasis_channels.h:70</a></div></div>
<div class="ttc" id="structast__channel__snapshot__connected_html_a77370bcefb3fe21e5f84e230581a50d7"><div class="ttname"><a href="../../d4/d52/structast__channel__snapshot__connected.html#a77370bcefb3fe21e5f84e230581a50d7">ast_channel_snapshot_connected::number</a></div><div class="ttdeci">char * number</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00096">stasis_channels.h:96</a></div></div>
<div class="ttc" id="structast__channel__snapshot__dialplan_html_aaee31f4cc48985167efcd38ab252dac8"><div class="ttname"><a href="../../dc/d3d/structast__channel__snapshot__dialplan.html#aaee31f4cc48985167efcd38ab252dac8">ast_channel_snapshot_dialplan::exten</a></div><div class="ttdeci">const ast_string_field exten</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00070">stasis_channels.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_aa62371d642974c67a0c0efa77d54fcbda1cec91607109bb73e86c4fa1c2ae9344"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa62371d642974c67a0c0efa77d54fcbda1cec91607109bb73e86c4fa1c2ae9344">AST_CHAN_TP_INTERNAL</a></div><div class="ttdoc">Channels with this particular technology are an implementation detail of Asterisk and should generall...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00972">channel.h:972</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ae7248b764758e655df26036dd6b8f4d7"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ae7248b764758e655df26036dd6b8f4d7">ast_channel_snapshot::caller</a></div><div class="ttdeci">struct ast_channel_snapshot_caller * caller</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00148">stasis_channels.h:148</a></div></div>
<div class="ttc" id="structast__channel__snapshot__peer_html_afb48324a18171a46c6f11b529cddcd40"><div class="ttname"><a href="../../d5/d88/structast__channel__snapshot__peer.html#afb48324a18171a46c6f11b529cddcd40">ast_channel_snapshot_peer::linkedid</a></div><div class="ttdeci">char * linkedid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00122">stasis_channels.h:122</a></div></div>
<div class="ttc" id="structast__var__t_html_a2a7f851274ec18e17d38114c39b8511a"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a2a7f851274ec18e17d38114c39b8511a">ast_var_t::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00031">chanvars.h:31</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a2abcf024fa648c9ff9753c2b66040af2"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a2abcf024fa648c9ff9753c2b66040af2">ast_channel_snapshot::manager_vars</a></div><div class="ttdeci">struct varshead * manager_vars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00157">stasis_channels.h:157</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structast__var__t_html_a325611b97f57f55a57b2a7cf3238ef54"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a325611b97f57f55a57b2a7cf3238ef54">ast_var_t::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00030">chanvars.h:30</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__var__t_html_a55d5c7988e3164d7310d88c67d97a1db"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a></div><div class="ttdeci">struct ast_var_t::@249 entries</div></div>
<div class="ttc" id="strings_8h_html_a62bd9f69e2bd9ccd3760d9681987eca0"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a62bd9f69e2bd9ccd3760d9681987eca0">ast_escape_c_alloc</a></div><div class="ttdeci">char * ast_escape_c_alloc(const char *s)</div><div class="ttdoc">Escape standard &amp;#39;C&amp;#39; sequences in the given string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01892">main/utils.c:1892</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_ab772a54f7effa7ab06616e36ae30988a"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#ab772a54f7effa7ab06616e36ae30988a">ast_channel_snapshot::state</a></div><div class="ttdeci">enum ast_channel_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00153">stasis_channels.h:153</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_a1a1355c36205d33d69c9acd0f4c9606c"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#a1a1355c36205d33d69c9acd0f4c9606c">ast_channel_snapshot_base::language</a></div><div class="ttdeci">const ast_string_field language</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00112">stasis_channels.h:112</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_a6dbde3b298b8f8784f03ef05ac9ee035"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#a6dbde3b298b8f8784f03ef05ac9ee035">ast_channel_snapshot_base::tech_properties</a></div><div class="ttdeci">int tech_properties</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00114">stasis_channels.h:114</a></div></div>
<div class="ttc" id="utils_2frame_8c_html_a48bc11919b2752df9d14ce89557cfb25"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a48bc11919b2752df9d14ce89557cfb25">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00033">utils/frame.c:33</a></div></div>
<div class="ttc" id="structast__channel__snapshot__caller_html_a5a2e9241cdf866a4a02fb075765c87a6"><div class="ttname"><a href="../../d6/d08/structast__channel__snapshot__caller.html#a5a2e9241cdf866a4a02fb075765c87a6">ast_channel_snapshot_caller::number</a></div><div class="ttdeci">const ast_string_field number</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00087">stasis_channels.h:87</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a91ff51905af3f89b6aab38f42d08adea"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a91ff51905af3f89b6aab38f42d08adea">ast_channel_snapshot::peer</a></div><div class="ttdeci">struct ast_channel_snapshot_peer * peer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00147">stasis_channels.h:147</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html_a1f895854819a5ddf9ff2d2931a875a83"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html#a1f895854819a5ddf9ff2d2931a875a83">ast_channel_snapshot::connected</a></div><div class="ttdeci">struct ast_channel_snapshot_connected * connected</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00149">stasis_channels.h:149</a></div></div>
<div class="ttc" id="structast__channel__snapshot__base_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d6/d29/structast__channel__snapshot__base.html#ace9168767fc3707cf5f0a7d049682ba3">ast_channel_snapshot_base::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00112">stasis_channels.h:112</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
<div class="ttc" id="structast__channel__snapshot__connected_html_afd3f693e384b1ee0a0c44d58351eb87d"><div class="ttname"><a href="../../d4/d52/structast__channel__snapshot__connected.html#afd3f693e384b1ee0a0c44d58351eb87d">ast_channel_snapshot_connected::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00097">stasis_channels.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ace32eaf9a3fc2f7d15121c64bf8ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ace32eaf9a3fc2f7d15121c64bf8ecd">&#9670;&nbsp;</a></span>ast_manager_event_blob_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a>* ast_manager_event_blob_create </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>manager_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extra_fields_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12 The returned object is AO2 managed, so clean up with <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event_flags</td><td>Flags the event should be raised with. </td></tr>
    <tr><td class="paramname">manager_event</td><td>The event to be raised, should be a string literal. </td></tr>
    <tr><td class="paramname">extra_fields_fmt</td><td>Format string for extra fields to include. Or NO_EXTRA_FIELDS for no extra fields.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New ast_manager_snapshot_event object. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d10/manager_8c_source.html#l09727">9727</a> of file <a class="el" href="../../d4/d10/manager_8c_source.html">manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00324">AST_MODPRI_CORE</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00569">ast_string_field_ptr_build_va</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00492">ast_manager_event_blob::event_flags</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00496">ast_manager_event_blob::extra_fields</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09654">load_module()</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00248">manager_event</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00493">ast_manager_event_blob::manager_event</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09718">manager_event_blob_dtor()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l09649">unload_module()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01213">agent_login_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01233">agent_logoff_to_ami()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l01421">agi_channel_to_ami()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01871">aoc_to_ami()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01103">attended_transfer_to_ami()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00870">blind_transfer_to_ami()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00279">bridge_create()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00311">bridge_destroy()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00292">bridge_video_update()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00246">call_pickup_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00185">cc_available_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00284">cc_callerrecalling_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00269">cc_callerstartmonitoring_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00254">cc_callerstopmonitoring_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00314">cc_failure_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00332">cc_monitorfailed_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00203">cc_offertimerstart_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00299">cc_recallcomplete_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00239">cc_requestacknowledged_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00221">cc_requested_to_ami()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00688">channel_new_accountcode()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00640">channel_new_callerid()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00671">channel_new_connected_line()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00610">channel_newexten()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00573">channel_state_change()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00203">contactstatus_to_ami()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01741">dahdichannel_to_ami()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00938">devstate_to_ami()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00056">fake_ami()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00463">local_message_to_ami()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02155">multi_user_event_to_ami()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00128">peerstatus_to_ami()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00525">presence_state_to_ami()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01976">queue_channel_to_ami()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02020">queue_member_to_ami()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02084">queue_multi_channel_to_ami()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03297">rtcp_report_to_ami()</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l00420">security_event_to_ami_blob()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29861">session_timeout_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00152">system_registry_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01483">talking_start_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01507">talking_stop_to_ami()</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l01100">test_suite_event_to_ami()</a>, and <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01175">varset_to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l09733"></a><span class="lineno"> 9733</span>&#160;{</div><div class="line"><a name="l09734"></a><span class="lineno"> 9734</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a> *ev;</div><div class="line"><a name="l09735"></a><span class="lineno"> 9735</span>&#160;   va_list argp;</div><div class="line"><a name="l09736"></a><span class="lineno"> 9736</span>&#160;</div><div class="line"><a name="l09737"></a><span class="lineno"> 9737</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(extra_fields_fmt != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l09738"></a><span class="lineno"> 9738</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l09739"></a><span class="lineno"> 9739</span>&#160;</div><div class="line"><a name="l09740"></a><span class="lineno"> 9740</span>&#160;   ev = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(*ev), <a class="code" href="../../d4/d10/manager_8c.html#a621c10d8f8ac1fb6695eb47e3a5c9504">manager_event_blob_dtor</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l09741"></a><span class="lineno"> 9741</span>&#160;   <span class="keywordflow">if</span> (!ev) {</div><div class="line"><a name="l09742"></a><span class="lineno"> 9742</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l09743"></a><span class="lineno"> 9743</span>&#160;   }</div><div class="line"><a name="l09744"></a><span class="lineno"> 9744</span>&#160;</div><div class="line"><a name="l09745"></a><span class="lineno"> 9745</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(ev, 20)) {</div><div class="line"><a name="l09746"></a><span class="lineno"> 9746</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(ev, -1);</div><div class="line"><a name="l09747"></a><span class="lineno"> 9747</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l09748"></a><span class="lineno"> 9748</span>&#160;   }</div><div class="line"><a name="l09749"></a><span class="lineno"> 9749</span>&#160;</div><div class="line"><a name="l09750"></a><span class="lineno"> 9750</span>&#160;   ev-&gt;<a class="code" href="../../dd/d96/structast__manager__event__blob.html#aab469824ac975744e02d0eefe868f82f">manager_event</a> = <a class="code" href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a>;</div><div class="line"><a name="l09751"></a><span class="lineno"> 9751</span>&#160;   ev-&gt;<a class="code" href="../../dd/d96/structast__manager__event__blob.html#a57602302e7b352ebd03ca187acfcffd4">event_flags</a> = <a class="code" href="../../dd/d96/structast__manager__event__blob.html#a57602302e7b352ebd03ca187acfcffd4">event_flags</a>;</div><div class="line"><a name="l09752"></a><span class="lineno"> 9752</span>&#160;</div><div class="line"><a name="l09753"></a><span class="lineno"> 9753</span>&#160;   va_start(argp, extra_fields_fmt);</div><div class="line"><a name="l09754"></a><span class="lineno"> 9754</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a45a8f974ba52ca692e4e0547266d3a9f">ast_string_field_ptr_build_va</a>(ev, &amp;ev-&gt;<a class="code" href="../../dd/d96/structast__manager__event__blob.html#a32dae0134e7c44c45bb610ab1a152521">extra_fields</a>, extra_fields_fmt, argp);</div><div class="line"><a name="l09755"></a><span class="lineno"> 9755</span>&#160;   va_end(argp);</div><div class="line"><a name="l09756"></a><span class="lineno"> 9756</span>&#160;</div><div class="line"><a name="l09757"></a><span class="lineno"> 9757</span>&#160;   <span class="keywordflow">return</span> ev;</div><div class="ttc" id="structast__manager__event__blob_html"><div class="ttname"><a href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a></div><div class="ttdoc">Struct containing info for an AMI event to send out. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00491">manager.h:491</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="structast__manager__event__blob_html_a32dae0134e7c44c45bb610ab1a152521"><div class="ttname"><a href="../../dd/d96/structast__manager__event__blob.html#a32dae0134e7c44c45bb610ab1a152521">ast_manager_event_blob::extra_fields</a></div><div class="ttdeci">const ast_string_field extra_fields</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00496">manager.h:496</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stringfields_8h_html_a45a8f974ba52ca692e4e0547266d3a9f"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a45a8f974ba52ca692e4e0547266d3a9f">ast_string_field_ptr_build_va</a></div><div class="ttdeci">#define ast_string_field_ptr_build_va(x, ptr, fmt, args)</div><div class="ttdoc">Set a field to a complex (built) value with prebuilt va_lists. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00569">stringfields.h:569</a></div></div>
<div class="ttc" id="structast__manager__event__blob_html_aab469824ac975744e02d0eefe868f82f"><div class="ttname"><a href="../../dd/d96/structast__manager__event__blob.html#aab469824ac975744e02d0eefe868f82f">ast_manager_event_blob::manager_event</a></div><div class="ttdeci">const char * manager_event</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00493">manager.h:493</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__manager__event__blob_html_a57602302e7b352ebd03ca187acfcffd4"><div class="ttname"><a href="../../dd/d96/structast__manager__event__blob.html#a57602302e7b352ebd03ca187acfcffd4">ast_manager_event_blob::event_flags</a></div><div class="ttdeci">int event_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00492">manager.h:492</a></div></div>
<div class="ttc" id="manager_8h_html_a1ef0ee0044dbbeb4c3a5abc6c046b208"><div class="ttname"><a href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a></div><div class="ttdeci">#define manager_event(category, event, contents,...)</div><div class="ttdoc">External routines may send asterisk manager events this way. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00248">manager.h:248</a></div></div>
<div class="ttc" id="manager_8c_html_a621c10d8f8ac1fb6695eb47e3a5c9504"><div class="ttname"><a href="../../d4/d10/manager_8c.html#a621c10d8f8ac1fb6695eb47e3a5c9504">manager_event_blob_dtor</a></div><div class="ttdeci">static void manager_event_blob_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l09718">manager.c:9718</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ae409b5ff584e42c30edcfe5837d85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae409b5ff584e42c30edcfe5837d85c">&#9670;&nbsp;</a></span>ast_manager_get_generic_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* ast_manager_get_generic_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> for generic messages. </p>
<dl class="section since"><dt>Since</dt><dd>12 A generic AMI message expects a JSON only payload. The payload must have the following structure: {type: s, class_type: i, event: [ {s: s}, ...] }</dd></dl>
<ul>
<li>type is the AMI event type</li>
<li>class_type is the class authorization type for the event</li>
<li>event is a list of key/value tuples to be sent out in the message</li>
</ul>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td><a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> for AMI messages </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01903">ast_manager_publish_event()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01553">load_module()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l08956">manager_shutdown()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09053">manager_subscriptions_init()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01483">mwi_startup_event_cb()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01475">publish_load_message_type()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l35461">startup_event_cb()</a>, and <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01772">subscription_persistence_event_cb()</a>.</p>

</div>
</div>
<a id="a4e23b878e759dadd1e466a63193abba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e23b878e759dadd1e466a63193abba0">&#9670;&nbsp;</a></span>ast_str_append_event_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_str_append_event_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>fields_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>append an event header to an ast string </p>
<dl class="section since"><dt>Since</dt><dd>12</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fields_string</td><td>pointer to an ast_string pointer. It may be a pointer to a NULL <a class="el" href="../../dd/da2/structast__str.html" title="The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...">ast_str</a> pointer, in which case the <a class="el" href="../../dd/da2/structast__str.html" title="The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...">ast_str</a> will be initialized. </td></tr>
    <tr><td class="paramname">header</td><td>The header being applied </td></tr>
    <tr><td class="paramname">value</td><td>the value of the header</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if successful </td></tr>
    <tr><td class="paramname">non-zero</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d10/manager_8c_source.html#l09705">9705</a> of file <a class="el" href="../../d4/d10/manager_8c_source.html">manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00678">confbridge_talking_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00564">get_bool_header()</a>, and <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01226">meetme_stasis_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l09708"></a><span class="lineno"> 9708</span>&#160;{</div><div class="line"><a name="l09709"></a><span class="lineno"> 9709</span>&#160;   <span class="keywordflow">if</span> (!*fields_string) {</div><div class="line"><a name="l09710"></a><span class="lineno"> 9710</span>&#160;      *fields_string = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128);</div><div class="line"><a name="l09711"></a><span class="lineno"> 9711</span>&#160;      <span class="keywordflow">if</span> (!*fields_string) {</div><div class="line"><a name="l09712"></a><span class="lineno"> 9712</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l09713"></a><span class="lineno"> 9713</span>&#160;      }</div><div class="line"><a name="l09714"></a><span class="lineno"> 9714</span>&#160;   }</div><div class="line"><a name="l09715"></a><span class="lineno"> 9715</span>&#160;</div><div class="line"><a name="l09716"></a><span class="lineno"> 9716</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(fields_string, 0, <span class="stringliteral">&quot;%s: %s\r\n&quot;</span>, <a class="code" href="../../d5/d65/structheader.html">header</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>) &lt; 0) ? -1 : 0;</div><div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structheader_html"><div class="ttname"><a href="../../d5/d65/structheader.html">header</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d73/pjsip__global__headers_8c_source.html#l00047">pjsip_global_headers.c:47</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a56275a7a3b863c8b4a49d2e74ebe739c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56275a7a3b863c8b4a49d2e74ebe739c">&#9670;&nbsp;</a></span>astman_datastore_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_datastore_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *&#160;</td>
          <td class="paramname"><em>datastore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a datastore to a session. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">non-zero</td><td>failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.6.1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d10/manager_8c_source.html#l09666">9666</a> of file <a class="el" href="../../d4/d10/manager_8c_source.html">manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l01626">mansession::session</a>.</p>
<div class="fragment"><div class="line"><a name="l09668"></a><span class="lineno"> 9668</span>&#160;{</div><div class="line"><a name="l09669"></a><span class="lineno"> 9669</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;s-&gt;<a class="code" href="../../d2/d8a/structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">session</a>-&gt;<a class="code" href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">datastores</a>, datastore, <a class="code" href="../../d3/d96/structentry.html">entry</a>);</div><div class="line"><a name="l09670"></a><span class="lineno"> 9670</span>&#160;</div><div class="line"><a name="l09671"></a><span class="lineno"> 9671</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="ttc" id="structmansession__session_html_ac973a08be5923acefc1e920ce302f47b"><div class="ttname"><a href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a></div><div class="ttdeci">struct mansession_session::mansession_datastores datastores</div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="structmansession_html_ab51bd75c585f6401e1e7b7fb4000760d"><div class="ttname"><a href="../../d2/d8a/structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">mansession::session</a></div><div class="ttdeci">struct mansession_session * session</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01626">manager.c:1626</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a24728a1340746b7d1e914f0bc6bc78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a24728a1340746b7d1e914f0bc6bc78">&#9670;&nbsp;</a></span>astman_datastore_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a>* astman_datastore_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a datastore on a session. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">pointer</td><td>to the datastore if found </td></tr>
    <tr><td class="paramname">NULL</td><td>if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.6.1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d10/manager_8c_source.html#l09678">9678</a> of file <a class="el" href="../../d4/d10/manager_8c_source.html">manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00071">ast_datastore::info</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01626">mansession::session</a>, and <a class="el" href="../../d9/db6/datastore_8h_source.html#l00069">ast_datastore::uid</a>.</p>
<div class="fragment"><div class="line"><a name="l09680"></a><span class="lineno"> 9680</span>&#160;{</div><div class="line"><a name="l09681"></a><span class="lineno"> 9681</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l09682"></a><span class="lineno"> 9682</span>&#160;</div><div class="line"><a name="l09683"></a><span class="lineno"> 9683</span>&#160;   <span class="keywordflow">if</span> (info == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l09684"></a><span class="lineno"> 9684</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l09685"></a><span class="lineno"> 9685</span>&#160;</div><div class="line"><a name="l09686"></a><span class="lineno"> 9686</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;s-&gt;<a class="code" href="../../d2/d8a/structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">session</a>-&gt;<a class="code" href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">datastores</a>, datastore, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l09687"></a><span class="lineno"> 9687</span>&#160;      <span class="keywordflow">if</span> (datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">info</a> != info) {</div><div class="line"><a name="l09688"></a><span class="lineno"> 9688</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l09689"></a><span class="lineno"> 9689</span>&#160;      }</div><div class="line"><a name="l09690"></a><span class="lineno"> 9690</span>&#160;</div><div class="line"><a name="l09691"></a><span class="lineno"> 9691</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l09692"></a><span class="lineno"> 9692</span>&#160;         <span class="comment">/* matched by type only */</span></div><div class="line"><a name="l09693"></a><span class="lineno"> 9693</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l09694"></a><span class="lineno"> 9694</span>&#160;      }</div><div class="line"><a name="l09695"></a><span class="lineno"> 9695</span>&#160;</div><div class="line"><a name="l09696"></a><span class="lineno"> 9696</span>&#160;      <span class="keywordflow">if</span> ((datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; !strcasecmp(<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>, datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">uid</a>)) {</div><div class="line"><a name="l09697"></a><span class="lineno"> 9697</span>&#160;         <span class="comment">/* Matched by type AND uid */</span></div><div class="line"><a name="l09698"></a><span class="lineno"> 9698</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l09699"></a><span class="lineno"> 9699</span>&#160;      }</div><div class="line"><a name="l09700"></a><span class="lineno"> 9700</span>&#160;   }</div><div class="line"><a name="l09701"></a><span class="lineno"> 9701</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l09702"></a><span class="lineno"> 9702</span>&#160;</div><div class="line"><a name="l09703"></a><span class="lineno"> 9703</span>&#160;   <span class="keywordflow">return</span> datastore;</div><div class="ttc" id="structmansession__session_html_ac973a08be5923acefc1e920ce302f47b"><div class="ttname"><a href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a></div><div class="ttdeci">struct mansession_session::mansession_datastores datastores</div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structast__datastore_html_a2daadcdbac635c83b7bfc6375b4c9be4"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a2daadcdbac635c83b7bfc6375b4c9be4">ast_datastore::uid</a></div><div class="ttdeci">const char * uid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00069">datastore.h:69</a></div></div>
<div class="ttc" id="structast__datastore_html_a03ea21247b5d39b165343431b44131f1"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a03ea21247b5d39b165343431b44131f1">ast_datastore::info</a></div><div class="ttdeci">const struct ast_datastore_info * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00071">datastore.h:71</a></div></div>
<div class="ttc" id="structmansession_html_ab51bd75c585f6401e1e7b7fb4000760d"><div class="ttname"><a href="../../d2/d8a/structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">mansession::session</a></div><div class="ttdeci">struct mansession_session * session</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01626">manager.c:1626</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9f2dfb1df89986ee6613d2bfa541688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9f2dfb1df89986ee6613d2bfa541688">&#9670;&nbsp;</a></span>astman_datastore_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_datastore_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/d8a/structmansession.html">mansession</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *&#160;</td>
          <td class="paramname"><em>datastore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a datastore from a session. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">non-zero</td><td>failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.6.1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d10/manager_8c_source.html#l09673">9673</a> of file <a class="el" href="../../d4/d10/manager_8c_source.html">manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00855">AST_LIST_REMOVE</a>, <a class="el" href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l01626">mansession::session</a>.</p>
<div class="fragment"><div class="line"><a name="l09675"></a><span class="lineno"> 9675</span>&#160;{</div><div class="line"><a name="l09676"></a><span class="lineno"> 9676</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a>(&amp;s-&gt;<a class="code" href="../../d2/d8a/structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">session</a>-&gt;<a class="code" href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">datastores</a>, datastore, <a class="code" href="../../d3/d96/structentry.html">entry</a>) ? 0 : -1;</div><div class="ttc" id="structmansession__session_html_ac973a08be5923acefc1e920ce302f47b"><div class="ttname"><a href="../../df/d05/structmansession__session.html#ac973a08be5923acefc1e920ce302f47b">mansession_session::datastores</a></div><div class="ttdeci">struct mansession_session::mansession_datastores datastores</div></div>
<div class="ttc" id="linkedlists_8h_html_aa36e72b77f1b80881cd0a9fcca66ce19"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa36e72b77f1b80881cd0a9fcca66ce19">AST_LIST_REMOVE</a></div><div class="ttdeci">#define AST_LIST_REMOVE(head, elm, field)</div><div class="ttdoc">Removes a specific entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00855">linkedlists.h:855</a></div></div>
<div class="ttc" id="structmansession_html_ab51bd75c585f6401e1e7b7fb4000760d"><div class="ttname"><a href="../../d2/d8a/structmansession.html#ab51bd75c585f6401e1e7b7fb4000760d">mansession::session</a></div><div class="ttdeci">struct mansession_session * session</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01626">manager.c:1626</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb49e15f3ae80cc0ee0cfa3a250d00c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb49e15f3ae80cc0ee0cfa3a250d00c0">&#9670;&nbsp;</a></span>astman_is_authed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_is_authed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ident</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determinie if a manager session ident is authenticated. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d10/manager_8c_source.html#l07551">7551</a> of file <a class="el" href="../../d4/d10/manager_8c_source.html">manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01594">mansession_session::authenticated</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07479">find_session()</a>, <a class="el" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l02183">unref_mansession()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00323">http_post_callback()</a>, and <a class="el" href="../../dd/d43/http_8c_source.html#l00240">static_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;{</div><div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;   <span class="keywordtype">int</span> authed;</div><div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d05/structmansession__session.html">mansession_session</a> *<a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>;</div><div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;</div><div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;   <span class="keywordflow">if</span> (!(session = <a class="code" href="../../d4/d10/manager_8c.html#a914dce58348e2b56ed139c441198b82f">find_session</a>(ident, 0)))</div><div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;</div><div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;   authed = (session-&gt;<a class="code" href="../../df/d05/structmansession__session.html#a29e86d0f6d62ef1edac10a46e4c92095">authenticated</a> != 0);</div><div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;</div><div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(session);</div><div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;   <a class="code" href="../../df/d72/group__Group__AMI.html#ga5e4938c2cafe6e01553cb952ca1f5e45">unref_mansession</a>(session);</div><div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;</div><div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;   <span class="keywordflow">return</span> authed;</div><div class="ttc" id="structmansession__session_html_a29e86d0f6d62ef1edac10a46e4c92095"><div class="ttname"><a href="../../df/d05/structmansession__session.html#a29e86d0f6d62ef1edac10a46e4c92095">mansession_session::authenticated</a></div><div class="ttdeci">int authenticated</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01594">manager.c:1594</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga5e4938c2cafe6e01553cb952ca1f5e45"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga5e4938c2cafe6e01553cb952ca1f5e45">unref_mansession</a></div><div class="ttdeci">static struct mansession_session * unref_mansession(struct mansession_session *s)</div><div class="ttdoc">Unreference manager session object. If no more references, then go ahead and delete it...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02183">manager.c:2183</a></div></div>
<div class="ttc" id="manager_8c_html_a914dce58348e2b56ed139c441198b82f"><div class="ttname"><a href="../../d4/d10/manager_8c.html#a914dce58348e2b56ed139c441198b82f">find_session</a></div><div class="ttdeci">static struct mansession_session * find_session(uint32_t ident, int incinuse)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07479">manager.c:7479</a></div></div>
<div class="ttc" id="astman_8c_html_ac4a6ae0400e4457f0b35beddec80c93d"><div class="ttname"><a href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a></div><div class="ttdeci">static struct ast_mansession session</div></div>
<div class="ttc" id="structmansession__session_html"><div class="ttname"><a href="../../df/d05/structmansession__session.html">mansession_session</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01581">manager.c:1581</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a73a22446241314099a4e371157e360f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73a22446241314099a4e371157e360f5">&#9670;&nbsp;</a></span>astman_verify_session_readpermissions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_verify_session_readpermissions </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ident</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>perm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify a session's read permissions against a permission mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ident</td><td>session identity </td></tr>
    <tr><td class="paramname">perm</td><td>permission mask to verify </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if the session has the permission mask capabilities </td></tr>
    <tr><td class="paramname">0</td><td>otherwise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d10/manager_8c_source.html#l07567">7567</a> of file <a class="el" href="../../d4/d10/manager_8c_source.html">manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01588">mansession_session::managerid</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01595">mansession_session::readperm</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>, <a class="el" href="../../d0/d80/chan__skinny_8c.html#a61aa7b9ad75e714f776c1f82bcc3359f">sessions</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l02183">unref_mansession()</a>.</p>
<div class="fragment"><div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;{</div><div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = 0;</div><div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d05/structmansession__session.html">mansession_session</a> *<a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>;</div><div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a61aa7b9ad75e714f776c1f82bcc3359f">sessions</a>;</div><div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;</div><div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;   <span class="keywordflow">if</span> (ident == 0) {</div><div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;   }</div><div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;</div><div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;   sessions = <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(mgr_sessions);</div><div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;   <span class="keywordflow">if</span> (!sessions) {</div><div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;   }</div><div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(sessions, 0);</div><div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(sessions, -1);</div><div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;   <span class="keywordflow">while</span> ((session = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(session);</div><div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;      <span class="keywordflow">if</span> ((session-&gt;<a class="code" href="../../df/d05/structmansession__session.html#a24367fd57bd683dd7fdba2db57ce314e">managerid</a> == ident) &amp;&amp; (session-&gt;<a class="code" href="../../df/d05/structmansession__session.html#afaabb85e65efc5fed1a5f4d08bf272a4">readperm</a> &amp; perm)) {</div><div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;         result = 1;</div><div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(session);</div><div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga5e4938c2cafe6e01553cb952ca1f5e45">unref_mansession</a>(session);</div><div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;      }</div><div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(session);</div><div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga5e4938c2cafe6e01553cb952ca1f5e45">unref_mansession</a>(session);</div><div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;   }</div><div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;</div><div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="ttc" id="chan__skinny_8c_html_a61aa7b9ad75e714f776c1f82bcc3359f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a61aa7b9ad75e714f776c1f82bcc3359f">sessions</a></div><div class="ttdeci">static struct sessions sessions</div></div>
<div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="structmansession__session_html_afaabb85e65efc5fed1a5f4d08bf272a4"><div class="ttname"><a href="../../df/d05/structmansession__session.html#afaabb85e65efc5fed1a5f4d08bf272a4">mansession_session::readperm</a></div><div class="ttdeci">int readperm</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01595">manager.c:1595</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga5e4938c2cafe6e01553cb952ca1f5e45"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga5e4938c2cafe6e01553cb952ca1f5e45">unref_mansession</a></div><div class="ttdeci">static struct mansession_session * unref_mansession(struct mansession_session *s)</div><div class="ttdoc">Unreference manager session object. If no more references, then go ahead and delete it...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02183">manager.c:2183</a></div></div>
<div class="ttc" id="astman_8c_html_ac4a6ae0400e4457f0b35beddec80c93d"><div class="ttname"><a href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a></div><div class="ttdeci">static struct ast_mansession session</div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structmansession__session_html_a24367fd57bd683dd7fdba2db57ce314e"><div class="ttname"><a href="../../df/d05/structmansession__session.html#a24367fd57bd683dd7fdba2db57ce314e">mansession_session::managerid</a></div><div class="ttdeci">uint32_t managerid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01588">manager.c:1588</a></div></div>
<div class="ttc" id="structmansession__session_html"><div class="ttname"><a href="../../df/d05/structmansession__session.html">mansession_session</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01581">manager.c:1581</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a38eb222ca678604d4f203c9e9d5295ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38eb222ca678604d4f203c9e9d5295ab">&#9670;&nbsp;</a></span>astman_verify_session_writepermissions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astman_verify_session_writepermissions </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ident</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>perm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify a session's write permissions against a permission mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ident</td><td>session identity </td></tr>
    <tr><td class="paramname">perm</td><td>permission mask to verify </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if the session has the permission mask capabilities, otherwise 0 </td></tr>
    <tr><td class="paramname">0</td><td>otherwise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d10/manager_8c_source.html#l07600">7600</a> of file <a class="el" href="../../d4/d10/manager_8c_source.html">manager.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01588">mansession_session::managerid</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>, <a class="el" href="../../d0/d80/chan__skinny_8c.html#a61aa7b9ad75e714f776c1f82bcc3359f">sessions</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l02183">unref_mansession()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l01596">mansession_session::writeperm</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc9/res__http__post_8c_source.html#l00323">http_post_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;{</div><div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = 0;</div><div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d05/structmansession__session.html">mansession_session</a> *<a class="code" href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a>;</div><div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d80/chan__skinny_8c.html#a61aa7b9ad75e714f776c1f82bcc3359f">sessions</a>;</div><div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;</div><div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;   <span class="keywordflow">if</span> (ident == 0) {</div><div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;   }</div><div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;</div><div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;   sessions = <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(mgr_sessions);</div><div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;   <span class="keywordflow">if</span> (!sessions) {</div><div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;   }</div><div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(sessions, 0);</div><div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(sessions, -1);</div><div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;   <span class="keywordflow">while</span> ((session = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(session);</div><div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;      <span class="keywordflow">if</span> ((session-&gt;<a class="code" href="../../df/d05/structmansession__session.html#a24367fd57bd683dd7fdba2db57ce314e">managerid</a> == ident) &amp;&amp; (session-&gt;<a class="code" href="../../df/d05/structmansession__session.html#a006a09ed1c51271c4b6f582a2a42ba5f">writeperm</a> &amp; perm)) {</div><div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;         result = 1;</div><div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(session);</div><div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;         <a class="code" href="../../df/d72/group__Group__AMI.html#ga5e4938c2cafe6e01553cb952ca1f5e45">unref_mansession</a>(session);</div><div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;      }</div><div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(session);</div><div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;      <a class="code" href="../../df/d72/group__Group__AMI.html#ga5e4938c2cafe6e01553cb952ca1f5e45">unref_mansession</a>(session);</div><div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;   }</div><div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;</div><div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="ttc" id="chan__skinny_8c_html_a61aa7b9ad75e714f776c1f82bcc3359f"><div class="ttname"><a href="../../d0/d80/chan__skinny_8c.html#a61aa7b9ad75e714f776c1f82bcc3359f">sessions</a></div><div class="ttdeci">static struct sessions sessions</div></div>
<div class="ttc" id="structmansession__session_html_a006a09ed1c51271c4b6f582a2a42ba5f"><div class="ttname"><a href="../../df/d05/structmansession__session.html#a006a09ed1c51271c4b6f582a2a42ba5f">mansession_session::writeperm</a></div><div class="ttdeci">int writeperm</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01596">manager.c:1596</a></div></div>
<div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga5e4938c2cafe6e01553cb952ca1f5e45"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga5e4938c2cafe6e01553cb952ca1f5e45">unref_mansession</a></div><div class="ttdeci">static struct mansession_session * unref_mansession(struct mansession_session *s)</div><div class="ttdoc">Unreference manager session object. If no more references, then go ahead and delete it...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02183">manager.c:2183</a></div></div>
<div class="ttc" id="astman_8c_html_ac4a6ae0400e4457f0b35beddec80c93d"><div class="ttname"><a href="../../d2/d4d/astman_8c.html#ac4a6ae0400e4457f0b35beddec80c93d">session</a></div><div class="ttdeci">static struct ast_mansession session</div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structmansession__session_html_a24367fd57bd683dd7fdba2db57ce314e"><div class="ttname"><a href="../../df/d05/structmansession__session.html#a24367fd57bd683dd7fdba2db57ce314e">mansession_session::managerid</a></div><div class="ttdeci">uint32_t managerid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01588">manager.c:1588</a></div></div>
<div class="ttc" id="structmansession__session_html"><div class="ttname"><a href="../../df/d05/structmansession__session.html">mansession_session</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01581">manager.c:1581</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f283471be8718fc0239c7441d640a5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f283471be8718fc0239c7441d640a5a">&#9670;&nbsp;</a></span>manager_bridging_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int manager_bridging_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize support for AMI channel events. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
non-zero on error. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00681">681</a> of file <a class="el" href="../../da/d10/manager__bridges_8c_source.html">manager_bridges.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d4e/stasis__bridges_8h.html#a20be59047a504f4c5dca2289beef7963">ast_bridge_merge_message_type()</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h.html#a93724fb58fab92a0a749535e8c8534d2">ast_bridge_snapshot_type()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00179">ast_bridge_topic_all()</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h.html#a8bd3a6c07bd2064a82a7c27091ba0fce">ast_channel_entered_bridge_type()</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h.html#a4cf969b75b455dc9301ede7c7830d4b6">ast_channel_left_bridge_type()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01725">ast_manager_get_message_router()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01720">ast_manager_get_topic()</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00197">ast_manager_register_xml_core</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00362">bridge_merge_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00329">bridge_snapshot_update()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00394">channel_enter_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00422">channel_leave_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00604">manager_bridge_destroy()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00555">manager_bridge_info()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00626">manager_bridge_kick()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00484">manager_bridges_list()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00670">manager_bridging_cleanup()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01490">manager_topic</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01578">stasis_forward_all()</a>, and <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09086">subscribe_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#gadeff73697d2789905f4c3a21671ef6d3">manager_topic</a>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *bridge_topic;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../da/d10/manager__bridges_8c.html#a4c0cdbfe97d18b382f3c364699faa47a">bridge_state_router</a>) {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="comment">/* Already initialized */</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../da/d10/manager__bridges_8c.html#a6dd4c45536fc83ae41f6555bd99d867a">manager_bridging_cleanup</a>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   manager_topic = <a class="code" href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a>();</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="keywordflow">if</span> (!manager_topic) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   bridge_topic = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#abf64fa441014314244648caa6c8ab80b">ast_bridge_topic_all</a>();</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   <span class="keywordflow">if</span> (!bridge_topic) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   <a class="code" href="../../da/d10/manager__bridges_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a>(bridge_topic, manager_topic);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../da/d10/manager__bridges_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a>) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <a class="code" href="../../da/d10/manager__bridges_8c.html#a4c0cdbfe97d18b382f3c364699faa47a">bridge_state_router</a> = <a class="code" href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a>();</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../da/d10/manager__bridges_8c.html#a4c0cdbfe97d18b382f3c364699faa47a">bridge_state_router</a>) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../da/d10/manager__bridges_8c.html#a4c0cdbfe97d18b382f3c364699faa47a">bridge_state_router</a>,</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a93724fb58fab92a0a749535e8c8534d2">ast_bridge_snapshot_type</a>(), <a class="code" href="../../da/d10/manager__bridges_8c.html#ac90b99a355485c4664126d1f500b6d86">bridge_snapshot_update</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../da/d10/manager__bridges_8c.html#a4c0cdbfe97d18b382f3c364699faa47a">bridge_state_router</a>,</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a20be59047a504f4c5dca2289beef7963">ast_bridge_merge_message_type</a>(), <a class="code" href="../../da/d10/manager__bridges_8c.html#a471f2693236412ab502174ce0210275e">bridge_merge_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../da/d10/manager__bridges_8c.html#a4c0cdbfe97d18b382f3c364699faa47a">bridge_state_router</a>,</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a8bd3a6c07bd2064a82a7c27091ba0fce">ast_channel_entered_bridge_type</a>(), <a class="code" href="../../da/d10/manager__bridges_8c.html#ad05f6596bd6eed7f5ad18309c1ff6752">channel_enter_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../da/d10/manager__bridges_8c.html#a4c0cdbfe97d18b382f3c364699faa47a">bridge_state_router</a>,</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a4cf969b75b455dc9301ede7c7830d4b6">ast_channel_left_bridge_type</a>(), <a class="code" href="../../da/d10/manager__bridges_8c.html#a4e269a589e26f795cab1ea1d6e29132a">channel_leave_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   ret |= <a class="code" href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">ast_manager_register_xml_core</a>(<span class="stringliteral">&quot;BridgeList&quot;</span>, 0, <a class="code" href="../../da/d10/manager__bridges_8c.html#a67840f6e55096fee9d922ad94d7d720f">manager_bridges_list</a>);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   ret |= <a class="code" href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">ast_manager_register_xml_core</a>(<span class="stringliteral">&quot;BridgeInfo&quot;</span>, 0, <a class="code" href="../../da/d10/manager__bridges_8c.html#a8df87c9f546704fb2d6d50a459e854af">manager_bridge_info</a>);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   ret |= <a class="code" href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">ast_manager_register_xml_core</a>(<span class="stringliteral">&quot;BridgeDestroy&quot;</span>, 0, <a class="code" href="../../da/d10/manager__bridges_8c.html#a8d8cc1b01d11ab9ad3435c3dcc9a5558">manager_bridge_destroy</a>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   ret |= <a class="code" href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">ast_manager_register_xml_core</a>(<span class="stringliteral">&quot;BridgeKick&quot;</span>, 0, <a class="code" href="../../da/d10/manager__bridges_8c.html#a5f3ec0ada329a43f83f5e08b7187ab6c">manager_bridge_kick</a>);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;   <span class="comment">/* If somehow we failed to add any routes, just shut down the whole</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">    * thing and fail it.</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <a class="code" href="../../da/d10/manager__bridges_8c.html#a6dd4c45536fc83ae41f6555bd99d867a">manager_bridging_cleanup</a>();</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;}</div><div class="ttc" id="stasis__bridges_8h_html_a93724fb58fab92a0a749535e8c8534d2"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a93724fb58fab92a0a749535e8c8534d2">ast_bridge_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_bridge_snapshot_type(void)</div><div class="ttdoc">Message type for ast_bridge_snapshot. </div></div>
<div class="ttc" id="stasis__bridges_8h_html_a8bd3a6c07bd2064a82a7c27091ba0fce"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a8bd3a6c07bd2064a82a7c27091ba0fce">ast_channel_entered_bridge_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_entered_bridge_type(void)</div><div class="ttdoc">Message type for channel enter bridge blob messages. </div></div>
<div class="ttc" id="manager__bridges_8c_html_ad05f6596bd6eed7f5ad18309c1ff6752"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#ad05f6596bd6eed7f5ad18309c1ff6752">channel_enter_cb</a></div><div class="ttdeci">static void channel_enter_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00394">manager_bridges.c:394</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a5adc304e693097ec75b474e6a5309958"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a></div><div class="ttdeci">int stasis_message_router_add(struct stasis_message_router *router, struct stasis_message_type *message_type, stasis_subscription_cb callback, void *data)</div><div class="ttdoc">Add a route to a message router. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router.c:310</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a4cf969b75b455dc9301ede7c7830d4b6"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a4cf969b75b455dc9301ede7c7830d4b6">ast_channel_left_bridge_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_left_bridge_type(void)</div><div class="ttdoc">Message type for channel leave bridge blob messages. </div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gadeff73697d2789905f4c3a21671ef6d3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gadeff73697d2789905f4c3a21671ef6d3">manager_topic</a></div><div class="ttdeci">static struct stasis_topic * manager_topic</div><div class="ttdoc">A stasis_topic that all topics AMI cares about will be forwarded to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01490">manager.c:1490</a></div></div>
<div class="ttc" id="manager_8h_html_a1d34461b8a3210b19e66f06bcdebfeb3"><div class="ttname"><a href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">ast_manager_register_xml_core</a></div><div class="ttdeci">#define ast_manager_register_xml_core(action, authority, func)</div><div class="ttdoc">Register a manager callback using XML documentation to describe the manager. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00197">manager.h:197</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_a8d8cc1b01d11ab9ad3435c3dcc9a5558"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#a8d8cc1b01d11ab9ad3435c3dcc9a5558">manager_bridge_destroy</a></div><div class="ttdeci">static int manager_bridge_destroy(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00604">manager_bridges.c:604</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_a8df87c9f546704fb2d6d50a459e854af"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#a8df87c9f546704fb2d6d50a459e854af">manager_bridge_info</a></div><div class="ttdeci">static int manager_bridge_info(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00555">manager_bridges.c:555</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a20be59047a504f4c5dca2289beef7963"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a20be59047a504f4c5dca2289beef7963">ast_bridge_merge_message_type</a></div><div class="ttdeci">struct stasis_message_type * ast_bridge_merge_message_type(void)</div><div class="ttdoc">Message type for ast_bridge_merge_message. </div></div>
<div class="ttc" id="manager__bridges_8c_html_ac90b99a355485c4664126d1f500b6d86"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#ac90b99a355485c4664126d1f500b6d86">bridge_snapshot_update</a></div><div class="ttdeci">static void bridge_snapshot_update(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00329">manager_bridges.c:329</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_a6dd4c45536fc83ae41f6555bd99d867a"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#a6dd4c45536fc83ae41f6555bd99d867a">manager_bridging_cleanup</a></div><div class="ttdeci">static void manager_bridging_cleanup(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00670">manager_bridges.c:670</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_a5f3ec0ada329a43f83f5e08b7187ab6c"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#a5f3ec0ada329a43f83f5e08b7187ab6c">manager_bridge_kick</a></div><div class="ttdeci">static int manager_bridge_kick(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00626">manager_bridges.c:626</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gacfa23131c1c93528074761076ca2bc85"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a></div><div class="ttdeci">struct stasis_message_router * ast_manager_get_message_router(void)</div><div class="ttdoc">Get the stasis_message_router for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01725">manager.c:1725</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_a471f2693236412ab502174ce0210275e"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#a471f2693236412ab502174ce0210275e">bridge_merge_cb</a></div><div class="ttdeci">static void bridge_merge_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00362">manager_bridges.c:362</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga568aa1aff837fc0001279490a6d9b22f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a></div><div class="ttdeci">struct stasis_topic * ast_manager_get_topic(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01720">manager.c:1720</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_abf64fa441014314244648caa6c8ab80b"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#abf64fa441014314244648caa6c8ab80b">ast_bridge_topic_all</a></div><div class="ttdeci">struct stasis_topic * ast_bridge_topic_all(void)</div><div class="ttdoc">A topic which publishes the events for all bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00179">stasis_bridges.c:179</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_a67840f6e55096fee9d922ad94d7d720f"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#a67840f6e55096fee9d922ad94d7d720f">manager_bridges_list</a></div><div class="ttdeci">static int manager_bridges_list(struct mansession *s, const struct message *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00484">manager_bridges.c:484</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_a4c0cdbfe97d18b382f3c364699faa47a"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#a4c0cdbfe97d18b382f3c364699faa47a">bridge_state_router</a></div><div class="ttdeci">static struct stasis_message_router * bridge_state_router</div><div class="ttdoc">Message router for cached bridge state snapshot updates. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00034">manager_bridges.c:34</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_aeb9ef797eacc8523239c5136cfb7677e"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a></div><div class="ttdeci">static struct stasis_forward * topic_forwarder</div><div class="ttdoc">The Stasis Message Bus API subscription returned by the forwarding of the channel topic to the manage...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00221">manager_bridges.c:221</a></div></div>
<div class="ttc" id="stasis_8h_html_a2513a93567ddc93510f7896b777da119"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a></div><div class="ttdeci">struct stasis_forward * stasis_forward_all(struct stasis_topic *from_topic, struct stasis_topic *to_topic)</div><div class="ttdoc">Create a subscription which forwards all messages from one topic to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01578">stasis.c:1578</a></div></div>
<div class="ttc" id="manager__bridges_8c_html_a4e269a589e26f795cab1ea1d6e29132a"><div class="ttname"><a href="../../da/d10/manager__bridges_8c.html#a4e269a589e26f795cab1ea1d6e29132a">channel_leave_cb</a></div><div class="ttdeci">static void channel_leave_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00422">manager_bridges.c:422</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc1db69d70499e0e8b178fccbc76b505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc1db69d70499e0e8b178fccbc76b505">&#9670;&nbsp;</a></span>manager_channels_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int manager_channels_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize support for AMI channel events. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">non-zero</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01308">1308</a> of file <a class="el" href="../../d0/d1c/manager__channels_8c_source.html">manager_channels.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga82b40d5d80727f7fd39b6d1fbca3131e">ast_channel_chanspy_start_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga689d6e83223f090da8c87e2efd793940">ast_channel_chanspy_stop_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf2f12b95a707aaa2e0b9a5840686b081">ast_channel_dial_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga9de7fcf34407ccef0f56764ecfa1f7a4">ast_channel_dtmf_begin_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa247523a680e6e57a3478b7f992ab3a5">ast_channel_dtmf_end_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga6d11307e605e80f977bde354a11d7902">ast_channel_fax_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga55a45e7abb3232774a1e2d1aceaf3491">ast_channel_flash_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe7970bdc59763eaa9c531f0d2318fba">ast_channel_hangup_handler_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab7e251e9a467cda68d93a47184fe0727">ast_channel_hangup_request_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga624c4bd0bf97a8a1a9e335cb26996f97">ast_channel_hold_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4a0dd953a7a98de22b02e9748093e9d7">ast_channel_mixmonitor_mute_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga1d79ca992d986295b77e209c1de4e9d5">ast_channel_mixmonitor_start_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gacf301e77203685c2968fb91f7ba6f068">ast_channel_mixmonitor_stop_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gad76683cb3445474780632ef80af5c778">ast_channel_moh_start_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga2de8d798ebdd1b8f1fe783bf9b7a8257">ast_channel_moh_stop_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga655bddef1a90d2c392fd5d9e3db7ce91">ast_channel_monitor_start_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga1356cf3d698c9b5d9f2101c1ff4ae243">ast_channel_monitor_stop_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00128">ast_channel_topic_all()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gacdff76704ce4ee5c18b5656592886c78">ast_channel_unhold_type()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01725">ast_manager_get_message_router()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01720">ast_manager_get_topic()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00842">channel_chanspy_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00807">channel_chanspy_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01194">channel_dial_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00877">channel_dtmf_begin_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00921">channel_dtmf_end_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01020">channel_fax_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00971">channel_flash_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00989">channel_hangup_handler_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00759">channel_hangup_request_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01247">channel_hold_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01153">channel_mixmonitor_mute_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01137">channel_mixmonitor_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01145">channel_mixmonitor_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01093">channel_moh_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01113">channel_moh_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01121">channel_monitor_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01129">channel_monitor_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00713">channel_snapshot_update()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01284">channel_unhold_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01302">manager_channels_shutdown()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01490">manager_topic</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01578">stasis_forward_all()</a>, and <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09086">subscribe_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;{</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;   <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#gadeff73697d2789905f4c3a21671ef6d3">manager_topic</a>;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *channel_topic;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a> *message_router;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;   manager_topic = <a class="code" href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a>();</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   <span class="keywordflow">if</span> (!manager_topic) {</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;   }</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;   message_router = <a class="code" href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a>();</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   <span class="keywordflow">if</span> (!message_router) {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;   }</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   channel_topic = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a>();</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <span class="keywordflow">if</span> (!channel_topic) {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;   }</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;   <a class="code" href="../../d0/d1c/manager__channels_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a>(channel_topic, manager_topic);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d1c/manager__channels_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a>) {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../d0/d1c/manager__channels_8c.html#ae5c1a7481a2a7da1503acce12c9c98cb">manager_channels_shutdown</a>);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;   <span class="comment">/* The snapshot type has a special handler as it can result in multiple</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment">    * manager events being queued due to aspects of the snapshot itself</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment">    * changing.</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a2d1fb1f2daa97aa8d3d597b86923d2f9">channel_snapshot_update</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga9de7fcf34407ccef0f56764ecfa1f7a4">ast_channel_dtmf_begin_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#aa8e762005cf5e1ff22673b5f09a3eec3">channel_dtmf_begin_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaa247523a680e6e57a3478b7f992ab3a5">ast_channel_dtmf_end_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a4ed7c616569dde59948a80df62076db8">channel_dtmf_end_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga55a45e7abb3232774a1e2d1aceaf3491">ast_channel_flash_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a06c0f6f29ebf59f07bb15ca87e7de647">channel_flash_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab7e251e9a467cda68d93a47184fe0727">ast_channel_hangup_request_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a9c9589d7fbb50b283d8c5c26201a2e5f">channel_hangup_request_cb</a>,</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf2f12b95a707aaa2e0b9a5840686b081">ast_channel_dial_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a734a2d5d7c226c3f85bd6d3f1b286679">channel_dial_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga624c4bd0bf97a8a1a9e335cb26996f97">ast_channel_hold_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a7c59167cf5245f13522db6e44cac05df">channel_hold_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gacdff76704ce4ee5c18b5656592886c78">ast_channel_unhold_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#afce6ad6871daa76af9e0415056bc10c3">channel_unhold_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga6d11307e605e80f977bde354a11d7902">ast_channel_fax_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a9834f08b148e9fc146e3f43750ada7c1">channel_fax_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga82b40d5d80727f7fd39b6d1fbca3131e">ast_channel_chanspy_start_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a98b6c0460409e885b00b77045907e2ce">channel_chanspy_start_cb</a>,</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga689d6e83223f090da8c87e2efd793940">ast_channel_chanspy_stop_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a26d4cb1cb128ab8258d6f3f4a591a509">channel_chanspy_stop_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe7970bdc59763eaa9c531f0d2318fba">ast_channel_hangup_handler_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a09cd8796ed55f67505704d19fa4b1036">channel_hangup_handler_cb</a>,</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gad76683cb3445474780632ef80af5c778">ast_channel_moh_start_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a8740b8bffb6358696e1715dc5f2dd42a">channel_moh_start_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga2de8d798ebdd1b8f1fe783bf9b7a8257">ast_channel_moh_stop_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#adaedf25ba65d4507f60a11147c2cacef">channel_moh_stop_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga655bddef1a90d2c392fd5d9e3db7ce91">ast_channel_monitor_start_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a7a153c5ea60ff8e472a2ffc4b9bc0f46">channel_monitor_start_cb</a>,</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga1356cf3d698c9b5d9f2101c1ff4ae243">ast_channel_monitor_stop_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#aca22c2255249000c45950ca9280d6d5d">channel_monitor_stop_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga1d79ca992d986295b77e209c1de4e9d5">ast_channel_mixmonitor_start_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a3635a44c27b89204acd5c72cba953b42">channel_mixmonitor_start_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gacf301e77203685c2968fb91f7ba6f068">ast_channel_mixmonitor_stop_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#a52f1d9c865459f878d4f60e157b16264">channel_mixmonitor_stop_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4a0dd953a7a98de22b02e9748093e9d7">ast_channel_mixmonitor_mute_type</a>(), <a class="code" href="../../d0/d1c/manager__channels_8c.html#ae53d170f5a345dfee0658f9edbf63ebf">channel_mixmonitor_mute_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;   <span class="comment">/* If somehow we failed to add any routes, just shut down the whole</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment">    * thing and fail it.</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;   <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <a class="code" href="../../d0/d1c/manager__channels_8c.html#ae5c1a7481a2a7da1503acce12c9c98cb">manager_channels_shutdown</a>();</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;   }</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;}</div><div class="ttc" id="group__StasisTopicsAndMessages_html_ga624c4bd0bf97a8a1a9e335cb26996f97"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga624c4bd0bf97a8a1a9e335cb26996f97">ast_channel_hold_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_hold_type(void)</div><div class="ttdoc">Message type for when a channel is placed on hold. </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaa247523a680e6e57a3478b7f992ab3a5"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaa247523a680e6e57a3478b7f992ab3a5">ast_channel_dtmf_end_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_dtmf_end_type(void)</div><div class="ttdoc">Message type for when DTMF ends on a channel. </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gacdff76704ce4ee5c18b5656592886c78"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gacdff76704ce4ee5c18b5656592886c78">ast_channel_unhold_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_unhold_type(void)</div><div class="ttdoc">Message type for when a channel is removed from hold. </div></div>
<div class="ttc" id="manager__channels_8c_html_ae5c1a7481a2a7da1503acce12c9c98cb"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#ae5c1a7481a2a7da1503acce12c9c98cb">manager_channels_shutdown</a></div><div class="ttdeci">static void manager_channels_shutdown(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01302">manager_channels.c:1302</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a5adc304e693097ec75b474e6a5309958"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a></div><div class="ttdeci">int stasis_message_router_add(struct stasis_message_router *router, struct stasis_message_type *message_type, stasis_subscription_cb callback, void *data)</div><div class="ttdoc">Add a route to a message router. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router.c:310</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gad76683cb3445474780632ef80af5c778"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gad76683cb3445474780632ef80af5c778">ast_channel_moh_start_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_moh_start_type(void)</div><div class="ttdoc">Message type for starting music on hold on a channel. </div></div>
<div class="ttc" id="manager__channels_8c_html_a9c9589d7fbb50b283d8c5c26201a2e5f"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a9c9589d7fbb50b283d8c5c26201a2e5f">channel_hangup_request_cb</a></div><div class="ttdeci">static void channel_hangup_request_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00759">manager_channels.c:759</a></div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga55a45e7abb3232774a1e2d1aceaf3491"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga55a45e7abb3232774a1e2d1aceaf3491">ast_channel_flash_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_flash_type(void)</div><div class="ttdoc">Message type for when a hook flash occurs on a channel. </div></div>
<div class="ttc" id="manager__channels_8c_html_a98b6c0460409e885b00b77045907e2ce"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a98b6c0460409e885b00b77045907e2ce">channel_chanspy_start_cb</a></div><div class="ttdeci">static void channel_chanspy_start_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00842">manager_channels.c:842</a></div></div>
<div class="ttc" id="manager__channels_8c_html_a52f1d9c865459f878d4f60e157b16264"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a52f1d9c865459f878d4f60e157b16264">channel_mixmonitor_stop_cb</a></div><div class="ttdeci">static void channel_mixmonitor_stop_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01145">manager_channels.c:1145</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga82b40d5d80727f7fd39b6d1fbca3131e"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga82b40d5d80727f7fd39b6d1fbca3131e">ast_channel_chanspy_start_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_chanspy_start_type(void)</div><div class="ttdoc">Message type for when a channel starts spying on another channel. </div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gadeff73697d2789905f4c3a21671ef6d3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gadeff73697d2789905f4c3a21671ef6d3">manager_topic</a></div><div class="ttdeci">static struct stasis_topic * manager_topic</div><div class="ttdoc">A stasis_topic that all topics AMI cares about will be forwarded to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01490">manager.c:1490</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga655bddef1a90d2c392fd5d9e3db7ce91"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga655bddef1a90d2c392fd5d9e3db7ce91">ast_channel_monitor_start_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_monitor_start_type(void)</div><div class="ttdoc">Message type for starting monitor on a channel. </div></div>
<div class="ttc" id="manager__channels_8c_html_aa8e762005cf5e1ff22673b5f09a3eec3"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#aa8e762005cf5e1ff22673b5f09a3eec3">channel_dtmf_begin_cb</a></div><div class="ttdeci">static void channel_dtmf_begin_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00877">manager_channels.c:877</a></div></div>
<div class="ttc" id="manager__channels_8c_html_a734a2d5d7c226c3f85bd6d3f1b286679"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a734a2d5d7c226c3f85bd6d3f1b286679">channel_dial_cb</a></div><div class="ttdeci">static void channel_dial_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdoc">Callback processing messages for channel dialing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01194">manager_channels.c:1194</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga34a3ac59fb8d0c49cbc2cb9b87261d31"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga34a3ac59fb8d0c49cbc2cb9b87261d31">ast_channel_topic_all</a></div><div class="ttdeci">struct stasis_topic * ast_channel_topic_all(void)</div><div class="ttdoc">A topic which publishes the events for all channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00128">stasis_channels.c:128</a></div></div>
<div class="ttc" id="manager__channels_8c_html_a06c0f6f29ebf59f07bb15ca87e7de647"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a06c0f6f29ebf59f07bb15ca87e7de647">channel_flash_cb</a></div><div class="ttdeci">static void channel_flash_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00971">manager_channels.c:971</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="structstasis__message__router_html"><div class="ttname"><a href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00131">stasis_message_router.c:131</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga1356cf3d698c9b5d9f2101c1ff4ae243"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga1356cf3d698c9b5d9f2101c1ff4ae243">ast_channel_monitor_stop_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_monitor_stop_type(void)</div><div class="ttdoc">Message type for stopping monitor on a channel. </div></div>
<div class="ttc" id="manager__channels_8c_html_a26d4cb1cb128ab8258d6f3f4a591a509"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a26d4cb1cb128ab8258d6f3f4a591a509">channel_chanspy_stop_cb</a></div><div class="ttdeci">static void channel_chanspy_stop_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00807">manager_channels.c:807</a></div></div>
<div class="ttc" id="manager__channels_8c_html_a7a153c5ea60ff8e472a2ffc4b9bc0f46"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a7a153c5ea60ff8e472a2ffc4b9bc0f46">channel_monitor_start_cb</a></div><div class="ttdeci">static void channel_monitor_start_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01121">manager_channels.c:1121</a></div></div>
<div class="ttc" id="manager__channels_8c_html_aca22c2255249000c45950ca9280d6d5d"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#aca22c2255249000c45950ca9280d6d5d">channel_monitor_stop_cb</a></div><div class="ttdeci">static void channel_monitor_stop_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01129">manager_channels.c:1129</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga1d79ca992d986295b77e209c1de4e9d5"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga1d79ca992d986295b77e209c1de4e9d5">ast_channel_mixmonitor_start_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_mixmonitor_start_type(void)</div><div class="ttdoc">Message type for starting mixmonitor on a channel. </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gacf301e77203685c2968fb91f7ba6f068"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gacf301e77203685c2968fb91f7ba6f068">ast_channel_mixmonitor_stop_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_mixmonitor_stop_type(void)</div><div class="ttdoc">Message type for stopping mixmonitor on a channel. </div></div>
<div class="ttc" id="manager__channels_8c_html_a4ed7c616569dde59948a80df62076db8"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a4ed7c616569dde59948a80df62076db8">channel_dtmf_end_cb</a></div><div class="ttdeci">static void channel_dtmf_end_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00921">manager_channels.c:921</a></div></div>
<div class="ttc" id="manager__channels_8c_html_a7c59167cf5245f13522db6e44cac05df"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a7c59167cf5245f13522db6e44cac05df">channel_hold_cb</a></div><div class="ttdeci">static void channel_hold_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01247">manager_channels.c:1247</a></div></div>
<div class="ttc" id="manager__channels_8c_html_afce6ad6871daa76af9e0415056bc10c3"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#afce6ad6871daa76af9e0415056bc10c3">channel_unhold_cb</a></div><div class="ttdeci">static void channel_unhold_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01284">manager_channels.c:1284</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gacfa23131c1c93528074761076ca2bc85"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a></div><div class="ttdeci">struct stasis_message_router * ast_manager_get_message_router(void)</div><div class="ttdoc">Get the stasis_message_router for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01725">manager.c:1725</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gafe7970bdc59763eaa9c531f0d2318fba"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gafe7970bdc59763eaa9c531f0d2318fba">ast_channel_hangup_handler_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_hangup_handler_type(void)</div><div class="ttdoc">Message type for hangup handler related actions. </div></div>
<div class="ttc" id="manager__channels_8c_html_a3635a44c27b89204acd5c72cba953b42"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a3635a44c27b89204acd5c72cba953b42">channel_mixmonitor_start_cb</a></div><div class="ttdeci">static void channel_mixmonitor_start_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01137">manager_channels.c:1137</a></div></div>
<div class="ttc" id="manager__channels_8c_html_a8740b8bffb6358696e1715dc5f2dd42a"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a8740b8bffb6358696e1715dc5f2dd42a">channel_moh_start_cb</a></div><div class="ttdeci">static void channel_moh_start_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01093">manager_channels.c:1093</a></div></div>
<div class="ttc" id="manager__channels_8c_html_ae53d170f5a345dfee0658f9edbf63ebf"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#ae53d170f5a345dfee0658f9edbf63ebf">channel_mixmonitor_mute_cb</a></div><div class="ttdeci">static void channel_mixmonitor_mute_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01153">manager_channels.c:1153</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga8fb4dbec86956e211c0489112a6de975"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga8fb4dbec86956e211c0489112a6de975">ast_channel_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_snapshot_type(void)</div><div class="ttdoc">Message type for ast_channel_snapshot_update. </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga9de7fcf34407ccef0f56764ecfa1f7a4"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga9de7fcf34407ccef0f56764ecfa1f7a4">ast_channel_dtmf_begin_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_dtmf_begin_type(void)</div><div class="ttdoc">Message type for when DTMF begins on a channel. </div></div>
<div class="ttc" id="group__Group__AMI_html_ga568aa1aff837fc0001279490a6d9b22f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a></div><div class="ttdeci">struct stasis_topic * ast_manager_get_topic(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01720">manager.c:1720</a></div></div>
<div class="ttc" id="manager__channels_8c_html_a9834f08b148e9fc146e3f43750ada7c1"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a9834f08b148e9fc146e3f43750ada7c1">channel_fax_cb</a></div><div class="ttdeci">static void channel_fax_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01020">manager_channels.c:1020</a></div></div>
<div class="ttc" id="manager__channels_8c_html_a09cd8796ed55f67505704d19fa4b1036"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a09cd8796ed55f67505704d19fa4b1036">channel_hangup_handler_cb</a></div><div class="ttdeci">static void channel_hangup_handler_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00989">manager_channels.c:989</a></div></div>
<div class="ttc" id="manager__channels_8c_html_aeb9ef797eacc8523239c5136cfb7677e"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a></div><div class="ttdeci">static struct stasis_forward * topic_forwarder</div><div class="ttdoc">The Stasis Message Bus API subscription returned by the forwarding of the channel topic to the manage...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00485">manager_channels.c:485</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf2f12b95a707aaa2e0b9a5840686b081"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf2f12b95a707aaa2e0b9a5840686b081">ast_channel_dial_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_dial_type(void)</div><div class="ttdoc">Message type for when a channel dials another channel. </div></div>
<div class="ttc" id="manager__channels_8c_html_adaedf25ba65d4507f60a11147c2cacef"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#adaedf25ba65d4507f60a11147c2cacef">channel_moh_stop_cb</a></div><div class="ttdeci">static void channel_moh_stop_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01113">manager_channels.c:1113</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga2de8d798ebdd1b8f1fe783bf9b7a8257"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga2de8d798ebdd1b8f1fe783bf9b7a8257">ast_channel_moh_stop_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_moh_stop_type(void)</div><div class="ttdoc">Message type for stopping music on hold on a channel. </div></div>
<div class="ttc" id="stasis_8h_html_a2513a93567ddc93510f7896b777da119"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a></div><div class="ttdeci">struct stasis_forward * stasis_forward_all(struct stasis_topic *from_topic, struct stasis_topic *to_topic)</div><div class="ttdoc">Create a subscription which forwards all messages from one topic to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01578">stasis.c:1578</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab7e251e9a467cda68d93a47184fe0727"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab7e251e9a467cda68d93a47184fe0727">ast_channel_hangup_request_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_hangup_request_type(void)</div><div class="ttdoc">Message type for when a hangup is requested on a channel. </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga6d11307e605e80f977bde354a11d7902"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga6d11307e605e80f977bde354a11d7902">ast_channel_fax_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_fax_type(void)</div><div class="ttdoc">Message type for a fax operation. </div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga689d6e83223f090da8c87e2efd793940"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga689d6e83223f090da8c87e2efd793940">ast_channel_chanspy_stop_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_chanspy_stop_type(void)</div><div class="ttdoc">Message type for when a channel stops spying on another channel. </div></div>
<div class="ttc" id="manager__channels_8c_html_a2d1fb1f2daa97aa8d3d597b86923d2f9"><div class="ttname"><a href="../../d0/d1c/manager__channels_8c.html#a2d1fb1f2daa97aa8d3d597b86923d2f9">channel_snapshot_update</a></div><div class="ttdeci">static void channel_snapshot_update(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00713">manager_channels.c:713</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga4a0dd953a7a98de22b02e9748093e9d7"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4a0dd953a7a98de22b02e9748093e9d7">ast_channel_mixmonitor_mute_type</a></div><div class="ttdeci">struct stasis_message_type * ast_channel_mixmonitor_mute_type(void)</div><div class="ttdoc">Message type for muting or unmuting mixmonitor on a channel. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a060a00ce627de395914abeb0007bb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a060a00ce627de395914abeb0007bb3">&#9670;&nbsp;</a></span>manager_endpoints_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int manager_endpoints_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize support for AMI endpoint events. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
non-zero on error. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d10/manager__endpoints_8c_source.html#l00052">52</a> of file <a class="el" href="../../df/d10/manager__endpoints_8c_source.html">manager_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00121">ast_endpoint_topic_all_cached()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../df/d10/manager__endpoints_8c_source.html#l00046">endpoint_state_cb()</a>, <a class="el" href="../../df/d10/manager__endpoints_8c_source.html#l00040">manager_endpoints_shutdown()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router_add()</a>, and <a class="el" href="../../d4/d25/stasis__message__router_8h_source.html#l00060">stasis_message_router_create</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09086">subscribe_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *endpoint_topic;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/d10/manager__endpoints_8c.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>) {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="comment">/* Already initialized */</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../df/d10/manager__endpoints_8c.html#a2e093f0fe9c1e47ab2d1102104eac5cb">manager_endpoints_shutdown</a>);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   endpoint_topic = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">ast_endpoint_topic_all_cached</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordflow">if</span> (!endpoint_topic) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <a class="code" href="../../df/d10/manager__endpoints_8c.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a> = <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a1a1761c57f73009d305f95d8ad99e2a7">stasis_message_router_create</a>(endpoint_topic);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d10/manager__endpoints_8c.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../df/d10/manager__endpoints_8c.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a>(), <a class="code" href="../../df/d10/manager__endpoints_8c.html#a94b9fbc5f54eb1fb1c471bbdeeaa3e80">endpoint_state_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(<a class="code" href="../../df/d10/manager__endpoints_8c.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a>, <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a>(), <a class="code" href="../../df/d10/manager__endpoints_8c.html#a94b9fbc5f54eb1fb1c471bbdeeaa3e80">endpoint_state_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="comment">/* If somehow we failed to add any routes, just shut down the whole</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">    * thing and fail it.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="../../df/d10/manager__endpoints_8c.html#a2e093f0fe9c1e47ab2d1102104eac5cb">manager_endpoints_shutdown</a>();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div><div class="ttc" id="stasis__message__router_8h_html_a5adc304e693097ec75b474e6a5309958"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a></div><div class="ttdeci">int stasis_message_router_add(struct stasis_message_router *router, struct stasis_message_type *message_type, stasis_subscription_cb callback, void *data)</div><div class="ttdoc">Add a route to a message router. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router.c:310</a></div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="manager__endpoints_8c_html_a94b9fbc5f54eb1fb1c471bbdeeaa3e80"><div class="ttname"><a href="../../df/d10/manager__endpoints_8c.html#a94b9fbc5f54eb1fb1c471bbdeeaa3e80">endpoint_state_cb</a></div><div class="ttdeci">static void endpoint_state_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d10/manager__endpoints_8c_source.html#l00046">manager_endpoints.c:46</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gab91de30d8cc5a14abf4c557e4a5c7c5c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">ast_endpoint_topic_all_cached</a></div><div class="ttdeci">struct stasis_topic * ast_endpoint_topic_all_cached(void)</div><div class="ttdoc">Cached topic for all endpoint related messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00121">stasis_endpoints.c:121</a></div></div>
<div class="ttc" id="manager__endpoints_8c_html_af588b244758c3d43c25c556b0cff9ed7"><div class="ttname"><a href="../../df/d10/manager__endpoints_8c.html#af588b244758c3d43c25c556b0cff9ed7">endpoint_router</a></div><div class="ttdeci">static struct stasis_message_router * endpoint_router</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d10/manager__endpoints_8c_source.html#l00038">manager_endpoints.c:38</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="stasis__message__router_8h_html_a1a1761c57f73009d305f95d8ad99e2a7"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a1a1761c57f73009d305f95d8ad99e2a7">stasis_message_router_create</a></div><div class="ttdeci">#define stasis_message_router_create(topic)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d25/stasis__message__router_8h_source.html#l00060">stasis_message_router.h:60</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga5bef70de71c061b6ef7739d9634ebbb1"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_state_type(void)</div><div class="ttdoc">Message type for endpoint state changes. </div></div>
<div class="ttc" id="manager__endpoints_8c_html_a2e093f0fe9c1e47ab2d1102104eac5cb"><div class="ttname"><a href="../../df/d10/manager__endpoints_8c.html#a2e093f0fe9c1e47ab2d1102104eac5cb">manager_endpoints_shutdown</a></div><div class="ttdeci">static void manager_endpoints_shutdown(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d10/manager__endpoints_8c_source.html#l00040">manager_endpoints.c:40</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga4d2d85d612142c53bd09d580857206a8"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_contact_state_type(void)</div><div class="ttdoc">Message type for endpoint contact state changes. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2571c636aafd979f5719051090e5bbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2571c636aafd979f5719051090e5bbff">&#9670;&nbsp;</a></span>manager_mwi_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int manager_mwi_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize support for AMI MWI events. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00153">153</a> of file <a class="el" href="../../d4/d00/manager__mwi_8c_source.html">manager_mwi.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d10/manager_8c_source.html#l01725">ast_manager_get_message_router()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01720">ast_manager_get_topic()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00085">ast_mwi_topic_all()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga03bf52a37253e9ecdc4fadf9747a3497">ast_mwi_vm_app_type()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00147">manager_mwi_shutdown()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01490">manager_topic</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01578">stasis_forward_all()</a>, and <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09086">subscribe_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#gadeff73697d2789905f4c3a21671ef6d3">manager_topic</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *mwi_topic;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a> *message_router;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   manager_topic = <a class="code" href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a>();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <span class="keywordflow">if</span> (!manager_topic) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   message_router = <a class="code" href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a>();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <span class="keywordflow">if</span> (!message_router) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   mwi_topic = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga547ae87810e6cd121cea7b3149343366">ast_mwi_topic_all</a>();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">if</span> (!mwi_topic) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <a class="code" href="../../d4/d00/manager__mwi_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a>(mwi_topic, manager_topic);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d00/manager__mwi_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a>) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../d4/d00/manager__mwi_8c.html#a83d4f212d1e60249baa2c1a4742d425a">manager_mwi_shutdown</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type</a>(),</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <a class="code" href="../../d4/d00/manager__mwi_8c.html#a0dd8c01611e6e0047ed4befb34254fbf">mwi_update_cb</a>,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   ret |= <a class="code" href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a>(message_router,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga03bf52a37253e9ecdc4fadf9747a3497">ast_mwi_vm_app_type</a>(),</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <a class="code" href="../../d4/d00/manager__mwi_8c.html#a68833626c247fb273853dbb03fa37596">mwi_app_event_cb</a>,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="comment">/* If somehow we failed to add any routes, just shut down the whole</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">    * thing and fail it.</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="../../d4/d00/manager__mwi_8c.html#a83d4f212d1e60249baa2c1a4742d425a">manager_mwi_shutdown</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="ttc" id="stasis__message__router_8h_html_a5adc304e693097ec75b474e6a5309958"><div class="ttname"><a href="../../d4/d25/stasis__message__router_8h.html#a5adc304e693097ec75b474e6a5309958">stasis_message_router_add</a></div><div class="ttdeci">int stasis_message_router_add(struct stasis_message_router *router, struct stasis_message_type *message_type, stasis_subscription_cb callback, void *data)</div><div class="ttdoc">Add a route to a message router. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00310">stasis_message_router.c:310</a></div></div>
<div class="ttc" id="manager__mwi_8c_html_a83d4f212d1e60249baa2c1a4742d425a"><div class="ttname"><a href="../../d4/d00/manager__mwi_8c.html#a83d4f212d1e60249baa2c1a4742d425a">manager_mwi_shutdown</a></div><div class="ttdeci">static void manager_mwi_shutdown(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/manager__mwi_8c_source.html#l00147">manager_mwi.c:147</a></div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga547ae87810e6cd121cea7b3149343366"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga547ae87810e6cd121cea7b3149343366">ast_mwi_topic_all</a></div><div class="ttdeci">struct stasis_topic * ast_mwi_topic_all(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for MWI messages. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db4/mwi_8c_source.html#l00085">mwi.c:85</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gadeff73697d2789905f4c3a21671ef6d3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gadeff73697d2789905f4c3a21671ef6d3">manager_topic</a></div><div class="ttdeci">static struct stasis_topic * manager_topic</div><div class="ttdoc">A stasis_topic that all topics AMI cares about will be forwarded to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01490">manager.c:1490</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="structstasis__message__router_html"><div class="ttname"><a href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00131">stasis_message_router.c:131</a></div></div>
<div class="ttc" id="manager__mwi_8c_html_a68833626c247fb273853dbb03fa37596"><div class="ttname"><a href="../../d4/d00/manager__mwi_8c.html#a68833626c247fb273853dbb03fa37596">mwi_app_event_cb</a></div><div class="ttdeci">static void mwi_app_event_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdoc">Generic MWI event callback used for one-off events from voicemail modules. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/manager__mwi_8c_source.html#l00055">manager_mwi.c:55</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gacfa23131c1c93528074761076ca2bc85"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a></div><div class="ttdeci">struct stasis_message_router * ast_manager_get_message_router(void)</div><div class="ttdoc">Get the stasis_message_router for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01725">manager.c:1725</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf226cf2d1a4dbbbf220521d58c05ac0f"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf226cf2d1a4dbbbf220521d58c05ac0f">ast_mwi_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_mwi_state_type(void)</div><div class="ttdoc">Get the Stasis Message Bus API message type for MWI messages. </div></div>
<div class="ttc" id="manager__mwi_8c_html_aeb9ef797eacc8523239c5136cfb7677e"><div class="ttname"><a href="../../d4/d00/manager__mwi_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a></div><div class="ttdeci">static struct stasis_forward * topic_forwarder</div><div class="ttdoc">The Stasis Message Bus API subscription returned by the forwarding of the MWI topic to the manager to...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/manager__mwi_8c_source.html#l00043">manager_mwi.c:43</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga568aa1aff837fc0001279490a6d9b22f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a></div><div class="ttdeci">struct stasis_topic * ast_manager_get_topic(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01720">manager.c:1720</a></div></div>
<div class="ttc" id="manager__mwi_8c_html_a0dd8c01611e6e0047ed4befb34254fbf"><div class="ttname"><a href="../../d4/d00/manager__mwi_8c.html#a0dd8c01611e6e0047ed4befb34254fbf">mwi_update_cb</a></div><div class="ttdeci">static void mwi_update_cb(void *data, struct stasis_subscription *sub, struct stasis_message *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/manager__mwi_8c_source.html#l00086">manager_mwi.c:86</a></div></div>
<div class="ttc" id="stasis_8h_html_a2513a93567ddc93510f7896b777da119"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a></div><div class="ttdeci">struct stasis_forward * stasis_forward_all(struct stasis_topic *from_topic, struct stasis_topic *to_topic)</div><div class="ttdoc">Create a subscription which forwards all messages from one topic to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01578">stasis.c:1578</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga03bf52a37253e9ecdc4fadf9747a3497"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga03bf52a37253e9ecdc4fadf9747a3497">ast_mwi_vm_app_type</a></div><div class="ttdeci">struct stasis_message_type * ast_mwi_vm_app_type(void)</div><div class="ttdoc">Get the Stasis Message Bus API message type for voicemail application specific messages. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa170f815ce3d25efbf1b0f3dede94ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa170f815ce3d25efbf1b0f3dede94ea4">&#9670;&nbsp;</a></span>manager_system_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int manager_system_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize support for AMI system events. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d65/manager__system_8c_source.html#l00043">43</a> of file <a class="el" href="../../dd/d65/manager__system_8c_source.html">manager_system.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d10/manager_8c_source.html#l01725">ast_manager_get_message_router()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01720">ast_manager_get_topic()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00347">ast_system_topic()</a>, <a class="el" href="../../dd/d65/manager__system_8c_source.html#l00037">manager_system_shutdown()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01490">manager_topic</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01578">stasis_forward_all()</a>, and <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00068">system_topic</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09086">subscribe_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#gadeff73697d2789905f4c3a21671ef6d3">manager_topic</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *<a class="code" href="../../df/da0/stasis__system_8c.html#a95e216c21c154a9361c2bdb5bac0166e">system_topic</a>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a> *message_router;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   manager_topic = <a class="code" href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a>();</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   <span class="keywordflow">if</span> (!manager_topic) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   message_router = <a class="code" href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   <span class="keywordflow">if</span> (!message_router) {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;   }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   system_topic = <a class="code" href="../../d3/df0/stasis__system_8h.html#a196188f45631aed77434c898ed322ce6">ast_system_topic</a>();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <span class="keywordflow">if</span> (!system_topic) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <a class="code" href="../../dd/d65/manager__system_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a> = <a class="code" href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a>(system_topic, manager_topic);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d65/manager__system_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a>) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../dd/d65/manager__system_8c.html#aa4eb6a55f785cf8e613fb47013d1865b">manager_system_shutdown</a>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="ttc" id="stasis__system_8c_html_a95e216c21c154a9361c2bdb5bac0166e"><div class="ttname"><a href="../../df/da0/stasis__system_8c.html#a95e216c21c154a9361c2bdb5bac0166e">system_topic</a></div><div class="ttdeci">static struct stasis_topic * system_topic</div><div class="ttdoc">The Stasis Message Bus API topic for system level changes. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/da0/stasis__system_8c_source.html#l00068">stasis_system.c:68</a></div></div>
<div class="ttc" id="manager__system_8c_html_aa4eb6a55f785cf8e613fb47013d1865b"><div class="ttname"><a href="../../dd/d65/manager__system_8c.html#aa4eb6a55f785cf8e613fb47013d1865b">manager_system_shutdown</a></div><div class="ttdeci">static void manager_system_shutdown(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d65/manager__system_8c_source.html#l00037">manager_system.c:37</a></div></div>
<div class="ttc" id="manager__system_8c_html_aeb9ef797eacc8523239c5136cfb7677e"><div class="ttname"><a href="../../dd/d65/manager__system_8c.html#aeb9ef797eacc8523239c5136cfb7677e">topic_forwarder</a></div><div class="ttdeci">static struct stasis_forward * topic_forwarder</div><div class="ttdoc">The Stasis Message Bus API subscription returned by the forwarding of the system topic to the manager...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d65/manager__system_8c_source.html#l00035">manager_system.c:35</a></div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gadeff73697d2789905f4c3a21671ef6d3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gadeff73697d2789905f4c3a21671ef6d3">manager_topic</a></div><div class="ttdeci">static struct stasis_topic * manager_topic</div><div class="ttdoc">A stasis_topic that all topics AMI cares about will be forwarded to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01490">manager.c:1490</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="structstasis__message__router_html"><div class="ttname"><a href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00131">stasis_message_router.c:131</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gacfa23131c1c93528074761076ca2bc85"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a></div><div class="ttdeci">struct stasis_message_router * ast_manager_get_message_router(void)</div><div class="ttdoc">Get the stasis_message_router for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01725">manager.c:1725</a></div></div>
<div class="ttc" id="stasis__system_8h_html_a196188f45631aed77434c898ed322ce6"><div class="ttname"><a href="../../d3/df0/stasis__system_8h.html#a196188f45631aed77434c898ed322ce6">ast_system_topic</a></div><div class="ttdeci">struct stasis_topic * ast_system_topic(void)</div><div class="ttdoc">A Stasis Message Bus API topic which publishes messages regarding system changes. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da0/stasis__system_8c_source.html#l00347">stasis_system.c:347</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga568aa1aff837fc0001279490a6d9b22f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a></div><div class="ttdeci">struct stasis_topic * ast_manager_get_topic(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01720">manager.c:1720</a></div></div>
<div class="ttc" id="stasis_8h_html_a2513a93567ddc93510f7896b777da119"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a2513a93567ddc93510f7896b777da119">stasis_forward_all</a></div><div class="ttdeci">struct stasis_forward * stasis_forward_all(struct stasis_topic *from_topic, struct stasis_topic *to_topic)</div><div class="ttdoc">Create a subscription which forwards all messages from one topic to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l01578">stasis.c:1578</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:07 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
