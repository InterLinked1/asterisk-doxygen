<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: manager.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">manager.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/d45/manager_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Asterisk -- An open source telephony toolkit.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 1999 - 2005, Digium, Inc.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Mark Spencer &lt;markster@digium.com&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * See http://www.asterisk.org for more information about</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * the Asterisk project. Please do not directly contact</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * any of the maintainers of this project for assistance;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * the project provides a web site, mailing lists and IRC</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * channels for your use.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * This program is free software, distributed under the terms of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * at the top of the source tree.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _ASTERISK_MANAGER_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _ASTERISK_MANAGER_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d94/network_8h.html">asterisk/network.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d42/lock_8h.html">asterisk/lock.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/db6/datastore_8h.html">asterisk/datastore.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d99/xmldoc_8h.html">asterisk/xmldoc.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> \file</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> \brief The AMI - Asterisk Manager Interface - is a TCP protocol created to</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> manage Asterisk with third-party software.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> Manager protocol packages are text fields of the form a: b.  There is</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> always exactly one space after the colon.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">\verbatim</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> For Actions replies, the first line of the reply is a &quot;Response:&quot; header with</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> values &quot;success&quot;, &quot;error&quot; or &quot;follows&quot;. &quot;Follows&quot; implies that the</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> response is coming as separate events with the same ActionID. If the</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> Action request has no ActionID, it will be hard matching events</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> to the Action request in the manager client.</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> The first header type is the &quot;Event&quot; header.  Other headers vary from</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> event to event.  Headers end with standard \\r\\n termination.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> The last line of the manager response or event is an empty line.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> (\\r\\n)</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">\endverbatim</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> \note Please try to \b re-use \b existing \b headers to simplify manager message parsing in clients.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">    Don&#39;t re-use an existing header with a new meaning, please.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">    You can find a reference of standard headers in doc/manager.txt</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">- \ref manager.c Main manager code file</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a9aa10c963efd367eaab256f4a05db100">   57</a></span>&#160;<span class="preprocessor">#define AMI_VERSION                     &quot;7.0.1&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a9aeced7f8d9056c4ec2663f1ad10a4a4">   58</a></span>&#160;<span class="preprocessor">#define DEFAULT_MANAGER_PORT 5038   </span><span class="comment">/* Default port for Asterisk management via TCP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ab444a62cb9f15528aa8b4e864dfc99b2">   59</a></span>&#160;<span class="preprocessor">#define DEFAULT_MANAGER_TLS_PORT 5039  </span><span class="comment">/* Default port for Asterisk management via TCP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/*! \name Constant return values</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> *\note Currently, returning anything other than zero causes the session to terminate.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> */</span><span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/*@{ */</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a15c09363d6bdc7162c154ab2a20ec545">   65</a></span>&#160;<span class="preprocessor">#define  AMI_SUCCESS (0)</span></div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a501ee1821ba9a69ca76b28d963a37713">   66</a></span>&#160;<span class="preprocessor">#define  AMI_DESTROY (-1)</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/*@} */</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/*! \name Manager event classes */</span><span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">/*@{ */</span></div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">   71</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_SYSTEM           (1 &lt;&lt; 0) </span><span class="comment">/* System events such as module load/unload */</span><span class="preprocessor"></span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ab5db3cc603d7e798d61cb4cd94fbb4e2">   72</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_CALL             (1 &lt;&lt; 1) </span><span class="comment">/* Call event, such as state change, etc */</span><span class="preprocessor"></span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#af805764035071e210ec71c41a3a1ae6c">   73</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_LOG              (1 &lt;&lt; 2) </span><span class="comment">/* Log events */</span><span class="preprocessor"></span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a02eaf5c4a70ebad8e543c2efb7707869">   74</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_VERBOSE          (1 &lt;&lt; 3) </span><span class="comment">/* Verbose messages */</span><span class="preprocessor"></span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ab9bbbe9b1fbde6ccff1f0a1ec0521afd">   75</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_COMMAND          (1 &lt;&lt; 4) </span><span class="comment">/* Ability to read/set commands */</span><span class="preprocessor"></span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#acd32bc0b58b87cc22c60ffff79496c7f">   76</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_AGENT            (1 &lt;&lt; 5) </span><span class="comment">/* Ability to read/set agent info */</span><span class="preprocessor"></span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#acc12c2bc03dce67ddd1590d67ab11f4d">   77</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_USER             (1 &lt;&lt; 6) </span><span class="comment">/* Ability to read/set user info */</span><span class="preprocessor"></span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a36fb89c2a73755209133b6c73fe92e54">   78</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_CONFIG           (1 &lt;&lt; 7) </span><span class="comment">/* Ability to modify configurations */</span><span class="preprocessor"></span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a6307f76e83767cdcd6b618dfbd214526">   79</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_DTMF             (1 &lt;&lt; 8) </span><span class="comment">/* Ability to read DTMF events */</span><span class="preprocessor"></span></div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a0b1b4140c2836696a6950e92ab48a580">   80</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_REPORTING        (1 &lt;&lt; 9) </span><span class="comment">/* Reporting events such as rtcp sent */</span><span class="preprocessor"></span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#adabf40844c4a05c6e0ef870002599dbe">   81</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_CDR              (1 &lt;&lt; 10) </span><span class="comment">/* CDR events */</span><span class="preprocessor"></span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ad602e069591b527f28e36dd472425e7e">   82</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_DIALPLAN         (1 &lt;&lt; 11) </span><span class="comment">/* Dialplan events (VarSet, NewExten) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ad6acb19e6de27692675f1706d390f548">   83</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_ORIGINATE        (1 &lt;&lt; 12) </span><span class="comment">/* Originate a call to an extension */</span><span class="preprocessor"></span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ac7370fe764f1305cdb3c543d3964d5ed">   84</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_AGI              (1 &lt;&lt; 13) </span><span class="comment">/* AGI events */</span><span class="preprocessor"></span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#aae40009621df41a713be987266a11696">   85</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_HOOKRESPONSE     (1 &lt;&lt; 14) </span><span class="comment">/* Hook Response */</span><span class="preprocessor"></span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ae9fafdea9f9e226539b8a9a291079e3d">   86</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_CC               (1 &lt;&lt; 15) </span><span class="comment">/* Call Completion events */</span><span class="preprocessor"></span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ad145ac7178d92461a0be448d183a037c">   87</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_AOC              (1 &lt;&lt; 16) </span><span class="comment">/* Advice Of Charge events */</span><span class="preprocessor"></span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a4fcf0d018dc49622b436a2ae857ea3da">   88</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_TEST             (1 &lt;&lt; 17) </span><span class="comment">/* Test event used to signal the Asterisk Test Suite */</span><span class="preprocessor"></span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a673603420907be7dada8fc479e313333">   89</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_SECURITY         (1 &lt;&lt; 18) </span><span class="comment">/* Security Message as AMI Event */</span><span class="preprocessor"></span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">/*XXX Why shifted by 30? XXX */</span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ab85694f6b643f767a2d61c37c2b87753">   91</a></span>&#160;<span class="preprocessor">#define EVENT_FLAG_MESSAGE          (1 &lt;&lt; 30) </span><span class="comment">/* MESSAGE events. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">/*@} */</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/*! \brief Export manager structures */</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a98b15e5ddea410372fed1a16c046034b">   95</a></span>&#160;<span class="preprocessor">#define AST_MAX_MANHEADERS 128</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/*! \brief Manager Helper Function</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"> * \param category The class authorization category of the event</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> * \param event The name of the event being raised</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> * \param body The body of the event</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"> * \retval 0 Success</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"> * \retval non-zero Error</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a0102d58d278ee39a37e5d1ff0ec9f82e">  106</a></span>&#160;<span class="keyword">typedef</span> int (*<a class="code" href="../../db/d45/manager_8h.html#a0102d58d278ee39a37e5d1ff0ec9f82e">manager_hook_t</a>)(<span class="keywordtype">int</span> category, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d7d/structevent.html">event</a>, <span class="keywordtype">char</span> *body);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d0/d10/structmanager__custom__hook.html">  108</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a> {<span class="comment"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">   /*! Identifier */</span></div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../d0/d10/structmanager__custom__hook.html#adf16cd437526a5c5e0e0af87745acbb8">  110</a></span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/d10/structmanager__custom__hook.html#adf16cd437526a5c5e0e0af87745acbb8">file</a>;<span class="comment"></span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">   /*! helper function */</span></div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d0/d10/structmanager__custom__hook.html#a563331ff9859f8ff63ed061c4c68d8cd">  112</a></span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a0102d58d278ee39a37e5d1ff0ec9f82e">manager_hook_t</a> <a class="code" href="../../d0/d10/structmanager__custom__hook.html#a563331ff9859f8ff63ed061c4c68d8cd">helper</a>;<span class="comment"></span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">   /*! Linked list information */</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ac63e9e237da22b6faf3be4edfc4f5a11">AST_RWLIST_ENTRY</a>(<a class="code" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a>) list;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;};</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">/*! \brief Check if AMI is enabled */</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga1a2e7df8657b820c5a6663b397f23bc9">ast_manager_check_enabled</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">/*! \brief Check if AMI/HTTP is enabled */</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga22f6d55529c1ca69bc308af9d9ef0bb2">ast_webmanager_check_enabled</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">/*! Add a custom hook to be called when an event is fired</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"> \param hook struct manager_custom_hook object to add</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga9b312f4df19fa79a2185f41ff533516b">ast_manager_register_hook</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a> *hook);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">/*! Delete a custom hook to be called when an event is fired</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">    \param hook struct manager_custom_hook object to delete</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga9592be65e0f9c99b7952a5841888757f">ast_manager_unregister_hook</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a> *hook);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/*! \brief Registered hooks can call this function to invoke actions and they will receive responses through registered callback</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> * \param hook the file identifier specified in manager_custom_hook struct when registering a hook</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> * \param msg ami action mesage string e.g. &quot;Action: SipPeers\r\n&quot;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"> * \retval 0 on Success</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"> * \retval non-zero on Failure</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../df/d72/group__Group__AMI.html#gacc128abc0bb66879ef7743eea7a5d53f">ast_hook_send_action</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a> *hook, <span class="keyword">const</span> <span class="keywordtype">char</span> *msg);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/d8a/structmansession.html">mansession</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="../../d8/d9e/structmessage.html">  144</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d8/d9e/structmessage.html">message</a> {</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d8/d9e/structmessage.html#a2337374fe8025cb750f52a316166aa6d">  145</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d9e/structmessage.html#a2337374fe8025cb750f52a316166aa6d">hdrcount</a>;</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="../../d8/d9e/structmessage.html#a81929bcaa1dcfa1abf47977385058cbe">  146</a></span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *headers[<a class="code" href="../../db/d45/manager_8h.html#a98b15e5ddea410372fed1a16c046034b">AST_MAX_MANHEADERS</a>];</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;};</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html">  149</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/dcc/structmanager__action.html">manager_action</a> {<span class="comment"></span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">   /*! Name of the action */</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#ab1db9bdb9ca2c111e4aef51de082553e">  151</a></span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/dcc/structmanager__action.html#ab1db9bdb9ca2c111e4aef51de082553e">action</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a>(</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#afbb30cae381f627fb08e1acdac926270">synopsis</a>);   <span class="comment">/*!&lt; Synopsis text (short description). */</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(description);   <span class="comment">/*!&lt; Description (help text) */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(syntax);  <span class="comment">/*!&lt; Syntax text */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(arguments);  <span class="comment">/*!&lt; Description of each argument. */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(seealso); <span class="comment">/*!&lt; See also */</span></div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#ac72ddaf7b92092136fc38629a809c87a">  158</a></span>&#160;   );<span class="comment"></span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">   /*! Possible list element response events. */</span></div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#ad620e07ef3ac6fbeb23e5d2ec0484e1d">  160</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d46/structast__xml__doc__item.html">ast_xml_doc_item</a> *<a class="code" href="../../d2/dcc/structmanager__action.html#ad620e07ef3ac6fbeb23e5d2ec0484e1d">list_responses</a>;<span class="comment"></span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">   /*! Final response event. */</span></div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#a8c15417035739fd46675a17c5895afa9">  162</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d46/structast__xml__doc__item.html">ast_xml_doc_item</a> *<a class="code" href="../../d2/dcc/structmanager__action.html#a8c15417035739fd46675a17c5895afa9">final_response</a>;<span class="comment"></span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">   /*! Permission required for action.  EVENT_FLAG_* */</span></div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#a321c2ead2a4079cde828f7491c2ef733">  164</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d2/dcc/structmanager__action.html#a321c2ead2a4079cde828f7491c2ef733">authority</a>;<span class="comment"></span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">   /*! Function to be called */</span></div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#ab0bef752de7f442d29017ea812092d91">  166</a></span>&#160;   int (*func)(<span class="keyword">struct </span><a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d8/d9e/structmessage.html">message</a> *m);</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#a8637433cfbb88aeb10ce2ed5dcba0eb1">  167</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *<a class="code" href="../../d2/dcc/structmanager__action.html#a8637433cfbb88aeb10ce2ed5dcba0eb1">module</a>;    <span class="comment">/*!&lt; Module this action belongs to */</span><span class="comment"></span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">   /*! Where the documentation come from. */</span></div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#aa871ca3c361d229d4e37edf3c6016cc1">  169</a></span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3">ast_doc_src</a> docsrc;<span class="comment"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">   /*! For easy linking */</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ac63e9e237da22b6faf3be4edfc4f5a11">AST_RWLIST_ENTRY</a>(<a class="code" href="../../d2/dcc/structmanager__action.html">manager_action</a>) list;<span class="comment"></span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">    * \brief TRUE if the AMI action is registered and the callback can be called.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">    * \note Needed to prevent a race between calling the callback</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">    * function and unregestring the AMI action object.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="../../d2/dcc/structmanager__action.html#acee2bf9117848b5ffbbebb64a540e19f">  178</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/dcc/structmanager__action.html#acee2bf9117848b5ffbbebb64a540e19f">registered</a>:1;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;};</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">/*! \brief External routines may register/unregister manager callbacks this way</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"> * \note  Use ast_manager_register2() to register with help text for new manager commands */</span></div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a630f27d0608bd7b261bbbc7d9c006501">  183</a></span>&#160;<span class="preprocessor">#define ast_manager_register(action, authority, func, synopsis) ast_manager_register2(action, authority, func, AST_MODULE_SELF, synopsis, NULL)</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">/*! \brief Register a manager callback using XML documentation to describe the manager. */</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a5b63b8a8faede2d852e071e1f7b31c11">  186</a></span>&#160;<span class="preprocessor">#define ast_manager_register_xml(action, authority, func) ast_manager_register2(action, authority, func, AST_MODULE_SELF, NULL, NULL)</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> * \brief Register a manager callback using XML documentation to describe the manager.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> * \note For Asterisk core modules that are not independently</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> * loadable.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> * \warning If you use ast_manager_register_xml() instead when</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"> * you need to use this function, Asterisk will crash on load.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a1d34461b8a3210b19e66f06bcdebfeb3">  197</a></span>&#160;<span class="preprocessor">#define ast_manager_register_xml_core(action, authority, func) ast_manager_register2(action, authority, func, NULL, NULL, NULL)</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"> * \brief Register a manager command with the manager interface</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"> * \param action Name of the requested Action:</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> * \param authority Required authority for this command</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> * \param func Function to call for this command</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"> * \param module The module containing func.  (NULL if module is part of core and not loadable)</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> * \param synopsis Help text (one line, up to 30 chars) for CLI manager show commands</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"> * \param description Help text, several lines</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a>(</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *action,</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordtype">int</span> authority,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keywordtype">int</span> (*func)(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m),</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../d9/df5/structast__module.html">ast_module</a> *module,</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/db6/app__mysql_8c.html#afbb30cae381f627fb08e1acdac926270">synopsis</a>,</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *description);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> * \brief Unregister a registered manager command</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> * \param action Name of registered Action:</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *action);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"> * \brief Verify a session&#39;s read permissions against a permission mask.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> * \param ident session identity</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> * \param perm permission mask to verify</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> * \retval 1 if the session has the permission mask capabilities</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"> * \retval 0 otherwise</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#a73a22446241314099a4e371157e360f5">astman_verify_session_readpermissions</a>(uint32_t ident, <span class="keywordtype">int</span> perm);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment"> * \brief Verify a session&#39;s write permissions against a permission mask.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"> * \param ident session identity</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"> * \param perm permission mask to verify</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"> * \retval 1 if the session has the permission mask capabilities, otherwise 0</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"> * \retval 0 otherwise</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#a38eb222ca678604d4f203c9e9d5295ab">astman_verify_session_writepermissions</a>(uint32_t ident, <span class="keywordtype">int</span> perm);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">/*! \brief External routines may send asterisk manager events this way</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"> *    \param category   Event category, matches manager authorization</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">   \param event   Event name</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">   \param contents   Contents of event</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">/* XXX the parser in gcc 2.95 gets confused if you don&#39;t put a space</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"> * between the last arg before VA_ARGS and the comma */</span></div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">  248</a></span>&#160;<span class="preprocessor">#define manager_event(category, event, contents , ...)   \</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">        __ast_manager_event_multichan(category, event, 0, NULL, __FILE__, __LINE__, __PRETTY_FUNCTION__, contents , ## __VA_ARGS__)</span></div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#ad6a2ad9ec5b951d49f796d1534c70b5e">  250</a></span>&#160;<span class="preprocessor">#define ast_manager_event(chan, category, event, contents , ...) \</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">   do { \</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">      struct ast_channel *_chans[] = { chan, }; \</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="preprocessor">      __ast_manager_event_multichan(category, event, 1, _chans, __FILE__, __LINE__, __PRETTY_FUNCTION__, contents , ## __VA_ARGS__); \</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="preprocessor">   } while (0)</span></div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#aafd542831b3864e77f37396573bc1fd0">  255</a></span>&#160;<span class="preprocessor">#define ast_manager_event_multichan(category, event, nchans, chans, contents , ...) \</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">   __ast_manager_event_multichan(category, event, nchans, chans, __FILE__, __LINE__, __PRETTY_FUNCTION__, contents , ## __VA_ARGS__);</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/*! External routines may send asterisk manager events this way</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"> * \param category Event category, matches manager authorization</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> * \param event Event name</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> * \param chancount Number of channels in chans parameter</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> * \param chans A pointer to an array of channels involved in the event</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> * \param file, line, func</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"> * \param contents Format string describing event</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> * \param ...</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"> * \since 1.8</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga06f17abfc5db7b42743338b9cb73405e">__ast_manager_event_multichan</a>(<span class="keywordtype">int</span> category, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d7d/structevent.html">event</a>, <span class="keywordtype">int</span> <a class="code" href="../../d4/d28/channel_8c.html#a5cb129ce1d580dbb22ec9573dcb62f7f">chancount</a>,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> **<a class="code" href="../../d6/d75/structchans.html">chans</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d10/structmanager__custom__hook.html#adf16cd437526a5c5e0e0af87745acbb8">file</a>, <span class="keywordtype">int</span> line, <span class="keyword">const</span> <span class="keywordtype">char</span> *func,</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a>, ...) __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 8, 9)));</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">/*! \brief Get header from mananger transaction */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;const <span class="keywordtype">char</span> *<a class="code" href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a>(const struct <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">char</span> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/*! \brief Get a linked list of the Variable: headers</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"> *  \note Order of variables is reversed from the order they are specified in</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"> *        the manager message</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;struct <a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#ga21a20a25e6d03f6fd32cdc86fe9b53d1">astman_get_variables</a>(const struct <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140">  282</a></span>&#160;enum <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140">variable_orders</a> {</div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">  283</a></span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a>,</div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf">  284</a></span>&#160;   <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf">ORDER_REVERSE</a></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;};</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">/*! \brief Get a linked list of the Variable: headers with order specified */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#gaa97739ea571e22b9dcd231658f6ce044">astman_get_variables_order</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keyword">enum</span> <a class="code" href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140">variable_orders</a> <a class="code" href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/*! \brief Send error in manager transaction */</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">char</span> *<a class="code" href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">/*! \brief Send error in manager transaction (with va_args support) */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="keywordtype">void</span> __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 3, 4))) <a class="code" href="../../df/d72/group__Group__AMI.html#ga352d583ea36240124638e5c1db088227">astman_send_error_va</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, const <span class="keywordtype">char</span> *fmt, ...);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">/*! \brief Send response in manager transaction */</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga26805df02a1c92688ae132f29ac4478a">astman_send_response</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">char</span> *resp, <span class="keywordtype">char</span> *msg);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">/*! \brief Send ack in manager transaction */</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">char</span> *msg);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"> * \brief Send ack in manager transaction to begin a list.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"> * \param s - AMI session control struct.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"> * \param m - AMI action request that started the list.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"> * \param msg - Message contents describing the list to follow.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> * \param listflag - Should always be set to &quot;start&quot;.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> * \note You need to call astman_send_list_complete_start() and</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> * astman_send_list_complete_end() to send the AMI list completion event.</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72">astman_send_listack</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, <span class="keywordtype">char</span> *msg, <span class="keywordtype">char</span> *listflag);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> * \brief Start the list complete event.</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"> * \since 13.2.0</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> * \param s - AMI session control struct.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> * \param m - AMI action request that started the list.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> * \param event_name - AMI list complete event name.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> * \param count - Number of items in the list.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"> * \note You need to call astman_send_list_complete_end() to end</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"> * the AMI list completion event.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> * \note Between calling astman_send_list_complete_start() and</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> * astman_send_list_complete_end() you can add additonal headers</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> * using astman_append().</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga58c3e3da5d31739cafaee1df6ddf9342">astman_send_list_complete_start</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="code" href="../../d8/d9e/structmessage.html">message</a> *m, const <span class="keywordtype">char</span> *event_name, <span class="keywordtype">int</span> count);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"> * \brief End the list complete event.</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"> * \since 13.2.0</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"> * \param s - AMI session control struct.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> * \note You need to call astman_send_list_complete_start() to start</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"> * the AMI list completion event.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> * \note Between calling astman_send_list_complete_start() and</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> * astman_send_list_complete_end() you can add additonal headers</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> * using astman_append().</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#gabf7c909efbfc26d0d9c66786c83b8f69">astman_send_list_complete_end</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="keywordtype">void</span> __attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 2, 3))) <a class="code" href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, const <span class="keywordtype">char</span> *fmt, ...);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/*! \brief Determinie if a manager session ident is authenticated */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#acb49e15f3ae80cc0ee0cfa3a250d00c0">astman_is_authed</a>(uint32_t ident);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"> * \brief Add a datastore to a session</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> * \retval 0 success</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"> * \retval non-zero failure</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> * \since 1.6.1</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#a56275a7a3b863c8b4a49d2e74ebe739c">astman_datastore_add</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, struct <a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> * \brief Remove a datastore from a session</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> * \retval 0 success</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> * \retval non-zero failure</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> * \since 1.6.1</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#af9f2dfb1df89986ee6613d2bfa541688">astman_datastore_remove</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, struct <a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment"> * \brief Find a datastore on a session</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"> * \retval pointer to the datastore if found</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"> * \retval NULL if not found</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment"> * \since 1.6.1</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;struct <a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *<a class="code" href="../../db/d45/manager_8h.html#a1a24728a1340746b7d1e914f0bc6bc78">astman_datastore_find</a>(struct <a class="code" href="../../d2/d8a/structmansession.html">mansession</a> *s, const struct <a class="code" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>, const <span class="keywordtype">char</span> *uid);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment"> * \brief append an event header to an ast string</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment"> * \param fields_string pointer to an ast_string pointer. It may be a pointer to a</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"> *        NULL ast_str pointer, in which case the ast_str will be initialized.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"> * \param header The header being applied</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"> * \param value the value of the header</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"> * \retval 0 if successful</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"> * \retval non-zero on failure</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#a4e23b878e759dadd1e466a63193abba0">ast_str_append_event_header</a>(struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> **fields_string,</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   const <span class="keywordtype">char</span> *<a class="code" href="../../d5/d65/structheader.html">header</a>, const <span class="keywordtype">char</span> *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">/*! \brief Struct representing a snapshot of channel state */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;struct <a class="code" href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment"> * \brief Generate the AMI message body from a channel snapshot</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"> * \param snapshot the channel snapshot for which to generate an AMI message</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment"> *                 body</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment"> * \param prefix What to prepend to the channel fields</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"> * \retval NULL on error</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"> * \retval ast_str* on success (must be ast_freed by caller)</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../db/d45/manager_8h.html#ab71472ea55b4114f460a4459e3dcd18b">ast_manager_build_channel_state_string_prefix</a>(</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      const struct ast_channel_snapshot *snapshot,</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      const <span class="keywordtype">char</span> *<a class="code" href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> * \brief Generate the AMI message body from a channel snapshot</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"> * \param snapshot the channel snapshot for which to generate an AMI message</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"> *                 body</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"> * \retval NULL on error</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"> * \retval ast_str* on success (must be ast_freed by caller)</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../db/d45/manager_8h.html#a777cde87d12b331902f862ec44641688">ast_manager_build_channel_state_string</a>(</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      const struct ast_channel_snapshot *snapshot);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">/*! \brief Struct representing a snapshot of bridge state */</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;struct <a class="code" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> * \brief Callback used to determine whether a key should be skipped when converting a</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> *  JSON object to a manager blob</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> * \param key Key from JSON blob to be evaluated</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> * \retval non-zero if the key should be excluded</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> * \retval zero if the key should not be excluded</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a8c8f2d8718ba98dc22b6615489fa2f8e">  444</a></span>&#160;typedef <span class="keywordtype">int</span> (*<a class="code" href="../../db/d45/manager_8h.html#a8c8f2d8718ba98dc22b6615489fa2f8e">key_exclusion_cb</a>)(const <span class="keywordtype">char</span> *key);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;struct <a class="code" href="../../d1/da1/structast__json.html">ast_json</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"> * \brief Convert a JSON object into an AMI compatible string</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"> * \param blob The JSON blob containing key/value pairs to convert</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"> * \param exclusion_cb A \ref key_exclusion_cb pointer to a function that will exclude</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"> * keys from the final AMI string</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"> * \retval A malloc&#39;d \ref ast_str object. Callers of this function should free</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"> * the returned \ref ast_str object</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> * \retval NULL on error</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#ga2a7a78b91c9ba54f89c9b5a9e7435027">ast_manager_str_from_json_object</a>(struct ast_json *blob, <a class="code" href="../../db/d45/manager_8h.html#a8c8f2d8718ba98dc22b6615489fa2f8e">key_exclusion_cb</a> exclusion_cb);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> * \brief Generate the AMI message body from a bridge snapshot</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> * \param snapshot the bridge snapshot for which to generate an AMI message</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"> *                 body</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"> * \param prefix What to prepend to the bridge fields</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> * \retval NULL on error</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment"> * \retval ast_str* on success (must be ast_freed by caller)</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../db/d45/manager_8h.html#ae848cf7930ca566b76a13a4b3b7e0466">ast_manager_build_bridge_state_string_prefix</a>(</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   const struct ast_bridge_snapshot *snapshot,</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   const <span class="keywordtype">char</span> *prefix);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment"> * \brief Generate the AMI message body from a bridge snapshot</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"> * \param snapshot the bridge snapshot for which to generate an AMI message</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"> *                 body</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> * \retval NULL on error</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> * \retval ast_str* on success (must be ast_freed by caller)</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;struct <a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../db/d45/manager_8h.html#a873f600042cce2f957f7be2257b4f366">ast_manager_build_bridge_state_string</a>(</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   const struct ast_bridge_snapshot *snapshot);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">/*! \brief Struct containing info for an AMI event to send out. */</span></div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="../../dd/d96/structast__manager__event__blob.html">  491</a></span>&#160;struct <a class="code" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a> {</div><div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="../../dd/d96/structast__manager__event__blob.html#a57602302e7b352ebd03ca187acfcffd4">  492</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/d96/structast__manager__event__blob.html#a57602302e7b352ebd03ca187acfcffd4">event_flags</a>;     <span class="comment">/*!&lt; Flags the event should be raised with. */</span></div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="../../dd/d96/structast__manager__event__blob.html#aab469824ac975744e02d0eefe868f82f">  493</a></span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dd/d96/structast__manager__event__blob.html#aab469824ac975744e02d0eefe868f82f">manager_event</a>; <span class="comment">/*!&lt; The event to be raised, should be a string literal. */</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a>(</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(extra_fields);  <span class="comment">/*!&lt; Extra fields to include in the event. */</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="../../dd/d96/structast__manager__event__blob.html#a32dae0134e7c44c45bb610ab1a152521">  496</a></span>&#160;   );</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;};</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"> * \brief Construct a \ref ast_manager_event_blob.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"> * The returned object is AO2 managed, so clean up with ao2_cleanup().</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> * \param event_flags Flags the event should be raised with.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"> * \param manager_event The event to be raised, should be a string literal.</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"> * \param extra_fields_fmt Format string for extra fields to include.</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"> *                         Or NO_EXTRA_FIELDS for no extra fields.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment"> * \return New \ref ast_manager_snapshot_event object.</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment"> * \return \c NULL on error.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="keyword">struct </span>ast_manager_event_blob *</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;__attribute__((<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>(printf, 3, 4)))</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<a class="code" href="../../db/d45/manager_8h.html#a3ace32eaf9a3fc2f7d15121c64bf8ecd">ast_manager_event_blob_create</a>(</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keywordtype">int</span> event_flags,</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   const <span class="keywordtype">char</span> *manager_event,</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   const <span class="keywordtype">char</span> *extra_fields_fmt,</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   ...);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">/*! GCC warns about blank or NULL format strings. So, shenanigans! */</span></div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="../../db/d45/manager_8h.html#a50163f7b95ce3b415cf542cbd4e9904a">  522</a></span>&#160;<span class="preprocessor">#define NO_EXTRA_FIELDS &quot;%s&quot;, &quot;&quot;</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> * \brief Initialize support for AMI system events.</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"> * \retval non-zero on error</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#aa170f815ce3d25efbf1b0f3dede94ea4">manager_system_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"> * \brief Initialize support for AMI channel events.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"> * \retval 0 on success.</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> * \retval non-zero on error.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#abc1db69d70499e0e8b178fccbc76b505">manager_channels_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> * \brief Initialize support for AMI MWI events.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> * \retval non-zero on error</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#a2571c636aafd979f5719051090e5bbff">manager_mwi_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> * \brief Initialize support for AMI channel events.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> * \return 0 on success.</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> * \return non-zero on error.</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#a3f283471be8718fc0239c7441d640a5a">manager_bridging_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> * \brief Initialize support for AMI endpoint events.</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> * \return 0 on success.</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> * \return non-zero on error.</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../db/d45/manager_8h.html#a7a060a00ce627de395914abeb0007bb3">manager_endpoints_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> * \brief Get the \ref stasis_message_type for generic messages</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"> * A generic AMI message expects a JSON only payload. The payload must have the following</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> * structure:</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment"> * {type: s, class_type: i, event: [ {s: s}, ...] }</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"> * - type is the AMI event type</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment"> * - class_type is the class authorization type for the event</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"> * - event is a list of key/value tuples to be sent out in the message</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"> * \retval A \ref stasis_message_type for AMI messages</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="code" href="../../db/d45/manager_8h.html#a8ae409b5ff584e42c30edcfe5837d85c">ast_manager_get_generic_type</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> * \brief Get the \ref stasis topic for AMI</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"> * \retval The \ref stasis topic for AMI</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"> * \retval NULL on error</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"> * \brief Publish an event to AMI</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment"> * \param type The type of AMI event to publish</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> * \param class_type The class on which to publish the event</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> * \param obj The event data to be published.</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment"> * Publishes a message to the \ref stasis message bus solely for the consumption of AMI.</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment"> * The message will be of the type provided by \ref ast_manager_get_type, and will be</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"> * published to the topic provided by \ref ast_manager_get_topic. As such, the JSON must</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment"> * be constructed as defined by the \ref ast_manager_get_type message.</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d72/group__Group__AMI.html#ga546caee8e3d040d0074bc32e96d53b7d">ast_manager_publish_event</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, <span class="keywordtype">int</span> class_type, <span class="keyword">struct</span> ast_json *obj);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"> * \since 12</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"> * \brief Get the \ref stasis_message_router for AMI</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment"> * \retval The \ref stasis_message_router for AMI</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment"> * \retval NULL on error</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a> *<a class="code" href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _ASTERISK_MANAGER_H */</span><span class="preprocessor"></span></div><div class="ttc" id="app__mysql_8c_html_afbb30cae381f627fb08e1acdac926270"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#afbb30cae381f627fb08e1acdac926270">synopsis</a></div><div class="ttdeci">static const char synopsis[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00064">app_mysql.c:64</a></div></div>
<div class="ttc" id="manager_8h_html_a1a24728a1340746b7d1e914f0bc6bc78"><div class="ttname"><a href="../../db/d45/manager_8h.html#a1a24728a1340746b7d1e914f0bc6bc78">astman_datastore_find</a></div><div class="ttdeci">struct ast_datastore * astman_datastore_find(struct mansession *s, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l09678">manager.c:9678</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__manager__event__blob_html"><div class="ttname"><a href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a></div><div class="ttdoc">Struct containing info for an AMI event to send out. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00491">manager.h:491</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="lock_8h_html"><div class="ttname"><a href="../../dd/d42/lock_8h.html">lock.h</a></div><div class="ttdoc">Asterisk locking-related definitions: </div></div>
<div class="ttc" id="manager_8h_html_a98b15e5ddea410372fed1a16c046034b"><div class="ttname"><a href="../../db/d45/manager_8h.html#a98b15e5ddea410372fed1a16c046034b">AST_MAX_MANHEADERS</a></div><div class="ttdeci">#define AST_MAX_MANHEADERS</div><div class="ttdoc">Export manager structures. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00095">manager.h:95</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac2d42f7be13c532b6a70d50f1b8983d2"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac2d42f7be13c532b6a70d50f1b8983d2">astman_append</a></div><div class="ttdeci">void astman_append(struct mansession *s, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03080">manager.c:3080</a></div></div>
<div class="ttc" id="manager_8h_html_a0102d58d278ee39a37e5d1ff0ec9f82e"><div class="ttname"><a href="../../db/d45/manager_8h.html#a0102d58d278ee39a37e5d1ff0ec9f82e">manager_hook_t</a></div><div class="ttdeci">int(* manager_hook_t)(int category, const char *event, char *body)</div><div class="ttdoc">Manager Helper Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00106">manager.h:106</a></div></div>
<div class="ttc" id="structast__module_html"><div class="ttname"><a href="../../d9/df5/structast__module.html">ast_module</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00293">loader.c:293</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga9592be65e0f9c99b7952a5841888757f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga9592be65e0f9c99b7952a5841888757f">ast_manager_unregister_hook</a></div><div class="ttdeci">void ast_manager_unregister_hook(struct manager_custom_hook *hook)</div><div class="ttdoc">Delete a custom hook to be called when an event is fired. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01942">manager.c:1942</a></div></div>
<div class="ttc" id="manager_8h_html_a73a22446241314099a4e371157e360f5"><div class="ttname"><a href="../../db/d45/manager_8h.html#a73a22446241314099a4e371157e360f5">astman_verify_session_readpermissions</a></div><div class="ttdeci">int astman_verify_session_readpermissions(uint32_t ident, int perm)</div><div class="ttdoc">Verify a session&amp;#39;s read permissions against a permission mask. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07567">manager.c:7567</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gacc128abc0bb66879ef7743eea7a5d53f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gacc128abc0bb66879ef7743eea7a5d53f">ast_hook_send_action</a></div><div class="ttdeci">int ast_hook_send_action(struct manager_custom_hook *hook, const char *msg)</div><div class="ttdoc">Registered hooks can call this function to invoke actions and they will receive responses through reg...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02937">manager.c:2937</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga9b312f4df19fa79a2185f41ff533516b"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga9b312f4df19fa79a2185f41ff533516b">ast_manager_register_hook</a></div><div class="ttdeci">void ast_manager_register_hook(struct manager_custom_hook *hook)</div><div class="ttdoc">Add a custom hook to be called when an event is fired. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01934">manager.c:1934</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga1a2e7df8657b820c5a6663b397f23bc9"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga1a2e7df8657b820c5a6663b397f23bc9">ast_manager_check_enabled</a></div><div class="ttdeci">int ast_manager_check_enabled(void)</div><div class="ttdoc">Check if AMI is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01949">manager.c:1949</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga58c3e3da5d31739cafaee1df6ddf9342"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga58c3e3da5d31739cafaee1df6ddf9342">astman_send_list_complete_start</a></div><div class="ttdeci">void astman_send_list_complete_start(struct mansession *s, const struct message *m, const char *event_name, int count)</div><div class="ttdoc">Start the list complete event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03237">manager.c:3237</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a></div><div class="ttdoc">Structure that contains a snapshot of information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00322">bridge.h:322</a></div></div>
<div class="ttc" id="structmanager__action_html_ab1db9bdb9ca2c111e4aef51de082553e"><div class="ttname"><a href="../../d2/dcc/structmanager__action.html#ab1db9bdb9ca2c111e4aef51de082553e">manager_action::action</a></div><div class="ttdeci">const char * action</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00151">manager.h:151</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="structast__channel__snapshot_html"><div class="ttname"><a href="../../dd/dbe/structast__channel__snapshot.html">ast_channel_snapshot</a></div><div class="ttdoc">Structure representing a snapshot of channel state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00145">stasis_channels.h:145</a></div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="manager_8h_html_ab71472ea55b4114f460a4459e3dcd18b"><div class="ttname"><a href="../../db/d45/manager_8h.html#ab71472ea55b4114f460a4459e3dcd18b">ast_manager_build_channel_state_string_prefix</a></div><div class="ttdeci">struct ast_str * ast_manager_build_channel_state_string_prefix(const struct ast_channel_snapshot *snapshot, const char *prefix)</div><div class="ttdoc">Generate the AMI message body from a channel snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00487">manager_channels.c:487</a></div></div>
<div class="ttc" id="structast__datastore__info_html"><div class="ttname"><a href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a></div><div class="ttdoc">Structure for a data store type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00031">datastore.h:31</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="stringfields_8h_html_a061580e89c55282a7140fa3fdfd52b6d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a></div><div class="ttdeci">#define AST_DECLARE_STRING_FIELDS(field_list)</div><div class="ttdoc">Declare the fields needed in a structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00337">stringfields.h:337</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga77315fa8e29950f0c88120501acda0a3"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga77315fa8e29950f0c88120501acda0a3">astman_send_ack</a></div><div class="ttdeci">void astman_send_ack(struct mansession *s, const struct message *m, char *msg)</div><div class="ttdoc">Send ack in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03191">manager.c:3191</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="structmanager__action_html_ad620e07ef3ac6fbeb23e5d2ec0484e1d"><div class="ttname"><a href="../../d2/dcc/structmanager__action.html#ad620e07ef3ac6fbeb23e5d2ec0484e1d">manager_action::list_responses</a></div><div class="ttdeci">struct ast_xml_doc_item * list_responses</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00160">manager.h:160</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga06f17abfc5db7b42743338b9cb73405e"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga06f17abfc5db7b42743338b9cb73405e">__ast_manager_event_multichan</a></div><div class="ttdeci">int __ast_manager_event_multichan(int category, const char *event, int chancount, struct ast_channel **chans, const char *file, int line, const char *func, const char *contents,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07233">manager.c:7233</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gab220bef102a1bf6e96a407d3a5a3e161"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gab220bef102a1bf6e96a407d3a5a3e161">ast_manager_register2</a></div><div class="ttdeci">int ast_manager_register2(const char *action, int authority, int(*func)(struct mansession *s, const struct message *m), struct ast_module *module, const char *synopsis, const char *description)</div><div class="ttdoc">Register a manager command with the manager interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07386">manager.c:7386</a></div></div>
<div class="ttc" id="manager_8h_html_a3f283471be8718fc0239c7441d640a5a"><div class="ttname"><a href="../../db/d45/manager_8h.html#a3f283471be8718fc0239c7441d640a5a">manager_bridging_init</a></div><div class="ttdeci">int manager_bridging_init(void)</div><div class="ttdoc">Initialize support for AMI channel events. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00681">manager_bridges.c:681</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga352d583ea36240124638e5c1db088227"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga352d583ea36240124638e5c1db088227">astman_send_error_va</a></div><div class="ttdeci">void astman_send_error_va(struct mansession *s, const struct message *m, const char *fmt,...)</div><div class="ttdoc">Send error in manager transaction (with va_args support) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03164">manager.c:3164</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a8717a951656993c40bd851ebf50f58e3"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3">ast_doc_src</a></div><div class="ttdeci">ast_doc_src</div><div class="ttdoc">From where the documentation come from, this structure is useful for use it inside application/functi...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d99/xmldoc_8h_source.html#l00030">xmldoc.h:30</a></div></div>
<div class="ttc" id="manager_8h_html_a3ace32eaf9a3fc2f7d15121c64bf8ecd"><div class="ttname"><a href="../../db/d45/manager_8h.html#a3ace32eaf9a3fc2f7d15121c64bf8ecd">ast_manager_event_blob_create</a></div><div class="ttdeci">struct ast_manager_event_blob * ast_manager_event_blob_create(int event_flags, const char *manager_event, const char *extra_fields_fmt,...)</div><div class="ttdoc">Construct a ast_manager_event_blob. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l09727">manager.c:9727</a></div></div>
<div class="ttc" id="structmanager__action_html_a8637433cfbb88aeb10ce2ed5dcba0eb1"><div class="ttname"><a href="../../d2/dcc/structmanager__action.html#a8637433cfbb88aeb10ce2ed5dcba0eb1">manager_action::module</a></div><div class="ttdeci">struct ast_module * module</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00167">manager.h:167</a></div></div>
<div class="ttc" id="manager_8h_html_ae848cf7930ca566b76a13a4b3b7e0466"><div class="ttname"><a href="../../db/d45/manager_8h.html#ae848cf7930ca566b76a13a4b3b7e0466">ast_manager_build_bridge_state_string_prefix</a></div><div class="ttdeci">struct ast_str * ast_manager_build_bridge_state_string_prefix(const struct ast_bridge_snapshot *snapshot, const char *prefix)</div><div class="ttdoc">Generate the AMI message body from a bridge snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00223">manager_bridges.c:223</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gac6a9f3498f9afffecfd78c485af41556"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gac6a9f3498f9afffecfd78c485af41556">astman_get_header</a></div><div class="ttdeci">const char * astman_get_header(const struct message *m, char *var)</div><div class="ttdoc">Get header from mananger transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02820">manager.c:2820</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga22f6d55529c1ca69bc308af9d9ef0bb2"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga22f6d55529c1ca69bc308af9d9ef0bb2">ast_webmanager_check_enabled</a></div><div class="ttdeci">int ast_webmanager_check_enabled(void)</div><div class="ttdoc">Check if AMI/HTTP is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01954">manager.c:1954</a></div></div>
<div class="ttc" id="structast__manager__event__blob_html_aab469824ac975744e02d0eefe868f82f"><div class="ttname"><a href="../../dd/d96/structast__manager__event__blob.html#aab469824ac975744e02d0eefe868f82f">ast_manager_event_blob::manager_event</a></div><div class="ttdeci">const char * manager_event</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00493">manager.h:493</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga2a7a78b91c9ba54f89c9b5a9e7435027"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga2a7a78b91c9ba54f89c9b5a9e7435027">ast_manager_str_from_json_object</a></div><div class="ttdeci">struct ast_str * ast_manager_str_from_json_object(struct ast_json *blob, key_exclusion_cb exclusion_cb)</div><div class="ttdoc">Convert a JSON object into an AMI compatible string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01821">manager.c:1821</a></div></div>
<div class="ttc" id="datastore_8h_html"><div class="ttname"><a href="../../d9/db6/datastore_8h.html">datastore.h</a></div><div class="ttdoc">Asterisk datastore objects. </div></div>
<div class="ttc" id="manager_8h_html_a8ae409b5ff584e42c30edcfe5837d85c"><div class="ttname"><a href="../../db/d45/manager_8h.html#a8ae409b5ff584e42c30edcfe5837d85c">ast_manager_get_generic_type</a></div><div class="ttdeci">struct stasis_message_type * ast_manager_get_generic_type(void)</div><div class="ttdoc">Get the stasis_message_type for generic messages. </div></div>
<div class="ttc" id="structmanager__custom__hook_html_adf16cd437526a5c5e0e0af87745acbb8"><div class="ttname"><a href="../../d0/d10/structmanager__custom__hook.html#adf16cd437526a5c5e0e0af87745acbb8">manager_custom_hook::file</a></div><div class="ttdeci">char * file</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00110">manager.h:110</a></div></div>
<div class="ttc" id="manager_8h_html_acb49e15f3ae80cc0ee0cfa3a250d00c0"><div class="ttname"><a href="../../db/d45/manager_8h.html#acb49e15f3ae80cc0ee0cfa3a250d00c0">astman_is_authed</a></div><div class="ttdeci">int astman_is_authed(uint32_t ident)</div><div class="ttdoc">Determinie if a manager session ident is authenticated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07551">manager.c:7551</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gabf7c909efbfc26d0d9c66786c83b8f69"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gabf7c909efbfc26d0d9c66786c83b8f69">astman_send_list_complete_end</a></div><div class="ttdeci">void astman_send_list_complete_end(struct mansession *s)</div><div class="ttdoc">End the list complete event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03245">manager.c:3245</a></div></div>
<div class="ttc" id="analys_8c_html_aed7ca058008dc3e5ee131e575abed285"><div class="ttname"><a href="../../d2/d79/analys_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a></div><div class="ttdeci">integer order</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d79/analys_8c_source.html#l00066">analys.c:66</a></div></div>
<div class="ttc" id="structstasis__message__router_html"><div class="ttname"><a href="../../d4/d1b/structstasis__message__router.html">stasis_message_router</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/stasis__message__router_8c_source.html#l00131">stasis_message_router.c:131</a></div></div>
<div class="ttc" id="structmanager__action_html_acee2bf9117848b5ffbbebb64a540e19f"><div class="ttname"><a href="../../d2/dcc/structmanager__action.html#acee2bf9117848b5ffbbebb64a540e19f">manager_action::registered</a></div><div class="ttdeci">unsigned int registered</div><div class="ttdoc">TRUE if the AMI action is registered and the callback can be called. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00178">manager.h:178</a></div></div>
<div class="ttc" id="stringfields_8h_html_a51b5729220efb7cda4393ed35ecdfea2"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a></div><div class="ttdeci">#define AST_STRING_FIELD(name)</div><div class="ttdoc">Declare a string field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00299">stringfields.h:299</a></div></div>
<div class="ttc" id="structmansession_html"><div class="ttname"><a href="../../d2/d8a/structmansession.html">mansession</a></div><div class="ttdoc">In case you didn&amp;#39;t read that giant block of text above the mansession_session struct, the struct mansession is named this solely to keep the API the same in Asterisk. This structure really represents data that is different from Manager action to Manager action. The mansession_session pointer contained within points to session-specific data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01625">manager.c:1625</a></div></div>
<div class="ttc" id="test__func__file_8c_html_aedde4c44231f9adaad3339ebe693e8d8"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#aedde4c44231f9adaad3339ebe693e8d8">contents</a></div><div class="ttdeci">const char * contents</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00045">test_func_file.c:45</a></div></div>
<div class="ttc" id="structstasis__message__type_html"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00038">stasis_message.c:38</a></div></div>
<div class="ttc" id="manager_8h_html_a873f600042cce2f957f7be2257b4f366"><div class="ttname"><a href="../../db/d45/manager_8h.html#a873f600042cce2f957f7be2257b4f366">ast_manager_build_bridge_state_string</a></div><div class="ttdeci">struct ast_str * ast_manager_build_bridge_state_string(const struct ast_bridge_snapshot *snapshot)</div><div class="ttdoc">Generate the AMI message body from a bridge snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/manager__bridges_8c_source.html#l00267">manager_bridges.c:267</a></div></div>
<div class="ttc" id="manager_8h_html_a777cde87d12b331902f862ec44641688"><div class="ttname"><a href="../../db/d45/manager_8h.html#a777cde87d12b331902f862ec44641688">ast_manager_build_channel_state_string</a></div><div class="ttdeci">struct ast_str * ast_manager_build_channel_state_string(const struct ast_channel_snapshot *snapshot)</div><div class="ttdoc">Generate the AMI message body from a channel snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l00561">manager_channels.c:561</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga26805df02a1c92688ae132f29ac4478a"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga26805df02a1c92688ae132f29ac4478a">astman_send_response</a></div><div class="ttdeci">void astman_send_response(struct mansession *s, const struct message *m, char *resp, char *msg)</div><div class="ttdoc">Send response in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03154">manager.c:3154</a></div></div>
<div class="ttc" id="manager_8h_html_a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140a68beaf6e96b2e55b9301d1883add4c0a">ORDER_NATURAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00283">manager.h:283</a></div></div>
<div class="ttc" id="network_8h_html"><div class="ttname"><a href="../../d9/d94/network_8h.html">network.h</a></div><div class="ttdoc">Wrapper for network related headers, masking differences between various operating systems...</div></div>
<div class="ttc" id="group__Group__AMI_html_gafadf012f66a9fd7ecf985ec5b9dee101"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gafadf012f66a9fd7ecf985ec5b9dee101">ast_manager_unregister</a></div><div class="ttdeci">int ast_manager_unregister(const char *action)</div><div class="ttdoc">Unregister a registered manager command. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07258">manager.c:7258</a></div></div>
<div class="ttc" id="manager_8h_html_a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140aacb866340e59acaa596f8d94a8b61daf">ORDER_REVERSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00284">manager.h:284</a></div></div>
<div class="ttc" id="structast__manager__event__blob_html_a57602302e7b352ebd03ca187acfcffd4"><div class="ttname"><a href="../../dd/d96/structast__manager__event__blob.html#a57602302e7b352ebd03ca187acfcffd4">ast_manager_event_blob::event_flags</a></div><div class="ttdeci">int event_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00492">manager.h:492</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga21a20a25e6d03f6fd32cdc86fe9b53d1"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga21a20a25e6d03f6fd32cdc86fe9b53d1">astman_get_variables</a></div><div class="ttdeci">struct ast_variable * astman_get_variables(const struct message *m)</div><div class="ttdoc">Get a linked list of the Variable: headers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02906">manager.c:2906</a></div></div>
<div class="ttc" id="manager_8h_html_a5622d5b2d0baf505daf7b2a1e99c1140"><div class="ttname"><a href="../../db/d45/manager_8h.html#a5622d5b2d0baf505daf7b2a1e99c1140">variable_orders</a></div><div class="ttdeci">variable_orders</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00282">manager.h:282</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gacfa23131c1c93528074761076ca2bc85"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gacfa23131c1c93528074761076ca2bc85">ast_manager_get_message_router</a></div><div class="ttdeci">struct stasis_message_router * ast_manager_get_message_router(void)</div><div class="ttdoc">Get the stasis_message_router for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01725">manager.c:1725</a></div></div>
<div class="ttc" id="structmanager__action_html_a321c2ead2a4079cde828f7491c2ef733"><div class="ttname"><a href="../../d2/dcc/structmanager__action.html#a321c2ead2a4079cde828f7491c2ef733">manager_action::authority</a></div><div class="ttdeci">int authority</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00164">manager.h:164</a></div></div>
<div class="ttc" id="manager_8h_html_a38eb222ca678604d4f203c9e9d5295ab"><div class="ttname"><a href="../../db/d45/manager_8h.html#a38eb222ca678604d4f203c9e9d5295ab">astman_verify_session_writepermissions</a></div><div class="ttdeci">int astman_verify_session_writepermissions(uint32_t ident, int perm)</div><div class="ttdoc">Verify a session&amp;#39;s write permissions against a permission mask. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l07600">manager.c:7600</a></div></div>
<div class="ttc" id="manager_8h_html_a7a060a00ce627de395914abeb0007bb3"><div class="ttname"><a href="../../db/d45/manager_8h.html#a7a060a00ce627de395914abeb0007bb3">manager_endpoints_init</a></div><div class="ttdeci">int manager_endpoints_init(void)</div><div class="ttdoc">Initialize support for AMI endpoint events. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d10/manager__endpoints_8c_source.html#l00052">manager_endpoints.c:52</a></div></div>
<div class="ttc" id="xmldoc_8h_html"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html">xmldoc.h</a></div><div class="ttdoc">Asterisk XML Documentation API. </div></div>
<div class="ttc" id="manager_8h_html_a56275a7a3b863c8b4a49d2e74ebe739c"><div class="ttname"><a href="../../db/d45/manager_8h.html#a56275a7a3b863c8b4a49d2e74ebe739c">astman_datastore_add</a></div><div class="ttdeci">int astman_datastore_add(struct mansession *s, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l09666">manager.c:9666</a></div></div>
<div class="ttc" id="structheader_html"><div class="ttname"><a href="../../d5/d65/structheader.html">header</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d73/pjsip__global__headers_8c_source.html#l00047">pjsip_global_headers.c:47</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga568aa1aff837fc0001279490a6d9b22f"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga568aa1aff837fc0001279490a6d9b22f">ast_manager_get_topic</a></div><div class="ttdeci">struct stasis_topic * ast_manager_get_topic(void)</div><div class="ttdoc">Get the Stasis Message Bus API topic for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01720">manager.c:1720</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ac63e9e237da22b6faf3be4edfc4f5a11"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ac63e9e237da22b6faf3be4edfc4f5a11">AST_RWLIST_ENTRY</a></div><div class="ttdeci">#define AST_RWLIST_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00414">linkedlists.h:414</a></div></div>
<div class="ttc" id="structchans_html"><div class="ttname"><a href="../../d6/d75/structchans.html">chans</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00088">astman.c:88</a></div></div>
<div class="ttc" id="structmanager__custom__hook_html"><div class="ttname"><a href="../../d0/d10/structmanager__custom__hook.html">manager_custom_hook</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00108">manager.h:108</a></div></div>
<div class="ttc" id="manager_8h_html_af9f2dfb1df89986ee6613d2bfa541688"><div class="ttname"><a href="../../db/d45/manager_8h.html#af9f2dfb1df89986ee6613d2bfa541688">astman_datastore_remove</a></div><div class="ttdeci">int astman_datastore_remove(struct mansession *s, struct ast_datastore *datastore)</div><div class="ttdoc">Remove a datastore from a session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l09673">manager.c:9673</a></div></div>
<div class="ttc" id="group__Group__AMI_html_gaa97739ea571e22b9dcd231658f6ce044"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#gaa97739ea571e22b9dcd231658f6ce044">astman_get_variables_order</a></div><div class="ttdeci">struct ast_variable * astman_get_variables_order(const struct message *m, enum variable_orders order)</div><div class="ttdoc">Get a linked list of the Variable: headers with order specified. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l02911">manager.c:2911</a></div></div>
<div class="ttc" id="channel_8c_html_a5cb129ce1d580dbb22ec9573dcb62f7f"><div class="ttname"><a href="../../d4/d28/channel_8c.html#a5cb129ce1d580dbb22ec9573dcb62f7f">chancount</a></div><div class="ttdeci">static int chancount</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00093">channel.c:93</a></div></div>
<div class="ttc" id="structmanager__custom__hook_html_a563331ff9859f8ff63ed061c4c68d8cd"><div class="ttname"><a href="../../d0/d10/structmanager__custom__hook.html#a563331ff9859f8ff63ed061c4c68d8cd">manager_custom_hook::helper</a></div><div class="ttdeci">manager_hook_t helper</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00112">manager.h:112</a></div></div>
<div class="ttc" id="manager_8h_html_aa170f815ce3d25efbf1b0f3dede94ea4"><div class="ttname"><a href="../../db/d45/manager_8h.html#aa170f815ce3d25efbf1b0f3dede94ea4">manager_system_init</a></div><div class="ttdeci">int manager_system_init(void)</div><div class="ttdoc">Initialize support for AMI system events. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d65/manager__system_8c_source.html#l00043">manager_system.c:43</a></div></div>
<div class="ttc" id="manager_8h_html_a8c8f2d8718ba98dc22b6615489fa2f8e"><div class="ttname"><a href="../../db/d45/manager_8h.html#a8c8f2d8718ba98dc22b6615489fa2f8e">key_exclusion_cb</a></div><div class="ttdeci">int(* key_exclusion_cb)(const char *key)</div><div class="ttdoc">Callback used to determine whether a key should be skipped when converting a JSON object to a manager...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00444">manager.h:444</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="utils_2frame_8c_html_a4a9391ee88e57361b613c4c2fd2bf4aa"><div class="ttname"><a href="../../d6/d47/utils_2frame_8c.html#a4a9391ee88e57361b613c4c2fd2bf4aa">error</a></div><div class="ttdeci">int error(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d47/utils_2frame_8c_source.html#l00999">utils/frame.c:999</a></div></div>
<div class="ttc" id="structast__xml__doc__item_html"><div class="ttname"><a href="../../d8/d46/structast__xml__doc__item.html">ast_xml_doc_item</a></div><div class="ttdoc">Struct that contains the XML documentation for a particular item. Note that this is an ao2 ref counte...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d99/xmldoc_8h_source.html#l00056">xmldoc.h:56</a></div></div>
<div class="ttc" id="manager_8h_html_abc1db69d70499e0e8b178fccbc76b505"><div class="ttname"><a href="../../db/d45/manager_8h.html#abc1db69d70499e0e8b178fccbc76b505">manager_channels_init</a></div><div class="ttdeci">int manager_channels_init(void)</div><div class="ttdoc">Initialize support for AMI channel events. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/manager__channels_8c_source.html#l01308">manager_channels.c:1308</a></div></div>
<div class="ttc" id="structmanager__action_html_a8c15417035739fd46675a17c5895afa9"><div class="ttname"><a href="../../d2/dcc/structmanager__action.html#a8c15417035739fd46675a17c5895afa9">manager_action::final_response</a></div><div class="ttdeci">struct ast_xml_doc_item * final_response</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00162">manager.h:162</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga31a02a7d3cc36aa66ebebdedfc574d1c"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga31a02a7d3cc36aa66ebebdedfc574d1c">astman_send_error</a></div><div class="ttdeci">void astman_send_error(struct mansession *s, const struct message *m, char *error)</div><div class="ttdoc">Send error in manager transaction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03159">manager.c:3159</a></div></div>
<div class="ttc" id="structmessage_html_a2337374fe8025cb750f52a316166aa6d"><div class="ttname"><a href="../../d8/d9e/structmessage.html#a2337374fe8025cb750f52a316166aa6d">message::hdrcount</a></div><div class="ttdeci">unsigned int hdrcount</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00145">manager.h:145</a></div></div>
<div class="ttc" id="manager_8h_html_a4e23b878e759dadd1e466a63193abba0"><div class="ttname"><a href="../../db/d45/manager_8h.html#a4e23b878e759dadd1e466a63193abba0">ast_str_append_event_header</a></div><div class="ttdeci">int ast_str_append_event_header(struct ast_str **fields_string, const char *header, const char *value)</div><div class="ttdoc">append an event header to an ast string </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l09705">manager.c:9705</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="manager_8h_html_a2571c636aafd979f5719051090e5bbff"><div class="ttname"><a href="../../db/d45/manager_8h.html#a2571c636aafd979f5719051090e5bbff">manager_mwi_init</a></div><div class="ttdeci">int manager_mwi_init(void)</div><div class="ttdoc">Initialize support for AMI MWI events. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/manager__mwi_8c_source.html#l00153">manager_mwi.c:153</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga546caee8e3d040d0074bc32e96d53b7d"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga546caee8e3d040d0074bc32e96d53b7d">ast_manager_publish_event</a></div><div class="ttdeci">void ast_manager_publish_event(const char *type, int class_type, struct ast_json *obj)</div><div class="ttdoc">Publish an event to AMI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l01903">manager.c:1903</a></div></div>
<div class="ttc" id="http_8c_html_a6f25bc812d09fedb86bf394c01061c56"><div class="ttname"><a href="../../dd/d43/http_8c.html#a6f25bc812d09fedb86bf394c01061c56">prefix</a></div><div class="ttdeci">static char prefix[MAX_PREFIX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d43/http_8c_source.html#l00141">http.c:141</a></div></div>
<div class="ttc" id="group__Group__AMI_html_ga0ee6ee1f4d200f711e2983bffe770a72"><div class="ttname"><a href="../../df/d72/group__Group__AMI.html#ga0ee6ee1f4d200f711e2983bffe770a72">astman_send_listack</a></div><div class="ttdeci">void astman_send_listack(struct mansession *s, const struct message *m, char *msg, char *listflag)</div><div class="ttdoc">Send ack in manager transaction to begin a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d10/manager_8c_source.html#l03201">manager.c:3201</a></div></div>
<div class="ttc" id="structmanager__action_html"><div class="ttname"><a href="../../d2/dcc/structmanager__action.html">manager_action</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00149">manager.h:149</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:43:52 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
